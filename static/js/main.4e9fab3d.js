/*! For license information please see main.4e9fab3d.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},8926:function(e){function t(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=e.apply(n,r);function s(e){t(o,a,i,s,u,"next",e)}function u(e){t(o,a,i,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),a=n(7067),i=n(8585);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,n){var r=n(8331);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,a=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),a=n(3884),i=n(379),o=n(521);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,n){var r=n(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),a=n(6860),i=n(379),o=n(8206);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9780)},9465:function(e,t,n){"use strict";n.r(t),n.d(t,{ResizeObserver:function(){return G},ResizeObserverEntry:function(){return A},ResizeObserverSize:function(){return u}});var r,a=[],i="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var o,s=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l=function(e){return e instanceof SVGElement&&"getBBox"in e},f=function(e){if(l(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var a=e,i=a.offsetWidth,o=a.offsetHeight;return!(i||o||e.getClientRects().length)},d=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},h="undefined"!==typeof window?window:{},p=new WeakMap,v=/auto|scroll/,m=/^tb|vertical/,g=/msie|trident/i.test(h.navigator&&h.navigator.userAgent),y=function(e){return parseFloat(e||"0")},_=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},b=s({devicePixelContentBoxSize:_(),borderBoxSize:_(),contentBoxSize:_(),contentRect:new c(0,0,0,0)}),w=function(e,t){if(void 0===t&&(t=!1),p.has(e)&&!t)return p.get(e);if(f(e))return p.set(e,b),b;var n=getComputedStyle(e),r=l(e)&&e.ownerSVGElement&&e.getBBox(),a=!g&&"border-box"===n.boxSizing,i=m.test(n.writingMode||""),o=!r&&v.test(n.overflowY||""),u=!r&&v.test(n.overflowX||""),d=r?0:y(n.paddingTop),h=r?0:y(n.paddingRight),w=r?0:y(n.paddingBottom),x=r?0:y(n.paddingLeft),A=r?0:y(n.borderTopWidth),M=r?0:y(n.borderRightWidth),E=r?0:y(n.borderBottomWidth),C=x+h,S=d+w,T=(r?0:y(n.borderLeftWidth))+M,k=A+E,B=u?e.offsetHeight-k-e.clientHeight:0,P=o?e.offsetWidth-T-e.clientWidth:0,L=a?C+T:0,D=a?S+k:0,R=r?r.width:y(n.width)-L-P,F=r?r.height:y(n.height)-D-B,I=R+C+P+T,O=F+S+B+k,z=s({devicePixelContentBoxSize:_(Math.round(R*devicePixelRatio),Math.round(F*devicePixelRatio),i),borderBoxSize:_(I,O,i),contentBoxSize:_(R,F,i),contentRect:new c(x,d,R,F)});return p.set(e,z),z},x=function(e,t,n){var a=w(e,n),i=a.borderBoxSize,o=a.contentBoxSize,s=a.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return i;default:return o}},A=function(e){var t=w(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},M=function(e){if(f(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},E=function(){var e=1/0,t=[];a.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new A(t.target),a=M(t.target);r.push(n),t.lastReportedSize=x(t.target,t.observedBox),a<e&&(e=a)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},C=function(e){a.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(M(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},S=function(){var e=0;for(C(e);a.some((function(e){return e.activeTargets.length>0}));)e=E(),C(e);return a.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:i}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=i),window.dispatchEvent(e)}(),e>0},T=[],k=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver((function(){return T.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),o=function(){n.textContent=""+(t?t--:t++)}}T.push(e),o()},B=0,P={attributes:!0,characterData:!0,childList:!0,subtree:!0},L=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],D=function(e){return void 0===e&&(e=0),Date.now()+e},R=!1,F=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!R){R=!0;var n,r=D(e);n=function(){var n=!1;try{n=S()}finally{if(R=!1,e=r-D(),!B)return;n?t.run(1e3):e>0?t.run(e):t.start()}},k((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,P)};document.body?t():h.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),L.forEach((function(t){return h.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),L.forEach((function(t){return h.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),I=function(e){!B&&e>0&&F.start(),!(B+=e)&&F.stop()},O=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=x(this.target,this.observedBox,!0);return e=this.target,l(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),z=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Z=new WeakMap,U=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},N=function(){function e(){}return e.connect=function(e,t){var n=new z(e,t);Z.set(e,n)},e.observe=function(e,t,n){var r=Z.get(e),i=0===r.observationTargets.length;U(r.observationTargets,t)<0&&(i&&a.push(r),r.observationTargets.push(new O(t,n&&n.box)),I(1),F.schedule())},e.unobserve=function(e,t){var n=Z.get(e),r=U(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&a.splice(a.indexOf(n),1),n.observationTargets.splice(r,1),I(-1))},e.disconnect=function(e){var t=this,n=Z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),G=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");N.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");N.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");N.unobserve(this,e)},e.prototype.disconnect=function(){N.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},599:function(e,t,n){"use strict";n.r(t),n.d(t,{AdaptiveDpr:function(){return bv},AdaptiveEvents:function(){return wv},ArcballControls:function(){return hs},Backdrop:function(){return Kh},BakeShadows:function(){return pv},Billboard:function(){return ei},Bounds:function(){return Dh},Box:function(){return ih},CameraShake:function(){return Ih},Center:function(){return Bh},Circle:function(){return oh},Cloud:function(){return pp},Cone:function(){return sh},ContactShadows:function(){return jh},CubeCamera:function(){return Uo},CubicBezierLine:function(){return hi},CurveModifier:function(){return Nd},CycleRaycast:function(){return M},Cylinder:function(){return uh},DepthBuffer:function(){return bl},Detailed:function(){return dv},DeviceOrientationControls:function(){return Ho},Dodecahedron:function(){return _h},Effects:function(){return Co},Environment:function(){return Nh},Extrude:function(){return bh},FirstPersonControls:function(){return ks},Float:function(){return zh},FlyControls:function(){return Xo},GizmoHelper:function(){return Us},GizmoViewcube:function(){return eu},GizmoViewport:function(){return iu},GradientTexture:function(){return To},Html:function(){return x},Icosahedron:function(){return gh},Image:function(){return Ro},Instance:function(){return tv},Instances:function(){return nv},IsObject:function(){return Bo},Lathe:function(){return wh},Line:function(){return ui},Loader:function(){return B},MapControls:function(){return Jo},Merged:function(){return rv},MeshDistortMaterial:function(){return Vd},MeshReflectorMaterial:function(){return Jd},MeshWobbleMaterial:function(){return Xd},Octahedron:function(){return yh},OrbitControls:function(){return es},OrthographicCamera:function(){return Io},Parametric:function(){return xh},PerspectiveCamera:function(){return zo},Plane:function(){return lh},Point:function(){return Fp},PointMaterial:function(){return eh},PointMaterialImpl:function(){return $d},PointerLockControls:function(){return Ss},Points:function(){return Op},PointsBuffer:function(){return Ip},Polyhedron:function(){return mh},PositionalAudio:function(){return vi},Preload:function(){return hv},PresentationControls:function(){return Ja},QuadraticBezierLine:function(){return fi},Reflector:function(){return tp},Ring:function(){return vh},RoundedBox:function(){return Eh},ScreenQuad:function(){return Th},Scroll:function(){return U},ScrollControls:function(){return O},Segment:function(){return lv},Segments:function(){return uv},Shadow:function(){return $h},Sky:function(){return cp},Sphere:function(){return ch},SpotLight:function(){return ip},Stage:function(){return qh},Stars:function(){return dp},Stats:function(){return gl},Tetrahedron:function(){return ph},Text:function(){return po},Torus:function(){return dh},TorusKnot:function(){return hh},TrackballControls:function(){return rs},TransformControls:function(){return As},Tube:function(){return fh},calcPosFromAngles:function(){return up},isWebGL2Available:function(){return Eo},meshBounds:function(){return _v},shaderMaterial:function(){return ko},softShadows:function(){return nh},useAnimations:function(){return pd},useAspect:function(){return xl},useBVH:function(){return dd},useBounds:function(){return Rh},useCamera:function(){return Bs},useContextBridge:function(){return hd},useCubeTexture:function(){return ou},useCursor:function(){return E},useDepthBuffer:function(){return wl},useDetectGPU:function(){return Dl},useEdgeSplit:function(){return Rd},useFBO:function(){return _l},useFBX:function(){return oc},useGLTF:function(){return hl},useGizmoContext:function(){return Ls},useHelper:function(){return Rl},useIntersect:function(){return vd},useMatcapTexture:function(){return _p},useNormalTexture:function(){return Ap},useProgress:function(){return T},useScroll:function(){return I},useSimplification:function(){return Bd},useTessellation:function(){return Ld},useTexture:function(){return Po}});var r={};n.r(r),n.d(r,{computeMorphedAttributes:function(){return Ad},estimateBytesUsed:function(){return bd},interleaveAttributes:function(){return _d},mergeBufferAttributes:function(){return yd},mergeBufferGeometries:function(){return gd},mergeVertices:function(){return wd},toTrianglesDrawMode:function(){return xd}});var a=n(1413),i=n(9439),o=n(4925);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u=n(4519),c=n(4453),l=n(4911),f=n(5112),d=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","pointerEvents"],h=new l.Vector3,p=new l.Vector3,v=new l.Vector3;function m(e,t,n){var r=h.setFromMatrixPosition(e.matrixWorld);r.project(t);var a=n.width/2,i=n.height/2;return[r.x*a+a,-r.y*i+i]}var g=function(e){return Math.abs(e)<1e-10?0:e};function y(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(",a=0;16!==a;a++)r+=g(t[a]*e.elements[a])+(15!==a?",":")");return n+r}var _,b=(_=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return y(e,_)}),w=function(e,t){return y(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n},x=u.forwardRef((function(e,t){var n,r=e.children,y=e.eps,_=void 0===y?.001:y,x=e.style,A=e.className,M=e.prepend,E=e.center,C=e.fullscreen,S=e.portal,T=e.distanceFactor,k=e.sprite,B=void 0!==k&&k,P=e.transform,L=void 0!==P&&P,D=e.occlude,R=e.onOcclude,F=e.zIndexRange,I=void 0===F?[16777271,0]:F,O=e.calculatePosition,z=void 0===O?m:O,Z=e.as,U=void 0===Z?"div":Z,N=e.pointerEvents,G=void 0===N?"auto":N,H=(0,o.Z)(e,d),V=(0,f.useThree)((function(e){return e.gl})),j=(0,f.useThree)((function(e){return e.camera})),W=(0,f.useThree)((function(e){return e.scene})),X=(0,f.useThree)((function(e){return e.size})),q=(0,f.useThree)((function(e){return e.raycaster})),Y=u.useState((function(){return document.createElement(U)})),Q=(0,i.Z)(Y,1)[0],K=u.useRef(null),J=u.useRef(0),$=u.useRef([0,0]),ee=u.useRef(null),te=u.useRef(null),ne=null!==(n=null==S?void 0:S.current)&&void 0!==n?n:V.domElement.parentNode;u.useEffect((function(){if(K.current){if(W.updateMatrixWorld(),L)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var e=z(K.current,j,X);Q.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return ne&&(M?ne.prepend(Q):ne.appendChild(Q)),function(){ne&&ne.removeChild(Q),c.unmountComponentAtNode(Q)}}}),[ne,L]);var re=u.useMemo((function(){return L?{position:"absolute",top:0,left:0,width:X.width,height:X.height,transformStyle:"preserve-3d",pointerEvents:"none"}:(0,a.Z)((0,a.Z)({position:"absolute",transform:E?"translate3d(-50%,-50%,0)":"none"},C&&{top:-X.height/2,left:-X.width/2,width:X.width,height:X.height}),x)}),[x,E,C,X,L]),ae=u.useMemo((function(){return{position:"absolute",pointerEvents:G}}),[G]);u.useLayoutEffect((function(){L?c.render(u.createElement("div",{ref:ee,style:re},u.createElement("div",{ref:te,style:ae},u.createElement("div",{ref:t,className:A,style:x,children:r}))),Q):c.render(u.createElement("div",{ref:t,style:re,className:A,children:r}),Q)}));var ie=u.useRef(!0);return(0,f.useFrame)((function(){if(K.current){j.updateMatrixWorld(),K.current.updateWorldMatrix(!0,!1);var e=L?$.current:z(K.current,j,X);if(L||Math.abs(J.current-j.zoom)>_||Math.abs($.current[0]-e[0])>_||Math.abs($.current[1]-e[1])>_){var t=function(e,t){var n=h.setFromMatrixPosition(e.matrixWorld),r=p.setFromMatrixPosition(t.matrixWorld),a=n.sub(r),i=t.getWorldDirection(v);return a.angleTo(i)>Math.PI/2}(K.current,j),n=!1;"boolean"===typeof D?!0===D&&(n=[W]):Array.isArray(D)&&(n=D.map((function(e){return e.current})));var r=ie.current;if(n){var a=function(e,t,n,r){var a=h.setFromMatrixPosition(e.matrixWorld),i=a.clone();i.project(t),n.setFromCamera(i,t);var o=n.intersectObjects(r,!0);if(o.length){var s=o[0].distance;return a.distanceTo(n.ray.origin)<s}return!0}(K.current,j,q,n);ie.current=a&&!t}else ie.current=!t;if(r!==ie.current&&(R?R(!ie.current):Q.style.display=ie.current?"block":"none"),Q.style.zIndex="".concat(function(e,t,n){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){var r=h.setFromMatrixPosition(e.matrixWorld),a=p.setFromMatrixPosition(t.matrixWorld),i=r.distanceTo(a),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*i+s)}}(K.current,j,I)),L){var i=X.width/2,o=X.height/2,s=j.projectionMatrix.elements[5]*o,u=j.isOrthographicCamera,c=j.top,f=j.left,d=j.bottom,m=j.right,y=b(j.matrixWorldInverse),x=u?"scale(".concat(s,")translate(").concat(g(-(m+f)/2),"px,").concat(g((c+d)/2),"px)"):"translateZ(".concat(s,"px)"),A=K.current.matrixWorld;B&&((A=j.matrixWorldInverse.clone().transpose().copyPosition(A).scale(K.current.scale)).elements[3]=A.elements[7]=A.elements[11]=0,A.elements[15]=1),Q.style.width=X.width+"px",Q.style.height=X.height+"px",Q.style.perspective=u?"":"".concat(s,"px"),ee.current&&te.current&&(ee.current.style.transform="".concat(x).concat(y,"translate(").concat(i,"px,").concat(o,"px)"),te.current.style.transform=w(A,1/((T||10)/400)))}else{var M=void 0===T?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(t instanceof l.PerspectiveCamera){var n=h.setFromMatrixPosition(e.matrixWorld),r=p.setFromMatrixPosition(t.matrixWorld),a=t.fov*Math.PI/180,i=n.distanceTo(r);return 1/(2*Math.tan(a/2)*i)}return 1}(K.current,j)*T;Q.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(M,")")}$.current=e,J.current=j.zoom}}})),u.createElement("group",s({},H,{ref:K}))})),A=n(3433);function M(e){var t=e.onChanged,n=e.portal,r=e.preventDefault,a=void 0===r||r,i=e.scroll,o=void 0===i||i,s=e.keyCode,c=void 0===s?9:s,l=u.useRef(0),d=(0,f.useThree)((function(e){return e.raycaster})),h=(0,f.useThree)((function(e){return e.get})),p=(0,f.useThree)((function(e){return e.gl}));return u.useEffect((function(){var e,r=[],i=void 0,s=d.filter,u=null!==(e=null==n?void 0:n.current)&&void 0!==e?e:p.domElement.parentNode,f=function(){return u&&t&&t(r,Math.round(l.current)%r.length)};d.filter=function(e,t){var n=(0,A.Z)(e);n.length===r.length&&r.every((function(e){return n.map((function(e){return e.object.uuid})).includes(e.object.uuid)}))||(l.current=0,r=n,f()),s&&(n=s(n,t));for(var a=0;a<Math.round(l.current)%n.length;a++){var i=n.shift();n=[].concat((0,A.Z)(n),[i])}return n};var v=function(e){var t,n;l.current=e(l.current),null==(t=h().events.handlers)||t.onPointerCancel(void 0),null==(n=h().events.handlers)||n.onPointerMove(i),f()},m=function(e){(e.keyCode||e.which===c)&&(a&&e.preventDefault(),r.length>1&&v((function(e){return e+1})))},g=function(e){a&&e.preventDefault();var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),r.length>1&&v((function(e){return Math.abs(e-t)}))},y=function(e){return i=e};return document.addEventListener("pointermove",y,{passive:!0}),o&&document.addEventListener("wheel",g),void 0!==c&&document.addEventListener("keydown",m),function(){d.filter=s,void 0!==c&&document.removeEventListener("keydown",m),o&&document.removeEventListener("wheel",g),document.removeEventListener("pointermove",y)}}),[p,h,d,a,o,c]),null}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";u.useEffect((function(){if(e)return document.body.style.cursor=t,function(){document.body.style.cursor=n}}),[e])}var C=n(5401),S=0,T=(0,C.Z)((function(e){return l.DefaultLoadingManager.onStart=function(t,n,r){e({active:!0,item:t,loaded:n,total:r,progress:(n-S)/(r-S)*100})},l.DefaultLoadingManager.onLoad=function(){e({active:!1})},l.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat((0,A.Z)(e.errors),[t])}}))},l.DefaultLoadingManager.onProgress=function(t,n,r){n===r&&(S=r),e({active:!0,item:t,loaded:n,total:r,progress:(n-S)/(r-S)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}})),k=function(e){return"Loading ".concat(e.toFixed(2),"%")};function B(e){var t=e.containerStyles,n=e.innerStyles,r=e.barStyles,o=e.dataStyles,s=e.dataInterpolation,c=void 0===s?k:s,l=e.initialState,f=void 0===l?function(e){return e}:l,d=T(),h=d.active,p=d.progress,v=u.useRef(0),m=u.useRef(0),g=u.useRef(null),y=u.useState(f(h)),_=(0,i.Z)(y,2),b=_[0],w=_[1];u.useEffect((function(){var e;return h!==b&&(e=setTimeout((function(){return w(h)}),300)),function(){return clearTimeout(e)}}),[b,h]);var x=u.useCallback((function(){g.current&&(v.current+=(p-v.current)/2,(v.current>.95*p||100===p)&&(v.current=p),g.current.innerText=c(v.current),v.current<p&&(m.current=requestAnimationFrame(x)))}),[c,p]);return u.useEffect((function(){return x(),function(){return cancelAnimationFrame(m.current)}}),[x]),b?u.createElement("div",{style:(0,a.Z)((0,a.Z)({},P.container),{},{opacity:h?1:0},t)},u.createElement("div",null,u.createElement("div",{style:(0,a.Z)((0,a.Z)({},P.inner),n)},u.createElement("div",{style:(0,a.Z)((0,a.Z)({},P.bar),{},{transform:"scaleX(".concat(p/100,")")},r)}),u.createElement("span",{ref:g,style:(0,a.Z)((0,a.Z)({},P.data),o)})))):null}var P={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},L=n(936),D=["children","style"],R=["html"],F=u.createContext(null);function I(){return u.useContext(F)}function O(e){var t=e.eps,n=void 0===t?1e-5:t,r=e.enabled,a=void 0===r||r,o=e.infinite,s=e.horizontal,c=e.pages,d=void 0===c?1:c,h=e.distance,p=void 0===h?1:h,v=e.damping,m=void 0===v?4:v,g=e.style,y=void 0===g?{}:g,_=e.children,b=(0,f.useThree)(),w=b.gl,x=b.size,A=b.invalidate,M=b.events,E=b.raycaster,C=u.useState((function(){return document.createElement("div")})),S=(0,i.Z)(C,1)[0],T=u.useState((function(){return document.createElement("div")})),k=(0,i.Z)(T,1)[0],B=u.useState((function(){return document.createElement("div")})),P=(0,i.Z)(B,1)[0],L=w.domElement.parentNode,D=u.useRef(0),R=u.useMemo((function(){var e={el:S,eps:n,fill:k,fixed:P,horizontal:s,damping:m,offset:0,delta:0,scroll:D,pages:d,range:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e-n,a=r+t+2*n;return this.offset<r?0:this.offset>a?1:(this.offset-r)/(a-r)},curve:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.sin(this.range(e,t,n)*Math.PI)},visible:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e-n,a=r+t+2*n;return this.offset>=r&&this.offset<=a}};return e}),[n,m,s,d]);u.useEffect((function(){for(var e in S.style.position="absolute",S.style.width="100%",S.style.height="100%",S.style[s?"overflowX":"overflowY"]="auto",S.style[s?"overflowY":"overflowX"]="hidden",S.style.top="0px",S.style.left="0px",y)S.style[e]=y[e];P.style.position="sticky",P.style.top="0px",P.style.left="0px",P.style.width="100%",P.style.height="100%",P.style.overflow="hidden",S.appendChild(P),k.style.height=s?"100%":"".concat(d*p*100,"%"),k.style.width=s?"".concat(d*p*100,"%"):"100%",k.style.pointerEvents="none",S.appendChild(k),L.appendChild(S),S[s?"scrollLeft":"scrollTop"]=1;var t="boolean"!==typeof M.connected?M.connected:w.domElement;requestAnimationFrame((function(){return null==M.connect?void 0:M.connect(S)}));var n=E.computeOffsets;return E.computeOffsets=function(e){var t=e.clientX,n=e.clientY;return{offsetX:t-L.offsetLeft,offsetY:n-L.offsetTop}},function(){L.removeChild(S),E.computeOffsets=n,null==M.connect||M.connect(t)}}),[d,p,s,S,k,P,L]),u.useEffect((function(){var e=x[s?"width":"height"],t=S[s?"scrollWidth":"scrollHeight"],n=t-e,r=0,i=!0,u=!0,c=function(){if(a&&!u&&(A(),r=S[s?"scrollLeft":"scrollTop"],D.current=r/n,o)){if(!i)if(r>=n){var e=1-R.offset;S[s?"scrollLeft":"scrollTop"]=1,D.current=R.offset=-e,i=!0}else if(r<=0){var c=1+R.offset;S[s?"scrollLeft":"scrollTop"]=t,D.current=R.offset=c,i=!0}i&&setTimeout((function(){return i=!1}),40)}};S.addEventListener("scroll",c,{passive:!0}),requestAnimationFrame((function(){return u=!1}));var l=function(e){return S.scrollLeft+=e.deltaY/2};return s&&S.addEventListener("wheel",l,{passive:!0}),function(){S.removeEventListener("scroll",c),s&&S.removeEventListener("wheel",l)}}),[S,x,o,R,A,s]);var I=0;return(0,f.useFrame)((function(e,t){R.offset=l.MathUtils.damp(I=R.offset,D.current,m,t),R.delta=l.MathUtils.damp(R.delta,Math.abs(I-R.offset),m,t),R.delta>n&&A()})),u.createElement(F.Provider,{value:R},_)}var z=u.forwardRef((function(e,t){var n=e.children,r=u.useRef(null),a=I(),i=(0,f.useThree)((function(e){return e.viewport})),o=i.width,s=i.height;return(0,f.useFrame)((function(){r.current.position.x=a.horizontal?-o*(a.pages-1)*a.offset:0,r.current.position.y=a.horizontal?0:s*(a.pages-1)*a.offset})),u.createElement("group",{ref:(0,L.default)([t,r])},n)})),Z=u.forwardRef((function(e,t){var n=e.children,r=e.style,i=(0,o.Z)(e,D),l=I(),d=u.useRef(null),h=(0,f.useThree)((function(e){return e.size})),p=h.width,v=h.height,m=u.useContext(f.context);return(0,f.useFrame)((function(){l.delta>l.eps&&(d.current.style.transform="translate3d(".concat(l.horizontal?-p*(l.pages-1)*l.offset:0,"px,").concat(l.horizontal?0:v*(l.pages-1)*-l.offset,"px,0)"))})),c.render(u.createElement("div",s({ref:(0,L.default)([t,d]),style:(0,a.Z)((0,a.Z)({},r),{},{position:"absolute",top:0,left:0,willChange:"transform"})},i),u.createElement(F.Provider,{value:l},u.createElement(f.context.Provider,{value:m},n))),l.fixed),null})),U=u.forwardRef((function(e,t){var n=e.html,r=(0,o.Z)(e,R),a=n?Z:z;return u.createElement(a,s({ref:t},r))})),N=n(7326),G=n(1752),H=n(1120),V=n(136),j=n(9388),W=n(9611);var X=n(5647);function q(e){var t="function"===typeof Map?new Map:void 0;return q=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,X.Z)(e,arguments,(0,H.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,W.Z)(r,e)},q(e)}var Y=n(5861),Q=n(3144),K=n(5671),J=n(7762),$=n(7757),ee=n.n($),te=ge(),ne=function(e){return he(e,te)},re=ge();ne.write=function(e){return he(e,re)};var ae=ge();ne.onStart=function(e){return he(e,ae)};var ie=ge();ne.onFrame=function(e){return he(e,ie)};var oe=ge();ne.onFinish=function(e){return he(e,oe)};var se=[];ne.setTimeout=function(e,t){var n=ne.now()+t,r={time:n,handler:e,cancel:function e(){var t=se.findIndex((function(t){return t.cancel==e}));~t&&se.splice(t,1),fe-=~t?1:0}};return se.splice(ue(n),0,r),fe+=1,pe(),r};var ue=function(e){return~(~se.findIndex((function(t){return t.time>e}))||~se.length)};ne.cancel=function(e){ae.delete(e),ie.delete(e),te.delete(e),re.delete(e),oe.delete(e)},ne.sync=function(e){de=!0,ne.batchedUpdates(e),de=!1},ne.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,A.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t=r,ne.onStart(n)}return r.handler=e,r.cancel=function(){ae.delete(n),t=null},r};var ce="undefined"!=typeof window?window.requestAnimationFrame:function(){};ne.use=function(e){return ce=e},ne.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,ne.batchedUpdates=function(e){return e()},ne.catch=console.error,ne.frameLoop="always",ne.advance=function(){"demand"!==ne.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):me()};var le=-1,fe=0,de=!1;function he(e,t){de?(t.delete(e),e(0)):(t.add(e),pe())}function pe(){le<0&&(le=0,"demand"!==ne.frameLoop&&ce(ve))}function ve(){~le&&(ce(ve),ne.batchedUpdates(me))}function me(){var e=le;le=ne.now();var t=ue(le);t&&(ye(se.splice(0,t),(function(e){return e.handler()})),fe-=t),ae.flush(),te.flush(e?Math.min(64,le-e):16.667),ie.flush(),re.flush(),oe.flush(),fe||(le=-1)}function ge(){var e=new Set,t=e;return{add:function(n){fe+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return fe-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,fe-=t.size,ye(t,(function(t){return t(n)&&e.add(t)})),fe+=e.size,t=e)}}}function ye(e,t){e.forEach((function(e){try{t(e)}catch(Al){ne.catch(Al)}}))}function _e(){}var be={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function we(e,t){if(be.arr(e)){if(!be.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var xe=function(e,t){return e.forEach(t)};function Ae(e,t,n){if(be.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a)}var Me=function(e){return be.und(e)?[]:be.arr(e)?e:[e]};function Ee(e,t){if(e.size){var n=Array.from(e);e.clear(),xe(n,t)}}var Ce,Se,Te=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ee(e,(function(e){return e.apply(void 0,n)}))},ke=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},Be=null,Pe=!1,Le=_e,De=Object.freeze({__proto__:null,get createStringInterpolator(){return Ce},get to(){return Se},get colors(){return Be},get skipAnimation(){return Pe},get willAdvance(){return Le},assign:function(e){e.to&&(Se=e.to),e.now&&(ne.now=e.now),void 0!==e.colors&&(Be=e.colors),null!=e.skipAnimation&&(Pe=e.skipAnimation),e.createStringInterpolator&&(Ce=e.createStringInterpolator),e.requestAnimationFrame&&ne.use(e.requestAnimationFrame),e.batchedUpdates&&(ne.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Le=e.willAdvance),e.frameLoop&&(ne.frameLoop=e.frameLoop)}}),Re=new Set,Fe=[],Ie=[],Oe=0,ze={get idle(){return!Re.size&&!Fe.length},start:function(e){Oe>e.priority?(Re.add(e),ne.onStart(Ze)):(Ue(e),ne(Ge))},advance:Ge,sort:function(e){if(Oe)ne.onFrame((function(){return ze.sort(e)}));else{var t=Fe.indexOf(e);~t&&(Fe.splice(t,1),Ne(e))}},clear:function(){Fe=[],Re.clear()}};function Ze(){Re.forEach(Ue),Re.clear(),ne(Ge)}function Ue(e){Fe.includes(e)||Ne(e)}function Ne(e){Fe.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Fe,(function(t){return t.priority>e.priority})),0,e)}function Ge(e){for(var t=Ie,n=0;n<Fe.length;n++){var r=Fe[n];Oe=r.priority,r.idle||(Le(r),r.advance(e),r.idle||t.push(r))}return Oe=0,(Ie=Fe).length=0,(Fe=t).length>0}var He="[-+]?\\d*\\.?\\d+",Ve=He+"%";function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var We=new RegExp("rgb"+je(He,He,He)),Xe=new RegExp("rgba"+je(He,He,He,He)),qe=new RegExp("hsl"+je(He,Ve,Ve)),Ye=new RegExp("hsla"+je(He,Ve,Ve,He)),Qe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ke=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Je=/^#([0-9a-fA-F]{6})$/,$e=/^#([0-9a-fA-F]{8})$/;function et(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tt(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,i=et(a,r,e+1/3),o=et(a,r,e),s=et(a,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function nt(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function rt(e){return(parseFloat(e)%360+360)%360/360}function at(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function it(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function ot(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Je.exec(e))?parseInt(t[1]+"ff",16)>>>0:Be&&void 0!==Be[e]?Be[e]:(t=We.exec(e))?(nt(t[1])<<24|nt(t[2])<<16|nt(t[3])<<8|255)>>>0:(t=Xe.exec(e))?(nt(t[1])<<24|nt(t[2])<<16|nt(t[3])<<8|at(t[4]))>>>0:(t=Qe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=$e.exec(e))?parseInt(t[1],16)>>>0:(t=Ke.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=qe.exec(e))?(255|tt(rt(t[1]),it(t[2]),it(t[3])))>>>0:(t=Ye.exec(e))?(tt(rt(t[1]),it(t[2]),it(t[3]))|at(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,a=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(a,")")}var st=function e(t,n,r){if(be.fun(t))return t;if(be.arr(t))return e({range:t,output:n,extrapolate:r});if(be.str(t.output[0]))return Ce(t);var a=t,i=a.output,o=a.range||[0,1],s=a.extrapolateLeft||a.extrapolate||"extend",u=a.extrapolateRight||a.extrapolate||"extend",c=a.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,i,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=i(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],c,s,u,a.map)}};function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}var ct=Symbol.for("FluidValue.get"),lt=Symbol.for("FluidValue.observers"),ft=function(e){return Boolean(e&&e[ct])},dt=function(e){return e&&e[ct]?e[ct]():e},ht=function(e){return e[lt]||null};function pt(e,t){var n=e[lt];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var vt=(0,Q.Z)((function e(t){if((0,K.Z)(this,e),this[ct]=void 0,this[lt]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");mt(this,t)})),mt=function(e,t){return bt(e,ct,t)};function gt(e,t){if(e[ct]){var n=e[lt];n||bt(e,lt,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function yt(e,t){var n=e[lt];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[lt]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var _t,bt=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},wt=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,xt=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,At=new RegExp("(".concat(wt.source,")(%|[a-z]+)"),"i"),Mt=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Et=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ct=function e(t){var n=St(t),r=(0,i.Z)(n,2),a=r[0],o=r[1];if(!a||ke())return t;var s=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(s)return s.trim();if(o&&o.startsWith("--")){var u=window.getComputedStyle(document.documentElement).getPropertyValue(o);return u||t}return o&&Et.test(o)?e(o):o||t},St=function(e){var t=Et.exec(e);if(!t)return[,];var n=(0,i.Z)(t,3);return[n[1],n[2]]},Tt=function(e,t,n,r,a){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(a,")")},kt=function(e){_t||(_t=Be?new RegExp("(".concat(Object.keys(Be).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return dt(e).replace(Et,Ct).replace(xt,ot).replace(_t,ot)})),n=t.map((function(e){return e.match(wt).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),a=r.map((function(t){return st(ut({},e,{output:t}))}));return function(e){var n,r=!At.test(t[0])&&(null==(n=t.find((function(e){return At.test(e)})))?void 0:n.replace(wt,"")),i=0;return t[0].replace(wt,(function(){return"".concat(a[i++](e)).concat(r||"")})).replace(Mt,Tt)}},Bt="react-spring: ",Pt=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Bt,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Lt=Pt(console.warn);function Dt(){Lt("".concat(Bt,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Rt=Pt(console.warn);function Ft(e){return be.str(e)&&("#"==e[0]||/\d/.test(e)||!ke()&&Et.test(e)||e in(Be||{}))}var It=function(e){return(0,u.useEffect)(e,Ot)},Ot=[];function zt(){var e=(0,u.useState)()[1],t=(0,u.useState)(Zt)[0];return It(t.unmount),function(){t.current&&e({})}}function Zt(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function Ut(e){var t=(0,u.useRef)();return(0,u.useEffect)((function(){t.current=e})),t.current}var Nt="undefined"!==typeof window&&window.document&&window.document.createElement?u.useLayoutEffect:u.useEffect,Gt=Symbol.for("Animated:node"),Ht=function(e){return e&&e[Gt]},Vt=function(e,t){return n=e,r=Gt,a=t,Object.defineProperty(n,r,{value:a,writable:!0,configurable:!0});var n,r,a},jt=function(e){return e&&e[Gt]&&e[Gt].getPayload()},Wt=function(){function e(){(0,K.Z)(this,e),this.payload=void 0,Vt(this,this)}return(0,Q.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),Xt=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,be.num(r._value)&&(r.lastPosition=r._value),r}return(0,Q.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return be.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,be.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Wt),qt=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=st({output:[e,e]}),r}return(0,Q.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(be.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,G.Z)((0,H.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=st({output:[this.getValue(),e]})),this._value=0,(0,G.Z)((0,H.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Xt),Yt={dependencies:null},Qt=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,Q.Z)(n,[{key:"getValue",value:function(e){var t={};return Ae(this.source,(function(n,r){var a;(a=n)&&a[Gt]===a?t[r]=n.getValue(e):ft(n)?t[r]=dt(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&xe(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Ae(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Yt.dependencies&&ft(e)&&Yt.dependencies.add(e);var n=jt(e);n&&xe(n,(function(e){return t.add(e)}))}}]),n}(Wt),Kt=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){return(0,K.Z)(this,n),t.call(this,e)}return(0,Q.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,G.Z)((0,H.Z)(n.prototype),"setValue",this).call(this,e.map(Jt)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Qt);function Jt(e){return(Ft(e)?qt:Xt).create(e)}function $t(e){var t=Ht(e);return t?t.constructor:be.arr(e)?Kt:Ft(e)?qt:Xt}function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}var tn=function(e,t){var n=!be.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,u.forwardRef)((function(r,a){var o=(0,u.useRef)(null),s=n&&(0,u.useCallback)((function(e){o.current=function(e,t){e&&(be.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),c=function(e,t){var n=new Set;Yt.dependencies=n,e.style&&(e=en({},e,{style:t.createAnimatedStyle(e.style)}));return e=new Qt(e),Yt.dependencies=null,[e,n]}(r,t),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=zt(),p=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,f.getValue(!0)))&&h()},v=new nn(p,d),m=(0,u.useRef)();Nt((function(){var e=m.current;m.current=v,xe(d,(function(e){return gt(e,v)})),e&&(xe(e.deps,(function(t){return yt(t,e)})),ne.cancel(e.update))})),(0,u.useEffect)(p,[]),It((function(){return function(){var e=m.current;xe(e.deps,(function(t){return yt(t,e)}))}}));var g=t.getComponentProps(f.getValue());return u.createElement(e,en({},g,{ref:s}))}))},nn=function(){function e(t,n){(0,K.Z)(this,e),this.update=t,this.deps=n}return(0,Q.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&ne.write(this.update)}}]),e}();var rn=Symbol.for("AnimatedComponent"),an=function(e){return be.str(e)?e:e&&be.str(e.displayName)?e.displayName:be.fun(e)&&e.name||null};function on(){return on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},on.apply(this,arguments)}function sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return be.fun(e)?e.apply(void 0,n):e}var un=function(e,t){return!0===e||!!(t&&e&&(be.fun(e)?e(t):Me(e).includes(t)))},cn=function(e,t){return be.obj(e)?t&&e[t]:e},ln=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},fn=function(e){return e},dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn,n=hn;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,a={},i=(0,J.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=t(e[o],o);be.und(s)||(a[o]=s)}}catch(u){i.e(u)}finally{i.f()}return a},hn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],pn={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function vn(e){var t=function(e){var t={},n=0;if(Ae(e,(function(e,r){pn[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Ae(e,(function(e,r){return r in t||(n[r]=e)})),n}return on({},e)}function mn(e){return e=dt(e),be.arr(e)?e.map(mn):Ft(e)?De.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function gn(e){for(var t in e)return!0;return!1}function yn(e){return be.fun(e)||be.arr(e)&&be.obj(e[0])}function _n(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function bn(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var wn=1.70158,xn=1.525*wn,An=wn+1,Mn=2*Math.PI/3,En=2*Math.PI/4.5,Cn=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Sn={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return An*e*e*e-wn*e*e},easeOutBack:function(e){return 1+An*Math.pow(e-1,3)+wn*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-xn)/2:(Math.pow(2*e-2,2)*((xn+1)*(2*e-2)+xn)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Mn)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Mn)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*En)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*En)/2+1},easeInBounce:function(e){return 1-Cn(1-e)},easeOutBounce:Cn,easeInOutBounce:function(e){return e<.5?(1-Cn(1-2*e))/2:(1+Cn(2*e-1))/2}},Tn=on({},{tension:170,friction:26},{mass:1,damping:1,easing:Sn.linear,clamp:!1}),kn=(0,Q.Z)((function e(){(0,K.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Tn)}));function Bn(e,t){if(be.und(t.decay)){var n=!be.und(t.tension)||!be.und(t.friction);!n&&be.und(t.frequency)&&be.und(t.damping)&&be.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Pn=[],Ln=(0,Q.Z)((function e(){(0,K.Z)(this,e),this.changed=!1,this.values=Pn,this.toValues=null,this.fromValues=Pn,this.to=void 0,this.from=void 0,this.config=new kn,this.immediate=!1}));function Dn(e,t){var n=t.key,r=t.props,a=t.defaultProps,i=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,f=un(null!=(u=r.cancel)?u:null==a?void 0:a.cancel,n);if(f)v();else{be.und(r.pause)||(i.paused=un(r.pause,n));var d=null==a?void 0:a.pause;!0!==d&&(d=i.paused||un(d,n)),c=sn(r.delay||0,n),d?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){i.resumeQueue.add(p),i.timeouts.delete(l),l.cancel(),c=l.time-ne.now()}function p(){c>0&&!De.skipAnimation?(i.delayed=!0,l=ne.setTimeout(v,c),i.pauseQueue.add(h),i.timeouts.add(l)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(l),e<=(i.cancelId||0)&&(f=!0);try{o.start(on({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var Rn=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?On(e.get()):t.every((function(e){return e.noop}))?Fn(e.get()):In(e.get(),t.every((function(e){return e.finished})))},Fn=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},In=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},On=function(e){return{value:e,cancelled:!0,finished:!1}};function zn(e,t,n,r){var a=t.callId,i=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return i||e!==s||t.reset?n.promise=(0,Y.Z)(ee().mark((function c(){var l,f,d,h,p,v,m,g;return ee().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=a,n.asyncTo=e,l=dn(t,(function(e,t){return"onRest"===t?void 0:e})),h=new Promise((function(e,t){return f=e,d=t})),p=function(e){var t=a<=(n.cancelId||0)&&On(r)||a!==n.asyncId&&In(r,!1);if(t)throw e.result=t,d(e),e},v=function(e,t){var i=new Un,o=new Nn;return(0,Y.Z)(ee().mark((function s(){var u,c;return ee().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!De.skipAnimation){s.next=5;break}throw Zn(n),o.result=In(r,!1),d(o),o;case 5:return p(i),(u=be.obj(e)?on({},e):on({},t,{to:e})).parentId=a,Ae(l,(function(e,t){be.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,p(i),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!De.skipAnimation){c.next=9;break}return Zn(n),c.abrupt("return",In(r,!1));case 9:return c.prev=9,g=be.arr(e)?function(){var e=(0,Y.Z)(ee().mark((function e(t){var n,r,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,J.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,v(a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=13,Promise.all([g.then(f),h]);case 13:m=In(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof Un)){c.next=22;break}m=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof Nn)){c.next=26;break}m=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,a==n.asyncId&&(n.asyncId=i,n.asyncTo=i?s:void 0,n.promise=i?u:void 0),c.finish(27);case 30:return be.fun(o)&&ne.batchedUpdates((function(){o(m,r,r.item)})),c.abrupt("return",m);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function Zn(e,t){Ee(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Un=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,Q.Z)(n)}(q(Error)),Nn=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,Q.Z)(n)}(q(Error)),Gn=function(e){return e instanceof Vn},Hn=1,Vn=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).id=Hn++,e.key=void 0,e._priority=0,e}return(0,Q.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Ht(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return De.to(this,t)}},{key:"interpolate",value:function(){Dt();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return De.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];pt(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||ze.sort(this),pt(this,{type:"priority",parent:this,priority:e})}}]),n}(vt),jn=Symbol.for("SpringPhase"),Wn=function(e){return(1&e[jn])>0},Xn=function(e){return(2&e[jn])>0},qn=function(e){return(4&e[jn])>0},Yn=function(e,t){return t?e[jn]|=3:e[jn]&=-3},Qn=function(e,t){return t?e[jn]|=4:e[jn]&=-5},Kn=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;if((0,K.Z)(this,n),(a=t.call(this)).key=void 0,a.animation=new Ln,a.queue=void 0,a.defaultProps={},a._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},a._pendingCalls=new Set,a._lastCallId=0,a._lastToId=0,a._memoizedDuration=0,!be.und(e)||!be.und(r)){var i=be.obj(e)?on({},e):on({},r,{from:e});be.und(i.default)&&(i.default=!0),a.start(i)}return a}return(0,Q.Z)(n,[{key:"idle",get:function(){return!(Xn(this)||this._state.asyncTo)||qn(this)}},{key:"goal",get:function(){return dt(this.animation.to)}},{key:"velocity",get:function(){var e=Ht(this);return e instanceof Xt?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return Wn(this)}},{key:"isAnimating",get:function(){return Xn(this)}},{key:"isPaused",get:function(){return qn(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,a=this.animation,i=a.config,o=a.toValues,s=jt(a.to);!s&&ft(a.to)&&(o=Me(dt(a.to))),a.values.forEach((function(u,c){if(!u.done){var l=u.constructor==qt?1:s?s[c].lastPosition:o[c],f=a.immediate,d=l;if(!f){if(d=u.lastPosition,i.tension<=0)return void(u.done=!0);var h,p=u.elapsedTime+=e,v=a.fromValues[c],m=null!=u.v0?u.v0:u.v0=be.arr(i.velocity)?i.velocity[c]:i.velocity;if(be.und(i.duration))if(i.decay){var g=!0===i.decay?.998:i.decay,y=Math.exp(-(1-g)*p);d=v+m/(1-g)*(1-y),f=Math.abs(u.lastPosition-d)<.1,h=m*y}else{h=null==u.lastVelocity?m:u.lastVelocity;for(var _=i.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v))),b=i.restVelocity||_/10,w=i.clamp?0:i.bounce,x=!be.und(w),A=v==l?u.v0>0:v<l,M=Math.ceil(e/1),E=0;E<M&&(Math.abs(h)>b||!(f=Math.abs(l-d)<=_));++E){x&&(d==l||d>l==A)&&(h=-h*w,d=l),d+=1*(h+=1*((1e-6*-i.tension*(d-l)+.001*-i.friction*h)/i.mass))}}else{var C=1;i.duration>0&&(t._memoizedDuration!==i.duration&&(t._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,p=u.elapsedTime+=e)),C=(C=(i.progress||0)+p/t._memoizedDuration)>1?1:C<0?0:C,u.durationProgress=C),h=((d=v+i.easing(C)*(l-v))-u.lastPosition)/e,f=1==C}u.lastVelocity=h,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,i.round)&&(r=!0)}}));var u=Ht(this),c=u.getValue();if(n){var l=dt(a.to);c===l&&!r||i.decay?r&&i.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return ne.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(Xn(this)){var t=this.animation,n=t.to,r=t.config;ne.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return be.und(e)?(n=this.queue||[],this.queue=[]):n=[be.obj(e)?e:on({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return Rn(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),Zn(this._state,e&&this._lastCallId),ne.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=be.obj(n)?n[t]:n)||yn(n))&&(n=void 0),null==(r=be.obj(r)?r[t]:r)&&(r=void 0);var a={to:n,from:r};if(!Wn(this)){if(e.reverse){var i=[r,n];n=i[0],r=i[1]}r=dt(r),be.und(r)?Ht(this)||this._set(n):this._set(r)}return a}},{key:"_update",value:function(e,t){var n=this,r=on({},e),a=this.key,i=this.defaultProps;r.default&&Object.assign(i,dn(r,(function(e,t){return/^on/.test(t)?cn(e,a):e}))),ar(this,r,"onProps"),ir(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return Dn(++this._lastCallId,{key:a,props:r,defaultProps:i,state:s,actions:{pause:function(){qn(n)||(Qn(n,!0),Te(s.pauseQueue),ir(n,"onPause",In(n,Jn(n,n.animation.to)),n))},resume:function(){qn(n)&&(Qn(n,!1),Xn(n)&&n._resume(),Te(s.resumeQueue),ir(n,"onResume",In(n,Jn(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var a=$n(r);if(a)return n._update(a,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(On(this));var a=!be.und(e.to),i=!be.und(e.from);if(a||i){if(!(t.callId>this._lastToId))return n(On(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,f=e.to,d=void 0===f?c:f,h=e.from,p=void 0===h?l:h;if(!i||a||t.default&&!be.und(d)||(d=p),t.reverse){var v=[p,d];d=v[0],p=v[1]}var m=!we(p,l);m&&(u.from=p),p=dt(p);var g=!we(d,c);g&&this._focus(d);var y=yn(t.to),_=u.config,b=_.decay,w=_.velocity;(a||i)&&(_.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(Bn(n=on({},n),t),t=on({},n,t)),Bn(e,t),Object.assign(e,t),Tn)null==e[r]&&(e[r]=Tn[r]);var a=e.mass,i=e.frequency,o=e.damping;be.und(i)||(i<.01&&(i=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/i,2)*a,e.friction=4*Math.PI*o*a/i)}(_,sn(t.config,o),t.config!==s.config?sn(s.config,o):void 0);var x=Ht(this);if(!x||be.und(d))return n(In(this,!0));var A=be.und(t.reset)?i&&!t.default:!be.und(p)&&un(t.reset,o),M=A?p:this.get(),E=mn(d),C=be.num(E)||be.arr(E)||Ft(E),S=!y&&(!C||un(s.immediate||t.immediate,o));if(g){var T=$t(d);if(T!==x.constructor){if(!S)throw Error("Cannot animate between ".concat(x.constructor.name," and ").concat(T.name,', as the "to" prop suggests'));x=this._set(E)}}var k=x.constructor,B=ft(d),P=!1;if(!B){var L=A||!Wn(this)&&m;(g||L)&&(B=!(P=we(mn(M),E))),(we(u.immediate,S)||S)&&we(_.decay,b)&&we(_.velocity,w)||(B=!0)}if(P&&Xn(this)&&(u.changed&&!A?B=!0:B||this._stop(c)),!y&&((B||ft(c))&&(u.values=x.getPayload(),u.toValues=ft(d)?null:k==qt?[1]:Me(E)),u.immediate!=S&&(u.immediate=S,S||A||this._set(c)),B)){var D=u.onRest;xe(rr,(function(e){return ar(r,t,e)}));var R=In(this,Jn(this,c));Te(this._pendingCalls,R),this._pendingCalls.add(n),u.changed&&ne.batchedUpdates((function(){u.changed=!A,null==D||D(R,r),A?sn(s.onRest,R):null==u.onStart||u.onStart(R,r)}))}A&&this._set(M),y?n(zn(t.to,t,this._state,this)):B?this._start():Xn(this)&&!g?this._pendingCalls.add(n):n(Fn(M))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(ht(this)&&this._detach(),t.to=e,ht(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;ft(t)&&(gt(t,this),Gn(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;ft(e)&&yt(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=dt(e);if(!be.und(r)){var a=Ht(this);if(!a||!we(r,a.getValue())){var i=$t(r);a&&a.constructor==i?a.setValue(r):Vt(this,i.create(r)),a&&ne.batchedUpdates((function(){t._onChange(r,n)}))}}return Ht(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,ir(this,"onStart",In(this,Jn(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),sn(this.animation.onChange,e,this)),sn(this.defaultProps.onChange,e,this),(0,G.Z)((0,H.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Ht(this).reset(dt(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Xn(this)||(Yn(this,!0),qn(this)||this._resume())}},{key:"_resume",value:function(){De.skipAnimation?this.finish():ze.start(this)}},{key:"_stop",value:function(e,t){if(Xn(this)){Yn(this,!1);var n=this.animation;xe(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),pt(this,{type:"idle",parent:this});var r=t?On(this.get()):In(this.get(),Jn(this,null!=e?e:n.to));Te(this._pendingCalls,r),n.changed&&(n.changed=!1,ir(this,"onRest",r,this))}}}]),n}(Vn);function Jn(e,t){var n=mn(t);return we(mn(e.get()),n)}function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=sn(t);if(r){var a=!0!==r&&vn(r),i=(a||e).reverse,o=!a||a.reset;return er(on({},e,{loop:t,default:!1,pause:void 0,to:!i||yn(n)?n:void 0,from:o?e.from:void 0,reset:o},a))}}function er(e){var t=e=vn(e),n=t.to,r=t.from,a=new Set;return be.obj(n)&&nr(n,a),be.obj(r)&&nr(r,a),e.keys=a.size?Array.from(a):null,e}function tr(e){var t=er(e);return be.und(t.default)&&(t.default=dn(t)),t}function nr(e,t){Ae(e,(function(e,n){return null!=e&&t.add(n)}))}var rr=["onStart","onRest","onChange","onPause","onResume"];function ar(e,t,n){e.animation[n]=t[n]!==ln(t,n)?cn(t[n],e.key):void 0}function ir(e,t){for(var n,r,a,i,o,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(a=(i=e.animation)[t])||(n=a).call.apply(n,[i].concat(c)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(c))}var or=["onStart","onChange","onRest"],sr=1,ur=function(){function e(t,n){(0,K.Z)(this,e),this.id=sr++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(on({default:!0},t))}return(0,Q.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];be.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(er(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Me(e).map(er):this.queue=[],this._flush?this._flush(this,t):(mr(this,t),cr(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;xe(Me(t),(function(t){return n[t].stop(!!e)}))}else Zn(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(be.und(e))this.start({pause:!0});else{var t=this.springs;xe(Me(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(be.und(e))this.start({pause:!1});else{var t=this.springs;xe(Me(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Ae(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,Ee(n,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=e.get(),r(a,e,e._item)})));var u=!o&&this._started,c=s||u&&a.size?this.get():null;s&&r.size&&Ee(r,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})),u&&(this._started=!1,Ee(a,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}ne.onFrame(this._onFrame)}}]),e}();function cr(e,t){return Promise.all(t.map((function(t){return lr(e,t)}))).then((function(t){return Rn(e,t)}))}function lr(e,t,n){return fr.apply(this,arguments)}function fr(){return fr=(0,Y.Z)(ee().mark((function e(t,n,r){var a,i,o,s,u,c,l,f,d,h,p,v,m;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.keys,i=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=be.obj(n.default)&&n.default,s&&(n.loop=!1),!1===i&&(n.to=null),!1===o&&(n.from=null),(f=be.arr(i)||be.fun(i)?i:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):xe(or,(function(e){var r=n[e];if(be.fun(r)){var a=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,i=a.get(r);i?(t||(i.finished=!1),n&&(i.cancelled=!0)):a.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,Te(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),h=(a||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===ln(n,"cancel"),(f||p&&d.asyncId)&&h.push(Dn(++t._lastAsyncId,{props:n,state:d,actions:{pause:_e,resume:_e,start:function(e,n){p?(Zn(d,t._lastAsyncId),n(On(t))):(e.onRest=u,n(zn(f,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=Rn,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!s||!v.finished||r&&v.noop){e.next=26;break}if(!(m=$n(n,s,i))){e.next=26;break}return mr(t,[m]),e.abrupt("return",lr(t,m,!0));case 26:return c&&ne.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function dr(e,t){var n=on({},e.springs);return t&&xe(Me(t),(function(e){be.und(e.keys)&&(e=er(e)),be.obj(e.to)||(e=on({},e,{to:void 0})),vr(n,e,(function(e){return pr(e)}))})),hr(e,n),n}function hr(e,t){Ae(t,(function(t,n){e.springs[n]||(e.springs[n]=t,gt(t,e))}))}function pr(e,t){var n=new Kn;return n.key=e,t&&gt(n,t),n}function vr(e,t,n){t.keys&&xe(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function mr(e,t){xe(t,(function(t){vr(e.springs,t,(function(t){return pr(t,e)}))}))}function gr(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var yr=["children"],_r=function(e){var t=e.children,n=gr(e,yr),r=(0,u.useContext)(br),a=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,u.useState)((function(){return{inputs:t,result:e()}})),r=(0,i.Z)(n,1)[0],a=(0,u.useRef)(),o=a.current,s=o;if(s){var c=Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs));c||(s={inputs:t,result:e()})}else s=r;return(0,u.useEffect)((function(){a.current=s,o==r&&(r.inputs=r.result=void 0)}),[s]),s.result}((function(){return{pause:a,immediate:o}}),[a,o]);var s=br.Provider;return u.createElement(s,{value:n},t)},br=function(e,t){return Object.assign(e,u.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(_r,{});_r.Provider=br.Provider,_r.Consumer=br.Consumer;var wr=function(){var e=[],t=function(t){Rt("".concat(Bt,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return xe(e,(function(e,a){if(be.und(t))r.push(e.start());else{var i=n(t,e,a);i&&r.push(e.start(i))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return xe(e,(function(e){return e.pause.apply(e,(0,A.Z)(t))})),this},t.resume=function(){var t=arguments;return xe(e,(function(e){return e.resume.apply(e,(0,A.Z)(t))})),this},t.set=function(t){xe(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return xe(e,(function(e,a){if(be.und(t))r.push(e.start());else{var i=n._getProps(t,e,a);i&&r.push(e.start(i))}})),r},t.stop=function(){var t=arguments;return xe(e,(function(e){return e.stop.apply(e,(0,A.Z)(t))})),this},t.update=function(t){var n=this;return xe(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return be.fun(e)?e(n,t):e};return t._getProps=n,t};function xr(e,t,n){var r=arguments,a=be.fun(t)&&t;a&&!n&&(n=[]);var i=(0,u.useMemo)((function(){return a||3==r.length?wr():void 0}),[]),o=(0,u.useRef)(0),s=zt(),c=(0,u.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=dr(e,t);return o.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?cr(e,t):new Promise((function(r){hr(e,n),c.queue.push((function(){r(cr(e,t))})),s()}))}}}),[]),l=(0,u.useRef)((0,A.Z)(c.ctrls)),f=[],d=Ut(e)||0;function h(e,n){for(var r=e;r<n;r++){var i=l.current[r]||(l.current[r]=new ur(null,c.flush)),o=a?a(r,i):t[r];o&&(f[r]=tr(o))}}(0,u.useMemo)((function(){xe(l.current.slice(e,d),(function(e){_n(e,i),e.stop(!0)})),l.current.length=e,h(d,e)}),[e]),(0,u.useMemo)((function(){h(0,Math.min(d,e))}),n);var p=l.current.map((function(e,t){return dr(e,f[t])})),v=(0,u.useContext)(_r),m=Ut(v),g=v!==m&&gn(v);Nt((function(){o.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],xe(e,(function(e){return e()}))),xe(l.current,(function(e,t){null==i||i.add(e),g&&e.start({default:v});var n=f[t];n&&(bn(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),It((function(){return function(){xe(c.ctrls,(function(e){return e.stop(!0)}))}}));var y=p.map((function(e){return on({},e)}));return i?[y,i]:y}function Ar(e,t){var n=be.fun(e),r=xr(1,n?e:[e],n?t||[]:t),a=(0,i.Z)(r,2),o=(0,i.Z)(a[0],1),s=o[0],u=a[1];return n||2==arguments.length?[s,u]:s}var Mr;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Mr||(Mr={}));var Er=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;(0,K.Z)(this,n),(a=t.call(this)).key=void 0,a.idle=!0,a.calc=void 0,a._active=new Set,a.source=e,a.calc=st.apply(void 0,(0,A.Z)(r));var i=a._get(),o=$t(i);return Vt((0,N.Z)(a),o.create(i)),a}return(0,Q.Z)(n,[{key:"advance",value:function(e){var t=this._get();we(t,this.get())||(Ht(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Sr(this._active)&&Tr(this)}},{key:"_get",value:function(){var e=be.arr(this.source)?this.source.map(dt):Me(dt(this.source));return this.calc.apply(this,(0,A.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Sr(this._active)&&(this.idle=!1,xe(jt(this),(function(e){e.done=!1})),De.skipAnimation?(ne.batchedUpdates((function(){return e.advance()})),Tr(this)):ze.start(this))}},{key:"_attach",value:function(){var e=this,t=1;xe(Me(this.source),(function(n){ft(n)&&gt(n,e),Gn(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;xe(Me(this.source),(function(t){ft(t)&&yt(t,e)})),this._active.clear(),Tr(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Me(this.source).reduce((function(e,t){return Math.max(e,(Gn(t)?t.priority:0)+1)}),0))}}]),n}(Vn);function Cr(e){return!1!==e.idle}function Sr(e){return!e.size||Array.from(e).every(Cr)}function Tr(e){e.idle||(e.idle=!0,xe(jt(e),(function(e){e.done=!0})),pt(e,{type:"idle",parent:e}))}De.assign({createStringInterpolator:kt,to:function(e,t){return new Er(e,t)}});ze.advance;var kr=["primitive"].concat(Object.keys(l).filter((function(e){return/^[A-Z]/.test(e)})).map((function(e){return e[0].toLowerCase()+e.slice(1)})));De.assign({createStringInterpolator:kt,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},frameLoop:"demand"}),(0,f.addEffect)((function(){ne.advance()}));var Br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,a=t.createAnimatedStyle,i=void 0===a?function(e){return new Qt(e)}:a,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:i,getComponentProps:s},c=function e(t){var n=an(t)||"Anonymous";return(t=be.str(t)?e[t]||(e[t]=tn(t,u)):t[rn]||(t[rn]=tn(t,u))).displayName="Animated(".concat(n,")"),t};return Ae(e,(function(t,n){be.arr(e)&&(n=an(t)),c[n]=c(t)})),{animated:c}}(kr,{applyAnimatedValues:f.applyProps}),Pr=Br.animated,Lr=n(4942);function Dr(e,t,n){return Math.max(t,Math.min(e,n))}var Rr=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},Fr=function(e,t){return[e[0]+t[0],e[1]+t[1]]},Ir=function(e,t){return[e[0]-t[0],e[1]-t[1]]},Or=function(e,t){e[0]+=t[0],e[1]+=t[1]};function zr(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function Zr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?Dr(e,t,n):e<t?-zr(t-e,n-t,r)+t:e>n?+zr(e-n,n-t,r)+n:e}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hr={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Vr(e){return e?e[0].toUpperCase()+e.slice(1):""}function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Hr[e],a=r&&r[t]||t;return"on"+Vr(e)+Vr(a)+(n?"Capture":"")}var Wr=["gotpointercapture","lostpointercapture"];function Xr(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=Wr.includes(t)?"capturecapture":"capture",a=!!~t.indexOf(r);return a&&(t=t.replace("capture","")),{device:t,capture:a,passive:n}}function qr(e){return"touches"in e}function Yr(e){return qr(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function Qr(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,a=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:o,origin:[a,i]}}function Kr(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function Jr(e,t){var n=Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),r=(0,i.Z)(n,2);return Qr(r[0],r[1])}function $r(e){var t=Yr(e);return qr(e)?t.identifier:t.pointerId}function ea(e){var t=Yr(e);return[t.clientX,t.clientY]}function ta(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function na(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function ra(){}function aa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?ra:1===t.length?t[0]:function(){var e,n,r=(0,J.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e=a.apply(this,arguments)||e}}catch(i){r.e(i)}finally{r.f()}return e}}function ia(e,t){return Object.assign({},t,e||{})}var oa=function(){function e(t,n,r){(0,K.Z)(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return(0,Q.Z)(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?na(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,a=e.metaKey,i=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:a,ctrlKey:i})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);Or(t._distance,o)}var s=(0,i.Z)(t._movement,2),u=s[0],c=s[1],l=(0,i.Z)(n.threshold,2),f=l[0],d=l[1],h=t._step,p=t.values;if(n.hasCustomTransform?(!1===h[0]&&(h[0]=Math.abs(u)>=f&&p[0]),!1===h[1]&&(h[1]=Math.abs(c)>=d&&p[1])):(!1===h[0]&&(h[0]=Math.abs(u)>=f&&Math.sign(u)*f),!1===h[1]&&(h[1]=Math.abs(c)>=d&&Math.sign(c)*d)),t.intentional=!1!==h[0]||!1!==h[1],t.intentional){var v=[0,0];if(n.hasCustomTransform){var m=(0,i.Z)(p,2),g=m[0],y=m[1];v[0]=!1!==h[0]?g-h[0]:0,v[1]=!1!==h[1]?y-h[1]:0}else v[0]=!1!==h[0]?u-h[0]:0,v[1]=!1!==h[1]?c-h[1]:0;this.intent&&this.intent(v);var _=t.offset,b=t._active&&!t._blocked||t.active;b&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=na(n.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));var w=(0,i.Z)(t.offset,2),x=w[0],A=w[1],M=(0,i.Z)(t._bounds,2),E=(0,i.Z)(M[0],2),C=E[0],S=E[1],T=(0,i.Z)(M[1],2),k=T[0],B=T[1];t.overflow=[x<C?-1:x>S?1:0,A<k?-1:A>B?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var P=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=(0,i.Z)(t,2),a=r[0],o=r[1],s=(0,i.Z)(n,2),u=s[0],c=s[1],l=(0,i.Z)(e,2),f=(0,i.Z)(l[0],2),d=f[0],h=f[1],p=(0,i.Z)(l[1],2),v=p[0],m=p[1];return[Zr(a,d,h,u),Zr(o,v,m,c)]}(t._bounds,t.offset,P),t.delta=Ir(t.offset,_),this.computeMovement(),b&&(!t.last||a>32)){t.delta=Ir(t.offset,_);var L=t.delta.map(Math.abs);Or(t.distance,L),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[L[0]/a,L[1]/a])}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(Gr(Gr(Gr({},t),e),{},(0,Lr.Z)({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var sa=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"aliasKey","xy"),e}return(0,Q.Z)(n,[{key:"reset",value:function(){(0,G.Z)((0,H.Z)(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=Fr(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=Ir(this.state.offset,this.state.lastOffset)}},{key:"intent",value:function(e){this.state.axis=this.state.axis||function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],a=Math.abs(n)-Math.abs(r);return a>0?"x":a<0?"y":void 0}(e),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(e,t){switch(t){case"x":e[1]=0;break;case"y":e[0]=0}}(e,this.state.axis)}}]),n}(oa),ua=function(e){return e},ca=.15,la={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[ca,ca];case!1:return[0,0];default:return Rr(e)}},from:function(e){return"function"===typeof e?e:null!=e?Rr(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||ua},threshold:function(e){return Rr(e,0)}};var fa=Gr(Gr({},la),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return fa.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,a=void 0===r?1/0:r,i=e.top,o=void 0===i?-1/0:i,s=e.bottom,u=void 0===s?1/0:s;return[[n,a],[o,u]]}}),da=10,ha={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[da*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,da*e]}},pa=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","dragging"),e}return(0,Q.Z)(n,[{key:"reset",value:function(){(0,G.Z)((0,H.Z)(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=fa.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,(0,G.Z)((0,H.Z)(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons))&&(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=$r(e),n._pointerActive=!0,this.computeValues(ea(e)),this.computeInitial(),t.preventScrollAxis?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?this.setupDelayTrigger(e):this.startPointerDrag(e)))}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=$r(e);if(void 0===t._pointerId||r===t._pointerId){var a=ea(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Ir(a,t._values),this.computeValues(a)),Or(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(M){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=$r(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var a=(0,i.Z)(t._distance,2),o=a[0],s=a[1];if(t.tap=o<=n.tapsThreshold&&s<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var u=(0,i.Z)(t.direction,2),c=u[0],l=u[1],f=(0,i.Z)(t.velocity,2),d=f[0],h=f[1],p=(0,i.Z)(t.movement,2),v=p[0],m=p[1],g=(0,i.Z)(n.swipe.velocity,2),y=g[0],_=g[1],b=(0,i.Z)(n.swipe.distance,2),w=b[0],x=b[1],A=n.swipe.duration;t.elapsedTime<A&&(Math.abs(d)>y&&Math.abs(v)>w&&(t.swipe[0]=c),Math.abs(h)>_&&Math.abs(m)>x&&(t.swipe[1]=l))}this.emit()}}}},{key:"pointerClick",value:function(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){!function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this)),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this)),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=ha[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;n._delta=t(r),this.start(e),n._keyboardActive=!0,Or(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in ha&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(sa);var va="undefined"!==typeof window&&window.document&&window.document.createElement;function ma(){return va&&"ontouchstart"in window||va&&window.navigator.maxTouchPoints>1}var ga={isBrowser:va,gesture:function(){try{return"constructor"in GestureEvent}catch(Al){return!1}}(),touch:ma(),touchscreen:ma(),pointer:va&&"onpointerdown"in window,pointerLock:va&&"exitPointerLock"in window.document},ya=Gr(Gr({},fa),{},{device:function(e,t,n){var r=n.pointer,a=(r=void 0===r?{}:r).touch,i=void 0!==a&&a,o=r.lock,s=void 0!==o&&o,u=r.mouse,c=void 0!==u&&u;return this.pointerLock=s&&ga.pointerLock,ga.touch&&i?"touch":this.pointerLock?"mouse":ga.pointer&&!c?"pointer":ga.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,ga.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,a=(r=void 0===r?{}:r).capture,i=void 0===a||a,o=r.buttons,s=void 0===o?1:o;return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&i},threshold:function(e,t,n){var r=n.filterTaps,a=void 0!==r&&r,i=n.tapsThreshold,o=void 0===i?3:i,s=n.axis,u=Rr(e,a?o:(void 0===s?void 0:s)?1:0);return this.filterTaps=a,this.tapsThreshold=o,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,a=void 0===r?50:r,i=e.duration,o=void 0===i?250:i;return{velocity:this.transform(Rr(n)),distance:this.transform(Rr(a)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}}});var _a=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","pinching"),Ur((0,N.Z)(e),"aliasKey","da"),e}return(0,Q.Z)(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){(0,G.Z)((0,H.Z)(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?Fr(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"intent",value:function(e){var t=this.state;if(!t.axis){var n=30*Math.abs(e[0])-Math.abs(e[1]);n<0?t.axis="angle":n>0&&(t.axis="scale")}this.config.lockDirection&&("scale"===t.axis?e[1]=0:"angle"===t.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=Jr(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var a=Qr.apply(void 0,(0,A.Z)(Array.from(n.values())));this.pinchStart(e,a)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=Jr(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=Qr.apply(void 0,(0,A.Z)(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],a=t.angle-r,i=0;Math.abs(a)>270&&(i+=Math.sign(a)),this.computeValues([t.distance,t.angle-360*i]),n.origin=t.origin,n.turns=i,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Ir(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){e.ctrlKey&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-ta(e)[1]/100*t.offset[0],0],Or(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t?(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(oa),ba=Gr(Gr({},la),{},{device:function(e,t,n){var r=n.shared,a=n.pointer,i=(a=void 0===a?{}:a).touch,o=void 0!==i&&i;if(r.target&&!ga.touch&&ga.gesture)return"gesture";if(ga.touch&&o)return"touch";if(ga.touchscreen){if(ga.pointer)return"pointer";if(ga.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,a=void 0===r?{}:r,i=n.angleBounds,o=void 0===i?{}:i,s=function(e){var t=ia(na(a,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=ia(na(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof a&&"function"!==typeof o?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=Rr(e,this.lockDirection?[.1,3]:0);return r}}),wa=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","moving"),e}return(0,Q.Z)(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(ea(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=ea(e),n=this.state;n._delta=Ir(t,n._values),Or(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(sa),xa=Gr(Gr({},fa),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Aa=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","scrolling"),e}return(0,Q.Z)(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,a=r.scrollX,i=r.scrollY,o=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==a&&void 0!==a?a:o)&&void 0!==t?t:0,null!==(n=null!==i&&void 0!==i?i:s)&&void 0!==n?n:0]}(e);t._delta=Ir(n,t._values),Or(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(sa),Ma=fa,Ea=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","wheeling"),e}return(0,Q.Z)(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=ta(e),Or(t._movement,t._delta);var n=(0,i.Z)(t.overflow,2),r=n[0],a=n[1],o=(0,i.Z)(t._delta,2),s=o[0],u=o[1],c=(0,i.Z)(t._direction,2),l=c[0],f=c[1];(r<0&&s>0&&l<0||r>0&&s<0&&l>0)&&(t._movement[0]=t._movementBound[0]),(a<0&&u>0&&f<0||a>0&&u<0&&f>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(sa),Ca=fa,Sa=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),Ur((0,N.Z)(e),"ingKey","hovering"),e}return(0,Q.Z)(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(ea(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=ea(e);t._movement=t._delta=Ir(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(sa),Ta=Gr(Gr({},fa),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),ka=new Map,Ba=new Map;function Pa(e){ka.set(e.key,e.engine),Ba.set(e.key,e.resolver)}var La={key:"drag",engine:pa,resolver:ya},Da={key:"hover",engine:Sa,resolver:Ta},Ra={key:"move",engine:wa,resolver:xa},Fa={key:"pinch",engine:_a,resolver:ba},Ia={key:"scroll",engine:Aa,resolver:Ma},Oa={key:"wheel",engine:Ea,resolver:Ca};function za(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Za={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,a=void 0!==r&&r;return{passive:n,capture:a}},transform:function(e){return e}},Ua=["target","eventOptions","window","enabled","transform"];function Na(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,a=Object.entries(t);r<a.length;r++){var o=(0,i.Z)(a[r],2),s=o[0],u=o[1];switch(typeof u){case"function":n[s]=u.call(n,e[s],s,e);break;case"object":n[s]=Na(e[s],u);break;case"boolean":u&&(n[s]=e[s])}}return n}var Ga=function(){function e(t){(0,K.Z)(this,e),Ur(this,"_listeners",[]),this._ctrl=t}return(0,Q.Z)(e,[{key:"add",value:function(e,t,n,r,a){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Hr[e],r=n&&n[t]||t;return e+r}(t,n),o=Gr(Gr({},this._ctrl.config.shared.eventOptions),a);e.addEventListener(i,r,o),this._listeners.push((function(){return e.removeEventListener(i,r,o)}))}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}}]),e}(),Ha=function(){function e(){(0,K.Z)(this,e),Ur(this,"_timeouts",new Map)}return(0,Q.Z)(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(i)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),Va=function(){function e(t){(0,K.Z)(this,e),Ur(this,"gestures",new Set),Ur(this,"_targetEventStore",new Ga(this)),Ur(this,"gestureEventStores",{}),Ur(this,"gestureTimeoutStores",{}),Ur(this,"handlers",{}),Ur(this,"config",{}),Ur(this,"pointerIds",new Set),Ur(this,"touchIds",new Set),Ur(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&ja(e,"drag");t.wheel&&ja(e,"wheel");t.scroll&&ja(e,"scroll");t.move&&ja(e,"move");t.pinch&&ja(e,"pinch");t.hover&&ja(e,"hover")}(this,t)}return(0,Q.Z)(e,[{key:"setEventIds",value:function(e){qr(e)?this.touchIds=new Set(Kr(e)):"pointerId"in e&&("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId))}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=e,r=n.target,a=n.eventOptions,i=n.window,o=n.enabled,s=n.transform,u=za(n,Ua),c={shared:Na({target:r,eventOptions:a,window:i,enabled:o,transform:s},Za)};if(t){var l=Ba.get(t);c[t]=Na(Gr({shared:c.shared},u),l)}else for(var f in u){var d=Ba.get(f);d&&(c[f]=Na(Gr({shared:c.shared},u[f]),d))}return c}(e,t)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=(0,J.Z)(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a,i=this.config.shared,o=i.eventOptions,s={};if(!i.target||(a=i.target())){var u=Wa(s,o,!!a);if(i.enabled){var c,l=(0,J.Z)(this.gestures);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(this.config[f].enabled){var d=ka.get(f);new d(this,n,f).bind(u)}}}catch(w){l.e(w)}finally{l.f()}var h=function(t){u(t,"",(function(r){return e.nativeHandlers[t](Gr(Gr({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var p in this.nativeHandlers)h(p)}for(var v in s)s[v]=aa.apply(void 0,(0,A.Z)(s[v]));if(!a)return s;for(var m in s){var g=Xr(m),y=g.device,_=g.capture,b=g.passive;this._targetEventStore.add(a,y,"",s[m],{capture:_,passive:b})}}}}]),e}();function ja(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ga(e),e.gestureTimeoutStores[t]=new Ha}var Wa=function(e,t,n){return function(r,a,i){var o,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=null!==(o=u.capture)&&void 0!==o?o:t.capture,f=null!==(s=u.passive)&&void 0!==s?s:t.passive,d=c?r:jr(r,a,l);n&&f&&(d+="Passive"),e[d]=e[d]||[],e[d].push(i)}},Xa=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function qa(e,t,n,r,a,i){if(e.has(n)&&ka.has(r)){var o=n+"Start",s=n+"End";a[r]=function(e){var r=void 0;return e.first&&o in t&&t[o](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},i[r]=i[r]||{}}}function Ya(e,t){var n=function(e){var t={},n={},r=new Set;for(var a in e)Xa.test(a)?(r.add(RegExp.lastMatch),n[a]=e[a]):t[a]=e[a];return[n,t,r]}(e),r=(0,i.Z)(n,3),a=r[0],o=r[1],s=r[2],u={};return qa(s,a,"onDrag","drag",u,t),qa(s,a,"onWheel","wheel",u,t),qa(s,a,"onScroll","scroll",u,t),qa(s,a,"onPinch","pinch",u,t),qa(s,a,"onMove","move",u,t),qa(s,a,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:o}}function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=u.useMemo((function(){return new Va(e)}),[]);if(a.applyHandlers(e,r),a.applyConfig(t,n),u.useEffect(a.effect.bind(a)),u.useEffect((function(){return a.clean.bind(a)}),[]),void 0===t.target)return a.bind.bind(a)}function Ka(e){return e.forEach(Pa),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ya(e,t),r=n.handlers,a=n.nativeHandlers,i=n.config;return Qa(r,i,void 0,a)}}function Ja(e){var t=e.snap,n=e.global,r=e.children,o=e.speed,c=void 0===o?1:o,d=e.rotation,h=void 0===d?[0,0,0]:d,p=e.zoom,v=void 0===p?1:p,m=e.polar,g=void 0===m?[0,Math.PI/2]:m,y=e.azimuth,_=void 0===y?[-1/0,1/0]:y,b=e.config,w=void 0===b?{mass:1,tension:170,friction:26}:b,x=(0,f.useThree)(),M=x.size,E=x.gl,C=u.useMemo((function(){return[h[0]+g[0],h[0]+g[1]]}),[h[0],g[0],g[1]]),S=u.useMemo((function(){return[h[1]+_[0],h[1]+_[1]]}),[h[1],_[0],_[1]]),T=u.useMemo((function(){return[l.MathUtils.clamp.apply(l.MathUtils,[h[0]].concat((0,A.Z)(C))),l.MathUtils.clamp.apply(l.MathUtils,[h[1]].concat((0,A.Z)(S))),h[2]]}),[h[0],h[1],h[2],C,S]),k=Ar((function(){return{scale:1,rotation:T,config:w}})),B=(0,i.Z)(k,2),P=B[0],L=B[1];u.useEffect((function(){L.start({scale:1,rotation:T,config:w})}),[T]),u.useEffect((function(){n&&(document.body.style.cursor="grab")}),[n]);var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ka([La,Fa,Ia,Oa,Ra,Da])(e,t)}({onHover:function(e){var t=e.last;n||(document.body.style.cursor=t?"auto":"grab")},onDrag:function(e){var n=e.down,r=(0,i.Z)(e.delta,2),o=r[0],s=r[1],u=e.memo;u=void 0===u?P.rotation.animation.to||T:u;var f=(0,i.Z)(u,2),d=f[0],h=f[1];document.body.style.cursor=n?"grabbing":"grab",o=l.MathUtils.clamp.apply(l.MathUtils,[h+o/M.width*Math.PI*c].concat((0,A.Z)(S))),s=l.MathUtils.clamp.apply(l.MathUtils,[d+s/M.height*Math.PI*c].concat((0,A.Z)(C)));var p=t&&!n&&"boolean"!==typeof t?t:w;return L.start({scale:n&&s>C[1]/2?v:1,rotation:t&&!n?T:[s,o,0],config:function(e){return"scale"===e?(0,a.Z)((0,a.Z)({},p),{},{friction:3*p.friction}):p}}),[s,o]}},{target:n?E.domElement:void 0});return u.createElement(Pr.group,s({},null==D?void 0:D(),P),r)}var $a=["follow","lockX","lockY","lockZ"],ei=u.forwardRef((function(e,t){var n=e.follow,r=void 0===n||n,a=e.lockX,i=void 0!==a&&a,c=e.lockY,l=void 0!==c&&c,d=e.lockZ,h=void 0!==d&&d,p=(0,o.Z)(e,$a),v=u.useRef();return(0,f.useFrame)((function(e){var t=e.camera;if(r&&v.current){var n=v.current.rotation.clone();v.current.quaternion.copy(t.quaternion),i&&(v.current.rotation.x=n.x),l&&(v.current.rotation.y=n.y),h&&(v.current.rotation.z=n.z)}})),u.createElement("group",s({ref:(0,L.default)([v,t])},p))})),ti=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n),e=t.call(this),(0,Lr.Z)((0,N.Z)(e),"isLineSegmentsGeometry",!0),(0,Lr.Z)((0,N.Z)(e),"type","LineSegmentsGeometry"),(0,Lr.Z)((0,N.Z)(e),"boundingBox",null),(0,Lr.Z)((0,N.Z)(e),"boundingSphere",null),(0,Lr.Z)((0,N.Z)(e),"box",new l.Box3),(0,Lr.Z)((0,N.Z)(e),"vector",new l.Vector3);return e.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),e.setAttribute("position",new l.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),e.setAttribute("uv",new l.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2)),e}return(0,Q.Z)(n,[{key:"applyMatrix4",value:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"setPositions",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setPosition requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new l.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new l.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new l.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}},{key:"setColors",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setColors requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new l.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new l.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new l.InterleavedBufferAttribute(n,3,3)),this}},{key:"fromWireframeGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromEdgesGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromMesh",value:function(e){return this.fromWireframeGeometry(new l.WireframeGeometry(e.geometry)),this}},{key:"fromLineSegments",value:function(e){var t=e.geometry;return t.isBufferGeometry&&this.setPositions(Array.from(t.attributes.position.array)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new l.Box3);var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),this.box.setFromBufferAttribute(t),this.boundingBox.union(this.box))}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new l.Sphere),null===this.boundingBox&&this.computeBoundingBox();var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){var n=this.boundingSphere.center;this.boundingBox&&this.boundingBox.getCenter(n);for(var r=0,a=0,i=e.count;a<i;a++)this.vector.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(this.vector)),this.vector.fromBufferAttribute(t,a),r=Math.max(r,n.distanceToSquared(this.vector));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}},{key:"toJSON",value:function(){}}]),n}(l.InstancedBufferGeometry),ni={linewidth:{value:1},resolution:{value:new l.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1},opacity:{value:1}};l.ShaderLib.line={uniforms:l.UniformsUtils.merge([l.UniformsLib.common,l.UniformsLib.fog,ni]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\tfloat a = vUv.x;\n\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\tfloat len2 = a * a + b * b;\n\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t}\n\n\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var ri=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)(this,n),e=t.call(this,{uniforms:l.UniformsUtils.clone(l.ShaderLib.line.uniforms),vertexShader:l.ShaderLib.line.vertexShader,fragmentShader:l.ShaderLib.line.fragmentShader,clipping:!0}),(0,Lr.Z)((0,N.Z)(e),"isLineMaterial",!0),(0,Lr.Z)((0,N.Z)(e),"dashed",!1),(0,Lr.Z)((0,N.Z)(e),"color",new l.Color(0)),(0,Lr.Z)((0,N.Z)(e),"lineWidth",0),(0,Lr.Z)((0,N.Z)(e),"dashScale",0),(0,Lr.Z)((0,N.Z)(e),"dashOffset",0),(0,Lr.Z)((0,N.Z)(e),"dashSize",0),(0,Lr.Z)((0,N.Z)(e),"opacity",0),(0,Lr.Z)((0,N.Z)(e),"resolution",new l.Vector2),(0,Lr.Z)((0,N.Z)(e),"alphaToCoverage",!1),Object.defineProperties((0,N.Z)(e),{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){var t=new l.Color(e);this.uniforms.diffuse.value=t.getHex()}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(e){Boolean(e)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),e?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set:function(e){Boolean(e)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),e?this.defines.USE_DASH="":delete this.defines.USE_DASH}}}),e.setValues(r),e}return(0,Q.Z)(n)}(l.ShaderMaterial),ai=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ri({color:16777215*Math.random()});return(0,K.Z)(this,n),e=t.call(this,r,a),(0,Lr.Z)((0,N.Z)(e),"type","LineSegments2"),(0,Lr.Z)((0,N.Z)(e),"isLineSegments2",!0),(0,Lr.Z)((0,N.Z)(e),"distStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(e),"distEnd",new l.Vector3),(0,Lr.Z)((0,N.Z)(e),"computeLineDistances",(function(){for(var t=e.geometry,n=t.attributes.instanceStart,r=t.attributes.instanceEnd,a=new Float32Array(2*n.data.count),i=0,o=0,s=n.data.count;i<s;i++,o+=2)e.distStart.fromBufferAttribute(n,i),e.distEnd.fromBufferAttribute(r,i),a[o]=0===o?0:a[o-1],a[o+1]=a[o]+e.distStart.distanceTo(e.distEnd);var u=new l.InstancedInterleavedBuffer(a,2,1);return t.setAttribute("instanceDistanceStart",new l.InterleavedBufferAttribute(u,1,0)),t.setAttribute("instanceDistanceEnd",new l.InterleavedBufferAttribute(u,1,1)),(0,N.Z)(e)})),(0,Lr.Z)((0,N.Z)(e),"rayStart",new l.Vector4),(0,Lr.Z)((0,N.Z)(e),"rayEnd",new l.Vector4),(0,Lr.Z)((0,N.Z)(e),"ssOrigin",new l.Vector4),(0,Lr.Z)((0,N.Z)(e),"ssOrigin3",new l.Vector3),(0,Lr.Z)((0,N.Z)(e),"mvMatrix",new l.Matrix4),(0,Lr.Z)((0,N.Z)(e),"line",new l.Line3),(0,Lr.Z)((0,N.Z)(e),"closestPoint",new l.Vector3),(0,Lr.Z)((0,N.Z)(e),"raycast",(function(t,n){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var r=t.ray,a=t.camera,i=a.projectionMatrix,o=e.geometry,s=e.material,u=s.resolution,c=s.linewidth+0,f=o.attributes.instanceStart,d=o.attributes.instanceEnd,h=-a.near;r.at(1,e.ssOrigin),e.ssOrigin.w=1,e.ssOrigin.applyMatrix4(a.matrixWorldInverse),e.ssOrigin.applyMatrix4(i),e.ssOrigin.multiplyScalar(1/e.ssOrigin.w),e.ssOrigin.x*=u.x/2,e.ssOrigin.y*=u.y/2,e.ssOrigin.z=0,e.ssOrigin3.set(e.ssOrigin.x,e.ssOrigin.y,e.ssOrigin.z);var p=e.matrixWorld;e.mvMatrix.multiplyMatrices(a.matrixWorldInverse,p);for(var v=0,m=f.count;v<m;v++){if(e.rayStart.fromBufferAttribute(f,v),e.rayEnd.fromBufferAttribute(d,v),e.rayStart.w=1,e.rayEnd.w=1,e.rayStart.applyMatrix4(e.mvMatrix),e.rayEnd.applyMatrix4(e.mvMatrix),!(e.rayStart.z>h&&e.rayEnd.z>h)){if(e.rayStart.z>h){var g=e.rayStart.z-e.rayEnd.z,y=(e.rayStart.z-h)/g;e.rayStart.lerp(e.rayEnd,y)}else if(e.rayEnd.z>h){var _=e.rayEnd.z-e.rayStart.z,b=(e.rayEnd.z-h)/_;e.rayEnd.lerp(e.rayStart,b)}e.rayStart.applyMatrix4(i),e.rayEnd.applyMatrix4(i),e.rayStart.multiplyScalar(1/e.rayStart.w),e.rayEnd.multiplyScalar(1/e.rayEnd.w),e.rayStart.x*=u.x/2,e.rayStart.y*=u.y/2,e.rayEnd.x*=u.x/2,e.rayEnd.y*=u.y/2,e.line.start.set(e.rayStart.x,e.rayStart.y,e.rayStart.z),e.line.start.z=0,e.line.end.set(e.rayEnd.x,e.rayEnd.y,e.rayEnd.z),e.line.end.z=0;var w=e.line.closestPointToPointParameter(e.ssOrigin3,!0);e.line.at(w,e.closestPoint);var x=l.MathUtils.lerp(e.rayStart.z,e.rayEnd.z,w),A=x>=-1&&x<=1,M=e.ssOrigin3.distanceTo(e.closestPoint)<.5*c;if(A&&M){e.line.start.fromBufferAttribute(f,v),e.line.end.fromBufferAttribute(d,v),e.line.start.applyMatrix4(p),e.line.end.applyMatrix4(p);var E=new l.Vector3,C=new l.Vector3;r.distanceSqToSegment(e.line.start,e.line.end,C,E),n.push({distance:r.origin.distanceTo(C),point:C,face:null,faceIndex:v,object:(0,N.Z)(e),uv:void 0,pointOnLine:E})}}}})),e}return(0,Q.Z)(n)}(l.Mesh),ii=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r;return(0,K.Z)(this,n),r=t.call(this),(0,Lr.Z)((0,N.Z)(r),"type","LineGeometry"),(0,Lr.Z)((0,N.Z)(r),"isLineGeometry",!0),(0,Lr.Z)((0,N.Z)(r),"setColors",(function(t){for(var a=t.length-3,i=new Float32Array(2*a),o=0;o<a;o+=3)i[2*o]=t[o],i[2*o+1]=t[o+1],i[2*o+2]=t[o+2],i[2*o+3]=t[o+3],i[2*o+4]=t[o+4],i[2*o+5]=t[o+5];return(0,G.Z)((e=(0,N.Z)(r),(0,H.Z)(n.prototype)),"setColors",e).call(e,i),(0,N.Z)(r)})),(0,Lr.Z)((0,N.Z)(r),"fromLine",(function(e){var t=e.geometry;return t.isBufferGeometry&&r.setPositions(Array.from(t.attributes.position.array)),(0,N.Z)(r)})),(0,Lr.Z)((0,N.Z)(r),"copy",(function(){return(0,N.Z)(r)})),r}return(0,Q.Z)(n,[{key:"setPositions",value:function(e){for(var t=e.length-3,r=new Float32Array(2*t),a=0;a<t;a+=3)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];return(0,G.Z)((0,H.Z)(n.prototype),"setPositions",this).call(this,r),this}}]),n}(ti),oi=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ii,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ri({color:16777215*Math.random()});return(0,K.Z)(this,n),e=t.call(this,r,a),(0,Lr.Z)((0,N.Z)(e),"type","Line2"),(0,Lr.Z)((0,N.Z)(e),"isLine2",!0),e}return(0,Q.Z)(n)}(ai),si=["points","color","vertexColors","lineWidth","dashed"],ui=u.forwardRef((function(e,t){var n=e.points,r=e.color,a=void 0===r?"black":r,c=e.vertexColors,f=e.lineWidth,d=e.dashed,h=(0,o.Z)(e,si),p=u.useState((function(){return new oi})),v=(0,i.Z)(p,1)[0],m=u.useState((function(){return new ri})),g=(0,i.Z)(m,1)[0],y=u.useState((function(){return new l.Vector2(512,512)})),_=(0,i.Z)(y,1)[0],b=u.useMemo((function(){var e=new ii,t=n.map((function(e){return e instanceof l.Vector3?e.toArray():e}));if(e.setPositions(t.flat()),c){var r=c.map((function(e){return e instanceof l.Color?e.toArray():e}));e.setColors(r.flat())}return e}),[n,c]);return u.useLayoutEffect((function(){v.computeLineDistances()}),[n,v]),u.useLayoutEffect((function(){d?g.defines.USE_DASH="":delete g.defines.USE_DASH,g.needsUpdate=!0}),[d,g]),u.useEffect((function(){return function(){return b.dispose()}}),[b]),u.createElement("primitive",s({object:v,ref:t},h),u.createElement("primitive",{object:b,attach:"geometry"}),u.createElement("primitive",s({object:g,attach:"material",color:a,vertexColors:Boolean(c),resolution:_,linewidth:f,dashed:d},h)))})),ci=["start","end","mid","segments"],li=new l.Vector3,fi=u.forwardRef((function(e,t){var n=e.start,r=void 0===n?[0,0,0]:n,a=e.end,c=void 0===a?[0,0,0]:a,f=e.mid,d=e.segments,h=void 0===d?20:d,p=(0,o.Z)(e,ci),v=u.useRef(null),m=u.useState((function(){return new l.QuadraticBezierCurve3(void 0,void 0,void 0)})),g=(0,i.Z)(m,1)[0],y=u.useCallback((function(e,t,n){var r,a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return e instanceof l.Vector3?g.v0.copy(e):(r=g.v0).set.apply(r,(0,A.Z)(e)),t instanceof l.Vector3?g.v2.copy(t):(a=g.v2).set.apply(a,(0,A.Z)(t)),n instanceof l.Vector3?g.v1.copy(n):g.v1.copy(g.v0.clone().add(g.v2.clone().sub(g.v0)).add(li.set(0,g.v0.y-g.v2.y,0))),g.getPoints(i)}),[]);u.useLayoutEffect((function(){v.current.setPoints=function(e,t,n){var r=y(e,t,n);v.current.geometry&&v.current.geometry.setPositions(r.map((function(e){return e.toArray()})).flat())}}),[]);var _=u.useMemo((function(){return y(r,c,f,h)}),[r,c,f,h]);return u.createElement(ui,s({ref:(0,L.default)([v,t]),points:_},p))})),di=["start","end","midA","midB","segments"],hi=u.forwardRef((function(e,t){var n=e.start,r=e.end,a=e.midA,i=e.midB,c=e.segments,f=void 0===c?20:c,d=(0,o.Z)(e,di),h=u.useMemo((function(){var e=n instanceof l.Vector3?n:(0,X.Z)(l.Vector3,(0,A.Z)(n)),t=r instanceof l.Vector3?r:(0,X.Z)(l.Vector3,(0,A.Z)(r)),o=a instanceof l.Vector3?a:(0,X.Z)(l.Vector3,(0,A.Z)(a)),s=i instanceof l.Vector3?i:(0,X.Z)(l.Vector3,(0,A.Z)(i));return new l.CubicBezierCurve3(e,o,s,t).getPoints(f)}),[n,r,a,i,f]);return u.createElement(ui,s({ref:t,points:h},d))})),pi=["url","distance","loop","autoplay"],vi=u.forwardRef((function(e,t){var n=e.url,r=e.distance,a=void 0===r?1:r,c=e.loop,d=void 0===c||c,h=e.autoplay,p=(0,o.Z)(e,pi),v=u.useRef(),m=(0,f.useThree)((function(e){return e.camera})),g=u.useState((function(){return new l.AudioListener})),y=(0,i.Z)(g,1)[0],_=(0,f.useLoader)(l.AudioLoader,n);return u.useEffect((function(){var e=v.current;e&&(e.setBuffer(_),e.setRefDistance(a),e.setLoop(d),h&&!e.isPlaying&&e.play())}),[_,m,a,d]),u.useEffect((function(){var e=v.current;return m.add(y),function(){m.remove(y),e&&(e.isPlaying&&e.stop(),e.source&&e.source._connected&&e.disconnect())}}),[]),u.createElement("positionalAudio",s({ref:(0,L.default)([v,t]),args:[y]},p))}));function mi(){var e,t=0,n=[],r=0,a=0;var i=d((function(e){a||s(1,e)})),o=d((function(e){a||s(-1,e)}));function s(n,r){a++;var i=0;try{r===v&&h();var o=n>0&&f(r);o?o.call(r,d((function(e){i++,s(1,e)})),d((function(e){i++,s(-1,e)}))):(t=n,e=r,u())}catch(Al){t||i||s(-1,Al)}}function u(){r||(setTimeout(c,0),r=1)}function c(){var e=n;r=0,n=[],e.forEach(l)}function l(e){e()}function f(e){var t=e&&(p(e)||"object"===typeof e)&&e.then;return p(t)&&t}function d(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function h(){throw new TypeError("Chaining cycle detected")}var p=function(e){return"function"===typeof e},v={then:function(r,a){var i=mi();return n.push((function(){var n=t>0?r:a;if(p(n))try{var o=n(e);o===i&&h();var s=f(o);s?s.call(o,i.resolve,i.reject):i.resolve(o)}catch(u){i.reject(u)}else i[t>0?"resolve":"reject"](e)})),t&&u(),i},resolve:i,reject:o};return v}function gi(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}mi.all=gi.all=function(e){var t=0,n=[],r=yi();return 0===e.length?r.resolve([]):e.forEach((function(a,i){var o=yi();o.resolve(a),o.then((function(a){t++,n[i]=a,t===e.length&&r.resolve(n)}),r.reject)})),r};var yi="function"===typeof Promise?gi:mi;function _i(){var e=Object.create(null);function t(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var u=r.init;void 0===u&&(u=function(){});var c=r.getTransferables;if(void 0===c&&(c=null),!e[i])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),u=n("<"+o+">.init",u),c&&(c=n("<"+o+">.getTransferables",c));var l=null;"function"===typeof u?l=u.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:l,getTransferables:c},a(l)}catch(f){f&&f.noLog||console.error(f),a(f)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(a){console.error(a)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&t(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"===typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(u){n(u)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(u){console.error(u),n(u)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:a,success:!1,error:s.stack})}}))}var bi=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return bi=function(){return e},e},wi=0,xi=0,Ai=!1,Mi=Object.create(null),Ei=Object.create(null),Ci=Object.create(null);function Si(e){if((!e||"function"!==typeof e.init)&&!Ai)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!bi())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=yi.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var i="workerModule"+ ++wi,o=e.name||i,s=null;function u(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=Bi(a,"registerModule",u.workerModuleData);var n=function e(){s=null,Ei[a].delete(e)};(Ei[a]||(Ei[a]=new Set)).add(n)}return s.then((function(t){if(t.isCallable)return Bi(a,"callModule",{id:i,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(Ai=!0,e=Si({workerId:a,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+ki(e)+"\n)}"}),Ai=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),u.workerModuleData={isWorkerModule:!0,id:i,name:o,dependencies:t,init:ki(n),getTransferables:r&&ki(r)},u}function Ti(e){Ei[e]&&Ei[e].forEach((function(e){e()})),Mi[e]&&(Mi[e].terminate(),delete Mi[e])}function ki(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function Bi(e,t,n){var r=yi(),a=++xi;return Ci[a]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=Mi[e];if(!t){var n=ki(_i);(t=Mi[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=Ci[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete Ci[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),r}var Pi=Si({name:"Thenable",dependencies:[yi],init:function(e){return e}});var Li=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,i=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,u=n.S|n.WS|n.B|a|n.PDI|s,c=null;function l(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,c.set(r+=i,n[e]);for(var s=0;s<o;s++)c.set(++r,n[e])}))}};for(var r in t)e(r)}}(),c.get(e.codePointAt(0))||n.L}var f,d,h,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",v="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function m(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var u=o.split(">"),c=u[0],l=u[1];c=String.fromCodePoint(r+=parseInt(c,36)),l=String.fromCodePoint(r+=parseInt(l,36)),a.set(c,l),t&&i.set(l,c)}})),{map:a,reverseMap:i}}function g(){if(!f){var e=m(p,!0),t=e.map,n=e.reverseMap;f=t,d=n,h=m(v,!1).map}}function y(e){return g(),f.get(e)||null}function _(e){return g(),d.get(e)||null}function b(e){return g(),h.get(e)||null}var w=n.L,x=n.R,A=n.EN,M=n.ES,E=n.ET,C=n.AN,S=n.CS,T=n.B,k=n.S,B=n.ON,P=n.BN,L=n.NSM,D=n.AL,R=n.LRO,F=n.RLO,I=n.LRE,O=n.RLE,z=n.PDF,Z=n.LRI,U=n.RLI,N=n.FSI,G=n.PDI;var H;function V(e){return function(){if(!H){var e=m("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),H=t}}(),H.get(e)||null}function j(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var c=t.levels.slice(o,s+1),f=s;f>=o&&l(e[f])&u;f--)c[f]=a.level;for(var d=a.level,h=1/0,p=0;p<c.length;p++){var v=c[p];v>d&&(d=v),v<h&&(h=1|v)}for(var m=d;m>=h;m--)for(var g=0;g<c.length;g++)if(c[g]>=m){for(var y=g;g+1<c.length&&c[g+1]>=m;)g++;g>y&&i.push([y+n,g+n])}}})),i}function W(e,t,n,r){for(var a=j(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=_,e.getBidiCharType=l,e.getBidiCharTypeName=function(e){return r[l(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=l(e[r]);var c=new Map;function f(e,t){var r=n[e];n[e]=t,c.set(r,c.get(r)-1),r&o&&c.set(o,c.get(o)-1),c.set(t,(c.get(t)||0)+1),t&o&&c.set(o,(c.get(o)||0)+1)}for(var d=new Uint8Array(e.length),h=new Map,p=[],v=null,m=0;m<e.length;m++)v||p.push(v={start:m,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Nt(m,!1)}),n[m]&T&&(v.end=m,v=null);for(var g=O|I|F|R|a|G|z|T,H=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},j=0;j<p.length;j++){var W=[{_level:(v=p[j]).level,_override:0,_isolate:0}],X=void 0,q=0,Y=0,Q=0;c.clear();for(var K=v.start;K<=v.end;K++){var J=n[K];if(X=W[W.length-1],c.set(J,(c.get(J)||0)+1),J&o&&c.set(o,(c.get(o)||0)+1),J&g)if(J&(O|I)){d[K]=X._level;var $=(J===O?V:H)(X._level);$<=125&&!q&&!Y?W.push({_level:$,_override:0,_isolate:0}):q||Y++}else if(J&(F|R)){d[K]=X._level;var ee=(J===F?V:H)(X._level);ee<=125&&!q&&!Y?W.push({_level:ee,_override:J&F?x:w,_isolate:0}):q||Y++}else if(J&a){J&N&&(J=1===Nt(K+1,!0)?U:Z),d[K]=X._level,X._override&&f(K,X._override);var te=(J===U?V:H)(X._level);te<=125&&0===q&&0===Y?(Q++,W.push({_level:te,_override:0,_isolate:1,_isolInitIndex:K})):q++}else if(J&G){if(q>0)q--;else if(Q>0){for(Y=0;!W[W.length-1]._isolate;)W.pop();var ne=W[W.length-1]._isolInitIndex;null!=ne&&(h.set(ne,K),h.set(K,ne)),W.pop(),Q--}X=W[W.length-1],d[K]=X._level,X._override&&f(K,X._override)}else J&z?(0===q&&(Y>0?Y--:!X._isolate&&W.length>1&&(W.pop(),X=W[W.length-1])),d[K]=X._level):J&T&&(d[K]=v.level);else d[K]=X._level,X._override&&J!==P&&f(K,X._override)}for(var re=[],ae=null,ie=v.start;ie<=v.end;ie++){var oe=n[ie];if(!(oe&s)){var se=d[ie],ue=oe&a,ce=oe===G;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=ue):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ce,_endsWithIsolInit:ue})}}for(var le=[],fe=0;fe<re.length;fe++){var de=re[fe];if(!de._startsWithPDI||de._startsWithPDI&&!h.has(de._start)){for(var he=[ae=de],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=h.get(ae._end));)for(var ve=fe+1;ve<re.length;ve++)if(re[ve]._start===pe){he.push(ae=re[ve]);break}for(var me=[],ge=0;ge<he.length;ge++)for(var ye=he[ge],_e=ye._start;_e<=ye._end;_e++)me.push(_e);for(var be=d[me[0]],we=v.level,xe=me[0]-1;xe>=0;xe--)if(!(n[xe]&s)){we=d[xe];break}var Ae=me[me.length-1],Me=d[Ae],Ee=v.level;if(!(n[Ae]&a))for(var Ce=Ae+1;Ce<=v.end;Ce++)if(!(n[Ce]&s)){Ee=d[Ce];break}le.push({_seqIndices:me,_sosType:Math.max(we,be)%2?x:w,_eosType:Math.max(Ee,Me)%2?x:w})}}for(var Se=0;Se<le.length;Se++){var Te=le[Se],ke=Te._seqIndices,Be=Te._sosType,Pe=Te._eosType;if(c.get(L))for(var Le=0;Le<ke.length;Le++){var De=ke[Le];if(n[De]&L){for(var Re=Be,Fe=Le-1;Fe>=0;Fe--)if(!(n[ke[Fe]]&s)){Re=n[ke[Fe]];break}f(De,Re&(a|G)?B:Re)}}if(c.get(A))for(var Ie=0;Ie<ke.length;Ie++){var Oe=ke[Ie];if(n[Oe]&A)for(var ze=Ie-1;ze>=-1;ze--){var Ze=-1===ze?Be:n[ke[ze]];if(Ze&i){Ze===D&&f(Oe,C);break}}}if(c.get(D))for(var Ue=0;Ue<ke.length;Ue++){var Ne=ke[Ue];n[Ne]&D&&f(Ne,x)}if(c.get(M)||c.get(S))for(var Ge=1;Ge<ke.length-1;Ge++){var He=ke[Ge];if(n[He]&(M|S)){for(var Ve=0,je=0,We=Ge-1;We>=0&&(Ve=n[ke[We]])&s;We--);for(var Xe=Ge+1;Xe<ke.length&&(je=n[ke[Xe]])&s;Xe++);Ve===je&&(n[He]===M?Ve===A:Ve&(A|C))&&f(He,Ve)}}if(c.get(A))for(var qe=0;qe<ke.length;qe++){var Ye=ke[qe];if(n[Ye]&A){for(var Qe=qe-1;Qe>=0&&n[ke[Qe]]&(E|s);Qe--)f(ke[Qe],A);for(var Ke=qe+1;Ke<ke.length&&n[ke[Ke]]&(E|s);Ke++)f(ke[Ke],A)}}if(c.get(E)||c.get(M)||c.get(S))for(var Je=0;Je<ke.length;Je++){var $e=ke[Je];if(n[$e]&(E|M|S)){f($e,B);for(var et=Je-1;et>=0&&n[ke[et]]&s;et--)f(ke[et],B);for(var tt=Je+1;tt<ke.length&&n[ke[tt]]&s;tt++)f(ke[tt],B)}}if(c.get(A))for(var nt=0,rt=Be;nt<ke.length;nt++){var at=ke[nt],it=n[at];it&A?rt===w&&f(at,w):it&i&&(rt=it)}if(c.get(o)){for(var ot=x|A|C,st=ot|w,ut=[],ct=[],lt=0;lt<ke.length;lt++)if(n[ke[lt]]&o){var ft=e[ke[lt]],dt=void 0;if(null!==y(ft)){if(!(ct.length<63))break;ct.push({char:ft,seqIndex:lt})}else if(null!==(dt=_(ft)))for(var ht=ct.length-1;ht>=0;ht--){var pt=ct[ht].char;if(pt===dt||pt===_(b(ft))||y(b(pt))===ft){ut.push([ct[ht].seqIndex,lt]),ct.length=ht;break}}}ut.sort((function(e,t){return e[0]-t[0]}));for(var vt=0;vt<ut.length;vt++){for(var mt=ut[vt],gt=mt[0],yt=mt[1],_t=!1,bt=0,wt=gt+1;wt<yt;wt++){var xt=ke[wt];if(n[xt]&st){_t=!0;var At=n[xt]&ot?x:w;if(At===Ht(xt)){bt=At;break}}}if(_t&&!bt){bt=Be;for(var Mt=gt-1;Mt>=0;Mt--){var Et=ke[Mt];if(n[Et]&st){var Ct=n[Et]&ot?x:w;bt=Ct!==Ht(Et)?Ct:Ht(Et);break}}}if(bt){if(n[ke[gt]]=n[ke[yt]]=bt,bt!==Ht(ke[gt]))for(var St=gt+1;St<ke.length;St++)if(!(n[ke[St]]&s)){l(e[ke[St]])&L&&(n[ke[St]]=bt);break}if(bt!==Ht(ke[yt]))for(var Tt=yt+1;Tt<ke.length;Tt++)if(!(n[ke[Tt]]&s)){l(e[ke[Tt]])&L&&(n[ke[Tt]]=bt);break}}}for(var kt=0;kt<ke.length;kt++)if(n[ke[kt]]&o){for(var Bt=kt,Pt=kt,Lt=Be,Dt=kt-1;Dt>=0;Dt--){if(!(n[ke[Dt]]&s)){Lt=n[ke[Dt]]&ot?x:w;break}Bt=Dt}for(var Rt=Pe,Ft=kt+1;Ft<ke.length;Ft++){if(!(n[ke[Ft]]&(o|s))){Rt=n[ke[Ft]]&ot?x:w;break}Pt=Ft}for(var It=Bt;It<=Pt;It++)n[ke[It]]=Lt===Rt?Lt:Ht(ke[It]);kt=Pt}}}for(var Ot=v.start;Ot<=v.end;Ot++){var zt=d[Ot],Zt=n[Ot];if(1&zt?Zt&(w|A|C)&&d[Ot]++:Zt&x?d[Ot]++:Zt&(C|A)&&(d[Ot]+=2),Zt&s&&(d[Ot]=0===Ot?v.level:d[Ot-1]),Ot===v.end||l(e[Ot])&(k|T))for(var Ut=Ot;Ut>=0&&l(e[Ut])&u;Ut--)d[Ut]=v.level}}return{levels:d,paragraphs:p};function Nt(t,r){for(var i=t;i<e.length;i++){var o=n[i];if(o&(x|D))return 1;if(o&(T|w)||r&&o===G)return 0;if(o&a){var s=Gt(i);i=-1===s?e.length:s}}return 0}function Gt(t){for(var r=1,i=t+1;i<e.length;i++){var o=n[i];if(o&T)break;if(o&G){if(0===--r)return i}else o&a&&r++}return-1}function Ht(e){return 1&d[e]?x:w}},e.getMirroredCharacter=V,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=V(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=j,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var a=W(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?V(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},Di=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Ri(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=l.ShaderChunk[t];return n?Ri(n):e}))}for(var Fi=[],Ii=0;Ii<256;Ii++)Fi[Ii]=(Ii<16?"0":"")+Ii.toString(16);var Oi=Object.assign||function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return e},zi=Date.now(),Zi=new WeakMap,Ui=new Map,Ni=1e10;function Gi(e,t){var n=function(e){var t=JSON.stringify(e,Vi),n=Wi.get(t);null==n&&Wi.set(t,n=++ji);return n}(t),r=Zi.get(e);if(r||Zi.set(e,r=Object.create(null)),r[n])return new r[n];var a="_onBeforeCompile".concat(n),i=function(r){e.onBeforeCompile.call(this,r);var i=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,o=Ui[i];if(!o){var s=function(e,t,n){var r=e.vertexShader,a=e.fragmentShader,i=t.vertexDefs,o=t.vertexMainIntro,s=t.vertexMainOutro,u=t.vertexTransform,c=t.fragmentDefs,l=t.fragmentMainIntro,f=t.fragmentMainOutro,d=t.fragmentColorTransform,h=t.customRewriter,p=t.timeUniform;i=i||"",o=o||"",s=s||"",c=c||"",l=l||"",f=f||"",(u||h)&&(r=Ri(r));(d||h)&&(a=Ri(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(h){var v=h({vertexShader:r,fragmentShader:a});r=v.vertexShader,a=v.fragmentShader}if(d){var m=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return m.push(e),""})),f="".concat(d,"\n").concat(m.join("\n"),"\n").concat(f)}if(p){var g="\nuniform float ".concat(p,";\n");i=g+i,c=g+c}u&&(r="vec3 troika_position_".concat(n,";\nvec3 troika_normal_").concat(n,";\nvec2 troika_uv_").concat(n,";\n").concat(r,"\n"),i="".concat(i,"\nvoid troikaVertexTransform").concat(n,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(u,"\n}\n"),o="\ntroika_position_".concat(n," = vec3(position);\ntroika_normal_").concat(n," = vec3(normal);\ntroika_uv_").concat(n," = vec2(uv);\ntroikaVertexTransform").concat(n,"(troika_position_").concat(n,", troika_normal_").concat(n,", troika_uv_").concat(n,");\n").concat(o,"\n"),r=r.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,a){return/\battribute\s+vec[23]\s+$/.test(a.substr(0,r))?t:"troika_".concat(t,"_").concat(n)})));return r=Hi(r,n,i,o,s),a=Hi(a,n,c,l,f),{vertexShader:r,fragmentShader:a}}(r,t,n);o=Ui[i]=s}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,Oi(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-zi}}),this[a]&&this[a](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){var a=Object.create(r,u);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:Ni++}),a.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Fi[255&e]+Fi[e>>8&255]+Fi[e>>16&255]+Fi[e>>24&255]+"-"+Fi[255&t]+Fi[t>>8&255]+"-"+Fi[t>>16&15|64]+Fi[t>>24&255]+"-"+Fi[63&n|128]+Fi[n>>8&255]+"-"+Fi[n>>16&255]+Fi[n>>24&255]+Fi[255&r]+Fi[r>>8&255]+Fi[r>>16&255]+Fi[r>>24&255]).toUpperCase()}(),a.uniforms=Oi({},r.uniforms,t.uniforms),a.defines=Oi({},r.defines,t.defines),a.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",a.extensions=Oi({},r.extensions,t.extensions),a._listeners=void 0,a},u={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n}},onBeforeCompile:{get:function(){return i},set:function(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(Oi(this.extensions,t.extensions),Oi(this.defines,t.defines),Oi(this.uniforms,l.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){var n=this._depthMaterial;return n||((n=this._depthMaterial=Gi(e.isDerivedMaterial?e.getDepthMaterial():new l.MeshDepthMaterial({depthPacking:l.RGBADepthPacking}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){var n=this._distanceMaterial;return n||((n=this._distanceMaterial=Gi(e.isDerivedMaterial?e.getDistanceMaterial():new l.MeshDistanceMaterial,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function Hi(e,t,n,r,a){return(r||a||n)&&(e=e.replace(Di,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(a,"\n}")),e}function Vi(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var ji=0,Wi=new Map;var Xi=null,qi=new l.MeshStandardMaterial({color:16777215,side:l.DoubleSide});l.Mesh;function Yi(e){var t=16;function n(e,t,n,r,a,i,o){var s=1-o;return{x:s*s*e+2*s*o*n+o*o*a,y:s*s*t+2*s*o*r+o*o*i}}function r(e,t,n,r,a,i,o,s,u){var c=1-u;return{x:c*c*c*e+3*c*c*u*n+3*c*u*u*a+u*u*u*o,y:c*c*c*t+3*c*c*u*r+3*c*u*u*i+u*u*u*s}}function a(){return(self.performance||Date).now()}return function(i,o,s,u,c){for(var l,f,d,h,p,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,m=a(),g=new Uint8Array(i*o),y=u[2]-u[0],_=u[3]-u[1],b=e(u),w=/([MLQCZ])([^MLQCZ]*)/g;l=w.exec(s);){var x=l[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(l[1]){case"M":h=f=x[0],p=d=x[1];break;case"L":x[0]===h&&x[1]===p||b.addLineSegment(h,p,h=x[0],p=x[1]);break;case"Q":for(var A={x:h,y:p},M=1;M<t;M++){var E=n(h,p,x[0],x[1],x[2],x[3],M/15);b.addLineSegment(A.x,A.y,E.x,E.y),A=E}h=x[2],p=x[3];break;case"C":for(var C={x:h,y:p},S=1;S<t;S++){var T=r(h,p,x[0],x[1],x[2],x[3],x[4],x[5],S/15);b.addLineSegment(C.x,C.y,T.x,T.y),C=T}h=x[4],p=x[5];break;case"Z":h===f&&p===d||b.addLineSegment(h,p,f,d)}}for(var k=0;k<i;k++)for(var B=0;B<o;B++){var P=b.findNearestSignedDistance(u[0]+y*(k+.5)/i,u[1]+_*(B+.5)/o,c),L=Math.pow(1-Math.abs(P)/c,v)/2;P<0&&(L=1-L),L=Math.max(0,Math.min(255,Math.round(255*L))),g[B*i+k]=L}return{textureData:g,timing:a()-m}}}function Qi(e){var t=!1,n=[];function r(){t&&(n.sort((function(e,t){return e.maxX-t.maxX})),t=!1)}function a(e,t,n,r,a,i){var o=a-n,s=i-r,u=o*o+s*s,c=u?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/u)):0,l=e-(n+c*o),f=t-(r+c*s);return l*l+f*f}return{addLineSegment:function(e,r,a,i){var o={x0:e,y0:r,x1:a,y1:i,minX:Math.min(e,a),minY:Math.min(r,i),maxX:Math.max(e,a),maxY:Math.max(r,i)};n.push(o),t=!0},findNearestSignedDistance:function(e,t){r();for(var i=1/0,o=1/0,s=n.length;s--;){var u=n[s];if(u.maxX+o<=e)break;if(e+o>u.minX&&t-o<u.maxY&&t+o>u.minY){var c=a(e,t,u.x0,u.y0,u.x1,u.y1);c<i&&(i=c,o=Math.sqrt(i))}}return function(e,t){r();for(var a=!1,i=n.length;i--;){var o=n[i];if(o.maxX<=e)break;if(o.minY<t&&o.maxY>t)o.y0>t!==o.y1>t&&e<(o.x1-o.x0)*(t-o.y0)/(o.y1-o.y0)+o.x0&&(a=!a)}return a}(e,t)&&(o=-o),o}}}var Ki=Si({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var u=n.readUint(r,a);a+=4,o.push(t._readFont(r,u))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:a},u={},c=0;c<i;c++){var l=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var f=r.readUint(e,n);n+=4;var d=r.readUint(e,n);n+=4,u[l]={offset:f,length:d}}for(c=0;c<o.length;c++){var h=o[c];u[h]&&(s[h.trim()]=t[h.trim()].parse(e,u[h].offset,u[h].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var u=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var c=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,u==n)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},u=n;o.readFixed(e,n),n+=4;var c=o.readUshort(e,n);n+=2;var l=o.readUshort(e,n);n+=2;var f=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,u+c),s.featureList=t._lctf.readFeatureList(e,u+l),s.lookupList=t._lctf.readLookupList(e,u+f,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=a.readUshort(e,n);n+=2;var l=t._lctf.readLookupTable(e,i+c,r);o.push(l)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var u=o.ltype,c=0;c<s;c++){var l=a.readUshort(e,n);n+=2;var f=r(e,u,i+l,o);o.tabs.push(f)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++)a.push(o+u),a.push(o+u),a.push(r.readUshort(e,n)),n+=2}if(2==i){var c=r.readUshort(e,n);for(n+=2,u=0;u<c;u++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2;var l=t._lctf.readFeatureTable(e,a+c);l.tag=u.trim(),i.push(l)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var u=0;u<s;u++)i.tab.push(r.readUshort(e,n+2*u));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readScriptTable(e,a+c)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,i.default=t._lctf.readLangSysTable(e,a+o);var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,i[c.trim()]=t._lctf.readLangSysTable(e,a+l)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var u=[];n=t.CFF.readIndex(e,n,u);var c=[];for(s=0;s<u.length-1;s++)c.push(t.CFF.readDict(e,n+u[s],n+u[s+1]));n+=u[u.length-1];var l=c[0],f=[];n=t.CFF.readIndex(e,n,f);var d=[];for(s=0;s<f.length-1;s++)d.push(a.readASCII(e,n+f[s],f[s+1]-f[s]));if(n+=f[f.length-1],t.CFF.readSubrs(e,n,l),l.CharStrings){n=l.CharStrings,f=[],n=t.CFF.readIndex(e,n,f);var h=[];for(s=0;s<f.length-1;s++)h.push(a.readBytes(e,n+f[s],f[s+1]-f[s]));l.CharStrings=h}if(l.ROS){n=l.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),l.FDArray=[],s=0;s<p.length-1;s++){var v=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,v,d),l.FDArray.push(v)}n+=p[p.length-1],n=l.FDSelect,l.FDSelect=[];var m=e[n];if(n++,3!=m)throw m;var g=a.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)l.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return l.Encoding&&(l.Encoding=t.CFF.readEncoding(e,l.Encoding,l.CharStrings.length)),l.charset&&(l.charset=t.CFF.readCharset(e,l.charset,l.CharStrings.length)),t.CFF._readFDict(e,l,d),l},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var u=0;u<i.length-1;u++)r.Subrs.push(a.readBytes(e,n+i[u],i[u+1]-i[u]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var u=a.readUshort(e,n);n+=2,i.push(u)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){u=a.readUshort(e,n),n+=2;var c=0;for(1==o?(c=e[n],n++):(c=a.readUshort(e,n),n+=2),s=0;s<=c;s++)i.push(u),u++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,u=null,c=null;i<=20&&(u=i,s=1),12==i&&(u=100*i+o,s=2),21<=i&&i<=27&&(u=i,s=1),28==i&&(c=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(u=i,s=1),32<=i&&i<=246&&(c=i-139,s=1),247<=i&&i<=250&&(c=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(c=256*-(i-251)-o-108,s=2),255==i&&(c=a.readInt(e,n+1)/65535,s=5),r.val=null!=c?c:"o"+u,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],u=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,l=null,f=null;s<=20&&(l=s,c=1),12==s&&(l=100*s+u,c=2),19!=s&&20!=s||(l=s,c=2),21<=s&&s<=27&&(l=s,c=1),28==s&&(f=i.readShort(e,n+1),c=3),29<=s&&s<=31&&(l=s,c=1),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s&&(f=i.readInt(e,n+1)/65535,c=5),o.push(null!=f?f:"o"+l),n+=c}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],u=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,l=null,f=null;if(28==s&&(f=a.readShort(e,n+1),c=3),29==s&&(f=a.readInt(e,n+1),c=5),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s)throw f=a.readInt(e,n+1)/65535,c=5,"unknown number";if(30==s){var d=[];for(c=1;;){var h=e[n+c];c++;var p=h>>4,v=15&h;if(15!=p&&d.push(p),15!=v&&d.push(v),15==v)break}for(var m="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)m+=g[d[y]];f=parseFloat(m)}s<=21&&(l=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],c=1,12==s&&(l=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],c=2)),null!=l?(i[l]=1==o.length?o[0]:o,o=[]):o.push(f),n+=c}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var u=0;u<o;u++){var c=a.readUshort(e,n);n+=2;var l=a.readUshort(e,n);n+=2;var f=a.readUint(e,n);n+=4;var d="p"+c+"e"+l,h=s.indexOf(f);if(-1==h){var p;h=i.tables.length,s.push(f);var v=a.readUshort(e,f);0==v?p=t.cmap.parse0(e,f):4==v?p=t.cmap.parse4(e,f):6==v?p=t.cmap.parse6(e,f):12==v?p=t.cmap.parse12(e,f):console.debug("unknown format: "+v,c,l,f),i.tables.push(p)}if(null!=i[d])throw"multiple tables for one platform+encoding";i[d]=h}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var u=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,u),n+=2*u,n+=2,i.startCount=r.readUshorts(e,n,u),n+=2*u,i.idDelta=[];for(var c=0;c<u;c++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,u),n+=2*u,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,u=r.readUint(e,s+0),c=r.readUint(e,s+4),l=r.readUint(e,s+8);a.groups.push([u,c,l])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var u=r.readUshort(a,i);if(i+=2,a.length-i<u)return null;o.instructions=r.readBytes(a,i,u),i+=u;var c=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<c;s++){var l=a[i];if(i++,o.flags.push(l),0!=(8&l)){var f=a[i];i++;for(var d=0;d<f;d++)o.flags.push(l),s++}}for(o.xs=[],s=0;s<c;s++){var h=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);h?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<c;s++)h=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),h?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var v=0,m=0;for(s=0;s<c;s++)v+=o.xs[s],m+=o.ys[s],o.xs[s]=v,o.ys[s]=m}else{var g;o.parts=[];do{g=r.readUshort(a,i),i+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(a,i),i+=2,1&g){var _=r.readShort(a,i);i+=2;var b=r.readShort(a,i);i+=2}else _=r.readInt8(a,i),i++,b=r.readInt8(a,i),i++;2&g?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&g?(y.m.a=y.m.d=r.readF2dot14(a,i),i+=2):64&g?(y.m.a=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2):128&g&&(y.m.a=r.readF2dot14(a,i),i+=2,y.m.b=r.readF2dot14(a,i),i+=2,y.m.c=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2)}while(32&g);if(256&g){var w=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<w;s++)o.instr.push(a[i]),i++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var u=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,u+o)}if(1==n&&1==s.fmt){var c=i.readUshort(e,r);r+=2;var l=t._lctf.numOfOnes(c);0!=c&&(s.pos=t.GPOS.readValueRecord(e,r,c))}else if(2==n&&s.fmt>=1&&s.fmt<=2){c=i.readUshort(e,r),r+=2;var f=i.readUshort(e,r);r+=2,l=t._lctf.numOfOnes(c);var d=t._lctf.numOfOnes(f);if(1==s.fmt){s.pairsets=[];var h=i.readUshort(e,r);r+=2;for(var p=0;p<h;p++){var v=o+i.readUshort(e,r);r+=2;var m=i.readUshort(e,v);v+=2;for(var g=[],y=0;y<m;y++){var _=i.readUshort(e,v);v+=2,0!=c&&(E=t.GPOS.readValueRecord(e,v,c),v+=2*l),0!=f&&(C=t.GPOS.readValueRecord(e,v,f),v+=2*d),g.push({gid2:_,val1:E,val2:C})}s.pairsets.push(g)}}if(2==s.fmt){var b=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var A=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+w),s.matrix=[],p=0;p<x;p++){var M=[];for(y=0;y<A;y++){var E=null,C=null;0!=c&&(E=t.GPOS.readValueRecord(e,r,c),r+=2*l),0!=f&&(C=t.GPOS.readValueRecord(e,r,f),r+=2*d),M.push({val1:E,val2:C})}s.matrix.push(M)}}}else{if(9==n&&1==s.fmt){var S=i.readUshort(e,r);r+=2;var T=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=S;else if(a.ltype!=S)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+T)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var u=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+u)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var c=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,c),r+=2*s.newg.length}}else if(4==n){s.vals=[],c=i.readUshort(e,r),r+=2;for(var l=0;l<c;l++){var f=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+f))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var d=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+d),s.scset=[];var h=i.readUshort(e,r);for(r+=2,l=0;l<h;l++){var p=i.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(l=0;l<3;l++){c=i.readUshort(e,r),r+=2;for(var v=[],m=0;m<c;m++)v.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*m)));r+=2*c,0==l&&(s.backCvg=v),1==l&&(s.inptCvg=v),2==l&&(s.ahedCvg=v)}c=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,c)}}else{if(7==n&&1==s.fmt){var g=i.readUshort(e,r);r+=2;var y=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=g;else if(a.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var u=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+u))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+u))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+u))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,u=0,c=0;c<a.maxp.numGlyphs;c++)c<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,u=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(u);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var u={glyph1:[],rval:[]},c=0;c<s;c++){n+=2,r=i.readUshort(e,n),n+=2;var l=i.readUshort(e,n);n+=2;var f=l>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;n=t.kern.readFormat0(e,n,u)}return u},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},u=0;u<o;u++){i.readUint(e,n),n+=4;var c=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var l=c>>>8;if(0!=(l&=15))throw"unknown kern table format: "+l;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var l=a.readShort(e,n);n+=2,u!=i&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(c),f.vals.push(l),i=u}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,u=a.maxp.numGlyphs+1;if(0==s)for(var c=0;c<u;c++)o.push(i.readUshort(e,n+(c<<1))<<1);if(1==s)for(c=0;c<u;c++)o.push(i.readUint(e,n+(c<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,l=0;l<o;l++){var f=a.readUshort(e,n);n+=2;var d=a.readUshort(e,n);n+=2;var h=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var v=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var g,y=u[p],_=c+12*o+m;if(0==f)g=a.readUnicode(e,_,v/2);else if(3==f&&0==d)g=a.readUnicode(e,_,v/2);else if(0==d)g=a.readASCII(e,_,v);else if(1==d)g=a.readUnicode(e,_,v/2);else if(3==d)g=a.readUnicode(e,_,v/2);else{if(1!=f)throw"unknown encoding "+d+", platformID: "+f;g=a.readASCII(e,_,v),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var b="p"+f+","+h.toString(16);null==i[b]&&(i[b]={}),i[b][void 0!==y?y:p]=g,i[b]._lang=h}for(var w in i)if(null!=i[w].postScriptName&&1033==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&0==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&3084==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName)return i[w];for(var w in i){s=w;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var u=0;o.FDSelect[u+2]<=n;)u+=2;s=o.FDArray[o.FDSelect[u+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,u=o==i?a:o+1,c=1&e.flags[o],l=1&e.flags[s],f=1&e.flags[u],d=e.xs[o],h=e.ys[o];if(o==a)if(c){if(!l){t.U.P.moveTo(n,d,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else l?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+h)/2);c?l&&t.U.P.lineTo(n,d,h):f?t.U.P.qcurveTo(n,d,h,e.xs[u],e.ys[u]):t.U.P.qcurveTo(n,d,h,(d+e.xs[u])/2,(h+e.ys[u])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,u=0;u<i.crds.length;u+=2){var c=i.crds[u],l=i.crds[u+1];r.crds.push(c*s.a+l*s.b+s.tx),r.crds.push(c*s.c+l*s.d+s.ty)}for(u=0;u<i.cmds.length;u++)r.cmds.push(i.cmds[u])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var a=0;if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,s=i.featureList,u=[],c=0;c<s.length;c++){var l=s[c];if("kern"==l.tag)for(var f=0;f<l.tab.length;f++)if(!u[l.tab[f]]){u[l.tab[f]]=!0;for(var d=o[l.tab[f]],h=0;h<d.tabs.length;h++)if(null!=d.tabs[h]){var p,v=d.tabs[h];if(!v.coverage||-1!=(p=t._lctf.coverageIndex(v.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var m;if(1==v.fmt){var g=v.pairsets[p];for(c=0;c<g.length;c++)g[c].gid2==r&&(m=g[c])}else if(2==v.fmt){var y=t.U._getGlyphClass(n,v.classDef1),_=t.U._getGlyphClass(r,v.classDef2);m=v.matrix[y][_]}m&&m.val1&&m.val1[2]&&(a+=m.val1[2]),m&&m.val2&&m.val2[0]&&(a+=m.val2[0])}}}}if(e.kern){var b=e.kern.glyph1.indexOf(n);if(-1!=b){var w=e.kern.rval[b].glyph2.indexOf(r);-1!=w&&(a+=e.kern.rval[b].vals[w])}}return a},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,u=r.tabs[o];if(!u.coverage||-1!=(s=t._lctf.coverageIndex(u.coverage,e[n])))if(1==r.ltype)e[n],1==u.fmt?e[n]=e[n]+u.delta:e[n]=u.newg[s];else if(4==r.ltype)for(var c=u.vals[s],l=0;l<c.length;l++){var f=c[l],d=f.chain.length;if(!(d>i)){for(var h=!0,p=0,v=0;v<d;v++){for(;-1==e[n+p+(1+v)];)p++;f.chain[v]!=e[n+p+(1+v)]&&(h=!1)}if(h){for(e[n]=f.nglyph,v=0;v<d+p;v++)e[n+v+1]=-1;break}}}else if(5==r.ltype&&2==u.fmt)for(var m=t._lctf.getInterval(u.cDef,e[n]),g=u.cDef[m+2],y=u.scset[g],_=0;_<y.length;_++){var b=y[_],w=b.input;if(!(w.length>i)){for(h=!0,v=0;v<w.length;v++){var x=t._lctf.getInterval(u.cDef,e[n+1+v]);if(-1==m&&u.cDef[x+2]!=w[v]){h=!1;break}}if(h){var A=b.substLookupRecords;for(l=0;l<A.length;l+=2)A[l],A[l+1]}}}else if(6==r.ltype&&3==u.fmt){if(!t.U._glsCovered(e,u.backCvg,n-u.backCvg.length))continue;if(!t.U._glsCovered(e,u.inptCvg,n))continue;if(!t.U._glsCovered(e,u.ahedCvg,n+u.inptCvg.length))continue;var M=u.lookupRec;for(_=0;_<M.length;_+=2){m=M[_];var E=a[M[_+1]];t.U._applySubs(e,n+m,E,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var u=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,c=t.U.glyphToPath(e,s),l=0;l<c.crds.length;l+=2)a.crds.push(c.crds[l]+i),a.crds.push(c.crds[l+1]);for(r&&a.cmds.push(r),l=0;l<c.cmds.length;l++)a.cmds.push(c.cmds[l]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,u))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open,f=0,d=n.x,h=n.y,p=0,v=0,m=0,g=0,y=0,_=0,b=0,w=0,x=0,A=0,M={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,M);var E=M.val;if(f+=M.size,"o1"==E||"o18"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o3"==E||"o23"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o4"==E)o.length>1&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),l&&t.U.P.closePath(i),h+=o.pop(),t.U.P.moveTo(i,d,h),l=!0;else if("o5"==E)for(;o.length>0;)d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h);else if("o6"==E||"o7"==E)for(var C=o.length,S="o6"==E,T=0;T<C;T++){var k=o.shift();S?d+=k:h+=k,S=!S,t.U.P.lineTo(i,d,h)}else if("o8"==E||"o24"==E){C=o.length;for(var B=0;B+6<=C;)p=d+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),h=g+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,h),B+=6;"o24"==E&&(d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(v=h,m=(p=d+o.shift())+o.shift(),A=g=v+o.shift(),_=g,w=h,d=(b=(y=(x=m+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,v,m,g,x,A),t.U.P.curveTo(i,y,_,b,w,d,h)),"o1235"==E&&(p=d+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),x=m+o.shift(),A=g+o.shift(),y=x+o.shift(),_=A+o.shift(),b=y+o.shift(),w=_+o.shift(),d=b+o.shift(),h=w+o.shift(),o.shift(),t.U.P.curveTo(i,p,v,m,g,x,A),t.U.P.curveTo(i,y,_,b,w,d,h)),"o1236"==E&&(p=d+o.shift(),v=h+o.shift(),m=p+o.shift(),A=g=v+o.shift(),_=g,b=(y=(x=m+o.shift())+o.shift())+o.shift(),w=_+o.shift(),d=b+o.shift(),t.U.P.curveTo(i,p,v,m,g,x,A),t.U.P.curveTo(i,y,_,b,w,d,h)),"o1237"==E&&(p=d+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),x=m+o.shift(),A=g+o.shift(),y=x+o.shift(),_=A+o.shift(),b=y+o.shift(),w=_+o.shift(),Math.abs(b-d)>Math.abs(w-h)?d=b+o.shift():h=w+o.shift(),t.U.P.curveTo(i,p,v,m,g,x,A),t.U.P.curveTo(i,y,_,b,w,d,h));else if("o14"==E){if(o.length>0&&!u&&(c=o.shift()+r.nominalWidthX,u=!0),4==o.length){var P=o.shift(),L=o.shift(),D=o.shift(),R=o.shift(),F=t.CFF.glyphBySE(r,D),I=t.CFF.glyphBySE(r,R);t.U._drawCFF(r.CharStrings[F],n,r,a,i),n.x=P,n.y=L,t.U._drawCFF(r.CharStrings[I],n,r,a,i)}l&&(t.U.P.closePath(i),l=!1)}else if("o19"==E||"o20"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0,f+=s+7>>3;else if("o21"==E)o.length>2&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),h+=o.pop(),d+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),l=!0;else if("o22"==E)o.length>1&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),d+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),l=!0;else if("o25"==E){for(;o.length>6;)d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h);p=d+o.shift(),v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),h=g+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,h)}else if("o26"==E)for(o.length%2&&(d+=o.shift());o.length>0;)p=d,v=h+o.shift(),d=m=p+o.shift(),h=(g=v+o.shift())+o.shift(),t.U.P.curveTo(i,p,v,m,g,d,h);else if("o27"==E)for(o.length%2&&(h+=o.shift());o.length>0;)v=h,m=(p=d+o.shift())+o.shift(),g=v+o.shift(),d=m+o.shift(),h=g,t.U.P.curveTo(i,p,v,m,g,d,h);else if("o10"==E||"o29"==E){var O="o10"==E?a:r;if(0==o.length)console.debug("error: empty stack");else{var z=o.pop(),Z=O.Subrs[z+O.Bias];n.x=d,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l,t.U._drawCFF(Z,n,r,a,i),d=n.x,h=n.y,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open}}else if("o30"==E||"o31"==E){var U=o.length,N=(B=0,"o31"==E);for(B+=U-(C=-3&U);B<C;)N?(v=h,m=(p=d+o.shift())+o.shift(),h=(g=v+o.shift())+o.shift(),C-B==5?(d=m+o.shift(),B++):d=m,N=!1):(p=d,v=h+o.shift(),m=p+o.shift(),g=v+o.shift(),d=m+o.shift(),C-B==5?(h=g+o.shift(),B++):h=g,N=!0),t.U.P.curveTo(i,p,v,m,g,d,h),B+=4}else{if("o"==(E+"").charAt(0))throw console.debug("Unknown operation: "+E,e),E;o.push(E)}}}n.x=d,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},u=s(a,2),c=u[0],l=u[1];c[28]=258,l[258]=28;for(var f=s(i,0)[0],d=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,u=new n(t);for(i=0;i<t;++i)u[i]=u[i-1]+o[i-1]<<1;if(r){s=new n(1<<t);var c=15-t;for(i=0;i<a;++i)if(e[i])for(var l=i<<4|e[i],f=t-e[i],h=u[e[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)s[d[h]>>>c]=l}else for(s=new n(a),i=0;i<a;++i)e[i]&&(s[i]=d[u[e[i]-1]++]>>>15-e[i]);return s},m=new t(288);for(h=0;h<144;++h)m[h]=8;for(h=144;h<256;++h)m[h]=9;for(h=256;h<280;++h)m[h]=7;for(h=280;h<288;++h)m[h]=8;var g=new t(32);for(h=0;h<32;++h)g[h]=5;var y=v(m,9,1),_=v(g,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},w=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},x=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function e(t,n,r){var a=new Error(n||A[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,e),!r)throw a;return a},E=function(e,s,u){var l=e.length;if(!l||u&&!u.l&&l<5)return s||new t(0);var d=!s||u,h=!u||u.i;u||(u={}),s||(s=new t(3*l));var p,m=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=u.f||0,A=u.p||0,E=u.b||0,C=u.l,S=u.d,T=u.m,k=u.n,B=8*l;do{if(!C){u.f=g=w(e,A,1);var P=w(e,A+1,3);if(A+=3,!P){var L=e[(H=((p=A)/8|0)+(7&p&&1)+4)-4]|e[H-3]<<8,D=H+L;if(D>l){h&&M(0);break}d&&m(E+L),s.set(e.subarray(H,D),E),u.b=E+=L,u.p=A=8*D;continue}if(1==P)C=y,S=_,T=9,k=5;else if(2==P){var R=w(e,A,31)+257,F=w(e,A+10,15)+4,I=R+w(e,A+5,31)+1;A+=14;for(var O=new t(I),z=new t(19),Z=0;Z<F;++Z)z[o[Z]]=w(e,A+3*Z,7);A+=3*F;var U=b(z),N=(1<<U)-1,G=v(z,U,1);for(Z=0;Z<I;){var H,V=G[w(e,A,N)];if(A+=15&V,(H=V>>>4)<16)O[Z++]=H;else{var j=0,W=0;for(16==H?(W=3+w(e,A,3),A+=2,j=O[Z-1]):17==H?(W=3+w(e,A,7),A+=3):18==H&&(W=11+w(e,A,127),A+=7);W--;)O[Z++]=j}}var X=O.subarray(0,R),q=O.subarray(R);T=b(X),k=b(q),C=v(X,T,1),S=v(q,k,1)}else M(1);if(A>B){h&&M(0);break}}d&&m(E+131072);for(var Y=(1<<T)-1,Q=(1<<k)-1,K=A;;K=A){var J=(j=C[x(e,A)&Y])>>>4;if((A+=15&j)>B){h&&M(0);break}if(j||M(2),J<256)s[E++]=J;else{if(256==J){K=A,C=null;break}var $=J-254;if(J>264){var ee=a[Z=J-257];$=w(e,A,(1<<ee)-1)+c[Z],A+=ee}var te=S[x(e,A)&Q],ne=te>>>4;if(te||M(3),A+=15&te,q=f[ne],ne>3&&(ee=i[ne],q+=x(e,A)&(1<<ee)-1,A+=ee),A>B){h&&M(0);break}d&&m(E+131072);for(var re=E+$;E<re;E+=4)s[E]=s[E-q],s[E+1]=s[E+1-q],s[E+2]=s[E+2-q],s[E+3]=s[E+3-q];E=re}}u.l=C,u.p=K,u.b=E,C&&(g=1,u.m=T,u.d=S,u.n=k)}while(!g);return E==s.length?s:function(e,a,i){(null==a||a<0)&&(a=0),(null==i||i>e.length)&&(i=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(i-a);return o.set(e.subarray(a,i)),o}(s,0,E)},C=new t(0),S="undefined"!=typeof TextDecoder&&new TextDecoder;try{S.decode(C,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function a(){var e=t.getUint32(n);return n+=4,e}function i(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:r(),reserved:r(),totalSfntSize:a(),majorVersion:r(),minorVersion:r(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},u=0;Math.pow(2,u)<=s.numTables;)u++;u--;for(var c=16*Math.pow(2,u),l=16*s.numTables-c,f=12,d=[],h=0;h<s.numTables;h++)d.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),f+=16;var p,v=new Uint8Array(12+16*d.length+d.reduce((function(e,t){return e+t.origLength+4}),0)),m=v.buffer,g=new DataView(m),y=0;return o(s.flavor),i(s.numTables),i(c),i(u),i(l),d.forEach((function(e){o(e.tag),o(e.origChecksum),o(f),o(e.origLength),e.outOffset=f,(f+=e.origLength)%4!=0&&(f+=4-f%4)})),d.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var a=new Uint8Array(t.origLength);n=new Uint8Array(r,2),E(n,a)}else a=new Uint8Array(r);v.set(a,t.outOffset);var i=0;(f=t.outOffset+t.origLength)%4!=0&&(i=4-f%4),v.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=f+i})),m.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){var n,r={M:2,L:2,Q:4,C:6,Z:0},a={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};function o(e){return n||function(){var e={R:2,L:1,D:4,C:16,U:32,T:8};n=new Map;var t=function(t){var r=0;a[t].split(",").forEach((function(a){var o=a.split("+"),s=(0,i.Z)(o,2),u=s[0],c=s[1];u=parseInt(u,36),c=c?parseInt(c,36):0,n.set(r+=u,e[t]);for(var l=c;l--;)n.set(++r,e[t])}))};for(var r in a)t(r)}(),n.get(e)||32}var s=[null,"isol","init","fina","medi"];function u(e){for(var t=new Uint8Array(e.length),n=32,r=1,a=-1,i=0;i<e.length;i++){var s=e.codePointAt(i),u=0|o(s),c=1;8&u||(21&n?22&u?(c=3,1!==r&&3!==r||t[a]++):33&u&&(2!==r&&4!==r||t[a]--):34&n&&(2!==r&&4!==r||t[a]--),r=t[i]=c,n=u,a=i,s>65535&&i++)}return t}function c(t){var n=Object.create(null),a={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(i,o,c,l){var f=0,d=1/a.unitsPerEm*o,h=function(t,n){for(var r=[],a=0;a<n.length;a++){var i=n.codePointAt(a);i>65535&&a++,r.push(e.U.codeToGlyph(t,i))}var o=t.GSUB;if(o){var c,l=o.lookupList,f=o.featureList,d=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,h=[];f.forEach((function(t){if(d.test(t.tag))for(var a=0;a<t.tab.length;a++)if(!h[t.tab[a]]){h[t.tab[a]]=!0;var i=l[t.tab[a]],o=/^(isol|init|fina|medi)$/.test(t.tag);o&&!c&&(c=u(n));for(var f=0;f<r.length;f++)c&&o&&s[c[f]]!==t.tag||e.U._applySubs(r,f,i,l)}}))}return r}(t,i),p=0,v=-1;return h.forEach((function(a,s){if(-1!==a){var u=n[a];if(!u){for(var h,m,g,y,_=e.U.glyphToPath(t,a),b=_.cmds,w=_.crds,x="",A=0,M=0,E=b.length;M<E;M++){var C=r[b[M]];x+=b[M];for(var S=1;S<=C;S++)x+=(S>1?",":"")+w[A++]}if(w.length){h=m=1/0,g=y=-1/0;for(var T=0,k=w.length;T<k;T+=2){var B=w[T],P=w[T+1];B<h&&(h=B),P<m&&(m=P),B>g&&(g=B),P>y&&(y=P)}}else h=g=m=y=0;u=n[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:h,yMin:m,xMax:g,yMax:y,path:x,pathCommandCount:b.length}}-1!==v&&(f+=e.U.getPairAdjustment(t,v,a)*d),l.call(null,u,f,p),u.advanceWidth&&(f+=u.advanceWidth*d),c&&(f+=c*o),v=a}p+=i.codePointAt(p)>65535?2:1})),f}};return a}return function(n){var r=new Uint8Array(n,0,4),a=e._bin.readASCII(r,0,4);if("wOFF"===a)n=t(n);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return c(e.parse(n)[0])}}],init:function(e,t,n){return n(e(),t())}}),Ji={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},$i=new l.Color;function eo(){return(self.performance||Date).now()}var to,no=Object.create(null);function ro(e,t){!0,e=ao({},e);var n=eo();if(e.font=function(e){to||(to="undefined"===typeof document?{}:document.createElement("a"));return to.href=e,to.href}(e.font||Ji.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Ji.sdfGlyphSize,null!=e.colorRanges){var r={};for(var a in e.colorRanges)if(e.colorRanges.hasOwnProperty(a)){var o=e.colorRanges[a];"number"!==typeof o&&(o=$i.set(o).getHex()),r[a]=o}e.colorRanges=r}Object.freeze(e);var s=Ji.textureWidth,u=Ji.sdfExponent,c=e.sdfGlyphSize,f="".concat(e.font,"@").concat(c),d=no[f];d||((d=no[f]={count:0,glyphs:new Map,sdfTexture:new l.DataTexture(new Uint8Array(c*s*4),s,c,l.RGBAFormat,void 0,void 0,void 0,void 0,l.LinearFilter,l.LinearFilter)}).sdfTexture.font=e.font),so(e).then((function(r){var a=r.glyphIds,o=r.glyphPositions,s=r.fontSize,l=r.unitsPerEm,f=r.timings,h=[],p=new Float32Array(4*a.length),v=s/l,m=0,g=0,y=eo();a.forEach((function(e,t){var n=d.glyphs.get(e);if(!n){var i=r.glyphData[e],s=i.path,u=i.pathBounds,l=Math.max(u[2]-u[0],u[3]-u[1])/c*(Ji.sdfMargin*c+.5),f=d.count++,y=[u[0]-l,u[1]-l,u[2]+l,u[3]+l];d.glyphs.set(e,n={path:s,atlasIndex:f,sdfViewBox:y}),h.push(n)}var _=n.sdfViewBox,b=o[g++],w=o[g++];p[m++]=b+_[0]*v,p[m++]=w+_[1]*v,p[m++]=b+_[2]*v,p[m++]=w+_[3]*v,a[t]=n.atlasIndex})),f.quads=(f.quads||0)+(eo()-y);var _=eo();f.sdf={},yi.all(h.map((function(e){var t=e.path,n=e.atlasIndex,r=e.sdfViewBox,a=Math.max(r[2]-r[0],r[3]-r[1]);return oo(c,c,t,r,a,Ji.sdfExponent).then((function(e){var t=e.textureData,r=e.timing;return f.sdf[n]=r,{atlasIndex:n,textureData:t,timing:r}}))}))).then((function(o){o.length&&(o.forEach((function(e){for(var t=e.atlasIndex,n=e.textureData,r=(e.timing,d.sdfTexture.image);r.data.length<(t+1)*c*c;){var a=new Uint8Array(2*r.data.length);a.set(r.data),r.data=a,r.height*=2}for(var i=Math.floor(t/4),o=r.width/c,s=Math.floor(i/o)*r.width*c*4+i%o*c*4+t%4,u=0;u<c;u++)for(var l=u*c,f=s+u*r.width*4,h=0;h<c;h++)r.data[f+4*h]=n[l+h]})),d.sdfTexture.needsUpdate=!0),f.sdfTotal=eo()-_,f.total=eo()-n,t(Object.freeze({parameters:e,sdfTexture:d.sdfTexture,sdfGlyphSize:c,sdfExponent:u,glyphBounds:p,glyphAtlasIndices:a,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");var e=(0,i.Z)(r.blockBounds,4),t=e[0],n=e[1];return[e[2]-t,e[3]-n]}}))}))}))}function ao(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var io=Si({name:"Typesetter",dependencies:[Ji,Ki,function(e,t,n){var r=n.defaultFontURL,a=Object.create(null),o=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function c(t,n){t||(t=r);var i=a[t];i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},function(t,n){!function a(){var i=function(e){console.error("Failure loading font ".concat(t).concat(t===r?"":"; trying fallback"),e),t!==r&&(t=r,a())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)i(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(Al){i(Al)}},o.onerror=i,o.send()}catch(s){i(s)}}()}(t,(function(e){var n=a[t].pending;a[t]=e,n.forEach((function(t){return t(e)}))})))}function l(e,n){var a=e.text,l=void 0===a?"":a,v=e.font,m=void 0===v?r:v,g=(e.sdfGlyphSize,e.fontSize),y=void 0===g?1:g,_=e.letterSpacing,b=void 0===_?0:_,w=e.lineHeight,x=void 0===w?"normal":w,A=e.maxWidth,M=void 0===A?o:A,E=e.direction,C=e.textAlign,S=void 0===C?"left":C,T=e.textIndent,k=void 0===T?0:T,B=e.whiteSpace,P=void 0===B?"normal":B,L=e.overflowWrap,D=void 0===L?"normal":L,R=e.anchorX,F=void 0===R?0:R,I=e.anchorY,O=void 0===I?0:I,z=e.includeCaretPositions,Z=void 0!==z&&z,U=e.chunkedBoundsSize,N=void 0===U?8192:U,G=e.colorRanges,H=void 0===G?null:G,V=arguments.length>2&&void 0!==arguments[2]&&arguments[2],j=h(),W={fontLoad:0,typesetting:0};l.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),l=l.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),y=+y,b=+b,M=+M,x=x||"normal",k=+k,c(m,(function(e){var r=isFinite(M),a=null,c=null,v=null,m=null,g=null,_=null,w=null,A=0,C=0,T="nowrap"!==P,B=e.ascender,L=e.descender,R=e.unitsPerEm;W.fontLoad=h()-j;var I=h(),z=y/R;"normal"===x&&(x=(B-L)/R);var U=((x*=y)-(B-L)*z)/2,G=-(B*z+U),X=Math.min(x,(B-L)*z),q=(B+L)/2*z-X/2,Y=k,Q=new p,K=[Q];e.forEachGlyph(l,y,b,(function(e,t,n){var a,i=l.charAt(n),o=e.advanceWidth*z,c=Q.count;if("isEmpty"in e||(e.isWhitespace=!!i&&/\s/.test(i),e.canBreakAfter=!!i&&u.test(i),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||s.test(i)),e.isWhitespace||e.isEmpty||C++,T&&r&&!e.isWhitespace&&t+o+Y>M&&c){if(Q.glyphAt(c-1).glyphObj.canBreakAfter)a=new p,Y=-t;else for(var f=c;f--;){if(0===f&&"break-word"===D){a=new p,Y=-t;break}if(Q.glyphAt(f).glyphObj.canBreakAfter){var d=(a=Q.splitAt(f+1)).glyphAt(0).x;Y-=d;for(var h=a.count;h--;)a.glyphAt(h).x-=d;break}}a&&(Q.isSoftWrapped=!0,Q=a,K.push(Q),A=M)}var v=Q.glyphAt(Q.count);v.glyphObj=e,v.x=t+Y,v.width=o,v.charIndex=n,"\n"===i&&(Q=new p,K.push(Q),Y=-(t+o+b*y)+k)})),K.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,a=n.x,i=n.width;if(!r.isWhitespace)return e.width=a+i,void(e.width>A&&(A=e.width))}}));var J=0,$=0;if(F&&("number"===typeof F?J=-F:"string"===typeof F&&(J=-A*("left"===F?0:"center"===F?.5:"right"===F?1:f(F)))),O)if("number"===typeof O)$=-O;else if("string"===typeof O){var ee=K.length*x;$="top"===O?0:"top-baseline"===O?-G:"middle"===O?ee/2:"bottom"===O?ee:"bottom-baseline"===O?ee-U+L*z:f(O)*ee}if(!V){var te=t.getEmbeddingLevels(l,E);a=new Uint16Array(C),c=new Float32Array(2*C),v={},_=[o,o,-1/0,-1/0],w=[];var ne=G;Z&&(g=new Float32Array(3*l.length)),H&&(m=new Uint8Array(3*C));var re,ae,ie=0,oe=-1,se=-1;if(K.forEach((function(n,r){var s=n.count,u=n.width;if(s>0){for(var f=0,h=s;h--&&n.glyphAt(h).glyphObj.isWhitespace;)f++;var p=0,y=0;if("center"===S)p=(A-u)/2;else if("right"===S)p=A-u;else if("justify"===S&&n.isSoftWrapped){for(var b=0,M=s-f;M--;)n.glyphAt(M).glyphObj.isWhitespace&&b++;y=(A-u)/b}if(y||p)for(var E=0,C=0;C<s;C++){var T=n.glyphAt(C),k=T.glyphObj;T.x+=p+E,0!==y&&k.isWhitespace&&C<s-f&&(E+=y,T.width+=y)}for(var B,P=t.getReorderSegments(l,te,n.glyphAt(0).charIndex,n.glyphAt(n.count-1).charIndex),L=0;L<P.length;L++)for(var D=(0,i.Z)(P[L],2),R=D[0],F=D[1],I=1/0,O=-1/0,U=0;U<s;U++)if(n.glyphAt(U).charIndex>=R){for(var G=U,V=U;V<s;V++){var j=n.glyphAt(V);if(j.charIndex>F)break;V<s-f&&(I=Math.min(I,j.x),O=Math.max(O,j.x+j.width))}for(var W=G;W<V;W++){var X=n.glyphAt(W);X.x=O-(X.x+X.width-I)}break}for(var Y=function(e){return B=e},Q=0;Q<s;Q++){var K=n.glyphAt(Q),ee=(B=K.glyphObj).index,ue=1&te.levels[K.charIndex];if(ue){var ce=t.getMirroredCharacter(l[K.charIndex]);ce&&e.forEachGlyph(ce,0,0,Y)}if(Z){var le=K.charIndex,fe=K.x+J,de=K.x+K.width+J;g[3*le]=ue?de:fe,g[3*le+1]=ue?fe:de,g[3*le+2]=ne+q+$;var he=le-oe;he>1&&d(g,oe,he),oe=le}if(H)for(var pe=K.charIndex;pe>se;)se++,H.hasOwnProperty(se)&&(ae=H[se]);if(!B.isWhitespace&&!B.isEmpty){var ve=ie++;v[ee]||(v[ee]={path:B.path,pathBounds:[B.xMin,B.yMin,B.xMax,B.yMax]});var me=K.x+J,ge=ne+$;c[2*ve]=me,c[2*ve+1]=ge;var ye=me+B.xMin*z,_e=ge+B.yMin*z,be=me+B.xMax*z,we=ge+B.yMax*z;ye<_[0]&&(_[0]=ye),_e<_[1]&&(_[1]=_e),be>_[2]&&(_[2]=be),we>_[3]&&(_[3]=we),ve%N===0&&(re={start:ve,end:ve,rect:[o,o,-1/0,-1/0]},w.push(re)),re.end++;var xe=re.rect;if(ye<xe[0]&&(xe[0]=ye),_e<xe[1]&&(xe[1]=_e),be>xe[2]&&(xe[2]=be),we>xe[3]&&(xe[3]=we),a[ve]=ee,H){var Ae=3*ve;m[Ae]=ae>>16&255,m[Ae+1]=ae>>8&255,m[Ae+2]=255&ae}}}}ne-=x})),g){var ue=l.length-oe;ue>1&&d(g,oe,ue)}}W.typesetting=h()-I,n({glyphIds:a,glyphPositions:c,glyphData:v,caretPositions:g,caretHeight:X,glyphColors:m,chunkedBounds:w,fontSize:y,unitsPerEm:R,ascender:B*z,descender:L*z,lineHeight:x,topBaseline:G,blockBounds:[J,$-K.length*x,J+A,$],visibleBounds:_,timings:W})}))}function f(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function d(e,t,n){for(var r=e[3*t],a=e[3*t+1],i=e[3*t+2],o=(a-r)/n,s=0;s<n;s++){var u=3*(t+s);e[u]=r+o*s,e[u+1]=r+o*(s+1),e[u+2]=i}}function h(){return(self.performance||Date).now()}function p(){this.data=[]}var v=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(e*v.length),t}},p.flyweight=v.reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[this.index*v.length+n]},set:function(e){this.data[this.index*v.length+n]=e}}),e}),{data:null,index:0}),{typeset:l,measure:function(e,t){l(e,(function(e){var n=(0,i.Z)(e.blockBounds,4),r=n[0],a=n[1],o=n[2],s=n[3];t({width:o-r,height:s-a})}),{metricsOnly:!0})},loadFont:c}},Li],init:function(e,t,n,r){var a=e.defaultFontURL;return n(t,r(),{defaultFontURL:a})}}),oo=function(){var e={},t=0;return function(){var n,r="TroikaTextSDFGenerator_"+t++%4,a=e[r];return a||(a=e[r]={workerModule:Si({name:r,workerId:r,dependencies:[Ji,Qi,Yi],init:function(e,t,n){return n(t,{sdfExponent:e.sdfExponent,sdfMargin:e.sdfMargin})},getTransferables:function(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),a.requests++,clearTimeout(a.idleTimer),(n=a).workerModule.apply(n,arguments).then((function(e){return 0===--a.requests&&(a.idleTimer=setTimeout((function(){Ti(r)}),2e3)),e}))}}(),so=Si({name:"Typesetter",dependencies:[io,Pi],init:function(e,t){return function(n){var r=new t;return e.typeset(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),t}});var uo=function(){var e={};new l.Vector3;var t="aTroikaGlyphIndex",n=function(n){(0,V.Z)(o,n);var i=(0,j.Z)(o);function o(){var e;return(0,K.Z)(this,o),(e=i.call(this)).detail=1,e.curveRadius=0,e.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],e.boundingSphere=new l.Sphere,e.boundingBox=new l.Box3,e}return(0,Q.Z)(o,[{key:"computeBoundingSphere",value:function(){}},{key:"computeBoundingBox",value:function(){}},{key:"detail",get:function(){return this._detail},set:function(t){var n=this;if(t!==this._detail){this._detail=t,("number"!==typeof t||t<1)&&(t=1);var r=function(t){var n=e[t];return n||(n=e[t]=new l.PlaneBufferGeometry(1,1,t,t).translate(.5,.5,0)),n}(t);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}}},{key:"curveRadius",get:function(){return this._curveRadius},set:function(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}},{key:"updateGlyphs",value:function(e,n,i,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=i,this._chunkedBounds=o,a(this,n.length),this._updateBounds()}},{key:"_updateBounds",value:function(){var e=this._blockBounds;if(e){var t=this.curveRadius,n=this.boundingBox;if(t){var r=Math.PI,a=Math.floor,i=Math.min,o=Math.max,s=Math.sin,u=Math.cos,c=r/2,l=2*r,f=Math.abs(t),d=e[0]/f,h=e[2]/f,p=a((d+c)/l)!==a((h+c)/l)?-f:i(s(d)*f,s(h)*f),v=a((d-c)/l)!==a((h-c)/l)?f:o(s(d)*f,s(h)*f),m=a((d+r)/l)!==a((h+r)/l)?2*f:o(f-u(d)*f,f-u(h)*f);n.min.set(p,e[1],t<0?-m:0),n.max.set(v,e[3],t<0?0:m)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}},{key:"applyClipRect",value:function(e){var n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(var i=r.length;i--;){n=r[i].end;var o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}a(this,n)}}]),o}(l.InstancedBufferGeometry);function r(e,t,n,r){var a=e.getAttribute(t);n?a&&a.array.length===n.length?(a.array.set(n),a.needsUpdate=!0):(e.setAttribute(t,new l.InstancedBufferAttribute(n,r)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(t)}function a(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n}(),co="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),lo="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of encoding in SDFGenerator.js\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");var fo=function(){var e=new l.MeshBasicMaterial({color:16777215,side:l.DoubleSide,transparent:!0}),t=8421504,n=new l.Matrix4,r=new l.Vector3,a=new l.Vector3,o=[],s=new l.Vector3,u="+x+y";function c(e){return Array.isArray(e)?e[0]:e}var f=function(){var t=new l.Mesh(new l.PlaneBufferGeometry(1,1),e);return f=function(){return t},t},d=function(){var t=new l.Mesh(new l.PlaneBufferGeometry(1,1,32,1),e);return d=function(){return t},t},h={type:"syncstart"},p={type:"synccomplete"},v=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],m=v.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),g=function(v){(0,V.Z)(y,v);var g=(0,j.Z)(y);function y(){var e;(0,K.Z)(this,y);var n=new uo;return(e=g.call(this,n,null)).text="",e.anchorX=0,e.anchorY=0,e.curveRadius=0,e.direction="auto",e.font=null,e.fontSize=.1,e.letterSpacing=0,e.lineHeight="normal",e.maxWidth=1/0,e.overflowWrap="normal",e.textAlign="left",e.textIndent=0,e.whiteSpace="normal",e.material=null,e.color=null,e.colorRanges=null,e.outlineWidth=0,e.outlineColor=0,e.outlineOpacity=1,e.outlineBlur=0,e.outlineOffsetX=0,e.outlineOffsetY=0,e.strokeWidth=0,e.strokeColor=t,e.strokeOpacity=1,e.fillOpacity=1,e.depthOffset=0,e.clipRect=null,e.orientation=u,e.glyphGeometryDetail=1,e.sdfGlyphSize=null,e.debugSDF=!1,e}return(0,Q.Z)(y,[{key:"sync",value:function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(h),ro({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(p),e&&e()}))))}},{key:"onBeforeRender",value:function(e,t,n,r,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}},{key:"dispose",value:function(){this.geometry.dispose()}},{key:"textRenderInfo",get:function(){return this._textRenderInfo||null}},{key:"material",get:function(){var t=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){var t=Gi(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new l.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new l.Vector4(0,0,0,0)},uTroikaClipRect:{value:new l.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new l.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new l.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new l.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:co,fragmentDefs:lo,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat distance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  distance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(Di,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){var r=t._outlineMtl;return r||((r=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,t.addEventListener("dispose",(function e(){t.removeEventListener("dispose",e),r.dispose()}))),[r,t]}return t},set:function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}},{key:"glyphGeometryDetail",get:function(){return this.geometry.detail},set:function(e){this.geometry.detail=e}},{key:"curveRadius",get:function(){return this.geometry.curveRadius},set:function(e){this.geometry.curveRadius=e}},{key:"customDepthMaterial",get:function(){return c(this.material).getDepthMaterial()}},{key:"customDistanceMaterial",get:function(){return c(this.material).getDistanceMaterial()}},{key:"_prepareForRender",value:function(e){var o=e.isTextOutlineMaterial,c=e.uniforms,f=this.textRenderInfo;if(f){var d=f.sdfTexture,h=f.blockBounds;c.uTroikaSDFTexture.value=d,c.uTroikaSDFTextureSize.value.set(d.image.width,d.image.height),c.uTroikaSDFGlyphSize.value=f.sdfGlyphSize,c.uTroikaSDFExponent.value=f.sdfExponent,c.uTroikaTotalBounds.value.fromArray(h),c.uTroikaUseGlyphColors.value=!o&&!!f.glyphColors;var p,v,m,g=0,y=0,_=0,b=0,w=0;if(o){var x=this.outlineWidth,A=this.outlineOffsetX,M=this.outlineOffsetY,E=this.outlineBlur,C=this.outlineOpacity;g=this._parsePercent(x)||0,y=Math.max(0,this._parsePercent(E)||0),p=C,b=this._parsePercent(A)||0,w=this._parsePercent(M)||0}else(_=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(m=this.strokeColor,c.uTroikaStrokeColor.value.set(null==m?t:m),null==(v=this.strokeOpacity)&&(v=1)),p=this.fillOpacity;c.uTroikaDistanceOffset.value=g,c.uTroikaPositionOffset.value.set(b,w),c.uTroikaBlurRadius.value=y,c.uTroikaStrokeWidth.value=_,c.uTroikaStrokeOpacity.value=v,c.uTroikaFillOpacity.value=null==p?1:p,c.uTroikaCurveRadius.value=this.curveRadius||0;var S=this.clipRect;if(S&&Array.isArray(S)&&4===S.length)c.uTroikaClipRect.value.fromArray(S);else{var T=100*(this.fontSize||.1);c.uTroikaClipRect.value.set(h[0]-T,h[1]-T,h[2]+T,h[3]+T)}this.geometry.applyClipRect(c.uTroikaClipRect.value)}c.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var k=o?this.outlineColor||0:this.color;if(null==k)delete e.color;else{var B=e.hasOwnProperty("color")?e.color:e.color=new l.Color;k===B._input&&"object"!==typeof k||B.set(B._input=k)}var P=this.orientation||u;if(P!==e._orientation){var L=c.uTroikaOrient.value,D=(P=P.replace(/[^-+xyz]/g,""))!==u&&P.match(/^([-+])([xyz])([-+])([xyz])$/);if(D){var R=(0,i.Z)(D,5),F=R[1],I=R[2],O=R[3],z=R[4];r.set(0,0,0)[I]="-"===F?1:-1,a.set(0,0,0)[z]="-"===O?-1:1,n.lookAt(s,r.cross(a),a),L.setFromMatrix4(n)}else L.identity();e._orientation=P}}},{key:"_parsePercent",value:function(e){if("string"===typeof e){var t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}},{key:"localPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new l.Vector2;t.copy(e);var n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}},{key:"worldPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new l.Vector2;return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}},{key:"raycast",value:function(e,t){var n=this.textRenderInfo,r=this.curveRadius;if(n){for(var a=n.blockBounds,i=r?d():f(),s=i.geometry,u=s.attributes,c=u.position,l=u.uv,h=0;h<l.count;h++){var p=a[0]+l.getX(h)*(a[2]-a[0]),v=a[1]+l.getY(h)*(a[3]-a[1]),m=0;r&&(m=r-Math.cos(p/r)*r,p=Math.sin(p/r)*r),c.setXYZ(h,p,v,m)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,o.length=0,i.raycast(e,o);for(var g=0;g<o.length;g++)o[g].object=this,t.push(o[g])}}},{key:"copy",value:function(e){var t=this,n=this.geometry;return(0,G.Z)((0,H.Z)(y.prototype),"copy",this).call(this,e),this.geometry=n,m.forEach((function(n){t[n]=e[n]})),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),y}(l.Mesh);v.forEach((function(e){var t="_private_"+e;Object.defineProperty(g.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var y=!1;return Object.defineProperty(g.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,y||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),y=!0),Array.isArray(e)?(this.anchorX="".concat(100*(+e[0]||0),"%"),this.anchorY="".concat(100*(+e[1]||0),"%")):this.anchorX=this.anchorY=0}}),g}();new WeakMap;new WeakMap;var ho=["anchorX","anchorY","children","onSync"],po=u.forwardRef((function(e,t){var n=e.anchorX,r=void 0===n?"center":n,a=e.anchorY,c=void 0===a?"middle":a,l=e.children,d=e.onSync,h=(0,o.Z)(e,ho),p=(0,f.useThree)((function(e){return e.invalidate})),v=u.useState((function(){return new fo})),m=(0,i.Z)(v,1)[0],g=u.useMemo((function(){var e=[],t="";return u.Children.forEach(l,(function(n){"string"===typeof n||"number"===typeof n?t+=n:e.push(n)})),[e,t]}),[l]),y=(0,i.Z)(g,2),_=y[0],b=y[1];return u.useLayoutEffect((function(){m.sync((function(){p(),d&&d(m)}))})),u.useEffect((function(){return function(){return m.dispose()}}),[m]),u.createElement("primitive",s({object:m,ref:t,text:b,anchorX:r,anchorY:c},h),_)})),vo={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},mo=function(){function e(){(0,K.Z)(this,e),(0,Lr.Z)(this,"enabled",!0),(0,Lr.Z)(this,"needsSwap",!0),(0,Lr.Z)(this,"clear",!1),(0,Lr.Z)(this,"renderToScreen",!1)}return(0,Q.Z)(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,a){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),go=function(){function e(t){(0,K.Z)(this,e),(0,Lr.Z)(this,"camera",new l.OrthographicCamera(-1,1,1,-1,0,1)),(0,Lr.Z)(this,"geometry",new l.PlaneGeometry(2,2)),(0,Lr.Z)(this,"mesh",void 0),this.mesh=new l.Mesh(this.geometry,t)}return(0,Q.Z)(e,[{key:"material",get:function(){return this.mesh.material},set:function(e){this.mesh.material=e}},{key:"dispose",value:function(){this.mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this.mesh,this.camera)}}]),e}(),yo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tDiffuse";return(0,K.Z)(this,n),r=t.call(this),(0,Lr.Z)((0,N.Z)(r),"textureID",void 0),(0,Lr.Z)((0,N.Z)(r),"uniforms",void 0),(0,Lr.Z)((0,N.Z)(r),"material",void 0),(0,Lr.Z)((0,N.Z)(r),"fsQuad",void 0),r.textureID=a,e instanceof l.ShaderMaterial?(r.uniforms=e.uniforms,r.material=e):(r.uniforms=l.UniformsUtils.clone(e.uniforms),r.material=new l.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:r.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),r.fsQuad=new go(r.material),r}return(0,Q.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}]),n}(mo),_o=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"scene",void 0),(0,Lr.Z)((0,N.Z)(a),"camera",void 0),(0,Lr.Z)((0,N.Z)(a),"inverse",void 0),a.scene=e,a.camera=r,a.clear=!0,a.needsSwap=!1,a.inverse=!1,a}return(0,Q.Z)(n,[{key:"render",value:function(e,t,n){var r,a,i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,a=1):(r=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(mo),bo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.call(this)).needsSwap=!1,e}return(0,Q.Z)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(mo),wo=function(){function e(t,n){if((0,K.Z)(this,e),(0,Lr.Z)(this,"renderer",void 0),(0,Lr.Z)(this,"_pixelRatio",void 0),(0,Lr.Z)(this,"_width",void 0),(0,Lr.Z)(this,"_height",void 0),(0,Lr.Z)(this,"renderTarget1",void 0),(0,Lr.Z)(this,"renderTarget2",void 0),(0,Lr.Z)(this,"writeBuffer",void 0),(0,Lr.Z)(this,"readBuffer",void 0),(0,Lr.Z)(this,"renderToScreen",void 0),(0,Lr.Z)(this,"passes",[]),(0,Lr.Z)(this,"copyPass",void 0),(0,Lr.Z)(this,"clock",void 0),this.renderer=t,void 0===n){var r={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBAFormat},a=t.getSize(new l.Vector2);this._pixelRatio=t.getPixelRatio(),this._width=a.width,this._height=a.height,(n=new l.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,r)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,void 0===vo&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===yo&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new yo(vo),this.clock=new l.Clock}return(0,Q.Z)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=this.passes.length,a=0;a<r;a++){var i=this.passes[a];if(!1!==i.enabled){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),i.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==_o&&(i instanceof _o?n=!0:i instanceof bo&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new l.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var a=0;a<this.passes.length;a++)this.passes[a].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}]),e}(),xo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r,a,i){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,K.Z)(this,n),o=t.call(this),(0,Lr.Z)((0,N.Z)(o),"scene",void 0),(0,Lr.Z)((0,N.Z)(o),"camera",void 0),(0,Lr.Z)((0,N.Z)(o),"overrideMaterial",void 0),(0,Lr.Z)((0,N.Z)(o),"clearColor",void 0),(0,Lr.Z)((0,N.Z)(o),"clearAlpha",void 0),(0,Lr.Z)((0,N.Z)(o),"clearDepth",!1),(0,Lr.Z)((0,N.Z)(o),"_oldClearColor",new l.Color),o.scene=e,o.camera=r,o.overrideMaterial=a,o.clearColor=i,o.clearAlpha=s,o.clear=!0,o.needsSwap=!1,o}return(0,Q.Z)(n,[{key:"render",value:function(e,t,n){var r,a=e.autoClear;e.autoClear=!1;var i=null;void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}]),n}(mo),Ao={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\tgl_FragColor = LinearTosRGB( tex );","}"].join("\n")},Mo=["children","multisamping","renderIndex","disableGamma","disableRenderPass"];(0,f.extend)({EffectComposer:wo,RenderPass:xo,ShaderPass:yo});var Eo=function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(Al){return!1}},Co=u.forwardRef((function(e,t){var n=e.children,r=e.multisamping,a=void 0===r?8:r,c=e.renderIndex,d=void 0===c?1:c,h=e.disableGamma,p=void 0!==h&&h,v=e.disableRenderPass,m=void 0!==v&&v,g=(0,o.Z)(e,Mo),y=u.useRef(),_=(0,f.useThree)((function(e){return e.scene})),b=(0,f.useThree)((function(e){return e.camera})),w=(0,f.useThree)((function(e){return e.gl})),x=(0,f.useThree)((function(e){return e.size})),A=u.useState((function(){if(Eo()&&a>0){var e=new l.WebGLMultisampleRenderTarget(x.width,x.height,{format:l.RGBAFormat,encoding:l.sRGBEncoding});return e.samples=8,e}})),M=(0,i.Z)(A,1)[0];return u.useEffect((function(){var e,t;null==(e=y.current)||e.setSize(x.width,x.height),null==(t=y.current)||t.setPixelRatio(w.getPixelRatio())}),[w,x]),(0,f.useFrame)((function(){var e;return null==(e=y.current)?void 0:e.render()}),d),u.createElement("effectComposer",s({ref:(0,L.default)([t,y]),args:[w,M]},g),!m&&u.createElement("renderPass",{attachArray:"passes",args:[_,b]}),!p&&u.createElement("shaderPass",{attachArray:"passes",args:[Ao]}),n)})),So=["stops","colors","size"];function To(e){var t=e.stops,n=e.colors,r=e.size,a=void 0===r?2048:r,i=(0,o.Z)(e,So),c=u.useMemo((function(){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=16,e.height=a;for(var i=r.createLinearGradient(0,0,0,a),o=t.length;o--;)i.addColorStop(t[o],n[o]);r.fillStyle=i,r.fillRect(0,0,16,a);var s=new l.Texture(e);return s.needsUpdate=!0,s}),[t]);return u.useEffect((function(){return function(){c.dispose()}}),[c]),u.createElement("primitive",s({object:c,attach:"map"},i))}function ko(e,t,n,r){return function(o){(0,V.Z)(u,o);var s=(0,j.Z)(u);function u(){var o;(0,K.Z)(this,u);var c=Object.entries(e);return o=s.call(this,{uniforms:c.reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],s=l.UniformsUtils.clone((0,Lr.Z)({},r,{value:o}));return(0,a.Z)((0,a.Z)({},e),s)}),{}),vertexShader:t,fragmentShader:n}),c.forEach((function(e){var t=(0,i.Z)(e,1)[0];return Object.defineProperty((0,N.Z)(o),t,{get:function(){return o.uniforms[t].value},set:function(e){return o.uniforms[t].value=e}})})),r&&r((0,N.Z)(o)),o}return(0,Q.Z)(u)}(l.ShaderMaterial)}var Bo=function(e){return e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e};function Po(e){var t=(0,f.useThree)((function(e){return e.gl})),n=(0,f.useLoader)(l.TextureLoader,Bo(e)?Object.values(e):e);if((0,u.useEffect)((function(){(Array.isArray(n)?n:[n]).forEach(t.initTexture)}),[t,n]),Bo(e)){var r=Object.keys(e),a={};return r.forEach((function(e){return Object.assign(a,(0,Lr.Z)({},e,n[r.indexOf(e)]))})),a}return n}Po.preload=function(e){return f.useLoader.preload(l.TextureLoader,e)},Po.clear=function(e){return f.useLoader.clear(l.TextureLoader,e)};var Lo=["children","color","segments","scale","zoom","grayscale","url"],Do=ko({color:new l.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n  varying vec2 vUv;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n  }\n","\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform vec3 color;\n  uniform sampler2D map;\n  uniform float zoom;\n  uniform float grayscale;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, 1.0), grayscale);\n  }\n"),Ro=u.forwardRef((function(e,t){var n=e.children,r=e.color,a=e.segments,i=void 0===a?1:a,c=e.scale,l=void 0===c?1:c,d=e.zoom,h=void 0===d?1:d,p=e.grayscale,v=void 0===p?0:p,m=e.url,g=(0,o.Z)(e,Lo);(0,f.extend)({ImageMaterial:Do});var y=Po(m),_=Array.isArray(l)?[l[0],l[1]]:[l,l],b=[y.image.width,y.image.height];return u.createElement("mesh",s({ref:t,scale:l},g),u.createElement("planeGeometry",{args:[1,1,i,i]}),u.createElement("imageMaterial",{color:r,map:y,zoom:h,grayscale:v,scale:_,imageBounds:b}),n)})),Fo=["makeDefault"],Io=u.forwardRef((function(e,t){var n=e.makeDefault,r=(0,o.Z)(e,Fo),a=(0,f.useThree)((function(e){return e.set})),i=(0,f.useThree)((function(e){return e.camera})),c=(0,f.useThree)((function(e){return e.size})),l=u.useRef();return u.useLayoutEffect((function(){l.current&&!r.manual&&l.current.updateProjectionMatrix()}),[c,r]),u.useLayoutEffect((function(){if(n&&l.current){var e=i;return a((function(){return{camera:l.current}})),function(){return a((function(){return{camera:e}}))}}}),[i,l,n,a]),u.createElement("orthographicCamera",s({left:c.width/-2,right:c.width/2,top:c.height/2,bottom:c.height/-2,ref:(0,L.default)([l,t])},r))})),Oo=["makeDefault"],zo=u.forwardRef((function(e,t){var n=e.makeDefault,r=(0,o.Z)(e,Oo),a=(0,f.useThree)((function(e){return e.set})),i=(0,f.useThree)((function(e){return e.camera})),c=(0,f.useThree)((function(e){return e.size})),l=u.useRef();return u.useLayoutEffect((function(){var e=l.current;e&&!r.manual&&(e.aspect=c.width/c.height,e.updateProjectionMatrix())}),[c,r]),u.useLayoutEffect((function(){if(n&&l.current){var e=i;return a((function(){return{camera:l.current}})),function(){return a((function(){return{camera:e}}))}}}),[i,l,n,a]),u.createElement("perspectiveCamera",s({ref:(0,L.default)([l,t])},r))})),Zo=["children","fog","frames","resolution","near","far"];function Uo(e){var t=e.children,n=e.fog,r=e.frames,a=void 0===r?1/0:r,s=e.resolution,c=void 0===s?256:s,d=e.near,h=void 0===d?1:d,p=e.far,v=void 0===p?1e3:p,m=(0,o.Z)(e,Zo),g=u.useRef(),y=u.useState(),_=(0,i.Z)(y,2),b=_[0],w=_[1],x=(0,f.useThree)((function(e){return e.scene})),A=(0,f.useThree)((function(e){return e.gl})),M=u.useMemo((function(){return new l.WebGLCubeRenderTarget(c,{minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:A.outputEncoding})}),[c]),E=0;return(0,f.useFrame)((function(){if(b&&g.current&&(a===1/0||E<a)){g.current.traverse((function(e){return e.visible=!1}));var e=x.fog;x.fog=n||e,b.update(A,x),x.fog=e,g.current.traverse((function(e){return e.visible=!0})),E++}})),u.createElement("group",m,u.createElement("cubeCamera",{ref:w,args:[h,v,M]}),u.createElement("group",{ref:g},t(M.texture)))}var No=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),r=t.call(this),(0,Lr.Z)((0,N.Z)(r),"object",void 0),(0,Lr.Z)((0,N.Z)(r),"changeEvent",{type:"change"}),(0,Lr.Z)((0,N.Z)(r),"EPS",1e-6),(0,Lr.Z)((0,N.Z)(r),"enabled",!0),(0,Lr.Z)((0,N.Z)(r),"deviceOrientation",{alpha:0,beta:0,gamma:0}),(0,Lr.Z)((0,N.Z)(r),"screenOrientation",0),(0,Lr.Z)((0,N.Z)(r),"alphaOffset",0),(0,Lr.Z)((0,N.Z)(r),"onDeviceOrientationChangeEvent",(function(e){r.deviceOrientation=e})),(0,Lr.Z)((0,N.Z)(r),"onScreenOrientationChangeEvent",(function(){r.screenOrientation=window.orientation||0})),(0,Lr.Z)((0,N.Z)(r),"zee",new l.Vector3(0,0,1)),(0,Lr.Z)((0,N.Z)(r),"euler",new l.Euler),(0,Lr.Z)((0,N.Z)(r),"q0",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"q1",new l.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5))),(0,Lr.Z)((0,N.Z)(r),"setObjectQuaternion",(function(e,t,n,a,i){r.euler.set(n,t,-a,"YXZ"),e.setFromEuler(r.euler),e.multiply(r.q1),e.multiply(r.q0.setFromAxisAngle(r.zee,-i))})),(0,Lr.Z)((0,N.Z)(r),"connect",(function(){r.onScreenOrientationChangeEvent(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",r.onDeviceOrientationChangeEvent))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",r.onDeviceOrientationChangeEvent)),r.enabled=!0})),(0,Lr.Z)((0,N.Z)(r),"disconnect",(function(){window.removeEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.removeEventListener("deviceorientation",r.onDeviceOrientationChangeEvent),r.enabled=!1})),(0,Lr.Z)((0,N.Z)(r),"lastQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"update",(function(){if(!1!==r.enabled){var e=r.deviceOrientation;if(e){var t=e.alpha?l.MathUtils.degToRad(e.alpha)+r.alphaOffset:0,n=e.beta?l.MathUtils.degToRad(e.beta):0,a=e.gamma?l.MathUtils.degToRad(e.gamma):0,i=r.screenOrientation?l.MathUtils.degToRad(r.screenOrientation):0;r.setObjectQuaternion(r.object.quaternion,t,n,a,i),8*(1-r.lastQuaternion.dot(r.object.quaternion))>r.EPS&&(r.lastQuaternion.copy(r.object.quaternion),r.dispatchEvent(r.changeEvent))}}})),(0,Lr.Z)((0,N.Z)(r),"dispose",(function(){return r.disconnect()})),r.object=e,r.object.rotation.reorder("YXZ"),r.connect(),r}return(0,Q.Z)(n)}(l.EventDispatcher),Go=["camera","onChange"],Ho=u.forwardRef((function(e,t){var n=e.camera,r=e.onChange,a=(0,o.Z)(e,Go),c=(0,f.useThree)((function(e){return e.camera})),l=(0,f.useThree)((function(e){return e.invalidate})),d=n||c,h=u.useState((function(){return new No(d)})),p=(0,i.Z)(h,1)[0];return u.useEffect((function(){var e=function(e){l(),r&&r(e)};return null==p||null==p.addEventListener||p.addEventListener("change",e),function(){return null==p||null==p.removeEventListener?void 0:p.removeEventListener("change",e)}}),[r,p,l]),(0,f.useFrame)((function(){return null==p?void 0:p.update()})),u.useEffect((function(){var e=p;return null==e||e.connect(),function(){return null==e?void 0:e.dispose()}}),[p]),p?u.createElement("primitive",s({ref:t,dispose:void 0,object:p},a)):null}));function Vo(e){e.preventDefault()}var jo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"object",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"movementSpeed",1),(0,Lr.Z)((0,N.Z)(a),"rollSpeed",.005),(0,Lr.Z)((0,N.Z)(a),"dragToLook",!1),(0,Lr.Z)((0,N.Z)(a),"autoForward",!1),(0,Lr.Z)((0,N.Z)(a),"changeEvent",{type:"change"}),(0,Lr.Z)((0,N.Z)(a),"EPS",1e-6),(0,Lr.Z)((0,N.Z)(a),"tmpQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(a),"mouseStatus",0),(0,Lr.Z)((0,N.Z)(a),"movementSpeedMultiplier",1),(0,Lr.Z)((0,N.Z)(a),"moveState",{up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0}),(0,Lr.Z)((0,N.Z)(a),"moveVector",new l.Vector3(0,0,0)),(0,Lr.Z)((0,N.Z)(a),"rotationVector",new l.Vector3(0,0,0)),(0,Lr.Z)((0,N.Z)(a),"keydown",(function(e){if(!e.altKey){switch(e.code){case"ShiftLeft":case"ShiftRight":a.movementSpeedMultiplier=.1;break;case"KeyW":a.moveState.forward=1;break;case"KeyS":a.moveState.back=1;break;case"KeyA":a.moveState.left=1;break;case"KeyD":a.moveState.right=1;break;case"KeyR":a.moveState.up=1;break;case"KeyF":a.moveState.down=1;break;case"ArrowUp":a.moveState.pitchUp=1;break;case"ArrowDown":a.moveState.pitchDown=1;break;case"ArrowLeft":a.moveState.yawLeft=1;break;case"ArrowRight":a.moveState.yawRight=1;break;case"KeyQ":a.moveState.rollLeft=1;break;case"KeyE":a.moveState.rollRight=1}a.updateMovementVector(),a.updateRotationVector()}})),(0,Lr.Z)((0,N.Z)(a),"keyup",(function(e){switch(e.code){case"ShiftLeft":case"ShiftRight":a.movementSpeedMultiplier=1;break;case"KeyW":a.moveState.forward=0;break;case"KeyS":a.moveState.back=0;break;case"KeyA":a.moveState.left=0;break;case"KeyD":a.moveState.right=0;break;case"KeyR":a.moveState.up=0;break;case"KeyF":a.moveState.down=0;break;case"ArrowUp":a.moveState.pitchUp=0;break;case"ArrowDown":a.moveState.pitchDown=0;break;case"ArrowLeft":a.moveState.yawLeft=0;break;case"ArrowRight":a.moveState.yawRight=0;break;case"KeyQ":a.moveState.rollLeft=0;break;case"KeyE":a.moveState.rollRight=0}a.updateMovementVector(),a.updateRotationVector()})),(0,Lr.Z)((0,N.Z)(a),"mousedown",(function(e){if(a.dragToLook)a.mouseStatus++;else{switch(e.button){case 0:a.moveState.forward=1;break;case 2:a.moveState.back=1}a.updateMovementVector()}})),(0,Lr.Z)((0,N.Z)(a),"mousemove",(function(e){if(!a.dragToLook||a.mouseStatus>0){var t=a.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;a.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,a.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,a.updateRotationVector()}})),(0,Lr.Z)((0,N.Z)(a),"mouseup",(function(e){if(a.dragToLook)a.mouseStatus--,a.moveState.yawLeft=a.moveState.pitchDown=0;else{switch(e.button){case 0:a.moveState.forward=0;break;case 2:a.moveState.back=0}a.updateMovementVector()}a.updateRotationVector()})),(0,Lr.Z)((0,N.Z)(a),"lastQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(a),"lastPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"update",(function(e){var t=e*a.movementSpeed,n=e*a.rollSpeed;a.object.translateX(a.moveVector.x*t),a.object.translateY(a.moveVector.y*t),a.object.translateZ(a.moveVector.z*t),a.tmpQuaternion.set(a.rotationVector.x*n,a.rotationVector.y*n,a.rotationVector.z*n,1).normalize(),a.object.quaternion.multiply(a.tmpQuaternion),(a.lastPosition.distanceToSquared(a.object.position)>a.EPS||8*(1-a.lastQuaternion.dot(a.object.quaternion))>a.EPS)&&(a.dispatchEvent(a.changeEvent),a.lastQuaternion.copy(a.object.quaternion),a.lastPosition.copy(a.object.position))})),(0,Lr.Z)((0,N.Z)(a),"updateMovementVector",(function(){var e=a.moveState.forward||a.autoForward&&!a.moveState.back?1:0;a.moveVector.x=-a.moveState.left+a.moveState.right,a.moveVector.y=-a.moveState.down+a.moveState.up,a.moveVector.z=-e+a.moveState.back})),(0,Lr.Z)((0,N.Z)(a),"updateRotationVector",(function(){a.rotationVector.x=-a.moveState.pitchDown+a.moveState.pitchUp,a.rotationVector.y=-a.moveState.yawRight+a.moveState.yawLeft,a.rotationVector.z=-a.moveState.rollRight+a.moveState.rollLeft})),(0,Lr.Z)((0,N.Z)(a),"getContainerDimensions",(function(){return a.domElement==document||a.domElement instanceof Document?{size:[window.innerWidth,window.innerHeight],offset:[0,0]}:{size:[a.domElement.offsetWidth,a.domElement.offsetHeight],offset:[a.domElement.offsetLeft,a.domElement.offsetTop]}})),(0,Lr.Z)((0,N.Z)(a),"dispose",(function(){a.domElement.removeEventListener("contextmenu",Vo),a.domElement.removeEventListener("mousemove",a.mousemove),a.domElement.removeEventListener("mousedown",a.mousedown),a.domElement.removeEventListener("mouseup",a.mouseup),window.removeEventListener("keydown",a.keydown),window.removeEventListener("keyup",a.keyup)})),void 0===r&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),r=document),a.object=e,a.domElement=r,!r||r instanceof Document||r.setAttribute("tabindex",-1),a.domElement.addEventListener("contextmenu",Vo),a.domElement.addEventListener("mousemove",a.mousemove),a.domElement.addEventListener("mousedown",a.mousedown),a.domElement.addEventListener("mouseup",a.mouseup),window.addEventListener("keydown",a.keydown),window.addEventListener("keyup",a.keyup),a.updateMovementVector(),a.updateRotationVector(),a}return(0,Q.Z)(n)}(l.EventDispatcher),Wo=["onChange"],Xo=u.forwardRef((function(e,t){var n=e.onChange,r=(0,o.Z)(e,Wo),a=(0,f.useThree)((function(e){return e.invalidate})),c=(0,f.useThree)((function(e){return e.camera})),l=(0,f.useThree)((function(e){return e.gl})),d=u.useState((function(){return new jo(c,l.domElement)})),h=(0,i.Z)(d,1)[0];return u.useEffect((function(){var e=function(e){a(),n&&n(e)};return null==h||null==h.addEventListener||h.addEventListener("change",e),function(){return null==h||null==h.removeEventListener?void 0:h.removeEventListener("change",e)}}),[n,h,a]),(0,f.useFrame)((function(e,t){return null==h?void 0:h.update(t)})),h?u.createElement("primitive",s({ref:t,dispose:void 0,object:h},r)):null})),qo=function(e,t){return(e%t+t)%t},Yo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"object",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"enabled",!0),(0,Lr.Z)((0,N.Z)(a),"target",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"minDistance",0),(0,Lr.Z)((0,N.Z)(a),"maxDistance",1/0),(0,Lr.Z)((0,N.Z)(a),"minZoom",0),(0,Lr.Z)((0,N.Z)(a),"maxZoom",1/0),(0,Lr.Z)((0,N.Z)(a),"minPolarAngle",0),(0,Lr.Z)((0,N.Z)(a),"maxPolarAngle",Math.PI),(0,Lr.Z)((0,N.Z)(a),"minAzimuthAngle",-1/0),(0,Lr.Z)((0,N.Z)(a),"maxAzimuthAngle",1/0),(0,Lr.Z)((0,N.Z)(a),"enableDamping",!1),(0,Lr.Z)((0,N.Z)(a),"dampingFactor",.05),(0,Lr.Z)((0,N.Z)(a),"enableZoom",!0),(0,Lr.Z)((0,N.Z)(a),"zoomSpeed",1),(0,Lr.Z)((0,N.Z)(a),"enableRotate",!0),(0,Lr.Z)((0,N.Z)(a),"rotateSpeed",1),(0,Lr.Z)((0,N.Z)(a),"enablePan",!0),(0,Lr.Z)((0,N.Z)(a),"panSpeed",1),(0,Lr.Z)((0,N.Z)(a),"screenSpacePanning",!0),(0,Lr.Z)((0,N.Z)(a),"keyPanSpeed",7),(0,Lr.Z)((0,N.Z)(a),"autoRotate",!1),(0,Lr.Z)((0,N.Z)(a),"autoRotateSpeed",2),(0,Lr.Z)((0,N.Z)(a),"reverseOrbit",!1),(0,Lr.Z)((0,N.Z)(a),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,Lr.Z)((0,N.Z)(a),"mouseButtons",{LEFT:l.MOUSE.ROTATE,MIDDLE:l.MOUSE.DOLLY,RIGHT:l.MOUSE.PAN}),(0,Lr.Z)((0,N.Z)(a),"touches",{ONE:l.TOUCH.ROTATE,TWO:l.TOUCH.DOLLY_PAN}),(0,Lr.Z)((0,N.Z)(a),"target0",void 0),(0,Lr.Z)((0,N.Z)(a),"position0",void 0),(0,Lr.Z)((0,N.Z)(a),"zoom0",void 0),(0,Lr.Z)((0,N.Z)(a),"_domElementKeyEvents",null),(0,Lr.Z)((0,N.Z)(a),"getPolarAngle",void 0),(0,Lr.Z)((0,N.Z)(a),"getAzimuthalAngle",void 0),(0,Lr.Z)((0,N.Z)(a),"setPolarAngle",void 0),(0,Lr.Z)((0,N.Z)(a),"setAzimuthalAngle",void 0),(0,Lr.Z)((0,N.Z)(a),"getDistance",void 0),(0,Lr.Z)((0,N.Z)(a),"listenToKeyEvents",void 0),(0,Lr.Z)((0,N.Z)(a),"saveState",void 0),(0,Lr.Z)((0,N.Z)(a),"reset",void 0),(0,Lr.Z)((0,N.Z)(a),"update",void 0),(0,Lr.Z)((0,N.Z)(a),"connect",void 0),(0,Lr.Z)((0,N.Z)(a),"dispose",void 0),a.object=e,a.domElement=r,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object instanceof l.PerspectiveCamera?a.object.zoom:1,a.getPolarAngle=function(){return h.phi},a.getAzimuthalAngle=function(){return h.theta},a.setPolarAngle=function(e){var t=qo(e,2*Math.PI),n=h.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.phi=t-n,i.update()},a.setAzimuthalAngle=function(e){var t=qo(e,2*Math.PI),n=h.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.theta=t-n,i.update()},a.getDistance=function(){return i.object.position.distanceTo(i.target)},a.listenToKeyEvents=function(e){e.addEventListener("keydown",J),a._domElementKeyEvents=e},a.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof l.PerspectiveCamera?i.object.zoom:1},a.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof l.PerspectiveCamera&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(o),i.update(),f=c.NONE},a.update=function(){var t=new l.Vector3,n=(new l.Quaternion).setFromUnitVectors(e.up,new l.Vector3(0,1,0)),r=n.clone().invert(),a=new l.Vector3,s=new l.Quaternion,u=2*Math.PI;return function(){var e=i.object.position;t.copy(e).sub(i.target),t.applyQuaternion(n),h.setFromVector3(t),i.autoRotate&&f===c.NONE&&B(2*Math.PI/60/60*i.autoRotateSpeed),i.enableDamping?(h.theta+=p.theta*i.dampingFactor,h.phi+=p.phi*i.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);var l=i.minAzimuthAngle,y=i.maxAzimuthAngle;return isFinite(l)&&isFinite(y)&&(l<-Math.PI?l+=u:l>Math.PI&&(l-=u),y<-Math.PI?y+=u:y>Math.PI&&(y-=u),h.theta=l<=y?Math.max(l,Math.min(y,h.theta)):h.theta>(l+y)/2?Math.max(l,h.theta):Math.min(y,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=v,h.radius=Math.max(i.minDistance,Math.min(i.maxDistance,h.radius)),!0===i.enableDamping?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),t.setFromSpherical(h),t.applyQuaternion(r),e.copy(i.target).add(t),i.object.lookAt(i.target),!0===i.enableDamping?(p.theta*=1-i.dampingFactor,p.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(p.set(0,0,0),m.set(0,0,0)),v=1,!!(g||a.distanceToSquared(i.object.position)>d||8*(1-s.dot(i.object.quaternion))>d)&&(i.dispatchEvent(o),a.copy(i.object.position),s.copy(i.object.quaternion),g=!1,!0)}}(),a.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=e,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",$),i.domElement.addEventListener("pointerdown",W),i.domElement.addEventListener("pointercancel",Y),i.domElement.addEventListener("wheel",Q)},a.dispose=function(){var e,t,n,r,a,o;null===(e=i.domElement)||void 0===e||e.removeEventListener("contextmenu",$),null===(t=i.domElement)||void 0===t||t.removeEventListener("pointerdown",W),null===(n=i.domElement)||void 0===n||n.removeEventListener("pointercancel",Y),null===(r=i.domElement)||void 0===r||r.removeEventListener("wheel",Q),null===(a=i.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointermove",X),null===(o=i.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",q),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",J)};var i=(0,N.Z)(a),o={type:"change"},s={type:"start"},u={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=c.NONE,d=1e-6,h=new l.Spherical,p=new l.Spherical,v=1,m=new l.Vector3,g=!1,y=new l.Vector2,_=new l.Vector2,b=new l.Vector2,w=new l.Vector2,x=new l.Vector2,A=new l.Vector2,M=new l.Vector2,E=new l.Vector2,C=new l.Vector2,S=[],T={};function k(){return Math.pow(.95,i.zoomSpeed)}function B(e){i.reverseOrbit?p.theta+=e:p.theta-=e}function P(e){i.reverseOrbit?p.phi+=e:p.phi-=e}var L=function(){var e=new l.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),D=function(){var e=new l.Vector3;return function(t,n){!0===i.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(i.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),R=function(){var e=new l.Vector3;return function(t,n){var r=i.domElement;if(r&&i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera){var a=i.object.position;e.copy(a).sub(i.target);var o=e.length();o*=Math.tan(i.object.fov/2*Math.PI/180),L(2*t*o/r.clientHeight,i.object.matrix),D(2*n*o/r.clientHeight,i.object.matrix)}else r&&i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(L(t*(i.object.right-i.object.left)/i.object.zoom/r.clientWidth,i.object.matrix),D(n*(i.object.top-i.object.bottom)/i.object.zoom/r.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function F(e){i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera?v/=e:i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*e)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function I(e){i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera?v*=e:i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/e)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function O(e){y.set(e.clientX,e.clientY)}function z(e){w.set(e.clientX,e.clientY)}function Z(){if(1==S.length)y.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);y.set(e,t)}}function U(){if(1==S.length)w.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);w.set(e,t)}}function G(){var e=S[0].pageX-S[1].pageX,t=S[0].pageY-S[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function H(e){if(1==S.length)_.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);_.set(n,r)}b.subVectors(_,y).multiplyScalar(i.rotateSpeed);var a=i.domElement;a&&(B(2*Math.PI*b.x/a.clientHeight),P(2*Math.PI*b.y/a.clientHeight)),y.copy(_)}function V(e){if(1==S.length)x.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}A.subVectors(x,w).multiplyScalar(i.panSpeed),R(A.x,A.y),w.copy(x)}function j(e){var t=ne(e),n=e.pageX-t.x,r=e.pageY-t.y,a=Math.sqrt(n*n+r*r);E.set(0,a),C.set(0,Math.pow(E.y/M.y,i.zoomSpeed)),F(C.y),M.copy(E)}function W(e){if(!1!==i.enabled){var t,n;if(0===S.length)null===(t=i.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",X),null===(n=i.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",q);!function(e){S.push(e)}(e),"touch"===e.pointerType?function(e){switch(te(e),S.length){case 1:switch(i.touches.ONE){case l.TOUCH.ROTATE:if(!1===i.enableRotate)return;Z(),f=c.TOUCH_ROTATE;break;case l.TOUCH.PAN:if(!1===i.enablePan)return;U(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(i.touches.TWO){case l.TOUCH.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;i.enableZoom&&G(),i.enablePan&&U(),f=c.TOUCH_DOLLY_PAN;break;case l.TOUCH.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;i.enableZoom&&G(),i.enableRotate&&Z(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=i.mouseButtons.LEFT;break;case 1:t=i.mouseButtons.MIDDLE;break;case 2:t=i.mouseButtons.RIGHT;break;default:t=-1}switch(t){case l.MOUSE.DOLLY:if(!1===i.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(e),f=c.DOLLY;break;case l.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enablePan)return;z(e),f=c.PAN}else{if(!1===i.enableRotate)return;O(e),f=c.ROTATE}break;case l.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enableRotate)return;O(e),f=c.ROTATE}else{if(!1===i.enablePan)return;z(e),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(s)}(e)}}function X(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(te(e),f){case c.TOUCH_ROTATE:if(!1===i.enableRotate)return;H(e),i.update();break;case c.TOUCH_PAN:if(!1===i.enablePan)return;V(e),i.update();break;case c.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;!function(e){i.enableZoom&&j(e),i.enablePan&&V(e)}(e),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;!function(e){i.enableZoom&&j(e),i.enableRotate&&H(e)}(e),i.update();break;default:f=c.NONE}}(e):function(e){if(!1===i.enabled)return;switch(f){case c.ROTATE:if(!1===i.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),b.subVectors(_,y).multiplyScalar(i.rotateSpeed);var t=i.domElement;t&&(B(2*Math.PI*b.x/t.clientHeight),P(2*Math.PI*b.y/t.clientHeight)),y.copy(_),i.update()}(e);break;case c.DOLLY:if(!1===i.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),C.subVectors(E,M),C.y>0?F(k()):C.y<0&&I(k()),M.copy(E),i.update()}(e);break;case c.PAN:if(!1===i.enablePan)return;!function(e){x.set(e.clientX,e.clientY),A.subVectors(x,w).multiplyScalar(i.panSpeed),R(A.x,A.y),w.copy(x),i.update()}(e)}}(e))}function q(e){var t,n,r;(ee(e),0===S.length)&&(null===(t=i.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=i.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",X),null===(r=i.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",q));i.dispatchEvent(u),f=c.NONE}function Y(e){ee(e)}function Q(e){!1===i.enabled||!1===i.enableZoom||f!==c.NONE&&f!==c.ROTATE||(e.preventDefault(),i.dispatchEvent(s),function(e){e.deltaY<0?I(k()):e.deltaY>0&&F(k()),i.update()}(e),i.dispatchEvent(u))}function J(e){!1!==i.enabled&&!1!==i.enablePan&&function(e){var t=!1;switch(e.code){case i.keys.UP:R(0,i.keyPanSpeed),t=!0;break;case i.keys.BOTTOM:R(0,-i.keyPanSpeed),t=!0;break;case i.keys.LEFT:R(i.keyPanSpeed,0),t=!0;break;case i.keys.RIGHT:R(-i.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),i.update())}(e)}function $(e){!1!==i.enabled&&e.preventDefault()}function ee(e){delete T[e.pointerId];for(var t=0;t<S.length;t++)if(S[t].pointerId==e.pointerId)return void S.splice(t,1)}function te(e){var t=T[e.pointerId];void 0===t&&(t=new l.Vector2,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ne(e){var t=e.pointerId===S[0].pointerId?S[1]:S[0];return T[t.pointerId]}return void 0!==r&&a.connect(r),a.update(),a}return(0,Q.Z)(n)}(l.EventDispatcher),Qo=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),(a=t.call(this,e,r)).screenSpacePanning=!1,a.mouseButtons.LEFT=l.MOUSE.PAN,a.mouseButtons.RIGHT=l.MOUSE.ROTATE,a.touches.ONE=l.TOUCH.PAN,a.touches.TWO=l.TOUCH.DOLLY_ROTATE,a}return(0,Q.Z)(n)}(Yo),Ko=["camera","onChange","onStart","onEnd"],Jo=u.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableDamping:!0},t=arguments.length>1?arguments[1]:void 0,n=e.camera,r=e.onChange,a=e.onStart,i=e.onEnd,c=(0,o.Z)(e,Ko),l=(0,f.useThree)((function(e){return e.invalidate})),d=(0,f.useThree)((function(e){return e.camera})),h=(0,f.useThree)((function(e){return e.gl.domElement})),p=n||d,v=u.useMemo((function(){return new Qo(p)}),[p]);return u.useEffect((function(){v.connect(h);var e=function(e){l(),r&&r(e)};return v.addEventListener("change",e),a&&v.addEventListener("start",a),i&&v.addEventListener("end",i),function(){v.dispose(),v.removeEventListener("change",e),a&&v.removeEventListener("start",a),i&&v.removeEventListener("end",i)}}),[r,a,i,v,l,h]),(0,f.useFrame)((function(){return v.update()})),u.createElement("primitive",s({ref:t,dispose:void 0,object:v,enableDamping:!0},c))})),$o=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],es=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.regress,i=e.domElement,c=e.enableDamping,l=void 0===c||c,d=e.onChange,h=e.onStart,p=e.onEnd,v=(0,o.Z)(e,$o),m=(0,f.useThree)((function(e){return e.invalidate})),g=(0,f.useThree)((function(e){return e.camera})),y=(0,f.useThree)((function(e){return e.gl})),_=(0,f.useThree)((function(e){return e.events})),b=(0,f.useThree)((function(e){return e.set})),w=(0,f.useThree)((function(e){return e.get})),x=(0,f.useThree)((function(e){return e.performance})),A=r||g,M=i||("boolean"!==typeof _.connected?_.connected:y.domElement),E=u.useMemo((function(){return new Yo(A)}),[A]);return(0,f.useFrame)((function(){E.enabled&&E.update()})),u.useEffect((function(){var e=function(e){m(),a&&x.regress(),d&&d(e)};return E.connect(M),E.addEventListener("change",e),h&&E.addEventListener("start",h),p&&E.addEventListener("end",p),function(){E.removeEventListener("change",e),h&&E.removeEventListener("start",h),p&&E.removeEventListener("end",p),E.dispose()}}),[M,d,h,p,a,E,m]),u.useEffect((function(){if(n){var e=w().controls;return b({controls:E}),function(){return b({controls:e})}}}),[n,E]),u.createElement("primitive",s({ref:t,object:E,enableDamping:l},v))})),ts=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"enabled",!0),(0,Lr.Z)((0,N.Z)(a),"screen",{left:0,top:0,width:0,height:0}),(0,Lr.Z)((0,N.Z)(a),"rotateSpeed",1),(0,Lr.Z)((0,N.Z)(a),"zoomSpeed",1.2),(0,Lr.Z)((0,N.Z)(a),"panSpeed",.3),(0,Lr.Z)((0,N.Z)(a),"noRotate",!1),(0,Lr.Z)((0,N.Z)(a),"noZoom",!1),(0,Lr.Z)((0,N.Z)(a),"noPan",!1),(0,Lr.Z)((0,N.Z)(a),"staticMoving",!1),(0,Lr.Z)((0,N.Z)(a),"dynamicDampingFactor",.2),(0,Lr.Z)((0,N.Z)(a),"minDistance",0),(0,Lr.Z)((0,N.Z)(a),"maxDistance",1/0),(0,Lr.Z)((0,N.Z)(a),"keys",["KeyA","KeyS","KeyD"]),(0,Lr.Z)((0,N.Z)(a),"mouseButtons",{LEFT:l.MOUSE.ROTATE,MIDDLE:l.MOUSE.DOLLY,RIGHT:l.MOUSE.PAN}),(0,Lr.Z)((0,N.Z)(a),"object",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"cursorZoom",!1),(0,Lr.Z)((0,N.Z)(a),"target",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"mousePosition",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"STATE",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4}),(0,Lr.Z)((0,N.Z)(a),"EPS",1e-6),(0,Lr.Z)((0,N.Z)(a),"lastZoom",1),(0,Lr.Z)((0,N.Z)(a),"lastPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"cursorVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"targetVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"_state",a.STATE.NONE),(0,Lr.Z)((0,N.Z)(a),"_keyState",a.STATE.NONE),(0,Lr.Z)((0,N.Z)(a),"_eye",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"_movePrev",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"_moveCurr",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"_lastAxis",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"_lastAngle",0),(0,Lr.Z)((0,N.Z)(a),"_zoomStart",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"_zoomEnd",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"_touchZoomDistanceStart",0),(0,Lr.Z)((0,N.Z)(a),"_touchZoomDistanceEnd",0),(0,Lr.Z)((0,N.Z)(a),"_panStart",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"_panEnd",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"target0",void 0),(0,Lr.Z)((0,N.Z)(a),"position0",void 0),(0,Lr.Z)((0,N.Z)(a),"up0",void 0),(0,Lr.Z)((0,N.Z)(a),"zoom0",void 0),(0,Lr.Z)((0,N.Z)(a),"changeEvent",{type:"change"}),(0,Lr.Z)((0,N.Z)(a),"startEvent",{type:"start"}),(0,Lr.Z)((0,N.Z)(a),"endEvent",{type:"end"}),(0,Lr.Z)((0,N.Z)(a),"onScreenVector",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"getMouseOnScreen",(function(e,t){return a.onScreenVector.set((e-a.screen.left)/a.screen.width,(t-a.screen.top)/a.screen.height),a.onScreenVector})),(0,Lr.Z)((0,N.Z)(a),"onCircleVector",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"getMouseOnCircle",(function(e,t){return a.onCircleVector.set((e-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-t))/a.screen.width),a.onCircleVector})),(0,Lr.Z)((0,N.Z)(a),"axis",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"quaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(a),"eyeDirection",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"objectUpDirection",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"objectSidewaysDirection",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"moveDirection",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"angle",0),(0,Lr.Z)((0,N.Z)(a),"rotateCamera",(function(){a.moveDirection.set(a._moveCurr.x-a._movePrev.x,a._moveCurr.y-a._movePrev.y,0),a.angle=a.moveDirection.length(),a.angle?(a._eye.copy(a.object.position).sub(a.target),a.eyeDirection.copy(a._eye).normalize(),a.objectUpDirection.copy(a.object.up).normalize(),a.objectSidewaysDirection.crossVectors(a.objectUpDirection,a.eyeDirection).normalize(),a.objectUpDirection.setLength(a._moveCurr.y-a._movePrev.y),a.objectSidewaysDirection.setLength(a._moveCurr.x-a._movePrev.x),a.moveDirection.copy(a.objectUpDirection.add(a.objectSidewaysDirection)),a.axis.crossVectors(a.moveDirection,a._eye).normalize(),a.angle*=a.rotateSpeed,a.quaternion.setFromAxisAngle(a.axis,a.angle),a._eye.applyQuaternion(a.quaternion),a.object.up.applyQuaternion(a.quaternion),a._lastAxis.copy(a.axis),a._lastAngle=a.angle):!a.staticMoving&&a._lastAngle&&(a._lastAngle*=Math.sqrt(1-a.dynamicDampingFactor),a._eye.copy(a.object.position).sub(a.target),a.quaternion.setFromAxisAngle(a._lastAxis,a._lastAngle),a._eye.applyQuaternion(a.quaternion),a.object.up.applyQuaternion(a.quaternion)),a._movePrev.copy(a._moveCurr)})),(0,Lr.Z)((0,N.Z)(a),"zoomCamera",(function(){var e;if(a._state===a.STATE.TOUCH_ZOOM_PAN)e=a._touchZoomDistanceStart/a._touchZoomDistanceEnd,a._touchZoomDistanceStart=a._touchZoomDistanceEnd,a.object.isPerspectiveCamera?a._eye.multiplyScalar(e):a.object.isOrthographicCamera?(a.object.zoom/=e,a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type");else{if(e=1+(a._zoomEnd.y-a._zoomStart.y)*a.zoomSpeed,Math.abs(e-1)>a.EPS&&e>0&&(a.object.isPerspectiveCamera?(e>1&&a._eye.length()>=a.maxDistance-a.EPS&&(e=1),a._eye.multiplyScalar(e)):a.object.isOrthographicCamera?(e>1&&a.object.zoom<a.maxDistance*a.maxDistance&&(e=1),a.object.zoom/=e):console.warn("THREE.TrackballControls: Unsupported camera type")),a.staticMoving?a._zoomStart.copy(a._zoomEnd):a._zoomStart.y+=(a._zoomEnd.y-a._zoomStart.y)*a.dynamicDampingFactor,a.cursorZoom){a.targetVector.copy(a.target).project(a.object);var t=a.cursorVector.set(a.mousePosition.x,a.mousePosition.y,a.targetVector.z).unproject(a.object);a.target.lerpVectors(t,a.target,e)}a.object.isOrthographicCamera&&a.object.updateProjectionMatrix()}})),(0,Lr.Z)((0,N.Z)(a),"mouseChange",new l.Vector2),(0,Lr.Z)((0,N.Z)(a),"objectUp",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"pan",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"panCamera",(function(){if(a.domElement&&(a.mouseChange.copy(a._panEnd).sub(a._panStart),a.mouseChange.lengthSq()>a.EPS)){if(a.object.isOrthographicCamera){var e=a.object,t=(e.right-e.left)/a.object.zoom,n=(e.top-e.bottom)/a.object.zoom;a.mouseChange.x*=t,a.mouseChange.y*=n}else a.mouseChange.multiplyScalar(a._eye.length()*a.panSpeed);a.pan.copy(a._eye).cross(a.object.up).setLength(a.mouseChange.x),a.pan.add(a.objectUp.copy(a.object.up).setLength(a.mouseChange.y)),a.object.position.add(a.pan),a.target.add(a.pan),a.staticMoving?a._panStart.copy(a._panEnd):a._panStart.add(a.mouseChange.subVectors(a._panEnd,a._panStart).multiplyScalar(a.dynamicDampingFactor))}})),(0,Lr.Z)((0,N.Z)(a),"checkDistances",(function(){a.noZoom&&a.noPan||(a._eye.lengthSq()>a.maxDistance*a.maxDistance&&(a.object.position.addVectors(a.target,a._eye.setLength(a.maxDistance)),a._zoomStart.copy(a._zoomEnd)),a._eye.lengthSq()<a.minDistance*a.minDistance&&(a.object.position.addVectors(a.target,a._eye.setLength(a.minDistance)),a._zoomStart.copy(a._zoomEnd)))})),(0,Lr.Z)((0,N.Z)(a),"handleResize",(function(){if(a.domElement){var e=a.domElement.getBoundingClientRect(),t=a.domElement.ownerDocument.documentElement;a.screen.left=e.left+window.pageXOffset-t.clientLeft,a.screen.top=e.top+window.pageYOffset-t.clientTop,a.screen.width=e.width,a.screen.height=e.height}})),(0,Lr.Z)((0,N.Z)(a),"update",(function(){a._eye.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.object.position.addVectors(a.target,a._eye),a.object.isPerspectiveCamera?(a.checkDistances(),a.object.lookAt(a.target),a.lastPosition.distanceToSquared(a.object.position)>a.EPS&&(a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position))):a.object.isOrthographicCamera?(a.object.lookAt(a.target),(a.lastPosition.distanceToSquared(a.object.position)>a.EPS||a.lastZoom!==a.object.zoom)&&(a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position),a.lastZoom=a.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")})),(0,Lr.Z)((0,N.Z)(a),"reset",(function(){a._state=a.STATE.NONE,a._keyState=a.STATE.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a._eye.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position),a.lastZoom=a.object.zoom})),(0,Lr.Z)((0,N.Z)(a),"keydown",(function(e){!1!==a.enabled&&(window.removeEventListener("keydown",a.keydown),a._keyState===a.STATE.NONE&&(e.code!==a.keys[a.STATE.ROTATE]||a.noRotate?e.code!==a.keys[a.STATE.ZOOM]||a.noZoom?e.code!==a.keys[a.STATE.PAN]||a.noPan||(a._keyState=a.STATE.PAN):a._keyState=a.STATE.ZOOM:a._keyState=a.STATE.ROTATE))})),(0,Lr.Z)((0,N.Z)(a),"onPointerDown",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseDown(e)}})),(0,Lr.Z)((0,N.Z)(a),"onPointerMove",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseMove(e)}})),(0,Lr.Z)((0,N.Z)(a),"onPointerUp",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseUp()}})),(0,Lr.Z)((0,N.Z)(a),"keyup",(function(){!1!==a.enabled&&(a._keyState=a.STATE.NONE,window.addEventListener("keydown",a.keydown))})),(0,Lr.Z)((0,N.Z)(a),"onMouseDown",(function(e){if(a.domElement){if(a._state===a.STATE.NONE)switch(e.button){case a.mouseButtons.LEFT:a._state=a.STATE.ROTATE;break;case a.mouseButtons.MIDDLE:a._state=a.STATE.ZOOM;break;case a.mouseButtons.RIGHT:a._state=a.STATE.PAN;break;default:a._state=a.STATE.NONE}var t=a._keyState!==a.STATE.NONE?a._keyState:a._state;t!==a.STATE.ROTATE||a.noRotate?t!==a.STATE.ZOOM||a.noZoom?t!==a.STATE.PAN||a.noPan||(a._panStart.copy(a.getMouseOnScreen(e.pageX,e.pageY)),a._panEnd.copy(a._panStart)):(a._zoomStart.copy(a.getMouseOnScreen(e.pageX,e.pageY)),a._zoomEnd.copy(a._zoomStart)):(a._moveCurr.copy(a.getMouseOnCircle(e.pageX,e.pageY)),a._movePrev.copy(a._moveCurr)),a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp),a.dispatchEvent(a.startEvent)}})),(0,Lr.Z)((0,N.Z)(a),"onMouseMove",(function(e){if(!1!==a.enabled){var t=a._keyState!==a.STATE.NONE?a._keyState:a._state;t!==a.STATE.ROTATE||a.noRotate?t!==a.STATE.ZOOM||a.noZoom?t!==a.STATE.PAN||a.noPan||a._panEnd.copy(a.getMouseOnScreen(e.pageX,e.pageY)):a._zoomEnd.copy(a.getMouseOnScreen(e.pageX,e.pageY)):(a._movePrev.copy(a._moveCurr),a._moveCurr.copy(a.getMouseOnCircle(e.pageX,e.pageY)))}})),(0,Lr.Z)((0,N.Z)(a),"onMouseUp",(function(){a.domElement&&!1!==a.enabled&&(a._state=a.STATE.NONE,a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.removeEventListener("pointerup",a.onPointerUp),a.dispatchEvent(a.endEvent))})),(0,Lr.Z)((0,N.Z)(a),"mousewheel",(function(e){if(!1!==a.enabled&&!0!==a.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:a._zoomStart.y-=.025*e.deltaY;break;case 1:a._zoomStart.y-=.01*e.deltaY;break;default:a._zoomStart.y-=25e-5*e.deltaY}a.mousePosition.x=e.offsetX/a.screen.width*2-1,a.mousePosition.y=-e.offsetY/a.screen.height*2+1,a.dispatchEvent(a.startEvent),a.dispatchEvent(a.endEvent)}})),(0,Lr.Z)((0,N.Z)(a),"touchstart",(function(e){if(!1!==a.enabled){if(e.preventDefault(),1===e.touches.length)a._state=a.STATE.TOUCH_ROTATE,a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),a._movePrev.copy(a._moveCurr);else{a._state=a.STATE.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;a._touchZoomDistanceEnd=a._touchZoomDistanceStart=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;a._panStart.copy(a.getMouseOnScreen(r,i)),a._panEnd.copy(a._panStart)}a.dispatchEvent(a.startEvent)}})),(0,Lr.Z)((0,N.Z)(a),"touchmove",(function(e){if(!1!==a.enabled)if(e.preventDefault(),1===e.touches.length)a._movePrev.copy(a._moveCurr),a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY));else{var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;a._touchZoomDistanceEnd=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;a._panEnd.copy(a.getMouseOnScreen(r,i))}})),(0,Lr.Z)((0,N.Z)(a),"touchend",(function(e){if(!1!==a.enabled){switch(e.touches.length){case 0:a._state=a.STATE.NONE;break;case 1:a._state=a.STATE.TOUCH_ROTATE,a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),a._movePrev.copy(a._moveCurr)}a.dispatchEvent(a.endEvent)}})),(0,Lr.Z)((0,N.Z)(a),"contextmenu",(function(e){!1!==a.enabled&&e.preventDefault()})),(0,Lr.Z)((0,N.Z)(a),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.addEventListener("contextmenu",a.contextmenu),a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("wheel",a.mousewheel),a.domElement.addEventListener("touchstart",a.touchstart),a.domElement.addEventListener("touchend",a.touchend),a.domElement.addEventListener("touchmove",a.touchmove),a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp),window.addEventListener("keydown",a.keydown),window.addEventListener("keyup",a.keyup),a.handleResize()})),(0,Lr.Z)((0,N.Z)(a),"dispose",(function(){a.domElement&&(a.domElement.removeEventListener("contextmenu",a.contextmenu),a.domElement.removeEventListener("pointerdown",a.onPointerDown),a.domElement.removeEventListener("wheel",a.mousewheel),a.domElement.removeEventListener("touchstart",a.touchstart),a.domElement.removeEventListener("touchend",a.touchend),a.domElement.removeEventListener("touchmove",a.touchmove),a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.removeEventListener("pointerup",a.onPointerUp),window.removeEventListener("keydown",a.keydown),window.removeEventListener("keyup",a.keyup))})),a.object=e,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.up0=a.object.up.clone(),a.zoom0=a.object.zoom,void 0!==r&&a.connect(r),a.update(),a}return(0,Q.Z)(n)}(l.EventDispatcher),ns=["makeDefault","camera","domElement","regress","onChange","onStart","onEnd"],rs=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.domElement,i=e.regress,c=e.onChange,l=e.onStart,d=e.onEnd,h=(0,o.Z)(e,ns),p=(0,f.useThree)(),v=p.invalidate,m=p.camera,g=p.gl,y=p.events,_=p.set,b=p.get,w=p.performance,x=p.viewport,A=r||m,M=a||("boolean"!==typeof y.connected?y.connected:g.domElement),E=u.useMemo((function(){return new ts(A)}),[A]);return(0,f.useFrame)((function(){E.enabled&&E.update()})),u.useEffect((function(){var e=function(e){v(),i&&w.regress(),c&&c(e)};return E.connect(M),E.addEventListener("change",e),l&&E.addEventListener("start",l),d&&E.addEventListener("end",d),function(){E.removeEventListener("change",e),l&&E.removeEventListener("start",l),d&&E.removeEventListener("end",d),E.dispose()}}),[M,c,l,d,i,E,v]),u.useEffect((function(){E.handleResize()}),[x]),u.useEffect((function(){if(n){var e=b().controls;return _({controls:E}),function(){return _({controls:e})}}}),[n,E]),u.createElement("primitive",s({ref:t,object:E},h))})),as={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},is={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},os={x:0,y:0},ss={camera:new l.Matrix4,gizmos:new l.Matrix4},us={type:"change"},cs={type:"start"},ls={type:"end"},fs=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"camera",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"scene",void 0),(0,Lr.Z)((0,N.Z)(a),"mouseActions",void 0),(0,Lr.Z)((0,N.Z)(a),"_mouseOp",void 0),(0,Lr.Z)((0,N.Z)(a),"_v2_1",void 0),(0,Lr.Z)((0,N.Z)(a),"_v3_1",void 0),(0,Lr.Z)((0,N.Z)(a),"_v3_2",void 0),(0,Lr.Z)((0,N.Z)(a),"_m4_1",void 0),(0,Lr.Z)((0,N.Z)(a),"_m4_2",void 0),(0,Lr.Z)((0,N.Z)(a),"_quat",void 0),(0,Lr.Z)((0,N.Z)(a),"_translationMatrix",void 0),(0,Lr.Z)((0,N.Z)(a),"_rotationMatrix",void 0),(0,Lr.Z)((0,N.Z)(a),"_scaleMatrix",void 0),(0,Lr.Z)((0,N.Z)(a),"_rotationAxis",void 0),(0,Lr.Z)((0,N.Z)(a),"_cameraMatrixState",void 0),(0,Lr.Z)((0,N.Z)(a),"_cameraProjectionState",void 0),(0,Lr.Z)((0,N.Z)(a),"_fovState",void 0),(0,Lr.Z)((0,N.Z)(a),"_upState",void 0),(0,Lr.Z)((0,N.Z)(a),"_zoomState",void 0),(0,Lr.Z)((0,N.Z)(a),"_nearPos",void 0),(0,Lr.Z)((0,N.Z)(a),"_farPos",void 0),(0,Lr.Z)((0,N.Z)(a),"_gizmoMatrixState",void 0),(0,Lr.Z)((0,N.Z)(a),"_up0",void 0),(0,Lr.Z)((0,N.Z)(a),"_zoom0",void 0),(0,Lr.Z)((0,N.Z)(a),"_fov0",void 0),(0,Lr.Z)((0,N.Z)(a),"_initialNear",void 0),(0,Lr.Z)((0,N.Z)(a),"_nearPos0",void 0),(0,Lr.Z)((0,N.Z)(a),"_initialFar",void 0),(0,Lr.Z)((0,N.Z)(a),"_farPos0",void 0),(0,Lr.Z)((0,N.Z)(a),"_cameraMatrixState0",void 0),(0,Lr.Z)((0,N.Z)(a),"_gizmoMatrixState0",void 0),(0,Lr.Z)((0,N.Z)(a),"_button",void 0),(0,Lr.Z)((0,N.Z)(a),"_touchStart",void 0),(0,Lr.Z)((0,N.Z)(a),"_touchCurrent",void 0),(0,Lr.Z)((0,N.Z)(a),"_input",void 0),(0,Lr.Z)((0,N.Z)(a),"_switchSensibility",void 0),(0,Lr.Z)((0,N.Z)(a),"_startFingerDistance",void 0),(0,Lr.Z)((0,N.Z)(a),"_currentFingerDistance",void 0),(0,Lr.Z)((0,N.Z)(a),"_startFingerRotation",void 0),(0,Lr.Z)((0,N.Z)(a),"_currentFingerRotation",void 0),(0,Lr.Z)((0,N.Z)(a),"_devPxRatio",void 0),(0,Lr.Z)((0,N.Z)(a),"_downValid",void 0),(0,Lr.Z)((0,N.Z)(a),"_nclicks",void 0),(0,Lr.Z)((0,N.Z)(a),"_downEvents",void 0),(0,Lr.Z)((0,N.Z)(a),"_downStart",void 0),(0,Lr.Z)((0,N.Z)(a),"_clickStart",void 0),(0,Lr.Z)((0,N.Z)(a),"_maxDownTime",void 0),(0,Lr.Z)((0,N.Z)(a),"_maxInterval",void 0),(0,Lr.Z)((0,N.Z)(a),"_posThreshold",void 0),(0,Lr.Z)((0,N.Z)(a),"_movementThreshold",void 0),(0,Lr.Z)((0,N.Z)(a),"_currentCursorPosition",void 0),(0,Lr.Z)((0,N.Z)(a),"_startCursorPosition",void 0),(0,Lr.Z)((0,N.Z)(a),"_grid",void 0),(0,Lr.Z)((0,N.Z)(a),"_gridPosition",void 0),(0,Lr.Z)((0,N.Z)(a),"_gizmos",void 0),(0,Lr.Z)((0,N.Z)(a),"_curvePts",void 0),(0,Lr.Z)((0,N.Z)(a),"_timeStart",void 0),(0,Lr.Z)((0,N.Z)(a),"_animationId",void 0),(0,Lr.Z)((0,N.Z)(a),"focusAnimationTime",void 0),(0,Lr.Z)((0,N.Z)(a),"_timePrev",void 0),(0,Lr.Z)((0,N.Z)(a),"_timeCurrent",void 0),(0,Lr.Z)((0,N.Z)(a),"_anglePrev",void 0),(0,Lr.Z)((0,N.Z)(a),"_angleCurrent",void 0),(0,Lr.Z)((0,N.Z)(a),"_cursorPosPrev",void 0),(0,Lr.Z)((0,N.Z)(a),"_cursorPosCurr",void 0),(0,Lr.Z)((0,N.Z)(a),"_wPrev",void 0),(0,Lr.Z)((0,N.Z)(a),"_wCurr",void 0),(0,Lr.Z)((0,N.Z)(a),"adjustNearFar",void 0),(0,Lr.Z)((0,N.Z)(a),"scaleFactor",void 0),(0,Lr.Z)((0,N.Z)(a),"dampingFactor",void 0),(0,Lr.Z)((0,N.Z)(a),"wMax",void 0),(0,Lr.Z)((0,N.Z)(a),"enableAnimations",void 0),(0,Lr.Z)((0,N.Z)(a),"enableGrid",void 0),(0,Lr.Z)((0,N.Z)(a),"cursorZoom",void 0),(0,Lr.Z)((0,N.Z)(a),"minFov",void 0),(0,Lr.Z)((0,N.Z)(a),"maxFov",void 0),(0,Lr.Z)((0,N.Z)(a),"enabled",void 0),(0,Lr.Z)((0,N.Z)(a),"enablePan",void 0),(0,Lr.Z)((0,N.Z)(a),"enableRotate",void 0),(0,Lr.Z)((0,N.Z)(a),"enableZoom",void 0),(0,Lr.Z)((0,N.Z)(a),"enableGizmos",void 0),(0,Lr.Z)((0,N.Z)(a),"minDistance",void 0),(0,Lr.Z)((0,N.Z)(a),"maxDistance",void 0),(0,Lr.Z)((0,N.Z)(a),"minZoom",void 0),(0,Lr.Z)((0,N.Z)(a),"maxZoom",void 0),(0,Lr.Z)((0,N.Z)(a),"target",void 0),(0,Lr.Z)((0,N.Z)(a),"_currentTarget",void 0),(0,Lr.Z)((0,N.Z)(a),"_tbRadius",void 0),(0,Lr.Z)((0,N.Z)(a),"_state",void 0),(0,Lr.Z)((0,N.Z)(a),"onWindowResize",(function(){var e=(a._gizmos.scale.x+a._gizmos.scale.y+a._gizmos.scale.z)/3;if(null!==a.camera){var t=a.calculateTbRadius(a.camera);void 0!==t&&(a._tbRadius=t)}var n=a._tbRadius/e,r=new l.EllipseCurve(0,0,n,n).getPoints(a._curvePts),i=(new l.BufferGeometry).setFromPoints(r);for(var o in a._gizmos.children){var s=a._gizmos.children[o];s instanceof l.Mesh&&(s.geometry=i)}a.dispatchEvent(us)})),(0,Lr.Z)((0,N.Z)(a),"onContextMenu",(function(e){if(a.enabled)for(var t=0;t<a.mouseActions.length;t++)if(2==a.mouseActions[t].mouse){e.preventDefault();break}})),(0,Lr.Z)((0,N.Z)(a),"onPointerCancel",(function(){a._touchStart.splice(0,a._touchStart.length),a._touchCurrent.splice(0,a._touchCurrent.length),a._input=is.NONE})),(0,Lr.Z)((0,N.Z)(a),"onPointerDown",(function(e){if(0==e.button&&e.isPrimary?(a._downValid=!0,a._downEvents.push(e),a._downStart=performance.now()):a._downValid=!1,"touch"==e.pointerType&&a._input!=is.CURSOR)switch(a._touchStart.push(e),a._touchCurrent.push(e),a._input){case is.NONE:a._input=is.ONE_FINGER,a.onSinglePanStart(e,"ROTATE"),window.addEventListener("pointermove",a.onPointerMove),window.addEventListener("pointerup",a.onPointerUp);break;case is.ONE_FINGER:case is.ONE_FINGER_SWITCHED:a._input=is.TWO_FINGER,a.onRotateStart(),a.onPinchStart(),a.onDoublePanStart();break;case is.TWO_FINGER:a._input=is.MULT_FINGER,a.onTriplePanStart()}else if("touch"!=e.pointerType&&a._input==is.NONE){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT"),a._mouseOp=a.getOpFromAction(e.button,t),null!=a._mouseOp&&(window.addEventListener("pointermove",a.onPointerMove),window.addEventListener("pointerup",a.onPointerUp),a._input=is.CURSOR,a._button=e.button,a.onSinglePanStart(e,a._mouseOp))}})),(0,Lr.Z)((0,N.Z)(a),"onPointerMove",(function(e){if("touch"==e.pointerType&&a._input!=is.CURSOR)switch(a._input){case is.ONE_FINGER:a.updateTouchEvent(e),a.onSinglePanMove(e,as.ROTATE);break;case is.ONE_FINGER_SWITCHED:if(a.calculatePointersDistance(a._touchCurrent[0],e)*a._devPxRatio>=a._switchSensibility){a._input=is.ONE_FINGER,a.updateTouchEvent(e),a.onSinglePanStart(e,"ROTATE");break}break;case is.TWO_FINGER:a.updateTouchEvent(e),a.onRotateMove(),a.onPinchMove(),a.onDoublePanMove();break;case is.MULT_FINGER:a.updateTouchEvent(e),a.onTriplePanMove()}else if("touch"!=e.pointerType&&a._input==is.CURSOR){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT");var n=a.getOpStateFromAction(a._button,t);null!=n&&a.onSinglePanMove(e,n)}a._downValid&&(a.calculatePointersDistance(a._downEvents[a._downEvents.length-1],e)*a._devPxRatio>a._movementThreshold&&(a._downValid=!1))})),(0,Lr.Z)((0,N.Z)(a),"onPointerUp",(function(e){if("touch"==e.pointerType&&a._input!=is.CURSOR){for(var t=a._touchCurrent.length,n=0;n<t;n++)if(a._touchCurrent[n].pointerId==e.pointerId){a._touchCurrent.splice(n,1),a._touchStart.splice(n,1);break}switch(a._input){case is.ONE_FINGER:case is.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=is.NONE,a.onSinglePanEnd();break;case is.TWO_FINGER:a.onDoublePanEnd(),a.onPinchEnd(),a.onRotateEnd(),a._input=is.ONE_FINGER_SWITCHED;break;case is.MULT_FINGER:0==a._touchCurrent.length&&(window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=is.NONE,a.onTriplePanEnd())}}else"touch"!=e.pointerType&&a._input==is.CURSOR&&(window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=is.NONE,a.onSinglePanEnd(),a._button=-1);if(e.isPrimary)if(a._downValid)if(e.timeStamp-a._downEvents[a._downEvents.length-1].timeStamp<=a._maxDownTime)if(0==a._nclicks)a._nclicks=1,a._clickStart=performance.now();else{var r=e.timeStamp-a._clickStart,i=a.calculatePointersDistance(a._downEvents[1],a._downEvents[0])*a._devPxRatio;r<=a._maxInterval&&i<=a._posThreshold?(a._nclicks=0,a._downEvents.splice(0,a._downEvents.length),a.onDoubleTap(e)):(a._nclicks=1,a._downEvents.shift(),a._clickStart=performance.now())}else a._downValid=!1,a._nclicks=0,a._downEvents.splice(0,a._downEvents.length);else a._nclicks=0,a._downEvents.splice(0,a._downEvents.length)})),(0,Lr.Z)((0,N.Z)(a),"onWheel",(function(e){if(a.enabled&&a.enableZoom){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT");var n=a.getOpFromAction("WHEEL",t);if(null!=n){e.preventDefault(),a.dispatchEvent(cs);var r=e.deltaY/125,i=1;switch(r>0?i=1/a.scaleFactor:r<0&&(i=a.scaleFactor),n){case"ZOOM":if(a.updateTbState(as.SCALE,!0),r>0?i=1/Math.pow(a.scaleFactor,r):r<0&&(i=Math.pow(a.scaleFactor,-r)),a.cursorZoom&&a.enablePan){var o,s;if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera)o=null===(s=a.unprojectOnTbPlane(a.camera,e.clientX,e.clientY,a.domElement))||void 0===s?void 0:s.applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._gizmos.position);else if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){var u;o=null===(u=a.unprojectOnTbPlane(a.camera,e.clientX,e.clientY,a.domElement))||void 0===u?void 0:u.applyQuaternion(a.camera.quaternion).add(a._gizmos.position)}void 0!==o&&a.applyTransformMatrix(a.applyScale(i,o))}else a.applyTransformMatrix(a.applyScale(i,a._gizmos.position));null!=a._grid&&(a.disposeGrid(),a.drawGrid()),a.updateTbState(as.IDLE,!1),a.dispatchEvent(us),a.dispatchEvent(ls);break;case"FOV":if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){a.updateTbState(as.FOV,!0),0!=e.deltaX&&(i=1,(r=e.deltaX/125)>0?i=1/Math.pow(a.scaleFactor,r):r<0&&(i=Math.pow(a.scaleFactor,-r))),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var c=a._v3_1.distanceTo(a._gizmos.position),f=c/i;f=l.MathUtils.clamp(f,a.minDistance,a.maxDistance);var d=c*Math.tan(l.MathUtils.DEG2RAD*a.camera.fov*.5),h=l.MathUtils.RAD2DEG*(2*Math.atan(d/f));h>a.maxFov?h=a.maxFov:h<a.minFov&&(h=a.minFov),i=c/(d/Math.tan(l.MathUtils.DEG2RAD*(h/2))),a.setFov(h),a.applyTransformMatrix(a.applyScale(i,a._gizmos.position,!1))}null!=a._grid&&(a.disposeGrid(),a.drawGrid()),a.updateTbState(as.IDLE,!1),a.dispatchEvent(us),a.dispatchEvent(ls)}}}})),(0,Lr.Z)((0,N.Z)(a),"onKeyDown",(function(e){"c"==e.key?(e.ctrlKey||e.metaKey)&&a.copyState():"v"==e.key&&(e.ctrlKey||e.metaKey)&&a.pasteState()})),(0,Lr.Z)((0,N.Z)(a),"onSinglePanStart",(function(e,t){if(a.enabled)switch(a.dispatchEvent(cs),a.setCenter(e.clientX,e.clientY),t){case"PAN":if(!a.enablePan)return;if(-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(us)),null!==a.camera){a.updateTbState(as.PAN,!0);var n=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement);void 0!==n&&a._startCursorPosition.copy(n),a.enableGrid&&(a.drawGrid(),a.dispatchEvent(us))}break;case"ROTATE":if(!a.enableRotate)return;if(-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1),null!==a.camera){a.updateTbState(as.ROTATE,!0);var r=a.unprojectOnTbSurface(a.camera,os.x,os.y,a.domElement,a._tbRadius);void 0!==r&&a._startCursorPosition.copy(r),a.activateGizmos(!0),a.enableAnimations&&(a._timePrev=a._timeCurrent=performance.now(),a._angleCurrent=a._anglePrev=0,a._cursorPosPrev.copy(a._startCursorPosition),a._cursorPosCurr.copy(a._cursorPosPrev),a._wCurr=0,a._wPrev=a._wCurr)}a.dispatchEvent(us);break;case"FOV":if(!(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera)||!a.enableZoom)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(us)),a.updateTbState(as.FOV,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition);break;case"ZOOM":if(!a.enableZoom)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(us)),a.updateTbState(as.SCALE,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition)}})),(0,Lr.Z)((0,N.Z)(a),"onSinglePanMove",(function(e,t){if(a.enabled){var n=t!=a._state;switch(a.setCenter(e.clientX,e.clientY),t){case as.PAN:if(a.enablePan&&null!==a.camera)if(n){a.dispatchEvent(ls),a.dispatchEvent(cs),a.updateTbState(t,!0);var r=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement);void 0!==r&&a._startCursorPosition.copy(r),a.enableGrid&&a.drawGrid(),a.activateGizmos(!1)}else{var i=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement);void 0!==i&&a._currentCursorPosition.copy(i),a.applyTransformMatrix(a.pan(a._startCursorPosition,a._currentCursorPosition))}break;case as.ROTATE:if(a.enableRotate&&null!==a.camera)if(n){a.dispatchEvent(ls),a.dispatchEvent(cs),a.updateTbState(t,!0);var o=a.unprojectOnTbSurface(a.camera,os.x,os.y,a.domElement,a._tbRadius);void 0!==o&&a._startCursorPosition.copy(o),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!0)}else{var s=a.unprojectOnTbSurface(a.camera,os.x,os.y,a.domElement,a._tbRadius);void 0!==s&&a._currentCursorPosition.copy(s);var u=a._startCursorPosition.distanceTo(a._currentCursorPosition),c=a._startCursorPosition.angleTo(a._currentCursorPosition),f=Math.max(u/a._tbRadius,c);a.applyTransformMatrix(a.rotate(a.calculateRotationAxis(a._startCursorPosition,a._currentCursorPosition),f)),a.enableAnimations&&(a._timePrev=a._timeCurrent,a._timeCurrent=performance.now(),a._anglePrev=a._angleCurrent,a._angleCurrent=f,a._cursorPosPrev.copy(a._cursorPosCurr),a._cursorPosCurr.copy(a._currentCursorPosition),a._wPrev=a._wCurr,a._wCurr=a.calculateAngularSpeed(a._anglePrev,a._angleCurrent,a._timePrev,a._timeCurrent))}break;case as.SCALE:if(a.enableZoom)if(n)a.dispatchEvent(ls),a.dispatchEvent(cs),a.updateTbState(t,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1);else{a._currentCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y);var d=a._currentCursorPosition.y-a._startCursorPosition.y,h=1;d<0?h=1/Math.pow(a.scaleFactor,8*-d):d>0&&(h=Math.pow(a.scaleFactor,8*d)),a.applyTransformMatrix(a.applyScale(h,a._gizmos.position))}break;case as.FOV:if(a.enableZoom&&a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera)if(n)a.dispatchEvent(ls),a.dispatchEvent(cs),a.updateTbState(t,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1);else{a._currentCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y);var p=a._currentCursorPosition.y-a._startCursorPosition.y,v=1;p<0?v=1/Math.pow(a.scaleFactor,8*-p):p>0&&(v=Math.pow(a.scaleFactor,8*p)),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var m=a._v3_1.distanceTo(a._gizmos.position),g=m/v;g=l.MathUtils.clamp(g,a.minDistance,a.maxDistance);var y=m*Math.tan(l.MathUtils.DEG2RAD*a._fovState*.5),_=l.MathUtils.RAD2DEG*(2*Math.atan(y/g));_=l.MathUtils.clamp(_,a.minFov,a.maxFov);var b=y/Math.tan(l.MathUtils.DEG2RAD*(_/2));v=m/b,a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),a.setFov(_),a.applyTransformMatrix(a.applyScale(v,a._v3_2,!1));var w=a._gizmos.position.clone().sub(a.camera.position).normalize().multiplyScalar(b/m);a._m4_1.makeTranslation(w.x,w.y,w.z)}}a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"onSinglePanEnd",(function(){if(a._state==as.ROTATE){if(!a.enableRotate)return;if(a.enableAnimations)if(performance.now()-a._timeCurrent<120){var e=Math.abs((a._wPrev+a._wCurr)/2),t=(0,N.Z)(a);a._animationId=window.requestAnimationFrame((function(n){t.updateTbState(as.ANIMATION_ROTATE,!0);var r=t.calculateRotationAxis(t._cursorPosPrev,t._cursorPosCurr);t.onRotationAnim(n,r,Math.min(e,t.wMax))}))}else a.updateTbState(as.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(us);else a.updateTbState(as.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(us)}else a._state!=as.PAN&&a._state!=as.IDLE||(a.updateTbState(as.IDLE,!1),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1),a.dispatchEvent(us));a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"onDoubleTap",(function(e){if(a.enabled&&a.enablePan&&null!=a.scene&&null!==a.camera){a.dispatchEvent(cs),a.setCenter(e.clientX,e.clientY);var t=a.unprojectOnObj(a.getCursorNDC(os.x,os.y,a.domElement),a.camera);if(null!=t&&a.enableAnimations){var n=(0,N.Z)(a);-1!=a._animationId&&window.cancelAnimationFrame(a._animationId),a._timeStart=-1,a._animationId=window.requestAnimationFrame((function(e){n.updateTbState(as.ANIMATION_FOCUS,!0),n.onFocusAnim(e,t,n._cameraMatrixState,n._gizmoMatrixState)}))}else null==t||a.enableAnimations||(a.updateTbState(as.FOCUS,!0),a.focus(t,a.scaleFactor),a.updateTbState(as.IDLE,!1),a.dispatchEvent(us))}a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"onDoublePanStart",(function(){if(a.enabled&&a.enablePan&&null!==a.camera){a.dispatchEvent(cs),a.updateTbState(as.PAN,!0),a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2);var e=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement,!0);void 0!==e&&a._startCursorPosition.copy(e),a._currentCursorPosition.copy(a._startCursorPosition),a.activateGizmos(!1)}})),(0,Lr.Z)((0,N.Z)(a),"onDoublePanMove",(function(){if(a.enabled&&a.enablePan&&null!==a.camera){a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2),a._state!=as.PAN&&(a.updateTbState(as.PAN,!0),a._startCursorPosition.copy(a._currentCursorPosition));var e=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement,!0);void 0!==e&&a._currentCursorPosition.copy(e),a.applyTransformMatrix(a.pan(a._startCursorPosition,a._currentCursorPosition,!0)),a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"onDoublePanEnd",(function(){a.updateTbState(as.IDLE,!1),a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"onRotateStart",(function(){var e;a.enabled&&a.enableRotate&&(a.dispatchEvent(cs),a.updateTbState(as.ZROTATE,!0),a._startFingerRotation=a.getAngle(a._touchCurrent[1],a._touchCurrent[0])+a.getAngle(a._touchStart[1],a._touchStart[0]),a._currentFingerRotation=a._startFingerRotation,null===(e=a.camera)||void 0===e||e.getWorldDirection(a._rotationAxis),a.enablePan||a.enableZoom||a.activateGizmos(!0))})),(0,Lr.Z)((0,N.Z)(a),"onRotateMove",(function(){if(a.enabled&&a.enableRotate&&null!==a.camera){var e;if(a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2),a._state!=as.ZROTATE&&(a.updateTbState(as.ZROTATE,!0),a._startFingerRotation=a._currentFingerRotation),a._currentFingerRotation=a.getAngle(a._touchCurrent[1],a._touchCurrent[0])+a.getAngle(a._touchStart[1],a._touchStart[0]),a.enablePan){if(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera){var t;a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),e=null===(t=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement))||void 0===t?void 0:t.applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._v3_2)}}else e=(new l.Vector3).setFromMatrixPosition(a._gizmoMatrixState);var n=l.MathUtils.DEG2RAD*(a._startFingerRotation-a._currentFingerRotation);void 0!==e&&a.applyTransformMatrix(a.zRotate(e,n)),a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"onRotateEnd",(function(){a.updateTbState(as.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"onPinchStart",(function(){a.enabled&&a.enableZoom&&(a.dispatchEvent(cs),a.updateTbState(as.SCALE,!0),a._startFingerDistance=a.calculatePointersDistance(a._touchCurrent[0],a._touchCurrent[1]),a._currentFingerDistance=a._startFingerDistance,a.activateGizmos(!1))})),(0,Lr.Z)((0,N.Z)(a),"onPinchMove",(function(){if(a.enabled&&a.enableZoom){a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2);a._state!=as.SCALE&&(a._startFingerDistance=a._currentFingerDistance,a.updateTbState(as.SCALE,!0)),a._currentFingerDistance=Math.max(a.calculatePointersDistance(a._touchCurrent[0],a._touchCurrent[1]),12*a._devPxRatio);var e,t,n=a._currentFingerDistance/a._startFingerDistance;if(a.enablePan){if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera)e=null===(t=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement))||void 0===t?void 0:t.applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._gizmos.position);else if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){var r;e=null===(r=a.unprojectOnTbPlane(a.camera,os.x,os.y,a.domElement))||void 0===r?void 0:r.applyQuaternion(a.camera.quaternion).add(a._gizmos.position)}}else e=a._gizmos.position;void 0!==e&&a.applyTransformMatrix(a.applyScale(n,e)),a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"onPinchEnd",(function(){a.updateTbState(as.IDLE,!1),a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"onTriplePanStart",(function(){if(a.enabled&&a.enableZoom){a.dispatchEvent(cs),a.updateTbState(as.SCALE,!0);for(var e=0,t=0,n=a._touchCurrent.length,r=0;r<n;r++)e+=a._touchCurrent[r].clientX,t+=a._touchCurrent[r].clientY;a.setCenter(e/n,t/n),a._startCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition)}})),(0,Lr.Z)((0,N.Z)(a),"onTriplePanMove",(function(){if(a.enabled&&a.enableZoom&&null!==a.camera){for(var e=0,t=0,n=a._touchCurrent.length,r=0;r<n;r++)e+=a._touchCurrent[r].clientX,t+=a._touchCurrent[r].clientY;a.setCenter(e/n,t/n);a._currentCursorPosition.setY(.5*a.getCursorNDC(os.x,os.y,a.domElement).y);var i=a._currentCursorPosition.y-a._startCursorPosition.y,o=1;i<0?o=1/Math.pow(a.scaleFactor,8*-i):i>0&&(o=Math.pow(a.scaleFactor,8*i)),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var s=a._v3_1.distanceTo(a._gizmos.position),u=s/o;u=l.MathUtils.clamp(u,a.minDistance,a.maxDistance);var c=s*Math.tan(l.MathUtils.DEG2RAD*a._fovState*.5),f=l.MathUtils.RAD2DEG*(2*Math.atan(c/u));f=l.MathUtils.clamp(f,a.minFov,a.maxFov);var d=c/Math.tan(l.MathUtils.DEG2RAD*(f/2));o=s/d,a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),a.setFov(f),a.applyTransformMatrix(a.applyScale(o,a._v3_2,!1));var h=a._gizmos.position.clone().sub(a.camera.position).normalize().multiplyScalar(d/s);a._m4_1.makeTranslation(h.x,h.y,h.z),a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"onTriplePanEnd",(function(){a.updateTbState(as.IDLE,!1),a.dispatchEvent(ls)})),(0,Lr.Z)((0,N.Z)(a),"setCenter",(function(e,t){os.x=e,os.y=t})),(0,Lr.Z)((0,N.Z)(a),"initializeMouseActions",(function(){a.setMouseAction("PAN",0,"CTRL"),a.setMouseAction("PAN",2),a.setMouseAction("ROTATE",0),a.setMouseAction("ZOOM","WHEEL"),a.setMouseAction("ZOOM",1),a.setMouseAction("FOV","WHEEL","SHIFT"),a.setMouseAction("FOV",1,"SHIFT")})),(0,Lr.Z)((0,N.Z)(a),"compareMouseAction",(function(e,t){return e.operation==t.operation&&(e.mouse==t.mouse&&e.key==t.key)})),(0,Lr.Z)((0,N.Z)(a),"setMouseAction",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=["PAN","ROTATE","ZOOM","FOV"],o=[0,1,2,"WHEEL"],s=["CTRL","SHIFT",null];if(!i.includes(e)||!o.includes(t)||!s.includes(r))return!1;if("WHEEL"==t&&"ZOOM"!=e&&"FOV"!=e)return!1;switch(e){case"PAN":n=as.PAN;break;case"ROTATE":n=as.ROTATE;break;case"ZOOM":n=as.SCALE;break;case"FOV":n=as.FOV}for(var u={operation:e,mouse:t,key:r,state:n},c=0;c<a.mouseActions.length;c++)if(a.mouseActions[c].mouse==u.mouse&&a.mouseActions[c].key==u.key)return a.mouseActions.splice(c,1,u),!0;return a.mouseActions.push(u),!0})),(0,Lr.Z)((0,N.Z)(a),"unsetMouseAction",(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<a.mouseActions.length;n++)if(a.mouseActions[n].mouse==e&&a.mouseActions[n].key==t)return a.mouseActions.splice(n,1),!0;return!1})),(0,Lr.Z)((0,N.Z)(a),"getOpFromAction",(function(e,t){for(var n,r=0;r<a.mouseActions.length;r++)if((n=a.mouseActions[r]).mouse==e&&n.key==t)return n.operation;if(null!=t)for(var i=0;i<a.mouseActions.length;i++)if((n=a.mouseActions[i]).mouse==e&&null==n.key)return n.operation;return null})),(0,Lr.Z)((0,N.Z)(a),"getOpStateFromAction",(function(e,t){for(var n,r=0;r<a.mouseActions.length;r++)if((n=a.mouseActions[r]).mouse==e&&n.key==t)return n.state;if(null!=t)for(var i=0;i<a.mouseActions.length;i++)if((n=a.mouseActions[i]).mouse==e&&null==n.key)return n.state;return null})),(0,Lr.Z)((0,N.Z)(a),"getAngle",(function(e,t){return 180*Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)/Math.PI})),(0,Lr.Z)((0,N.Z)(a),"updateTouchEvent",(function(e){for(var t=0;t<a._touchCurrent.length;t++)if(a._touchCurrent[t].pointerId==e.pointerId){a._touchCurrent.splice(t,1,e);break}})),(0,Lr.Z)((0,N.Z)(a),"calculateAngularSpeed",(function(e,t,n,r){var a=(r-n)/1e3;return 0==a?0:(t-e)/a})),(0,Lr.Z)((0,N.Z)(a),"calculatePointersDistance",(function(e,t){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))})),(0,Lr.Z)((0,N.Z)(a),"calculateRotationAxis",(function(e,t){return a._rotationMatrix.extractRotation(a._cameraMatrixState),a._quat.setFromRotationMatrix(a._rotationMatrix),a._rotationAxis.crossVectors(e,t).applyQuaternion(a._quat),a._rotationAxis.normalize().clone()})),(0,Lr.Z)((0,N.Z)(a),"calculateTbRadius",(function(e){var t=e.position.distanceTo(a._gizmos.position);if("PerspectiveCamera"==e.type&&e instanceof l.PerspectiveCamera){var n=l.MathUtils.DEG2RAD*e.fov*.5,r=Math.atan(e.aspect*Math.tan(n));return Math.tan(Math.min(n,r))*t*.67}if("OrthographicCamera"==e.type&&e instanceof l.OrthographicCamera)return.67*Math.min(e.top,e.right)})),(0,Lr.Z)((0,N.Z)(a),"focus",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(null!==a.camera){var r=e.clone();r.sub(a._gizmos.position).multiplyScalar(n),a._translationMatrix.makeTranslation(r.x,r.y,r.z);var i=a._gizmoMatrixState.clone();a._gizmoMatrixState.premultiply(a._translationMatrix),a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale);var o=a._cameraMatrixState.clone();a._cameraMatrixState.premultiply(a._translationMatrix),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.enableZoom&&a.applyTransformMatrix(a.applyScale(t,a._gizmos.position)),a._gizmoMatrixState.copy(i),a._cameraMatrixState.copy(o)}})),(0,Lr.Z)((0,N.Z)(a),"drawGrid",(function(){if(null!=a.scene){var e,t,n,r,i=8947848;if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera){var o=a.camera.right-a.camera.left,s=a.camera.bottom-a.camera.top;r=(n=Math.max(o,s))/20,t=(e=n/a.camera.zoom*3)/r*a.camera.zoom}else if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){var u=a.camera.position.distanceTo(a._gizmos.position),c=l.MathUtils.DEG2RAD*a.camera.fov*.5,f=Math.atan(a.camera.aspect*Math.tan(c));t=(e=3*(n=Math.tan(Math.max(c,f))*u*2))/(r=n/20)}null==a._grid&&null!==a.camera&&(a._grid=new l.GridHelper(e,t,i,i),a._grid.position.copy(a._gizmos.position),a._gridPosition.copy(a._grid.position),a._grid.quaternion.copy(a.camera.quaternion),a._grid.rotateX(.5*Math.PI),a.scene.add(a._grid))}})),(0,Lr.Z)((0,N.Z)(a),"dispose",(function(){var e;-1!=a._animationId&&window.cancelAnimationFrame(a._animationId),a.domElement.removeEventListener("pointerdown",a.onPointerDown),a.domElement.removeEventListener("pointercancel",a.onPointerCancel),a.domElement.removeEventListener("wheel",a.onWheel),a.domElement.removeEventListener("contextmenu",a.onContextMenu),window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),window.removeEventListener("resize",a.onWindowResize),window.addEventListener("keydown",a.onKeyDown),null===(e=a.scene)||void 0===e||e.remove(a._gizmos),a.disposeGrid()})),(0,Lr.Z)((0,N.Z)(a),"disposeGrid",(function(){null!=a._grid&&null!=a.scene&&(a.scene.remove(a._grid),a._grid=null)})),(0,Lr.Z)((0,N.Z)(a),"easeOutCubic",(function(e){return 1-Math.pow(1-e,3)})),(0,Lr.Z)((0,N.Z)(a),"activateGizmos",(function(e){var t=a._gizmos.children[0],n=a._gizmos.children[1],r=a._gizmos.children[2];e?(t.material.setValues({opacity:1}),n.material.setValues({opacity:1}),r.material.setValues({opacity:1})):(t.material.setValues({opacity:.6}),n.material.setValues({opacity:.6}),r.material.setValues({opacity:.6}))})),(0,Lr.Z)((0,N.Z)(a),"getCursorNDC",(function(e,t,n){var r=n.getBoundingClientRect();return a._v2_1.setX((e-r.left)/r.width*2-1),a._v2_1.setY((r.bottom-t)/r.height*2-1),a._v2_1.clone()})),(0,Lr.Z)((0,N.Z)(a),"getCursorPosition",(function(e,t,n){return a._v2_1.copy(a.getCursorNDC(e,t,n)),a.camera instanceof l.OrthographicCamera&&(a._v2_1.x*=.5*(a.camera.right-a.camera.left),a._v2_1.y*=.5*(a.camera.top-a.camera.bottom)),a._v2_1.clone()})),(0,Lr.Z)((0,N.Z)(a),"setCamera",(function(e){if(e instanceof l.PerspectiveCamera||e instanceof l.OrthographicCamera){e.lookAt(a.target),e.updateMatrix(),"PerspectiveCamera"==(null===e||void 0===e?void 0:e.type)&&e instanceof l.PerspectiveCamera&&(a._fov0=e.fov,a._fovState=e.fov),a._cameraMatrixState0.copy(e.matrix),a._cameraMatrixState.copy(a._cameraMatrixState0),a._cameraProjectionState.copy(e.projectionMatrix),a._zoom0=e.zoom,a._zoomState=a._zoom0,a._initialNear=e.near,a._nearPos0=e.position.distanceTo(a.target)-e.near,a._nearPos=a._initialNear,a._initialFar=e.far,a._farPos0=e.position.distanceTo(a.target)-e.far,a._farPos=a._initialFar,a._up0.copy(e.up),a._upState.copy(e.up),a.camera=e,(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera)&&a.camera.updateProjectionMatrix();var t=a.calculateTbRadius(e);void 0!==t&&(a._tbRadius=t),a.makeGizmos(a.target,a._tbRadius)}})),(0,Lr.Z)((0,N.Z)(a),"makeGizmos",(function(e,t){var n=new l.EllipseCurve(0,0,t,t).getPoints(a._curvePts),r=(new l.BufferGeometry).setFromPoints(n),i=new l.LineBasicMaterial({color:16744576,fog:!1,transparent:!0,opacity:.6}),o=new l.LineBasicMaterial({color:8454016,fog:!1,transparent:!0,opacity:.6}),s=new l.LineBasicMaterial({color:8421631,fog:!1,transparent:!0,opacity:.6}),u=new l.Line(r,i),c=new l.Line(r,o),f=new l.Line(r,s),d=.5*Math.PI;if(u.rotation.x=d,c.rotation.y=d,a._gizmoMatrixState0.identity().setPosition(e),a._gizmoMatrixState.copy(a._gizmoMatrixState0),(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera)&&1!=a.camera.zoom){var h=1/a.camera.zoom;a._scaleMatrix.makeScale(h,h,h),a._translationMatrix.makeTranslation(-e.x,-e.y,-e.z),a._gizmoMatrixState.premultiply(a._translationMatrix).premultiply(a._scaleMatrix),a._translationMatrix.makeTranslation(e.x,e.y,e.z),a._gizmoMatrixState.premultiply(a._translationMatrix)}a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a._gizmos.clear(),a._gizmos.add(u),a._gizmos.add(c),a._gizmos.add(f)})),(0,Lr.Z)((0,N.Z)(a),"onFocusAnim",(function(e,t,n,r){if(-1==a._timeStart&&(a._timeStart=e),a._state==as.ANIMATION_FOCUS){var i=(e-a._timeStart)/a.focusAnimationTime;if(a._gizmoMatrixState.copy(r),i>=1)a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.focus(t,a.scaleFactor),a._timeStart=-1,a.updateTbState(as.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(us);else{var o=a.easeOutCubic(i),s=1-o+a.scaleFactor*o;a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.focus(t,s,o),a.dispatchEvent(us);var u=(0,N.Z)(a);a._animationId=window.requestAnimationFrame((function(e){u.onFocusAnim(e,t,n,r.clone())}))}}else a._animationId=-1,a._timeStart=-1})),(0,Lr.Z)((0,N.Z)(a),"onRotationAnim",(function(e,t,n){if(-1==a._timeStart&&(a._anglePrev=0,a._angleCurrent=0,a._timeStart=e),a._state==as.ANIMATION_ROTATE){var r=(e-a._timeStart)/1e3;if(n+-a.dampingFactor*r>0){a._angleCurrent=.5*-a.dampingFactor*Math.pow(r,2)+n*r+0,a.applyTransformMatrix(a.rotate(t,a._angleCurrent)),a.dispatchEvent(us);var i=(0,N.Z)(a);a._animationId=window.requestAnimationFrame((function(e){i.onRotationAnim(e,t,n)}))}else a._animationId=-1,a._timeStart=-1,a.updateTbState(as.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(us)}else a._animationId=-1,a._timeStart=-1,a._state!=as.ROTATE&&(a.activateGizmos(!1),a.dispatchEvent(us))})),(0,Lr.Z)((0,N.Z)(a),"pan",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==a.camera){var r=e.clone().sub(t);if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera)r.multiplyScalar(1/a.camera.zoom);else if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&n){a._v3_1.setFromMatrixPosition(a._cameraMatrixState0),a._v3_2.setFromMatrixPosition(a._gizmoMatrixState0);var i=a._v3_1.distanceTo(a._v3_2)/a.camera.position.distanceTo(a._gizmos.position);r.multiplyScalar(1/i)}a._v3_1.set(r.x,r.y,0).applyQuaternion(a.camera.quaternion),a._m4_1.makeTranslation(a._v3_1.x,a._v3_1.y,a._v3_1.z),a.setTransformationMatrices(a._m4_1,a._m4_1)}return ss})),(0,Lr.Z)((0,N.Z)(a),"reset",(function(){if(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera){a.camera.zoom=a._zoom0,a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(a.camera.fov=a._fov0),a.camera.near=a._nearPos,a.camera.far=a._farPos,a._cameraMatrixState.copy(a._cameraMatrixState0),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.camera.up.copy(a._up0),a.camera.updateMatrix(),a.camera.updateProjectionMatrix(),a._gizmoMatrixState.copy(a._gizmoMatrixState0),a._gizmoMatrixState0.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a._gizmos.updateMatrix();var e=a.calculateTbRadius(a.camera);void 0!==e&&(a._tbRadius=e),a.makeGizmos(a._gizmos.position,a._tbRadius),a.camera.lookAt(a._gizmos.position),a.updateTbState(as.IDLE,!1),a.dispatchEvent(us)}})),(0,Lr.Z)((0,N.Z)(a),"rotate",(function(e,t){var n=a._gizmos.position;return a._translationMatrix.makeTranslation(-n.x,-n.y,-n.z),a._rotationMatrix.makeRotationAxis(e,-t),a._m4_1.makeTranslation(n.x,n.y,n.z),a._m4_1.multiply(a._rotationMatrix),a._m4_1.multiply(a._translationMatrix),a.setTransformationMatrices(a._m4_1),ss})),(0,Lr.Z)((0,N.Z)(a),"copyState",(function(){var e;a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera?e=JSON.stringify({arcballState:{cameraFar:a.camera.far,cameraMatrix:a.camera.matrix,cameraNear:a.camera.near,cameraUp:a.camera.up,cameraZoom:a.camera.zoom,gizmoMatrix:a._gizmos.matrix}}):a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(e=JSON.stringify({arcballState:{cameraFar:a.camera.far,cameraFov:a.camera.fov,cameraMatrix:a.camera.matrix,cameraNear:a.camera.near,cameraUp:a.camera.up,cameraZoom:a.camera.zoom,gizmoMatrix:a._gizmos.matrix}})),void 0!==e&&navigator.clipboard.writeText(e)})),(0,Lr.Z)((0,N.Z)(a),"pasteState",(function(){var e=(0,N.Z)(a);navigator.clipboard.readText().then((function(t){e.setStateFromJSON(t)}))})),(0,Lr.Z)((0,N.Z)(a),"saveState",(function(){(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera)&&(a._cameraMatrixState0.copy(a.camera.matrix),a._gizmoMatrixState0.copy(a._gizmos.matrix),a._nearPos=a.camera.near,a._farPos=a.camera.far,a._zoom0=a.camera.zoom,a._up0.copy(a.camera.up),a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(a._fov0=a.camera.fov))})),(0,Lr.Z)((0,N.Z)(a),"applyScale",(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.clone(),i=1/e;if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera){a.camera.zoom=a._zoomState,a.camera.zoom*=e,a.camera.zoom>a.maxZoom?(a.camera.zoom=a.maxZoom,i=a._zoomState/a.maxZoom):a.camera.zoom<a.minZoom&&(a.camera.zoom=a.minZoom,i=a._zoomState/a.minZoom),a.camera.updateProjectionMatrix(),a._v3_1.setFromMatrixPosition(a._gizmoMatrixState),a._scaleMatrix.makeScale(i,i,i),a._translationMatrix.makeTranslation(-a._v3_1.x,-a._v3_1.y,-a._v3_1.z),a._m4_2.makeTranslation(a._v3_1.x,a._v3_1.y,a._v3_1.z).multiply(a._scaleMatrix),a._m4_2.multiply(a._translationMatrix),r.sub(a._v3_1);var o=r.clone().multiplyScalar(i);return r.sub(o),a._m4_1.makeTranslation(r.x,r.y,r.z),a._m4_2.premultiply(a._m4_1),a.setTransformationMatrices(a._m4_1,a._m4_2),ss}if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){a._v3_1.setFromMatrixPosition(a._cameraMatrixState),a._v3_2.setFromMatrixPosition(a._gizmoMatrixState);var s=a._v3_1.distanceTo(r),u=s-s*i,c=s-u;c<a.minDistance?u=s-s*(i=a.minDistance/s):c>a.maxDistance&&(u=s-s*(i=a.maxDistance/s));var f=r.clone().sub(a._v3_1).normalize().multiplyScalar(u);if(a._m4_1.makeTranslation(f.x,f.y,f.z),n){var d=a._v3_2;u=(s=d.distanceTo(r))-s*i,f=r.clone().sub(a._v3_2).normalize().multiplyScalar(u),a._translationMatrix.makeTranslation(d.x,d.y,d.z),a._scaleMatrix.makeScale(i,i,i),a._m4_2.makeTranslation(f.x,f.y,f.z).multiply(a._translationMatrix),a._m4_2.multiply(a._scaleMatrix),a._translationMatrix.makeTranslation(-d.x,-d.y,-d.z),a._m4_2.multiply(a._translationMatrix),a.setTransformationMatrices(a._m4_1,a._m4_2)}else a.setTransformationMatrices(a._m4_1);return ss}})),(0,Lr.Z)((0,N.Z)(a),"setFov",(function(e){a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(a.camera.fov=l.MathUtils.clamp(e,a.minFov,a.maxFov),a.camera.updateProjectionMatrix())})),(0,Lr.Z)((0,N.Z)(a),"setTarget",(function(e,t,n){if(null!==a.camera){a.target.set(e,t,n),a._gizmos.position.set(e,t,n);var r=a.calculateTbRadius(a.camera);void 0!==r&&(a._tbRadius=r),a.makeGizmos(a.target,a._tbRadius),a.camera.lookAt(a.target)}})),(0,Lr.Z)((0,N.Z)(a),"zRotate",(function(e,t){return a._rotationMatrix.makeRotationAxis(a._rotationAxis,t),a._translationMatrix.makeTranslation(-e.x,-e.y,-e.z),a._m4_1.makeTranslation(e.x,e.y,e.z),a._m4_1.multiply(a._rotationMatrix),a._m4_1.multiply(a._translationMatrix),a._v3_1.setFromMatrixPosition(a._gizmoMatrixState).sub(e),a._v3_2.copy(a._v3_1).applyAxisAngle(a._rotationAxis,t),a._v3_2.sub(a._v3_1),a._m4_2.makeTranslation(a._v3_2.x,a._v3_2.y,a._v3_2.z),a.setTransformationMatrices(a._m4_1,a._m4_2),ss})),(0,Lr.Z)((0,N.Z)(a),"unprojectOnObj",(function(e,t){if((t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera)&&null!=a.scene){var n=new l.Raycaster;n.near=t.near,n.far=t.far,n.setFromCamera(e,t);for(var r=n.intersectObjects(a.scene.children,!0),i=0;i<r.length;i++)if(r[i].object.uuid!=a._gizmos.uuid&&null!=r[i].face)return r[i].point.clone()}return null})),(0,Lr.Z)((0,N.Z)(a),"unprojectOnTbSurface",(function(e,t,n,r,i){if("OrthographicCamera"==e.type){a._v2_1.copy(a.getCursorPosition(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,0);var o=Math.pow(a._v2_1.x,2),s=Math.pow(a._v2_1.y,2),u=Math.pow(a._tbRadius,2);return o+s<=.5*u?a._v3_1.setZ(Math.sqrt(u-(o+s))):a._v3_1.setZ(.5*u/Math.sqrt(o+s)),a._v3_1}if("PerspectiveCamera"==e.type){a._v2_1.copy(a.getCursorNDC(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,-1),a._v3_1.applyMatrix4(e.projectionMatrixInverse);var c=a._v3_1.clone().normalize(),f=e.position.distanceTo(a._gizmos.position),d=Math.pow(i,2),h=a._v3_1.z,p=Math.sqrt(Math.pow(a._v3_1.x,2)+Math.pow(a._v3_1.y,2));if(0==p)return c.set(a._v3_1.x,a._v3_1.y,i),c;var v=h/p,m=f,g=Math.pow(v,2)+1,y=2*v*m,_=Math.pow(m,2)-d,b=Math.pow(y,2)-4*g*_;if(b>=0)if(a._v2_1.setX((-y-Math.sqrt(b))/(2*g)),a._v2_1.setY(v*a._v2_1.x+m),l.MathUtils.RAD2DEG*a._v2_1.angle()>=45){var w=Math.sqrt(Math.pow(a._v2_1.x,2)+Math.pow(f-a._v2_1.y,2));return c.multiplyScalar(w),c.z+=f,c}g=v,y=m,_=.5*-d,b=Math.pow(y,2)-4*g*_,a._v2_1.setX((-y-Math.sqrt(b))/(2*g)),a._v2_1.setY(v*a._v2_1.x+m);var x=Math.sqrt(Math.pow(a._v2_1.x,2)+Math.pow(f-a._v2_1.y,2));return c.multiplyScalar(x),c.z+=f,c}})),(0,Lr.Z)((0,N.Z)(a),"unprojectOnTbPlane",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("OrthographicCamera"==e.type)return a._v2_1.copy(a.getCursorPosition(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,0),a._v3_1.clone();if("PerspectiveCamera"==e.type){a._v2_1.copy(a.getCursorNDC(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,-1),a._v3_1.applyMatrix4(e.projectionMatrixInverse);var o,s=a._v3_1.clone().normalize(),u=a._v3_1.z,c=Math.sqrt(Math.pow(a._v3_1.x,2)+Math.pow(a._v3_1.y,2));if(o=i?a._v3_1.setFromMatrixPosition(a._cameraMatrixState0).distanceTo(a._v3_2.setFromMatrixPosition(a._gizmoMatrixState0)):e.position.distanceTo(a._gizmos.position),0==c)return s.set(0,0,0),s;var l=u/c,f=o,d=-f/l,h=Math.sqrt(Math.pow(f,2)+Math.pow(d,2));return s.multiplyScalar(h),s.z=0,s}})),(0,Lr.Z)((0,N.Z)(a),"updateMatrixState",(function(){null!==a.camera&&(a._cameraMatrixState.copy(a.camera.matrix),a._gizmoMatrixState.copy(a._gizmos.matrix),a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera?(a._cameraProjectionState.copy(a.camera.projectionMatrix),a.camera.updateProjectionMatrix(),a._zoomState=a.camera.zoom):a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(a._fovState=a.camera.fov))})),(0,Lr.Z)((0,N.Z)(a),"updateTbState",(function(e,t){a._state=e,t&&a.updateMatrixState()})),(0,Lr.Z)((0,N.Z)(a),"update",(function(){var e,t=1e-6;if(!a.target.equals(a._currentTarget)&&null!==a.camera){a._gizmos.position.set(a.target.x,a.target.y,a.target.z);var n=a.calculateTbRadius(a.camera);void 0!==n&&(a._tbRadius=n),a.makeGizmos(a.target,a._tbRadius),a._currentTarget.copy(a.target)}if(a.camera instanceof l.OrthographicCamera&&a.camera.isOrthographicCamera){if(a.camera.zoom>a.maxZoom||a.camera.zoom<a.minZoom){var r=l.MathUtils.clamp(a.camera.zoom,a.minZoom,a.maxZoom);a.applyTransformMatrix(a.applyScale(r/a.camera.zoom,a._gizmos.position,!0))}}else if(a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera){var i=a.camera.position.distanceTo(a._gizmos.position);if(i>a.maxDistance+t||i<a.minDistance-t){var o=l.MathUtils.clamp(i,a.minDistance,a.maxDistance);a.applyTransformMatrix(a.applyScale(o/i,a._gizmos.position)),a.updateMatrixState()}(a.camera.fov<a.minFov||a.camera.fov>a.maxFov)&&(a.camera.fov=l.MathUtils.clamp(a.camera.fov,a.minFov,a.maxFov),a.camera.updateProjectionMatrix());var s=a._tbRadius,u=a.calculateTbRadius(a.camera);if(void 0!==u&&(a._tbRadius=u),s<a._tbRadius-t||s>a._tbRadius+t){var c=(a._gizmos.scale.x+a._gizmos.scale.y+a._gizmos.scale.z)/3,f=a._tbRadius/c,d=new l.EllipseCurve(0,0,f,f).getPoints(a._curvePts),h=(new l.BufferGeometry).setFromPoints(d);for(var p in a._gizmos.children){var v=a._gizmos.children[p];v instanceof l.Mesh&&(v.geometry=h)}}}null===(e=a.camera)||void 0===e||e.lookAt(a._gizmos.position)})),(0,Lr.Z)((0,N.Z)(a),"setStateFromJSON",(function(e){var t=JSON.parse(e);if(void 0!=t.arcballState&&(a.camera instanceof l.PerspectiveCamera||a.camera instanceof l.OrthographicCamera)){a._cameraMatrixState.fromArray(t.arcballState.cameraMatrix.elements),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.camera.up.copy(t.arcballState.cameraUp),a.camera.near=t.arcballState.cameraNear,a.camera.far=t.arcballState.cameraFar,a.camera.zoom=t.arcballState.cameraZoom,a.camera instanceof l.PerspectiveCamera&&a.camera.isPerspectiveCamera&&(a.camera.fov=t.arcballState.cameraFov),a._gizmoMatrixState.fromArray(t.arcballState.gizmoMatrix.elements),a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.camera.updateMatrix(),a.camera.updateProjectionMatrix(),a._gizmos.updateMatrix();var n=a.calculateTbRadius(a.camera);void 0!==n&&(a._tbRadius=n);var r=(new l.Matrix4).copy(a._gizmoMatrixState0);a.makeGizmos(a._gizmos.position,a._tbRadius),a._gizmoMatrixState0.copy(r),a.camera.lookAt(a._gizmos.position),a.updateTbState(as.IDLE,!1),a.dispatchEvent(us)}})),a.camera=null,a.domElement=r,a.scene=i,a.mouseActions=[],a._mouseOp=null,a._v2_1=new l.Vector2,a._v3_1=new l.Vector3,a._v3_2=new l.Vector3,a._m4_1=new l.Matrix4,a._m4_2=new l.Matrix4,a._quat=new l.Quaternion,a._translationMatrix=new l.Matrix4,a._rotationMatrix=new l.Matrix4,a._scaleMatrix=new l.Matrix4,a._rotationAxis=new l.Vector3,a._cameraMatrixState=new l.Matrix4,a._cameraProjectionState=new l.Matrix4,a._fovState=1,a._upState=new l.Vector3,a._zoomState=1,a._nearPos=0,a._farPos=0,a._gizmoMatrixState=new l.Matrix4,a._up0=new l.Vector3,a._zoom0=1,a._fov0=0,a._initialNear=0,a._nearPos0=0,a._initialFar=0,a._farPos0=0,a._cameraMatrixState0=new l.Matrix4,a._gizmoMatrixState0=new l.Matrix4,a._button=-1,a._touchStart=[],a._touchCurrent=[],a._input=is.NONE,a._switchSensibility=32,a._startFingerDistance=0,a._currentFingerDistance=0,a._startFingerRotation=0,a._currentFingerRotation=0,a._devPxRatio=0,a._downValid=!0,a._nclicks=0,a._downEvents=[],a._downStart=0,a._clickStart=0,a._maxDownTime=250,a._maxInterval=300,a._posThreshold=24,a._movementThreshold=24,a._currentCursorPosition=new l.Vector3,a._startCursorPosition=new l.Vector3,a._grid=null,a._gridPosition=new l.Vector3,a._gizmos=new l.Group,a._curvePts=128,a._timeStart=-1,a._animationId=-1,a.focusAnimationTime=500,a._timePrev=0,a._timeCurrent=0,a._anglePrev=0,a._angleCurrent=0,a._cursorPosPrev=new l.Vector3,a._cursorPosCurr=new l.Vector3,a._wPrev=0,a._wCurr=0,a.adjustNearFar=!1,a.scaleFactor=1.1,a.dampingFactor=25,a.wMax=20,a.enableAnimations=!0,a.enableGrid=!1,a.cursorZoom=!1,a.minFov=5,a.maxFov=90,a.enabled=!0,a.enablePan=!0,a.enableRotate=!0,a.enableZoom=!0,a.enableGizmos=!0,a.minDistance=0,a.maxDistance=1/0,a.minZoom=0,a.maxZoom=1/0,a.target=new l.Vector3(0,0,0),a._currentTarget=new l.Vector3(0,0,0),a._tbRadius=1,a._state=as.IDLE,a.setCamera(e),null!=a.scene&&a.scene.add(a._gizmos),a.domElement.style.touchAction="none",a._devPxRatio=window.devicePixelRatio,a.initializeMouseActions(),a.domElement.addEventListener("contextmenu",a.onContextMenu),a.domElement.addEventListener("wheel",a.onWheel),a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("pointercancel",a.onPointerCancel),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("resize",a.onWindowResize),a}return(0,Q.Z)(n,[{key:"applyTransformMatrix",value:function(e){if(null!=(null===e||void 0===e?void 0:e.camera)&&null!==this.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(e.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),this._state!=as.ROTATE&&this._state!=as.ZROTATE&&this._state!=as.ANIMATION_ROTATE||this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),null!=(null===e||void 0===e?void 0:e.gizmos)&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(e.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),(this._state==as.SCALE||this._state==as.FOCUS||this._state==as.ANIMATION_FOCUS)&&(this.camera instanceof l.PerspectiveCamera||this.camera instanceof l.OrthographicCamera)){var t=this.calculateTbRadius(this.camera);if(void 0!==t&&(this._tbRadius=t),this.adjustNearFar){var n=this.camera.position.distanceTo(this._gizmos.position),r=new l.Box3;r.setFromObject(this._gizmos);var a=new l.Sphere;r.getBoundingSphere(a);var i=Math.max(this._nearPos0,a.radius+a.center.length()),o=n-this._initialNear,s=Math.min(i,o);this.camera.near=n-s;var u=Math.min(this._farPos0,-a.radius+a.center.length()),c=n-this._initialFar,f=Math.min(u,c);this.camera.far=n-f,this.camera.updateProjectionMatrix()}else{var d=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,d=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,d=!0),d&&this.camera.updateProjectionMatrix()}}}},{key:"setGizmosVisible",value:function(e){this._gizmos.visible=e,this.dispatchEvent(us)}},{key:"setTransformationMatrices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?null!=ss.camera?ss.camera.copy(e):ss.camera=e.clone():ss.camera=null,null!=t?null!=ss.gizmos?ss.gizmos.copy(t):ss.gizmos=t.clone():ss.gizmos=null}}]),n}(l.EventDispatcher),ds=["makeDefault","camera","regress","domElement","onChange","onStart","onEnd"],hs=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.regress,i=e.domElement,c=e.onChange,l=e.onStart,d=e.onEnd,h=(0,o.Z)(e,ds),p=(0,f.useThree)((function(e){return e.invalidate})),v=(0,f.useThree)((function(e){return e.camera})),m=(0,f.useThree)((function(e){return e.gl})),g=(0,f.useThree)((function(e){return e.events})),y=(0,f.useThree)((function(e){return e.set})),_=(0,f.useThree)((function(e){return e.get})),b=(0,f.useThree)((function(e){return e.performance})),w=r||v,x=i||("boolean"!==typeof g.connected?g.connected:m.domElement),A=u.useMemo((function(){return new fs(w)}),[w]);return(0,f.useFrame)((function(){A.enabled&&A.update()})),u.useEffect((function(){var e=function(e){p(),a&&b.regress(),c&&c(e)};return A.connect(x),A.addEventListener("change",e),l&&A.addEventListener("start",l),d&&A.addEventListener("end",d),function(){A.removeEventListener("change",e),l&&A.removeEventListener("start",l),d&&A.removeEventListener("end",d),A.dispose()}}),[x,c,l,d,a,A,p]),u.useEffect((function(){if(n){var e=_().controls;return y({controls:A}),function(){return y({controls:e})}}}),[n,A]),u.createElement("primitive",s({ref:t,object:A},h))})),ps=n(537),vs=n.n(ps),ms=n(103),gs=n.n(ms),ys=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a,i;(0,K.Z)(this,n),i=t.call(this),(0,Lr.Z)((0,N.Z)(i),"isTransformControls",!0),(0,Lr.Z)((0,N.Z)(i),"visible",!1),(0,Lr.Z)((0,N.Z)(i),"domElement",void 0),(0,Lr.Z)((0,N.Z)(i),"raycaster",new l.Raycaster),(0,Lr.Z)((0,N.Z)(i),"gizmo",void 0),(0,Lr.Z)((0,N.Z)(i),"plane",void 0),(0,Lr.Z)((0,N.Z)(i),"tempVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"tempVector2",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"tempQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"unit",{X:new l.Vector3(1,0,0),Y:new l.Vector3(0,1,0),Z:new l.Vector3(0,0,1)}),(0,Lr.Z)((0,N.Z)(i),"pointStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"pointEnd",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"offset",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"rotationAxis",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"startNorm",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"endNorm",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"rotationAngle",0),(0,Lr.Z)((0,N.Z)(i),"cameraPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"cameraQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"cameraScale",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"parentPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"parentQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"parentQuaternionInv",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"parentScale",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"worldPositionStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"worldQuaternionStart",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"worldScaleStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"worldPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"worldQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"worldQuaternionInv",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"worldScale",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"eye",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"positionStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"quaternionStart",new l.Quaternion),(0,Lr.Z)((0,N.Z)(i),"scaleStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(i),"camera",void 0),(0,Lr.Z)((0,N.Z)(i),"object",void 0),(0,Lr.Z)((0,N.Z)(i),"enabled",!0),(0,Lr.Z)((0,N.Z)(i),"axis",null),(0,Lr.Z)((0,N.Z)(i),"mode","translate"),(0,Lr.Z)((0,N.Z)(i),"translationSnap",null),(0,Lr.Z)((0,N.Z)(i),"rotationSnap",null),(0,Lr.Z)((0,N.Z)(i),"scaleSnap",null),(0,Lr.Z)((0,N.Z)(i),"space","world"),(0,Lr.Z)((0,N.Z)(i),"size",1),(0,Lr.Z)((0,N.Z)(i),"dragging",!1),(0,Lr.Z)((0,N.Z)(i),"showX",!0),(0,Lr.Z)((0,N.Z)(i),"showY",!0),(0,Lr.Z)((0,N.Z)(i),"showZ",!0),(0,Lr.Z)((0,N.Z)(i),"changeEvent",{type:"change"}),(0,Lr.Z)((0,N.Z)(i),"mouseDownEvent",{type:"mouseDown",mode:i.mode}),(0,Lr.Z)((0,N.Z)(i),"mouseUpEvent",{type:"mouseUp",mode:i.mode}),(0,Lr.Z)((0,N.Z)(i),"objectChangeEvent",{type:"objectChange"}),(0,Lr.Z)((0,N.Z)(i),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),a=0;a<r.length;a++)if(r[a].object.visible||n)return r[a];return!1})),(0,Lr.Z)((0,N.Z)(i),"attach",(function(e){return i.object=e,i.visible=!0,(0,N.Z)(i)})),(0,Lr.Z)((0,N.Z)(i),"detach",(function(){return i.object=void 0,i.visible=!1,i.axis=null,(0,N.Z)(i)})),(0,Lr.Z)((0,N.Z)(i),"updateMatrixWorld",(function(){void 0!==i.object&&(i.object.updateMatrixWorld(),null===i.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):i.object.parent.matrixWorld.decompose(i.parentPosition,i.parentQuaternion,i.parentScale),i.object.matrixWorld.decompose(i.worldPosition,i.worldQuaternion,i.worldScale),i.parentQuaternionInv.copy(i.parentQuaternion).invert(),i.worldQuaternionInv.copy(i.worldQuaternion).invert()),i.camera.updateMatrixWorld(),i.camera.matrixWorld.decompose(i.cameraPosition,i.cameraQuaternion,i.cameraScale),i.eye.copy(i.cameraPosition).sub(i.worldPosition).normalize(),(0,G.Z)((a=(0,N.Z)(i),(0,H.Z)(n.prototype)),"updateMatrixWorld",a).call(a)})),(0,Lr.Z)((0,N.Z)(i),"pointerHover",(function(e){if(void 0!==i.object&&!0!==i.dragging){i.raycaster.setFromCamera(e,i.camera);var t=i.intersectObjectWithRay(i.gizmo.picker[i.mode],i.raycaster);i.axis=t?t.object.name:null}})),(0,Lr.Z)((0,N.Z)(i),"pointerDown",(function(e){if(void 0!==i.object&&!0!==i.dragging&&0===e.button&&null!==i.axis){i.raycaster.setFromCamera(e,i.camera);var t=i.intersectObjectWithRay(i.plane,i.raycaster,!0);if(t){var n=i.space;if("scale"===i.mode?n="local":"E"!==i.axis&&"XYZE"!==i.axis&&"XYZ"!==i.axis||(n="world"),"local"===n&&"rotate"===i.mode){var r=i.rotationSnap;"X"===i.axis&&r&&(i.object.rotation.x=Math.round(i.object.rotation.x/r)*r),"Y"===i.axis&&r&&(i.object.rotation.y=Math.round(i.object.rotation.y/r)*r),"Z"===i.axis&&r&&(i.object.rotation.z=Math.round(i.object.rotation.z/r)*r)}i.object.updateMatrixWorld(),i.object.parent&&i.object.parent.updateMatrixWorld(),i.positionStart.copy(i.object.position),i.quaternionStart.copy(i.object.quaternion),i.scaleStart.copy(i.object.scale),i.object.matrixWorld.decompose(i.worldPositionStart,i.worldQuaternionStart,i.worldScaleStart),i.pointStart.copy(t.point).sub(i.worldPositionStart)}i.dragging=!0,i.mouseDownEvent.mode=i.mode,i.dispatchEvent(i.mouseDownEvent)}})),(0,Lr.Z)((0,N.Z)(i),"pointerMove",(function(e){var t=i.axis,n=i.mode,r=i.object,a=i.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==r&&null!==t&&!1!==i.dragging&&-1===e.button){i.raycaster.setFromCamera(e,i.camera);var o=i.intersectObjectWithRay(i.plane,i.raycaster,!0);if(o){if(i.pointEnd.copy(o.point).sub(i.worldPositionStart),"translate"===n)i.offset.copy(i.pointEnd).sub(i.pointStart),"local"===a&&"XYZ"!==t&&i.offset.applyQuaternion(i.worldQuaternionInv),-1===t.indexOf("X")&&(i.offset.x=0),-1===t.indexOf("Y")&&(i.offset.y=0),-1===t.indexOf("Z")&&(i.offset.z=0),"local"===a&&"XYZ"!==t?i.offset.applyQuaternion(i.quaternionStart).divide(i.parentScale):i.offset.applyQuaternion(i.parentQuaternionInv).divide(i.parentScale),r.position.copy(i.offset).add(i.positionStart),i.translationSnap&&("local"===a&&(r.position.applyQuaternion(i.tempQuaternion.copy(i.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/i.translationSnap)*i.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/i.translationSnap)*i.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/i.translationSnap)*i.translationSnap),r.position.applyQuaternion(i.quaternionStart)),"world"===a&&(r.parent&&r.position.add(i.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/i.translationSnap)*i.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/i.translationSnap)*i.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/i.translationSnap)*i.translationSnap),r.parent&&r.position.sub(i.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=i.pointEnd.length()/i.pointStart.length();i.pointEnd.dot(i.pointStart)<0&&(s*=-1),i.tempVector2.set(s,s,s)}else i.tempVector.copy(i.pointStart),i.tempVector2.copy(i.pointEnd),i.tempVector.applyQuaternion(i.worldQuaternionInv),i.tempVector2.applyQuaternion(i.worldQuaternionInv),i.tempVector2.divide(i.tempVector),-1===t.search("X")&&(i.tempVector2.x=1),-1===t.search("Y")&&(i.tempVector2.y=1),-1===t.search("Z")&&(i.tempVector2.z=1);r.scale.copy(i.scaleStart).multiply(i.tempVector2),i.scaleSnap&&i.object&&(-1!==t.search("X")&&(i.object.scale.x=Math.round(r.scale.x/i.scaleSnap)*i.scaleSnap||i.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/i.scaleSnap)*i.scaleSnap||i.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/i.scaleSnap)*i.scaleSnap||i.scaleSnap))}else if("rotate"===n){i.offset.copy(i.pointEnd).sub(i.pointStart);var u=20/i.worldPosition.distanceTo(i.tempVector.setFromMatrixPosition(i.camera.matrixWorld));"E"===t?(i.rotationAxis.copy(i.eye),i.rotationAngle=i.pointEnd.angleTo(i.pointStart),i.startNorm.copy(i.pointStart).normalize(),i.endNorm.copy(i.pointEnd).normalize(),i.rotationAngle*=i.endNorm.cross(i.startNorm).dot(i.eye)<0?1:-1):"XYZE"===t?(i.rotationAxis.copy(i.offset).cross(i.eye).normalize(),i.rotationAngle=i.offset.dot(i.tempVector.copy(i.rotationAxis).cross(i.eye))*u):"X"!==t&&"Y"!==t&&"Z"!==t||(i.rotationAxis.copy(i.unit[t]),i.tempVector.copy(i.unit[t]),"local"===a&&i.tempVector.applyQuaternion(i.worldQuaternion),i.rotationAngle=i.offset.dot(i.tempVector.cross(i.eye).normalize())*u),i.rotationSnap&&(i.rotationAngle=Math.round(i.rotationAngle/i.rotationSnap)*i.rotationSnap),"local"===a&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(i.quaternionStart),r.quaternion.multiply(i.tempQuaternion.setFromAxisAngle(i.rotationAxis,i.rotationAngle)).normalize()):(i.rotationAxis.applyQuaternion(i.parentQuaternionInv),r.quaternion.copy(i.tempQuaternion.setFromAxisAngle(i.rotationAxis,i.rotationAngle)),r.quaternion.multiply(i.quaternionStart).normalize())}i.dispatchEvent(i.changeEvent),i.dispatchEvent(i.objectChangeEvent)}}})),(0,Lr.Z)((0,N.Z)(i),"pointerUp",(function(e){0===e.button&&(i.dragging&&null!==i.axis&&(i.mouseUpEvent.mode=i.mode,i.dispatchEvent(i.mouseUpEvent)),i.dragging=!1,i.axis=null)})),(0,Lr.Z)((0,N.Z)(i),"getPointer",(function(e){var t;if(i.domElement&&null!==(t=i.domElement.ownerDocument)&&void 0!==t&&t.pointerLockElement)return{x:0,y:0,button:e.button};var n,r=e.changedTouches?e.changedTouches[0]:e,a=null===(n=i.domElement)||void 0===n?void 0:n.getBoundingClientRect();return{x:(r.clientX-a.left)/a.width*2-1,y:-(r.clientY-a.top)/a.height*2+1,button:e.button}})),(0,Lr.Z)((0,N.Z)(i),"onPointerHover",(function(e){if(i.enabled)switch(e.pointerType){case"mouse":case"pen":i.pointerHover(i.getPointer(e))}})),(0,Lr.Z)((0,N.Z)(i),"onPointerDown",(function(e){var t;i.enabled&&(i.domElement.style.touchAction="none",null===(t=i.domElement.ownerDocument)||void 0===t||t.addEventListener("pointermove",i.onPointerMove),i.pointerHover(i.getPointer(e)),i.pointerDown(i.getPointer(e)))})),(0,Lr.Z)((0,N.Z)(i),"onPointerMove",(function(e){i.enabled&&i.pointerMove(i.getPointer(e))})),(0,Lr.Z)((0,N.Z)(i),"onPointerUp",(function(e){var t;i.enabled&&(i.domElement.style.touchAction="",null===(t=i.domElement.ownerDocument)||void 0===t||t.removeEventListener("pointermove",i.onPointerMove),i.pointerUp(i.getPointer(e)))})),(0,Lr.Z)((0,N.Z)(i),"getMode",(function(){return i.mode})),(0,Lr.Z)((0,N.Z)(i),"setMode",(function(e){i.mode=e})),(0,Lr.Z)((0,N.Z)(i),"setTranslationSnap",(function(e){i.translationSnap=e})),(0,Lr.Z)((0,N.Z)(i),"setRotationSnap",(function(e){i.rotationSnap=e})),(0,Lr.Z)((0,N.Z)(i),"setScaleSnap",(function(e){i.scaleSnap=e})),(0,Lr.Z)((0,N.Z)(i),"setSize",(function(e){i.size=e})),(0,Lr.Z)((0,N.Z)(i),"setSpace",(function(e){i.space=e})),(0,Lr.Z)((0,N.Z)(i),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),(0,Lr.Z)((0,N.Z)(i),"dispose",(function(){var e,t;i.domElement.removeEventListener("pointerdown",i.onPointerDown),i.domElement.removeEventListener("pointermove",i.onPointerHover),null===(e=i.domElement.ownerDocument)||void 0===e||e.removeEventListener("pointermove",i.onPointerMove),null===(t=i.domElement.ownerDocument)||void 0===t||t.removeEventListener("pointerup",i.onPointerUp),i.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),void 0===r&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),i.domElement=document),i.domElement=r,i.camera=e,i.gizmo=new _s,i.add(i.gizmo),i.plane=new bs,i.add(i.plane);var o=function(e,t){var n=t;Object.defineProperty((0,N.Z)(i),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),i[e]=t,i.plane[e]=t,i.gizmo[e]=t};return o("camera",i.camera),o("object",i.object),o("enabled",i.enabled),o("axis",i.axis),o("mode",i.mode),o("translationSnap",i.translationSnap),o("rotationSnap",i.rotationSnap),o("scaleSnap",i.scaleSnap),o("space",i.space),o("size",i.size),o("dragging",i.dragging),o("showX",i.showX),o("showY",i.showY),o("showZ",i.showZ),o("worldPosition",i.worldPosition),o("worldPositionStart",i.worldPositionStart),o("worldQuaternion",i.worldQuaternion),o("worldQuaternionStart",i.worldQuaternionStart),o("cameraPosition",i.cameraPosition),o("cameraQuaternion",i.cameraQuaternion),o("pointStart",i.pointStart),o("pointEnd",i.pointEnd),o("rotationAxis",i.rotationAxis),o("rotationAngle",i.rotationAngle),o("eye",i.eye),r.addEventListener("pointerdown",i.onPointerDown),r.addEventListener("pointermove",i.onPointerHover),i.domElement.ownerDocument.addEventListener("pointerup",i.onPointerUp),i}return(0,Q.Z)(n)}(l.Object3D),_s=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r;(0,K.Z)(this,n),r=t.call(this),(0,Lr.Z)((0,N.Z)(r),"isTransformControlsGizmo",!0),(0,Lr.Z)((0,N.Z)(r),"type","TransformControlsGizmo"),(0,Lr.Z)((0,N.Z)(r),"tempVector",new l.Vector3(0,0,0)),(0,Lr.Z)((0,N.Z)(r),"tempEuler",new l.Euler),(0,Lr.Z)((0,N.Z)(r),"alignVector",new l.Vector3(0,1,0)),(0,Lr.Z)((0,N.Z)(r),"zeroVector",new l.Vector3(0,0,0)),(0,Lr.Z)((0,N.Z)(r),"lookAtMatrix",new l.Matrix4),(0,Lr.Z)((0,N.Z)(r),"tempQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"tempQuaternion2",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"identityQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"unitX",new l.Vector3(1,0,0)),(0,Lr.Z)((0,N.Z)(r),"unitY",new l.Vector3(0,1,0)),(0,Lr.Z)((0,N.Z)(r),"unitZ",new l.Vector3(0,0,1)),(0,Lr.Z)((0,N.Z)(r),"gizmo",void 0),(0,Lr.Z)((0,N.Z)(r),"picker",void 0),(0,Lr.Z)((0,N.Z)(r),"helper",void 0),(0,Lr.Z)((0,N.Z)(r),"rotationAxis",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"cameraPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"worldPositionStart",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"worldQuaternionStart",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"worldPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"worldQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"eye",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"camera",null),(0,Lr.Z)((0,N.Z)(r),"enabled",!0),(0,Lr.Z)((0,N.Z)(r),"axis",null),(0,Lr.Z)((0,N.Z)(r),"mode","translate"),(0,Lr.Z)((0,N.Z)(r),"space","world"),(0,Lr.Z)((0,N.Z)(r),"size",1),(0,Lr.Z)((0,N.Z)(r),"dragging",!1),(0,Lr.Z)((0,N.Z)(r),"showX",!0),(0,Lr.Z)((0,N.Z)(r),"showY",!0),(0,Lr.Z)((0,N.Z)(r),"showZ",!0),(0,Lr.Z)((0,N.Z)(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var a="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var i=[];i=(i=(i=i.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var o=function(e){var t=i[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(a),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";if(t.quaternion.copy(a),"translate"===r.mode||"scale"===r.mode){var o=.99;"X"!==t.name&&"XYZX"!==t.name||Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Y"!==t.name&&"XYZY"!==t.name||Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Z"!==t.name&&"XYZZ"!==t.name||Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))}else"rotate"===r.mode&&(r.tempQuaternion2.copy(a),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(a).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)));t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new l.Color(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new l.Color(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new l.Color(1,1,1),.5))},s=0;s<i.length;s++)o(s);(0,G.Z)((e=(0,N.Z)(r),(0,H.Z)(n.prototype)),"updateMatrixWorld",e).call(e)}));var a=new l.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:l.DoubleSide,fog:!1,toneMapped:!1}),i=new l.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),o=a.clone();o.opacity=.15;var s=a.clone();s.opacity=.33;var u=a.clone();u.color.set(16711680);var c=a.clone();c.color.set(65280);var f=a.clone();f.color.set(255);var d=a.clone();d.opacity=.25;var h=d.clone();h.color.set(16776960);var p=d.clone();p.color.set(65535);var v=d.clone();v.color.set(16711935),a.clone().color.set(16776960);var m=i.clone();m.color.set(16711680);var g=i.clone();g.color.set(65280);var y=i.clone();y.color.set(255);var _=i.clone();_.color.set(65535);var b=i.clone();b.color.set(16711935);var w=i.clone();w.color.set(16776960);var x=i.clone();x.color.set(7895160);var A=w.clone();A.opacity=.25;var M=new l.CylinderGeometry(0,.05,.2,12,1,!1),E=new l.BoxGeometry(.125,.125,.125),C=new l.BufferGeometry;C.setAttribute("position",new l.Float32BufferAttribute([0,0,0,1,0,0],3));var S=function(e,t){for(var n=new l.BufferGeometry,r=[],a=0;a<=64*t;++a)r.push(0,Math.cos(a/32*Math.PI)*e,Math.sin(a/32*Math.PI)*e);return n.setAttribute("position",new l.Float32BufferAttribute(r,3)),n},T={X:[[new l.Mesh(M,u),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new l.Mesh(M,u),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new l.Line(C,m)]],Y:[[new l.Mesh(M,c),[0,1,0],null,null,"fwd"],[new l.Mesh(M,c),[0,1,0],[Math.PI,0,0],null,"bwd"],[new l.Line(C,g),null,[0,0,Math.PI/2]]],Z:[[new l.Mesh(M,f),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new l.Mesh(M,f),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new l.Line(C,y),null,[0,-Math.PI/2,0]]],XYZ:[[new l.Mesh(new l.OctahedronGeometry(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new l.Mesh(new l.PlaneGeometry(.295,.295),h.clone()),[.15,.15,0]],[new l.Line(C,w),[.18,.3,0],null,[.125,1,1]],[new l.Line(C,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new l.Mesh(new l.PlaneGeometry(.295,.295),p.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new l.Line(C,_),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new l.Line(C,_),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new l.Mesh(new l.PlaneGeometry(.295,.295),v.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new l.Line(C,b),[.18,0,.3],null,[.125,1,1]],[new l.Line(C,b),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},k={X:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[0,.6,0]]],Z:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new l.Mesh(new l.OctahedronGeometry(.2,0),o)]],XY:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[.2,.2,0]]],YZ:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[.2,0,.2],[-Math.PI/2,0,0]]]},B={START:[[new l.Mesh(new l.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],END:[[new l.Mesh(new l.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],DELTA:[[new l.Line(function(){var e=new l.BufferGeometry;return e.setAttribute("position",new l.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),s),null,null,null,"helper"]],X:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new l.Line(C,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new l.Line(C,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},P={X:[[new l.Line(S(1,.5),m)],[new l.Mesh(new l.OctahedronGeometry(.04,0),u),[0,0,.99],null,[1,3,1]]],Y:[[new l.Line(S(1,.5),g),null,[0,0,-Math.PI/2]],[new l.Mesh(new l.OctahedronGeometry(.04,0),c),[0,0,.99],null,[3,1,1]]],Z:[[new l.Line(S(1,.5),y),null,[0,Math.PI/2,0]],[new l.Mesh(new l.OctahedronGeometry(.04,0),f),[.99,0,0],null,[1,3,1]]],E:[[new l.Line(S(1.25,1),A),null,[0,Math.PI/2,0]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new l.Line(S(1,1),x),null,[0,Math.PI/2,0]]]},L={AXIS:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},D={X:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new l.Mesh(new l.TorusGeometry(1.25,.1,2,24),o)]],XYZE:[[new l.Mesh(new l.SphereGeometry(.7,10,8),o)]]},R={X:[[new l.Mesh(E,u),[.8,0,0],[0,0,-Math.PI/2]],[new l.Line(C,m),null,null,[.8,1,1]]],Y:[[new l.Mesh(E,c),[0,.8,0]],[new l.Line(C,g),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new l.Mesh(E,f),[0,0,.8],[Math.PI/2,0,0]],[new l.Line(C,y),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new l.Mesh(E,h),[.85,.85,0],null,[2,2,.2]],[new l.Line(C,w),[.855,.98,0],null,[.125,1,1]],[new l.Line(C,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new l.Mesh(E,p),[0,.85,.85],null,[.2,2,2]],[new l.Line(C,_),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new l.Line(C,_),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new l.Mesh(E,v),[.85,0,.85],null,[2,.2,2]],[new l.Line(C,b),[.855,0,.98],null,[.125,1,1]],[new l.Line(C,b),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[0,0,1.1]]]},F={X:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,.5,0]]],Z:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new l.Mesh(E,o),[.85,.85,0],null,[3,3,.2]]],YZ:[[new l.Mesh(E,o),[0,.85,.85],null,[.2,3,3]]],XZ:[[new l.Mesh(E,o),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[1.1,0,0]]],XYZY:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[0,1.1,0]]],XYZZ:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[0,0,1.1]]]},I={X:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new l.Line(C,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new l.Line(C,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},O=function(e){var t=new l.Object3D;for(var n in e)for(var r=e[n].length;r--;){var a=e[n][r][0].clone(),i=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];a.name=n,a.tag=u,i&&a.position.set(i[0],i[1],i[2]),o&&a.rotation.set(o[0],o[1],o[2]),s&&a.scale.set(s[0],s[1],s[2]),a.updateMatrix();var c=a.geometry.clone();c.applyMatrix4(a.matrix),a.geometry=c,a.renderOrder=1/0,a.position.set(0,0,0),a.rotation.set(0,0,0),a.scale.set(1,1,1),t.add(a)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=O(T)),r.add(r.gizmo.rotate=O(P)),r.add(r.gizmo.scale=O(R)),r.add(r.picker.translate=O(k)),r.add(r.picker.rotate=O(D)),r.add(r.picker.scale=O(F)),r.add(r.helper.translate=O(B)),r.add(r.helper.rotate=O(L)),r.add(r.helper.scale=O(I)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return(0,Q.Z)(n)}(l.Object3D),bs=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r;return(0,K.Z)(this,n),r=t.call(this,new l.PlaneGeometry(1e5,1e5,2,2),new l.MeshBasicMaterial({visible:!1,wireframe:!0,side:l.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),(0,Lr.Z)((0,N.Z)(r),"isTransformControlsPlane",!0),(0,Lr.Z)((0,N.Z)(r),"type","TransformControlsPlane"),(0,Lr.Z)((0,N.Z)(r),"unitX",new l.Vector3(1,0,0)),(0,Lr.Z)((0,N.Z)(r),"unitY",new l.Vector3(0,1,0)),(0,Lr.Z)((0,N.Z)(r),"unitZ",new l.Vector3(0,0,1)),(0,Lr.Z)((0,N.Z)(r),"tempVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"dirVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"alignVector",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"tempMatrix",new l.Matrix4),(0,Lr.Z)((0,N.Z)(r),"identityQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"cameraQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"worldPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"worldQuaternion",new l.Quaternion),(0,Lr.Z)((0,N.Z)(r),"eye",new l.Vector3),(0,Lr.Z)((0,N.Z)(r),"axis",null),(0,Lr.Z)((0,N.Z)(r),"mode","translate"),(0,Lr.Z)((0,N.Z)(r),"space","world"),(0,Lr.Z)((0,N.Z)(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),(0,G.Z)((e=(0,N.Z)(r),(0,H.Z)(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return(0,Q.Z)(n)}(l.Mesh),ws=["children","onChange","onMouseDown","onMouseUp","onObjectChange","object"],xs=["camera"],As=u.forwardRef((function(e,t){var n=e.children,r=e.onChange,a=e.onMouseDown,c=e.onMouseUp,d=e.onObjectChange,h=e.object,p=(0,o.Z)(e,ws),v=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],m=p.camera,g=(0,o.Z)(p,xs),y=gs()(g,v),_=vs()(g,v),b=(0,f.useThree)((function(e){return e.controls})),w=(0,f.useThree)((function(e){return e.gl})),x=(0,f.useThree)((function(e){return e.camera})),A=(0,f.useThree)((function(e){return e.invalidate})),M=m||x,E=u.useState((function(){return new ys(M,w.domElement)})),C=(0,i.Z)(E,1)[0],S=u.useRef();return u.useLayoutEffect((function(){h?null==C||C.attach(h instanceof l.Object3D?h:h.current):null==C||C.attach(S.current)}),[h,n,C]),u.useEffect((function(){if(b){var e=function(e){return b.enabled=!e.value};return C.addEventListener("dragging-changed",e),function(){return C.removeEventListener("dragging-changed",e)}}}),[C,b]),u.useEffect((function(){var e=function(e){A(),r&&r(e)};return null==C||null==C.addEventListener||C.addEventListener("change",e),a&&(null==C||null==C.addEventListener||C.addEventListener("mouseDown",a)),c&&(null==C||null==C.addEventListener||C.addEventListener("mouseUp",c)),d&&(null==C||null==C.addEventListener||C.addEventListener("objectChange",d)),function(){null==C||null==C.removeEventListener||C.removeEventListener("change",e),a&&(null==C||null==C.removeEventListener||C.removeEventListener("mouseDown",a)),c&&(null==C||null==C.removeEventListener||C.removeEventListener("mouseUp",c)),d&&(null==C||null==C.removeEventListener||C.removeEventListener("objectChange",d))}}),[r,a,c,d,C,A]),C?u.createElement(u.Fragment,null,u.createElement("primitive",s({ref:t,dispose:void 0,object:C},y)),u.createElement("group",s({ref:S},_),n)):null})),Ms=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"camera",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"isLocked",!1),(0,Lr.Z)((0,N.Z)(a),"minPolarAngle",0),(0,Lr.Z)((0,N.Z)(a),"maxPolarAngle",Math.PI),(0,Lr.Z)((0,N.Z)(a),"changeEvent",{type:"change"}),(0,Lr.Z)((0,N.Z)(a),"lockEvent",{type:"lock"}),(0,Lr.Z)((0,N.Z)(a),"unlockEvent",{type:"unlock"}),(0,Lr.Z)((0,N.Z)(a),"euler",new l.Euler(0,0,0,"YXZ")),(0,Lr.Z)((0,N.Z)(a),"PI_2",Math.PI/2),(0,Lr.Z)((0,N.Z)(a),"vec",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"onMouseMove",(function(e){if(!1!==a.isLocked){var t=e.movementX||e.mozMovementX||e.webkitMovementX||0,n=e.movementY||e.mozMovementY||e.webkitMovementY||0;a.euler.setFromQuaternion(a.camera.quaternion),a.euler.y-=.002*t,a.euler.x-=.002*n,a.euler.x=Math.max(a.PI_2-a.maxPolarAngle,Math.min(a.PI_2-a.minPolarAngle,a.euler.x)),a.camera.quaternion.setFromEuler(a.euler),a.dispatchEvent(a.changeEvent)}})),(0,Lr.Z)((0,N.Z)(a),"onPointerlockChange",(function(){a.domElement.ownerDocument.pointerLockElement===a.domElement?(a.dispatchEvent(a.lockEvent),a.isLocked=!0):(a.dispatchEvent(a.unlockEvent),a.isLocked=!1)})),(0,Lr.Z)((0,N.Z)(a),"onPointerlockError",(function(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")})),(0,Lr.Z)((0,N.Z)(a),"connect",(function(){a.domElement.ownerDocument.addEventListener("mousemove",a.onMouseMove),a.domElement.ownerDocument.addEventListener("pointerlockchange",a.onPointerlockChange),a.domElement.ownerDocument.addEventListener("pointerlockerror",a.onPointerlockError)})),(0,Lr.Z)((0,N.Z)(a),"disconnect",(function(){a.domElement.ownerDocument.removeEventListener("mousemove",a.onMouseMove),a.domElement.ownerDocument.removeEventListener("pointerlockchange",a.onPointerlockChange),a.domElement.ownerDocument.removeEventListener("pointerlockerror",a.onPointerlockError)})),(0,Lr.Z)((0,N.Z)(a),"dispose",(function(){a.disconnect()})),(0,Lr.Z)((0,N.Z)(a),"getObject",(function(){return a.camera})),(0,Lr.Z)((0,N.Z)(a),"direction",new l.Vector3(0,0,-1)),(0,Lr.Z)((0,N.Z)(a),"getDirection",(function(e){return e.copy(a.direction).applyQuaternion(a.camera.quaternion)})),(0,Lr.Z)((0,N.Z)(a),"moveForward",(function(e){a.vec.setFromMatrixColumn(a.camera.matrix,0),a.vec.crossVectors(a.camera.up,a.vec),a.camera.position.addScaledVector(a.vec,e)})),(0,Lr.Z)((0,N.Z)(a),"moveRight",(function(e){a.vec.setFromMatrixColumn(a.camera.matrix,0),a.camera.position.addScaledVector(a.vec,e)})),(0,Lr.Z)((0,N.Z)(a),"lock",(function(){a.domElement.requestPointerLock()})),(0,Lr.Z)((0,N.Z)(a),"unlock",(function(){a.domElement.ownerDocument.exitPointerLock()})),void 0===r&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),r=document.body),a.domElement=r,a.camera=e,a.connect(),a}return(0,Q.Z)(n)}(l.EventDispatcher),Es=["selector","onChange","onLock","onUnlock"],Cs=["camera"],Ss=u.forwardRef((function(e,t){var n=e.selector,r=e.onChange,a=e.onLock,c=e.onUnlock,l=(0,o.Z)(e,Es),d=l.camera,h=(0,o.Z)(l,Cs),p=(0,f.useThree)((function(e){return e.gl})),v=(0,f.useThree)((function(e){return e.camera})),m=(0,f.useThree)((function(e){return e.invalidate})),g=d||v,y=u.useState((function(){return new Ms(g,p.domElement)})),_=(0,i.Z)(y,1)[0];return u.useEffect((function(){var e=function(e){m(),r&&r(e)};return null==_||null==_.addEventListener||_.addEventListener("change",e),a&&(null==_||null==_.addEventListener||_.addEventListener("lock",a)),c&&(null==_||null==_.addEventListener||_.addEventListener("unlock",c)),function(){null==_||null==_.removeEventListener||_.removeEventListener("change",e),a&&(null==_||null==_.addEventListener||_.addEventListener("lock",a)),c&&(null==_||null==_.addEventListener||_.addEventListener("unlock",c))}}),[r,a,c,_,m]),u.useEffect((function(){var e=function(){return null==_?void 0:_.lock()},t=n?Array.from(document.querySelectorAll(n)):[document];return t.forEach((function(t){return t&&t.addEventListener("click",e)})),function(){t.forEach((function(t){return t?t.removeEventListener("click",e):void 0}))}}),[_,n]),_?u.createElement("primitive",s({ref:t,dispose:void 0,object:_},h)):null})),Ts=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r){var a;return(0,K.Z)(this,n),a=t.call(this),(0,Lr.Z)((0,N.Z)(a),"object",void 0),(0,Lr.Z)((0,N.Z)(a),"domElement",void 0),(0,Lr.Z)((0,N.Z)(a),"enabled",!0),(0,Lr.Z)((0,N.Z)(a),"movementSpeed",1),(0,Lr.Z)((0,N.Z)(a),"lookSpeed",.005),(0,Lr.Z)((0,N.Z)(a),"lookVertical",!0),(0,Lr.Z)((0,N.Z)(a),"autoForward",!1),(0,Lr.Z)((0,N.Z)(a),"activeLook",!0),(0,Lr.Z)((0,N.Z)(a),"heightSpeed",!1),(0,Lr.Z)((0,N.Z)(a),"heightCoef",1),(0,Lr.Z)((0,N.Z)(a),"heightMin",0),(0,Lr.Z)((0,N.Z)(a),"heightMax",1),(0,Lr.Z)((0,N.Z)(a),"constrainVertical",!1),(0,Lr.Z)((0,N.Z)(a),"verticalMin",0),(0,Lr.Z)((0,N.Z)(a),"verticalMax",Math.PI),(0,Lr.Z)((0,N.Z)(a),"mouseDragOn",!1),(0,Lr.Z)((0,N.Z)(a),"autoSpeedFactor",0),(0,Lr.Z)((0,N.Z)(a),"mouseX",0),(0,Lr.Z)((0,N.Z)(a),"mouseY",0),(0,Lr.Z)((0,N.Z)(a),"moveForward",!1),(0,Lr.Z)((0,N.Z)(a),"moveBackward",!1),(0,Lr.Z)((0,N.Z)(a),"moveLeft",!1),(0,Lr.Z)((0,N.Z)(a),"moveRight",!1),(0,Lr.Z)((0,N.Z)(a),"moveUp",!1),(0,Lr.Z)((0,N.Z)(a),"moveDown",!1),(0,Lr.Z)((0,N.Z)(a),"viewHalfX",0),(0,Lr.Z)((0,N.Z)(a),"viewHalfY",0),(0,Lr.Z)((0,N.Z)(a),"lat",0),(0,Lr.Z)((0,N.Z)(a),"lon",0),(0,Lr.Z)((0,N.Z)(a),"lookDirection",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"spherical",new l.Spherical),(0,Lr.Z)((0,N.Z)(a),"target",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"dispose",(function(){a.domElement.removeEventListener("contextmenu",a.contextmenu),a.domElement.removeEventListener("mousedown",a.onMouseDown),a.domElement.removeEventListener("mousemove",a.onMouseMove),a.domElement.removeEventListener("mouseup",a.onMouseUp),window.removeEventListener("keydown",a.onKeyDown),window.removeEventListener("keyup",a.onKeyUp)})),(0,Lr.Z)((0,N.Z)(a),"handleResize",(function(){a.domElement instanceof Document?(a.viewHalfX=window.innerWidth/2,a.viewHalfY=window.innerHeight/2):(a.viewHalfX=a.domElement.offsetWidth/2,a.viewHalfY=a.domElement.offsetHeight/2)})),(0,Lr.Z)((0,N.Z)(a),"onMouseDown",(function(e){if(a.domElement instanceof HTMLElement&&a.domElement.focus(),a.activeLook)switch(e.button){case 0:a.moveForward=!0;break;case 2:a.moveBackward=!0}a.mouseDragOn=!0})),(0,Lr.Z)((0,N.Z)(a),"onMouseUp",(function(e){if(a.activeLook)switch(e.button){case 0:a.moveForward=!1;break;case 2:a.moveBackward=!1}a.mouseDragOn=!1})),(0,Lr.Z)((0,N.Z)(a),"onMouseMove",(function(e){a.domElement instanceof Document?(a.mouseX=e.pageX-a.viewHalfX,a.mouseY=e.pageY-a.viewHalfY):(a.mouseX=e.pageX-a.domElement.offsetLeft-a.viewHalfX,a.mouseY=e.pageY-a.domElement.offsetTop-a.viewHalfY)})),(0,Lr.Z)((0,N.Z)(a),"onKeyDown",(function(e){switch(e.code){case"ArrowUp":case"KeyW":a.moveForward=!0;break;case"ArrowLeft":case"KeyA":a.moveLeft=!0;break;case"ArrowDown":case"KeyS":a.moveBackward=!0;break;case"ArrowRight":case"KeyD":a.moveRight=!0;break;case"KeyR":a.moveUp=!0;break;case"KeyF":a.moveDown=!0}})),(0,Lr.Z)((0,N.Z)(a),"onKeyUp",(function(e){switch(e.code){case"ArrowUp":case"KeyW":a.moveForward=!1;break;case"ArrowLeft":case"KeyA":a.moveLeft=!1;break;case"ArrowDown":case"KeyS":a.moveBackward=!1;break;case"ArrowRight":case"KeyD":a.moveRight=!1;break;case"KeyR":a.moveUp=!1;break;case"KeyF":a.moveDown=!1}})),(0,Lr.Z)((0,N.Z)(a),"lookAt",(function(e,t,n){return e instanceof l.Vector3?a.target.copy(e):t&&n&&a.target.set(e,t,n),a.object.lookAt(a.target),a.setOrientation((0,N.Z)(a)),(0,N.Z)(a)})),(0,Lr.Z)((0,N.Z)(a),"targetPosition",new l.Vector3),(0,Lr.Z)((0,N.Z)(a),"update",(function(e){if(!1!==a.enabled){if(a.heightSpeed){var t=l.MathUtils.clamp(a.object.position.y,a.heightMin,a.heightMax)-a.heightMin;a.autoSpeedFactor=e*(t*a.heightCoef)}else a.autoSpeedFactor=0;var n=e*a.movementSpeed;(a.moveForward||a.autoForward&&!a.moveBackward)&&a.object.translateZ(-(n+a.autoSpeedFactor)),a.moveBackward&&a.object.translateZ(n),a.moveLeft&&a.object.translateX(-n),a.moveRight&&a.object.translateX(n),a.moveUp&&a.object.translateY(n),a.moveDown&&a.object.translateY(-n);var r=e*a.lookSpeed;a.activeLook||(r=0);var i=1;a.constrainVertical&&(i=Math.PI/(a.verticalMax-a.verticalMin)),a.lon-=a.mouseX*r,a.lookVertical&&(a.lat-=a.mouseY*r*i),a.lat=Math.max(-85,Math.min(85,a.lat));var o=l.MathUtils.degToRad(90-a.lat),s=l.MathUtils.degToRad(a.lon);a.constrainVertical&&(o=l.MathUtils.mapLinear(o,0,Math.PI,a.verticalMin,a.verticalMax));var u=a.object.position;a.targetPosition.setFromSphericalCoords(1,o,s).add(u),a.object.lookAt(a.targetPosition)}})),(0,Lr.Z)((0,N.Z)(a),"contextmenu",(function(e){return e.preventDefault()})),(0,Lr.Z)((0,N.Z)(a),"setOrientation",(function(e){var t=e.object.quaternion;a.lookDirection.set(0,0,-1).applyQuaternion(t),a.spherical.setFromVector3(a.lookDirection),a.lat=90-l.MathUtils.radToDeg(a.spherical.phi),a.lon=l.MathUtils.radToDeg(a.spherical.theta)})),void 0===r&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),r=document),a.object=e,a.domElement=r,a.domElement instanceof HTMLElement&&a.domElement.setAttribute("tabindex","-1"),a.handleResize(),a.setOrientation((0,N.Z)(a)),a.domElement.addEventListener("contextmenu",a.contextmenu),a.domElement.addEventListener("mousemove",a.onMouseMove),a.domElement.addEventListener("mousedown",a.onMouseDown),a.domElement.addEventListener("mouseup",a.onMouseUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("keyup",a.onKeyUp),a}return(0,Q.Z)(n)}(l.EventDispatcher),ks=u.forwardRef((function(e,t){var n=(0,f.useThree)((function(e){return e.camera})),r=(0,f.useThree)((function(e){return e.gl})),a=u.useState((function(){return new Ts(n,r.domElement)})),o=(0,i.Z)(a,1)[0];return(0,f.useFrame)((function(e,t){o.update(t)})),o?u.createElement("primitive",s({ref:t,object:o},e)):null}));function Bs(e,t){var n=(0,f.useThree)((function(e){return e.mouse})),r=u.useState((function(){var r=new l.Raycaster;return t&&(0,f.applyProps)(r,t,{}),function(t,a){r.setFromCamera(n,e instanceof l.Camera?e:e.current);var i=this.constructor.prototype.raycast.bind(this);i&&i(r,a)}}));return(0,i.Z)(r,1)[0]}var Ps=u.createContext({}),Ls=function(){return u.useContext(Ps)},Ds=2*Math.PI,Rs=new l.Object3D,Fs=new l.Matrix4,Is=new l.Quaternion,Os=new l.Quaternion,zs=new l.Vector3,Zs=new l.Vector3,Us=function(e){var t=e.alignment,n=void 0===t?"bottom-right":t,r=e.margin,a=void 0===r?[80,80]:r,o=e.renderPriority,s=void 0===o?0:o,c=e.onUpdate,d=e.onTarget,h=e.children,p=(0,f.useThree)((function(e){return e.size})),v=(0,f.useThree)((function(e){return e.camera})),m=(0,f.useThree)((function(e){return e.controls})),g=(0,f.useThree)((function(e){return e.gl})),y=(0,f.useThree)((function(e){return e.scene})),_=(0,f.useThree)((function(e){return e.invalidate})),b=u.useRef(),w=u.useRef(),x=u.useRef(null),A=u.useState((function(){return new l.Scene})),M=(0,i.Z)(A,1)[0],E=u.useRef(!1),C=u.useRef(0),S=u.useRef(new l.Vector3(0,0,0));u.useEffect((function(){return y.background&&(b.current=y.background,y.background=null,M.background=b.current),function(){b.current&&(y.background=b.current)}}),[]);(0,f.useFrame)((function(e,t){x.current&&w.current&&(!function(e){if(E.current)if(Is.angleTo(Os)<.01)E.current=!1;else{var t=e*Ds;Is.rotateTowards(Os,t),v.position.set(0,0,1).applyQuaternion(Is).multiplyScalar(C.current).add(S.current),v.up.set(0,1,0).applyQuaternion(Is).normalize(),v.quaternion.copy(Is),c?c():m&&m.update(),_()}}(t),function(){var e;Fs.copy(v.matrix).invert(),null==(e=w.current)||e.quaternion.setFromRotationMatrix(Fs)}(),g.autoClear=!1,g.clearDepth(),g.render(M,x.current))}),s);var T={tweenCamera:function(e){E.current=!0,(m||d)&&(S.current=(null==m?void 0:m.target)||(null==d?void 0:d())),C.current=v.position.distanceTo(zs),Is.copy(v.quaternion),Zs.copy(e).multiplyScalar(C.current).add(zs),Rs.lookAt(Zs),Os.copy(Rs.quaternion),_()},raycast:Bs(x)},k=(0,i.Z)(a,2),B=k[0],P=k[1],L=n.endsWith("-left")?-p.width/2+B:p.width/2-B,D=n.startsWith("top-")?p.height/2-P:-p.height/2+P;return(0,f.createPortal)(u.createElement(Ps.Provider,{value:T},u.createElement(Io,{ref:x,makeDefault:!1,position:[0,0,200]}),u.createElement("group",{ref:w,position:[L,D,0]},h)),M)},Ns="#f0f0f0",Gs="#999",Hs="black",Vs="black",js=["Right","Left","Top","Bottom","Front","Back"],Ws=function(e){return(0,X.Z)(l.Vector3,(0,A.Z)(e)).multiplyScalar(.38)},Xs=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(Ws),qs=[.25,.25,.25],Ys=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(Ws),Qs=Ys.map((function(e){return e.toArray().map((function(e){return 0==e?.5:.25}))})),Ks=function(e){var t=e.hover,n=e.index,r=e.font,a=void 0===r?"20px Inter var, Arial, sans-serif":r,i=e.faces,o=void 0===i?js:i,s=e.color,c=void 0===s?Ns:s,d=e.hoverColor,h=void 0===d?Gs:d,p=e.textColor,v=void 0===p?Hs:p,m=e.strokeColor,g=void 0===m?Vs:m,y=e.opacity,_=void 0===y?1:y,b=(0,f.useThree)((function(e){return e.gl})),w=u.useMemo((function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d");return t.fillStyle=c,t.fillRect(0,0,e.width,e.height),t.strokeStyle=g,t.strokeRect(0,0,e.width,e.height),t.font=a,t.textAlign="center",t.fillStyle=v,t.fillText(o[n].toUpperCase(),64,76),new l.CanvasTexture(e)}),[n,a,c,v,g]);return u.createElement("meshLambertMaterial",{map:w,"map-anisotropy":b.capabilities.getMaxAnisotropy()||1,attachArray:"material",color:t?h:"white",transparent:!0,opacity:_})},Js=function(e){var t=Ls(),n=t.tweenCamera,r=t.raycast,a=u.useState(null),o=(0,i.Z)(a,2),c=o[0],l=o[1];return u.createElement("mesh",{raycast:r,onPointerOut:function(e){e.stopPropagation(),l(null)},onPointerMove:function(e){e.stopPropagation(),l(Math.floor(e.faceIndex/2))},onClick:e.onClick||function(e){e.stopPropagation(),n(e.face.normal)}},(0,A.Z)(Array(6)).map((function(t,n){return u.createElement(Ks,s({key:n,index:n,hover:c===n},e))})),u.createElement("boxGeometry",null))},$s=function(e){var t=e.onClick,n=e.dimensions,r=e.position,a=e.hoverColor,o=void 0===a?Gs:a,s=Ls(),c=s.tweenCamera,l=s.raycast,f=u.useState(!1),d=(0,i.Z)(f,2),h=d[0],p=d[1];return u.createElement("mesh",{scale:1.01,position:r,raycast:l,onPointerOver:function(e){e.stopPropagation(),p(!0)},onPointerOut:function(e){e.stopPropagation(),p(!1)},onClick:t||function(e){e.stopPropagation(),c(r)}},u.createElement("meshBasicMaterial",{color:h?o:"white",transparent:!0,opacity:.6,visible:h}),u.createElement("boxGeometry",{args:n}))},eu=function(e){return u.createElement("group",{scale:[60,60,60]},u.createElement(Js,e),Ys.map((function(t,n){return u.createElement($s,s({key:n,position:t,dimensions:Qs[n]},e))})),Xs.map((function(t,n){return u.createElement($s,s({key:n,position:t,dimensions:qs},e))})),u.createElement("ambientLight",{intensity:.5}),u.createElement("pointLight",{position:[10,10,10],intensity:.5}))},tu=["onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale"],nu=["hideNegativeAxes","hideAxisHeads","disabled","font","axisColors","axisHeadScale","axisScale","labels","labelColor","onClick"];function ru(e){var t=e.scale,n=void 0===t?[.8,.05,.05]:t,r=e.color,a=e.rotation;return u.createElement("group",{rotation:a},u.createElement("mesh",{position:[.4,0,0]},u.createElement("boxGeometry",{args:n}),u.createElement("meshBasicMaterial",{color:r,toneMapped:!1})))}function au(e){var t=e.onClick,n=e.font,r=e.disabled,a=e.arcStyle,c=e.label,d=e.labelColor,h=e.axisHeadScale,p=void 0===h?1:h,v=(0,o.Z)(e,tu),m=(0,f.useThree)((function(e){return e.gl})),g=u.useMemo((function(){var e=document.createElement("canvas");e.width=64,e.height=64;var t=e.getContext("2d");return t.beginPath(),t.arc(32,32,16,0,2*Math.PI),t.closePath(),t.fillStyle=a,t.fill(),c&&(t.font=n,t.textAlign="center",t.fillStyle=d,t.fillText(c,32,41)),new l.CanvasTexture(e)}),[a,c,d,n]),y=u.useState(!1),_=(0,i.Z)(y,2),b=_[0],w=_[1],x=(c?1:.75)*(b?1.2:1)*p;return u.createElement("sprite",s({scale:x,onPointerOver:r?void 0:function(e){e.stopPropagation(),w(!0)},onPointerOut:r?void 0:t||function(e){e.stopPropagation(),w(!1)}},v),u.createElement("spriteMaterial",{map:g,"map-anisotropy":m.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:c?1:.75,toneMapped:!1}))}var iu=function(e){var t=e.hideNegativeAxes,n=e.hideAxisHeads,r=e.disabled,a=e.font,c=void 0===a?"18px Inter var, Arial, sans-serif":a,l=e.axisColors,f=void 0===l?["#ff3653","#0adb50","#2c8fdf"]:l,d=e.axisHeadScale,h=void 0===d?1:d,p=e.axisScale,v=e.labels,m=void 0===v?["X","Y","Z"]:v,g=e.labelColor,y=void 0===g?"#000":g,_=e.onClick,b=(0,o.Z)(e,nu),w=(0,i.Z)(f,3),x=w[0],A=w[1],M=w[2],E=Ls(),C=E.tweenCamera,S={font:c,disabled:r,labelColor:y,raycast:E.raycast,onClick:_,axisHeadScale:h,onPointerDown:r?void 0:function(e){C(e.object.position),e.stopPropagation()}};return u.createElement("group",s({scale:40},b),u.createElement(ru,{color:x,rotation:[0,0,0],scale:p}),u.createElement(ru,{color:A,rotation:[0,0,Math.PI/2],scale:p}),u.createElement(ru,{color:M,rotation:[0,-Math.PI/2,0],scale:p}),!n&&u.createElement(u.Fragment,null,u.createElement(au,s({arcStyle:x,position:[1,0,0],label:m[0]},S)),u.createElement(au,s({arcStyle:A,position:[0,1,0],label:m[1]},S)),u.createElement(au,s({arcStyle:M,position:[0,0,1],label:m[2]},S)),!t&&u.createElement(u.Fragment,null,u.createElement(au,s({arcStyle:x,position:[-1,0,0]},S)),u.createElement(au,s({arcStyle:A,position:[0,-1,0]},S)),u.createElement(au,s({arcStyle:M,position:[0,0,-1]},S)))),u.createElement("ambientLight",{intensity:.5}),u.createElement("pointLight",{position:[10,10,10],intensity:.5}))};function ou(e,t){var n=t.path,r=(0,f.useLoader)(l.CubeTextureLoader,[e],(function(e){return e.setPath(n)}));return(0,i.Z)(r,1)[0]}ou.preload=function(e,t){var n=t.path;return f.useLoader.preload(l.CubeTextureLoader,[e],(function(e){return e.setPath(n)}))};var su=Uint8Array,uu=Uint16Array,cu=Uint32Array,lu=new su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fu=new su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),du=new su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hu=function(e,t){for(var n=new uu(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new cu(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return[n,a]},pu=hu(lu,2),vu=pu[0],mu=pu[1];vu[28]=258,mu[258]=28;for(var gu=hu(fu,0),yu=gu[0],_u=(gu[1],new uu(32768)),bu=0;bu<32768;++bu){var wu=(43690&bu)>>>1|(21845&bu)<<1;wu=(61680&(wu=(52428&wu)>>>2|(13107&wu)<<2))>>>4|(3855&wu)<<4,_u[bu]=((65280&wu)>>>8|(255&wu)<<8)>>>1}var xu=function(e,t,n){for(var r=e.length,a=0,i=new uu(t);a<r;++a)++i[e[a]-1];var o,s=new uu(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(n){o=new uu(1<<t);var u=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],l=t-e[a],f=s[e[a]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)o[_u[f]>>>u]=c}else for(o=new uu(r),a=0;a<r;++a)e[a]&&(o[a]=_u[s[e[a]-1]++]>>>15-e[a]);return o},Au=new su(288);for(bu=0;bu<144;++bu)Au[bu]=8;for(bu=144;bu<256;++bu)Au[bu]=9;for(bu=256;bu<280;++bu)Au[bu]=7;for(bu=280;bu<288;++bu)Au[bu]=8;var Mu=new su(32);for(bu=0;bu<32;++bu)Mu[bu]=5;var Eu=xu(Au,9,1),Cu=xu(Mu,5,1),Su=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Tu=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},ku=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Bu=function(e){return(e/8|0)+(7&e&&1)},Pu=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof uu?uu:e instanceof cu?cu:su)(n-t);return r.set(e.subarray(t,n)),r},Lu=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new su(0);var a=!t||n,i=!n||n.i;n||(n={}),t||(t=new su(3*r));var o=function(e){var n=t.length;if(e>n){var r=new su(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,u=n.p||0,c=n.b||0,l=n.l,f=n.d,d=n.m,h=n.n,p=8*r;do{if(!l){n.f=s=Tu(e,u,1);var v=Tu(e,u+1,3);if(u+=3,!v){var m=e[(S=Bu(u)+4)-4]|e[S-3]<<8,g=S+m;if(g>r){if(i)throw"unexpected EOF";break}a&&o(c+m),t.set(e.subarray(S,g),c),n.b=c+=m,n.p=u=8*g;continue}if(1==v)l=Eu,f=Cu,d=9,h=5;else{if(2!=v)throw"invalid block type";var y=Tu(e,u,31)+257,_=Tu(e,u+10,15)+4,b=y+Tu(e,u+5,31)+1;u+=14;for(var w=new su(b),x=new su(19),A=0;A<_;++A)x[du[A]]=Tu(e,u+3*A,7);u+=3*_;var M=Su(x),E=(1<<M)-1,C=xu(x,M,1);for(A=0;A<b;){var S,T=C[Tu(e,u,E)];if(u+=15&T,(S=T>>>4)<16)w[A++]=S;else{var k=0,B=0;for(16==S?(B=3+Tu(e,u,3),u+=2,k=w[A-1]):17==S?(B=3+Tu(e,u,7),u+=3):18==S&&(B=11+Tu(e,u,127),u+=7);B--;)w[A++]=k}}var P=w.subarray(0,y),L=w.subarray(y);d=Su(P),h=Su(L),l=xu(P,d,1),f=xu(L,h,1)}if(u>p){if(i)throw"unexpected EOF";break}}a&&o(c+131072);for(var D=(1<<d)-1,R=(1<<h)-1,F=u;;F=u){var I=(k=l[ku(e,u)&D])>>>4;if((u+=15&k)>p){if(i)throw"unexpected EOF";break}if(!k)throw"invalid length/literal";if(I<256)t[c++]=I;else{if(256==I){F=u,l=null;break}var O=I-254;if(I>264){var z=lu[A=I-257];O=Tu(e,u,(1<<z)-1)+vu[A],u+=z}var Z=f[ku(e,u)&R],U=Z>>>4;if(!Z)throw"invalid distance";u+=15&Z;L=yu[U];if(U>3){z=fu[U];L+=ku(e,u)&(1<<z)-1,u+=z}if(u>p){if(i)throw"unexpected EOF";break}a&&o(c+131072);for(var N=c+O;c<N;c+=4)t[c]=t[c-L],t[c+1]=t[c+1-L],t[c+2]=t[c+2-L],t[c+3]=t[c+3-L];c=N}}n.l=l,n.p=F,n.b=c,l&&(s=1,n.m=d,n.d=f,n.n=h)}while(!s);return c==t.length?t:Pu(t,0,c)},Du=new su(0),Ru=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Fu(e,t){return Lu((Ru(e),e.subarray(2,-4)),t)}var Iu="undefined"!=typeof TextDecoder&&new TextDecoder;try{Iu.decode(Du,{stream:!0}),1}catch(Al){}var Ou,zu,Zu,Uu=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r,a,i,o){var s;(0,K.Z)(this,n),(s=t.call(this)).degree=e,s.knots=r,s.controlPoints=[],s.startKnot=i||0,s.endKnot=o||s.knots.length-1;for(var u=0;u<a.length;++u){var c=a[u];s.controlPoints[u]=new l.Vector4(c.x,c.y,c.z,c.w)}return s}return(0,Q.Z)(n,[{key:"getPoint",value:function(e,t){var n=t||new l.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=function(e,t,n,r){for(var a=this.findSpan(e,r,t),i=this.calcBasisFunctions(a,r,e,t),o=new l.Vector4(0,0,0,0),s=0;s<=e;++s){var u=n[a-e+s],c=i[s],f=u.w*c;o.x+=u.x*f,o.y+=u.y*f,o.z+=u.z*f,o.w+=u.w*c}return o}(this.degree,this.knots,this.controlPoints,r);return 1!=a.w&&a.divideScalar(a.w),n.set(a.x,a.y,a.z)}},{key:"getTangent",value:function(e,t){var n=t||new l.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=function(e,t,n,r,a){var i=this.calcBSplineDerivatives(e,t,n,r,a);return this.calcRationalCurveDerivatives(i)}(this.degree,this.knots,this.controlPoints,r,1);return n.copy(a[1]).normalize(),n}}]),n}(l.Curve),Nu=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){return(0,K.Z)(this,n),t.call(this,e)}return(0,Q.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=""===a.path?l.LoaderUtils.extractUrlBase(e):a.path,o=new l.FileLoader(this.manager);o.setPath(a.path),o.setResponseType("arraybuffer"),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,(function(n){try{t(a.parse(n,i))}catch(Al){r?r(Al):console.error(Al),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e,t){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===ac(e,0,t.length)}(e))Ou=(new Wu).parse(e);else{var n=ac(e);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var a=0;a<t.length;++a){if(r(1)===t[a])return!1}return!0}(n))throw new Error("THREE.FBXLoader: Unknown format.");if(Yu(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Yu(n));Ou=(new ju).parse(n)}var r=new l.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Gu(r,this.manager).parse(Ou)}}]),n}(l.Loader),Gu=function(){function e(t,n){(0,K.Z)(this,e),this.textureLoader=t,this.manager=n}return(0,Q.Z)(e,[{key:"parse",value:function(){zu=this.parseConnections();var e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),a=(new Hu).parse(r);return this.parseScene(r,a,n),Zu}},{key:"parseConnections",value:function(){var e=new Map;"Connections"in Ou&&Ou.Connections.connections.forEach((function(t){var n=t[0],r=t[1],a=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var i={ID:r,relationship:a};e.get(n).parents.push(i),e.has(r)||e.set(r,{parents:[],children:[]});var o={ID:n,relationship:a};e.get(r).children.push(o)}));return e}},{key:"parseImages",value:function(){var e={},t={};if("Video"in Ou.Objects){var n=Ou.Objects.Video;for(var r in n){var a=n[r];if(e[parseInt(r)]=a.RelativeFilename||a.Filename,"Content"in a){var i=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,o="string"===typeof a.Content&&""!==a.Content;if(i||o){var s=this.parseImage(n[r]);t[a.RelativeFilename||a.Filename]=s}}}}for(var u in e){var c=e[u];void 0!==t[c]?e[u]=t[c]:e[u]=e[u].split("\\").pop()}return e}},{key:"parseImage",value:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,a=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(a){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+a+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var i=new Uint8Array(n);return window.URL.createObjectURL(new Blob([i],{type:t}))}},{key:"parseTextures",value:function(e){var t=new Map;if("Texture"in Ou.Objects){var n=Ou.Objects.Texture;for(var r in n){var a=this.parseTexture(n[r],e);t.set(parseInt(r),a)}}return t}},{key:"parseTexture",value:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,a=e.WrapModeV,i=void 0!==r?r.value:0,o=void 0!==a?a.value:0;if(n.wrapS=0===i?l.RepeatWrapping:l.ClampToEdgeWrapping,n.wrapT=0===o?l.RepeatWrapping:l.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n}},{key:"loadTexture",value:function(e,t){var n,r,a=this.textureLoader.path,i=zu.get(e.id).children;void 0!==i&&i.length>0&&void 0!==t[i[0].ID]&&(0!==(n=t[i[0].ID]).indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));var o=e.FileName.slice(-3).toLowerCase();if("tga"===o){var s=this.manager.getHandler(".tga");null===s?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),r=new l.Texture):(s.setPath(this.textureLoader.path),r=s.load(n))}else"psd"===o?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),r=new l.Texture):r=this.textureLoader.load(n);return this.textureLoader.setPath(a),r}},{key:"parseMaterials",value:function(e){var t=new Map;if("Material"in Ou.Objects){var n=Ou.Objects.Material;for(var r in n){var a=this.parseMaterial(n[r],e);null!==a&&t.set(parseInt(r),a)}}return t}},{key:"parseMaterial",value:function(e,t){var n=e.id,r=e.attrName,a=e.ShadingModel;if("object"===typeof a&&(a=a.value),!zu.has(n))return null;var i,o=this.parseParameters(e,t,n);switch(a.toLowerCase()){case"phong":i=new l.MeshPhongMaterial;break;case"lambert":i=new l.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),i=new l.MeshPhongMaterial}return i.setValues(o),i.name=r,i}},{key:"parseParameters",value:function(e,t,n){var r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=(new l.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(r.color=(new l.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=(new l.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(r.emissive=(new l.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=(new l.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(r.specular=(new l.Color).fromArray(e.SpecularColor.value));var a=this;return zu.get(n).children.forEach((function(e){var n=e.relationship;switch(n){case"Bump":r.bumpMap=a.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":r.aoMap=a.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=a.getTexture(t,e.ID),void 0!==r.map&&(r.map.encoding=l.sRGBEncoding);break;case"DisplacementColor":r.displacementMap=a.getTexture(t,e.ID);break;case"EmissiveColor":r.emissiveMap=a.getTexture(t,e.ID),void 0!==r.emissiveMap&&(r.emissiveMap.encoding=l.sRGBEncoding);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=a.getTexture(t,e.ID);break;case"ReflectionColor":r.envMap=a.getTexture(t,e.ID),void 0!==r.envMap&&(r.envMap.mapping=l.EquirectangularReflectionMapping,r.envMap.encoding=l.sRGBEncoding);break;case"SpecularColor":r.specularMap=a.getTexture(t,e.ID),void 0!==r.specularMap&&(r.specularMap.encoding=l.sRGBEncoding);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=a.getTexture(t,e.ID),r.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n)}})),r}},{key:"getTexture",value:function(e,t){return"LayeredTexture"in Ou.Objects&&t in Ou.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=zu.get(t).children[0].ID),e.get(t)}},{key:"parseDeformers",value:function(){var e={},t={};if("Deformer"in Ou.Objects){var n=Ou.Objects.Deformer;for(var r in n){var a=n[r],i=zu.get(parseInt(r));if("Skin"===a.attrType){var o=this.parseSkeleton(i,n);o.ID=r,i.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=i.parents[0].ID,e[r]=o}else if("BlendShape"===a.attrType){var s={id:r};s.rawTargets=this.parseMorphTargets(i,n),s.id=r,i.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=s}}}return{skeletons:e,morphTargets:t}}},{key:"parseSkeleton",value:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var a={ID:e.ID,indices:[],weights:[],transformLink:(new l.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(a.indices=r.Indexes.a,a.weights=r.Weights.a),n.push(a)}})),{rawBones:n,bones:[]}}},{key:"parseMorphTargets",value:function(e,t){for(var n=[],r=0;r<e.children.length;r++){var a=e.children[r],i=t[a.ID],o={name:i.attrName,initialWeight:i.DeformPercent,id:i.id,fullWeights:i.FullWeights.a};if("BlendShapeChannel"!==i.attrType)return;o.geoID=zu.get(parseInt(a.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(o)}return n}},{key:"parseScene",value:function(e,t,n){Zu=new l.Group;var r=this.parseModels(e.skeletons,t,n),a=Ou.Objects.Model,i=this;r.forEach((function(e){var t=a[e.ID];i.setLookAtProperties(e,t),zu.get(e.ID).parents.forEach((function(t){var n=r.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&Zu.add(e)})),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),Zu.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);var t=tc(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));var o=(new Vu).parse();1===Zu.children.length&&Zu.children[0].isGroup&&(Zu.children[0].animations=o,Zu=Zu.children[0]),Zu.animations=o}},{key:"parseModels",value:function(e,t,n){var r=new Map,a=Ou.Objects.Model;for(var i in a){var o=parseInt(i),s=a[i],u=zu.get(o),c=this.buildSkeleton(u,e,o,s.attrName);if(!c){switch(s.attrType){case"Camera":c=this.createCamera(u);break;case"Light":c=this.createLight(u);break;case"Mesh":c=this.createMesh(u,t,n);break;case"NurbsCurve":c=this.createCurve(u,t);break;case"LimbNode":case"Root":c=new l.Bone;break;default:c=new l.Group}c.name=s.attrName?l.PropertyBinding.sanitizeNodeName(s.attrName):"",c.ID=o}this.getTransformData(c,s),r.set(o,c)}return r}},{key:"buildSkeleton",value:function(e,t,n,r){var a=null;return e.parents.forEach((function(e){var i=function(i){var o=t[i];o.rawBones.forEach((function(t,i){if(t.ID===e.ID){var s=a;(a=new l.Bone).matrixWorld.copy(t.transformLink),a.name=r?l.PropertyBinding.sanitizeNodeName(r):"",a.ID=n,o.bones[i]=a,null!==s&&a.add(s)}}))};for(var o in t)i(o)})),a}},{key:"createCamera",value:function(e){var t,n;if(e.children.forEach((function(e){var t=Ou.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new l.Object3D;else{var r=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(r=1);var a=1;void 0!==n.NearPlane&&(a=n.NearPlane.value/1e3);var i=1e3;void 0!==n.FarPlane&&(i=n.FarPlane.value/1e3);var o=window.innerWidth,s=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(o=n.AspectWidth.value,s=n.AspectHeight.value);var u=o/s,c=45;void 0!==n.FieldOfView&&(c=n.FieldOfView.value);var f=n.FocalLength?n.FocalLength.value:null;switch(r){case 0:t=new l.PerspectiveCamera(c,u,a,i),null!==f&&t.setFocalLength(f);break;case 1:t=new l.OrthographicCamera(-o/2,o/2,s/2,-s/2,a,i);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),t=new l.Object3D}}return t}},{key:"createLight",value:function(e){var t,n;if(e.children.forEach((function(e){var t=Ou.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new l.Object3D;else{var r;r=void 0===n.LightType?0:n.LightType.value;var a=16777215;void 0!==n.Color&&(a=(new l.Color).fromArray(n.Color.value));var i=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(i=0);var o=0;void 0!==n.FarAttenuationEnd&&(o=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);switch(r){case 0:t=new l.PointLight(a,i,o,1);break;case 1:t=new l.DirectionalLight(a,i);break;case 2:var s=Math.PI/3;void 0!==n.InnerAngle&&(s=l.MathUtils.degToRad(n.InnerAngle.value));var u=0;void 0!==n.OuterAngle&&(u=l.MathUtils.degToRad(n.OuterAngle.value),u=Math.max(u,1)),t=new l.SpotLight(a,i,o,s,u,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new l.PointLight(a,i)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}},{key:"createMesh",value:function(e,t,n){var r,a=null,i=null,o=[];return e.children.forEach((function(e){t.has(e.ID)&&(a=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?i=o:o.length>0?i=o[0]:(i=new l.MeshPhongMaterial({color:13421772}),o.push(i)),"color"in a.attributes&&o.forEach((function(e){e.vertexColors=!0})),a.FBX_Deformer?(r=new l.SkinnedMesh(a,i)).normalizeSkinWeights():r=new l.Mesh(a,i),r}},{key:"createCurve",value:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new l.LineBasicMaterial({color:3342591,linewidth:1});return new l.Line(n,r)}},{key:"getTransformData",value:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?nc(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}},{key:"setLookAtProperties",value:function(e,t){"LookAtProperty"in t&&zu.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var n=Ou.Objects.Model[t.ID];if("Lcl_Translation"in n){var r=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(r),Zu.add(e.target)):e.lookAt((new l.Vector3).fromArray(r))}}}))}},{key:"bindSkeleton",value:function(e,t,n){var r=this.parsePoseNodes(),a=function(a){var i=e[a];zu.get(parseInt(i.ID)).parents.forEach((function(e){if(t.has(e.ID)){var a=e.ID;zu.get(a).parents.forEach((function(e){n.has(e.ID)&&n.get(e.ID).bind(new l.Skeleton(i.bones),r[e.ID])}))}}))};for(var i in e)a(i)}},{key:"parsePoseNodes",value:function(){var e={};if("Pose"in Ou.Objects){var t=Ou.Objects.Pose;for(var n in t)if("BindPose"===t[n].attrType&&t[n].NbPoseNodes>0){var r=t[n].PoseNode;Array.isArray(r)?r.forEach((function(t){e[t.Node]=(new l.Matrix4).fromArray(t.Matrix.a)})):e[r.Node]=(new l.Matrix4).fromArray(r.Matrix.a)}}return e}},{key:"createAmbientLight",value:function(){if("GlobalSettings"in Ou&&"AmbientColor"in Ou.GlobalSettings){var e=Ou.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],r=e[2];if(0!==t||0!==n||0!==r){var a=new l.Color(t,n,r);Zu.add(new l.AmbientLight(a,1))}}}}]),e}(),Hu=function(){function e(){(0,K.Z)(this,e)}return(0,Q.Z)(e,[{key:"parse",value:function(e){var t=new Map;if("Geometry"in Ou.Objects){var n=Ou.Objects.Geometry;for(var r in n){var a=zu.get(parseInt(r)),i=this.parseGeometry(a,n[r],e);t.set(parseInt(r),i)}}return t}},{key:"parseGeometry",value:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}},{key:"parseMeshGeometry",value:function(e,t,n){var r=n.skeletons,a=[],i=e.parents.map((function(e){return Ou.Objects.Model[e.ID]}));if(0!==i.length){var o=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&a.push(n.morphTargets[e.ID])}));var s=i[0],u={};"RotationOrder"in s&&(u.eulerOrder=nc(s.RotationOrder.value)),"InheritType"in s&&(u.inheritType=parseInt(s.InheritType.value)),"GeometricTranslation"in s&&(u.translation=s.GeometricTranslation.value),"GeometricRotation"in s&&(u.rotation=s.GeometricRotation.value),"GeometricScaling"in s&&(u.scale=s.GeometricScaling.value);var c=tc(u);return this.genGeometry(t,o,a,c)}}},{key:"genGeometry",value:function(e,t,n,r){var a=new l.BufferGeometry;e.attrName&&(a.name=e.attrName);var i=this.parseGeoNode(e,t),o=this.genBuffers(i),s=new l.Float32BufferAttribute(o.vertex,3);if(s.applyMatrix4(r),a.setAttribute("position",s),o.colors.length>0&&a.setAttribute("color",new l.Float32BufferAttribute(o.colors,3)),t&&(a.setAttribute("skinIndex",new l.Uint16BufferAttribute(o.weightsIndices,4)),a.setAttribute("skinWeight",new l.Float32BufferAttribute(o.vertexWeights,4)),a.FBX_Deformer=t),o.normal.length>0){var u=(new l.Matrix3).getNormalMatrix(r),c=new l.Float32BufferAttribute(o.normal,3);c.applyNormalMatrix(u),a.setAttribute("normal",c)}if(o.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),a.setAttribute(n,new l.Float32BufferAttribute(o.uvs[t],2))})),i.material&&"AllSame"!==i.material.mappingType){var f=o.materialIndex[0],d=0;if(o.materialIndex.forEach((function(e,t){e!==f&&(a.addGroup(d,t-d,f),f=e,d=t)})),a.groups.length>0){var h=a.groups[a.groups.length-1],p=h.start+h.count;p!==o.materialIndex.length&&a.addGroup(p,o.materialIndex.length-p,f)}0===a.groups.length&&a.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(a,e,n,r),a}},{key:"parseGeoNode",value:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,a){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[a]})}))}))),n}},{key:"genBuffers",value:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,a=!1,i=[],o=[],s=[],u=[],c=[],l=[],f=this;return e.vertexIndices.forEach((function(d,h){var p,v=!1;d<0&&(d^=-1,v=!0);var m=[],g=[];if(i.push(3*d,3*d+1,3*d+2),e.color){var y=Ju(h,n,d,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach((function(e){g.push(e.weight),m.push(e.id)})),g.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);var _=[0,0,0,0],b=[0,0,0,0];g.forEach((function(e,t){var n=e,r=m[t];b.forEach((function(e,t,a){if(n>e){a[t]=n,n=e;var i=_[t];_[t]=r,r=i}}))})),m=_,g=b}for(;g.length<4;)g.push(0),m.push(0);for(var w=0;w<4;++w)c.push(g[w]),l.push(m[w])}if(e.normal){var x=Ju(h,n,d,e.normal);o.push(x[0],x[1],x[2])}e.material&&"AllSame"!==e.material.mappingType&&(p=Ju(h,n,d,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){var r=Ju(h,n,d,e);void 0===u[t]&&(u[t]=[]),u[t].push(r[0]),u[t].push(r[1])})),r++,v&&(f.genFace(t,e,i,p,o,s,u,c,l,r),n++,r=0,i=[],o=[],s=[],u=[],c=[],l=[])})),t}},{key:"genFace",value:function(e,t,n,r,a,i,o,s,u,c){for(var l=function(c){e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(c-1)]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[n[3*c]]),e.vertex.push(t.vertexPositions[n[3*c+1]]),e.vertex.push(t.vertexPositions[n[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(c-1)]),e.weightsIndices.push(u[4*(c-1)+1]),e.weightsIndices.push(u[4*(c-1)+2]),e.weightsIndices.push(u[4*(c-1)+3]),e.weightsIndices.push(u[4*c]),e.weightsIndices.push(u[4*c+1]),e.weightsIndices.push(u[4*c+2]),e.weightsIndices.push(u[4*c+3])),t.color&&(e.colors.push(i[0]),e.colors.push(i[1]),e.colors.push(i[2]),e.colors.push(i[3*(c-1)]),e.colors.push(i[3*(c-1)+1]),e.colors.push(i[3*(c-1)+2]),e.colors.push(i[3*c]),e.colors.push(i[3*c+1]),e.colors.push(i[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(a[0]),e.normal.push(a[1]),e.normal.push(a[2]),e.normal.push(a[3*(c-1)]),e.normal.push(a[3*(c-1)+1]),e.normal.push(a[3*(c-1)+2]),e.normal.push(a[3*c]),e.normal.push(a[3*c+1]),e.normal.push(a[3*c+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(c-1)]),e.uvs[n].push(o[n][2*(c-1)+1]),e.uvs[n].push(o[n][2*c]),e.uvs[n].push(o[n][2*c+1])}))},f=2;f<c;f++)l(f)}},{key:"addMorphTargets",value:function(e,t,n,r){if(0!==n.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];var a=this;n.forEach((function(n){n.rawTargets.forEach((function(n){var i=Ou.Objects.Geometry[n.geoID];void 0!==i&&a.genMorphGeometry(e,t,i,r,n.name)}))}))}}},{key:"genMorphGeometry",value:function(e,t,n,r,a){for(var i=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],u=3*e.attributes.position.count,c=new Float32Array(u),f=0;f<s.length;f++){var d=3*s[f];c[d]=o[3*f],c[d+1]=o[3*f+1],c[d+2]=o[3*f+2]}var h={vertexIndices:i,vertexPositions:c},p=this.genBuffers(h),v=new l.Float32BufferAttribute(p.vertex,3);v.name=a||n.attrName,v.applyMatrix4(r),e.morphAttributes.position.push(v)}},{key:"parseNormals",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,a=[];return"IndexToDirect"===n&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseUVs",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,a=[];return"IndexToDirect"===n&&(a=e.UVIndex.a),{dataSize:2,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseVertexColors",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,a=[];return"IndexToDirect"===n&&(a=e.ColorIndex.a),{dataSize:4,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseMaterialIndices",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,a=[],i=0;i<r.length;++i)a.push(i);return{dataSize:1,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseNurbsGeometry",value:function(e){if(void 0===Uu)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new l.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new l.BufferGeometry;for(var n,r,a=t-1,i=e.KnotVector.a,o=[],s=e.Points.a,u=0,c=s.length;u<c;u+=4)o.push((new l.Vector4).fromArray(s,u));if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){n=a,r=i.length-1-n;for(var f=0;f<a;++f)o.push(o[f])}var d=new Uu(a,i,o,n,r).getPoints(12*o.length);return(new l.BufferGeometry).setFromPoints(d)}}]),e}(),Vu=function(){function e(){(0,K.Z)(this,e)}return(0,Q.Z)(e,[{key:"parse",value:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],a=this.addClip(r);e.push(a)}return e}},{key:"parseClips",value:function(){if(void 0!==Ou.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}}},{key:"parseAnimationCurveNodes",value:function(){var e=Ou.Objects.AnimationCurveNode,t=new Map;for(var n in e){var r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){var a={id:r.id,attr:r.attrName,curves:{}};t.set(a.id,a)}}return t}},{key:"parseAnimationCurves",value:function(e){var t=Ou.Objects.AnimationCurve;for(var n in t){var r={id:t[n].id,times:t[n].KeyTime.a.map(Qu),values:t[n].KeyValueFloat.a},a=zu.get(r.id);if(void 0!==a){var i=a.parents[0].ID,o=a.parents[0].relationship;o.match(/X/)?e.get(i).curves.x=r:o.match(/Y/)?e.get(i).curves.y=r:o.match(/Z/)?e.get(i).curves.z=r:o.match(/d|DeformPercent/)&&e.has(i)&&(e.get(i).curves.morph=r)}}}},{key:"parseAnimationLayers",value:function(e){var t=Ou.Objects.AnimationLayer,n=new Map,r=function(t){var r=[],a=zu.get(parseInt(t));void 0!==a&&(a.children.forEach((function(t,n){if(e.has(t.ID)){var a=e.get(t.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===r[n]){var i=zu.get(t.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==i){var o=Ou.Objects.Model[i.toString()];if(void 0===o)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",t);var s={modelName:o.attrName?l.PropertyBinding.sanitizeNodeName(o.attrName):"",ID:o.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Zu.traverse((function(e){e.ID===o.id&&(s.transform=e.matrix,e.userData.transformData&&(s.eulerOrder=e.userData.transformData.eulerOrder))})),s.transform||(s.transform=new l.Matrix4),"PreRotation"in o&&(s.preRotation=o.PreRotation.value),"PostRotation"in o&&(s.postRotation=o.PostRotation.value),r[n]=s}}r[n]&&(r[n][a.attr]=a)}else if(void 0!==a.curves.morph){if(void 0===r[n]){var u=zu.get(t.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,c=zu.get(u).parents[0].ID,f=zu.get(c).parents[0].ID,d=zu.get(f).parents[0].ID,h=Ou.Objects.Model[d],p={modelName:h.attrName?l.PropertyBinding.sanitizeNodeName(h.attrName):"",morphName:Ou.Objects.Deformer[u].attrName};r[n]=p}r[n][a.attr]=a}}})),n.set(parseInt(t),r))};for(var a in t)r(a);return n}},{key:"parseAnimStacks",value:function(e){var t=Ou.Objects.AnimationStack,n={};for(var r in t){var a=zu.get(parseInt(r)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var i=e.get(a[0].ID);n[r]={name:t[r].attrName,layer:i}}return n}},{key:"addClip",value:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new l.AnimationClip(e.name,-1,t)}},{key:"generateTracks",value:function(e){var t=[],n=new l.Vector3,r=new l.Quaternion,a=new l.Vector3;if(e.transform&&e.transform.decompose(n,r,a),n=n.toArray(),r=(new l.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),a=a.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var i=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==i&&t.push(i)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==o&&t.push(o)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,a,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var u=this.generateMorphTrack(e);void 0!==u&&t.push(u)}return t}},{key:"generateVectorTrack",value:function(e,t,n,r){var a=this.getTimesForAllAxes(t),i=this.getKeyframeTrackValues(a,t,n);return new l.VectorKeyframeTrack(e+"."+r,a,i)}},{key:"generateRotationTrack",value:function(e,t,n,r,a,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(l.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(l.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(l.MathUtils.degToRad));var o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);void 0!==r&&((r=r.map(l.MathUtils.degToRad)).push(i),r=(new l.Euler).fromArray(r),r=(new l.Quaternion).setFromEuler(r)),void 0!==a&&((a=a.map(l.MathUtils.degToRad)).push(i),a=(new l.Euler).fromArray(a),a=(new l.Quaternion).setFromEuler(a).invert());for(var u=new l.Quaternion,c=new l.Euler,f=[],d=0;d<s.length;d+=3)c.set(s[d],s[d+1],s[d+2],i),u.setFromEuler(c),void 0!==r&&u.premultiply(r),void 0!==a&&u.multiply(a),u.toArray(f,d/3*4);return new l.QuaternionKeyframeTrack(e+".quaternion",o,f)}},{key:"generateMorphTrack",value:function(e){var t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),r=Zu.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new l.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+r+"]",t.times,n)}},{key:"getTimesForAllAxes",value:function(e){var t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){for(var n=1,r=t[0],a=1;a<t.length;a++){var i=t[a];i!==r&&(t[n]=i,r=i,n++)}t=t.slice(0,n)}return t}},{key:"getKeyframeTrackValues",value:function(e,t,n){var r=n,a=[],i=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(i=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==i){var n=t.x.values[i];a.push(n),r[0]=n}else a.push(r[0]);if(-1!==o){var u=t.y.values[o];a.push(u),r[1]=u}else a.push(r[1]);if(-1!==s){var c=t.z.values[s];a.push(c),r[2]=c}else a.push(r[2])})),a}},{key:"interpolateRotations",value:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,a=Math.abs(r);if(a>=180){for(var i=a/180,o=r/i,s=n+o,u=e.times[t-1],c=(e.times[t]-u)/i,l=u+c,f=[],d=[];l<e.times[t];)f.push(l),l+=c,d.push(s),s+=o;e.times=ic(e.times,t,f),e.values=ic(e.values,t,d)}}}}]),e}(),ju=function(){function e(){(0,K.Z)(this,e)}return(0,Q.Z)(e,[{key:"getPrevNode",value:function(){return this.nodeStack[this.currentIndent-2]}},{key:"getCurrentNode",value:function(){return this.nodeStack[this.currentIndent-1]}},{key:"getCurrentProp",value:function(){return this.currentProp}},{key:"pushStack",value:function(e){this.nodeStack.push(e),this.currentIndent+=1}},{key:"popStack",value:function(){this.nodeStack.pop(),this.currentIndent-=1}},{key:"setCurrentProp",value:function(e,t){this.currentProp=e,this.currentPropName=t}},{key:"parse",value:function(e){this.currentIndent=0,this.allNodes=new qu,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var a=e.match(/^[\s\t]*;/),i=e.match(/^[\s\t]*$/);if(!a&&!i){var o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes}},{key:"parseNodeBegin",value:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),a={name:n},i=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,a):n in o?("PoseNode"===n?o.PoseNode.push(a):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==i.id&&(o[n][i.id]=a)):"number"===typeof i.id?(o[n]={},o[n][i.id]=a):"Properties70"!==n&&(o[n]="PoseNode"===n?[a]:a),"number"===typeof i.id&&(a.id=i.id),""!==i.name&&(a.attrName=i.name),""!==i.type&&(a.attrType=i.type),this.pushStack(a)}},{key:"parseNodeAttr",value:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}},{key:"parseNodeProperty",value:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),a=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===a&&(a=n.replace(/"/g,"").replace(/,$/,"").trim());var i=this.getCurrentNode();if("Properties70"!==i.name){if("C"===r){var o=a.split(",").slice(1),s=parseInt(o[0]),u=parseInt(o[1]),c=a.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,a=t.length;n<a;n++,r++)e[r]=t[n]}(a=[s,u],c=c.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===i[r]&&(i[r]=[])}"Node"===r&&(i.id=a),r in i&&Array.isArray(i[r])?i[r].push(a):"a"!==r?i[r]=a:i.a=a,this.setCurrentProp(i,r),"a"===r&&","!==a.slice(-1)&&(i.a=rc(a))}else this.parseNodeSpecialProperty(e,r,a)}},{key:"parseNodePropertyContinued",value:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=rc(t.a))}},{key:"parseNodeSpecialProperty",value:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),a=r[0],i=r[1],o=r[2],s=r[3],u=r[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=rc(u)}this.getPrevNode()[a]={type:i,type2:o,flag:s,value:u},this.setCurrentProp(this.getPrevNode(),a)}}]),e}(),Wu=function(){function e(){(0,K.Z)(this,e)}return(0,Q.Z)(e,[{key:"parse",value:function(e){var t=new Xu(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new qu;!this.endOfContent(t);){var a=this.parseNode(t,n);null!==a&&r.add(a.name,a)}return r}},{key:"endOfContent",value:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}},{key:"parseNode",value:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),a=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var i=e.getUint8(),o=e.getString(i);if(0===r)return null;for(var s=[],u=0;u<a;u++)s.push(this.parseProperty(e));var c=s.length>0?s[0]:"",l=s.length>1?s[1]:"",f=s.length>2?s[2]:"";for(n.singleProperty=1===a&&e.getOffset()===r;r>e.getOffset();){var d=this.parseNode(e,t);null!==d&&this.parseSubNode(o,n,d)}return n.propertyList=s,"number"===typeof c&&(n.id=c),""!==l&&(n.attrName=l),""!==f&&(n.attrType=f),""!==o&&(n.name=o),n}},{key:"parseSubNode",value:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var a=[];n.propertyList.forEach((function(e,t){0!==t&&a.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(a)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var i,o=n.propertyList[0],s=n.propertyList[1],u=n.propertyList[2],c=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),i="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[o]={type:s,type2:u,flag:c,value:i}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}},{key:"parseProperty",value:function(e){var t,n=e.getString(1);switch(n){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return t=e.getUint32(),e.getArrayBuffer(t);case"S":return t=e.getUint32(),e.getString(t);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),a=e.getUint32(),i=e.getUint32();if(0===a)switch(n){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}var o=Fu(new Uint8Array(e.getArrayBuffer(i))),s=new Xu(o.buffer);switch(n){case"b":case"c":return s.getBooleanArray(r);case"d":return s.getFloat64Array(r);case"f":return s.getFloat32Array(r);case"i":return s.getInt32Array(r);case"l":return s.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+n)}}}]),e}(),Xu=function(){function e(t,n){(0,K.Z)(this,e),this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===n||n}return(0,Q.Z)(e,[{key:"getOffset",value:function(){return this.offset}},{key:"size",value:function(){return this.dv.buffer.byteLength}},{key:"skip",value:function(e){this.offset+=e}},{key:"getBoolean",value:function(){return 1===(1&this.getUint8())}},{key:"getBooleanArray",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t}},{key:"getUint8",value:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e}},{key:"getInt16",value:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"getInt32",value:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt32Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t}},{key:"getUint32",value:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt64",value:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e}},{key:"getInt64Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t}},{key:"getUint64",value:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}},{key:"getFloat32",value:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getFloat32Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t}},{key:"getFloat64",value:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"getFloat64Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t}},{key:"getArrayBuffer",value:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"getString",value:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),l.LoaderUtils.decodeText(new Uint8Array(t))}}]),e}(),qu=function(){function e(){(0,K.Z)(this,e)}return(0,Q.Z)(e,[{key:"add",value:function(e,t){this[e]=t}}]),e}();function Yu(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Qu(e){return e/46186158e3}var Ku=[];function Ju(e,t,n,r){var a;switch(r.mappingType){case"ByPolygonVertex":a=e;break;case"ByPolygon":a=t;break;case"ByVertice":a=n;break;case"AllSame":a=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(a=r.indices[a]);var i=a*r.dataSize,o=i+r.dataSize;return function(e,t,n,r){for(var a=n,i=0;a<r;a++,i++)e[i]=t[a];return e}(Ku,r.buffer,i,o)}var $u=new l.Euler,ec=new l.Vector3;function tc(e){var t=new l.Matrix4,n=new l.Matrix4,r=new l.Matrix4,a=new l.Matrix4,i=new l.Matrix4,o=new l.Matrix4,s=new l.Matrix4,u=new l.Matrix4,c=new l.Matrix4,f=new l.Matrix4,d=new l.Matrix4,h=new l.Matrix4,p=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(ec.fromArray(e.translation)),e.preRotation){var v=e.preRotation.map(l.MathUtils.degToRad);v.push(e.eulerOrder),n.makeRotationFromEuler($u.fromArray(v))}if(e.rotation){var m=e.rotation.map(l.MathUtils.degToRad);m.push(e.eulerOrder),r.makeRotationFromEuler($u.fromArray(m))}if(e.postRotation){var g=e.postRotation.map(l.MathUtils.degToRad);g.push(e.eulerOrder),a.makeRotationFromEuler($u.fromArray(g)),a.invert()}e.scale&&i.scale(ec.fromArray(e.scale)),e.scalingOffset&&s.setPosition(ec.fromArray(e.scalingOffset)),e.scalingPivot&&o.setPosition(ec.fromArray(e.scalingPivot)),e.rotationOffset&&u.setPosition(ec.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(ec.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d.copy(e.parentMatrix),f.copy(e.parentMatrixWorld));var y=n.clone().multiply(r).multiply(a),_=new l.Matrix4;_.extractRotation(f);var b=new l.Matrix4;b.copyPosition(f);var w=b.clone().invert().multiply(f),x=_.clone().invert().multiply(w),A=i,M=new l.Matrix4;if(0===p)M.copy(_).multiply(y).multiply(x).multiply(A);else if(1===p)M.copy(_).multiply(x).multiply(y).multiply(A);else{var E=(new l.Matrix4).scale((new l.Vector3).setFromMatrixScale(d)).clone().invert(),C=x.clone().multiply(E);M.copy(_).multiply(y).multiply(C).multiply(A)}var S=c.clone().invert(),T=o.clone().invert(),k=t.clone().multiply(u).multiply(c).multiply(n).multiply(r).multiply(a).multiply(S).multiply(s).multiply(o).multiply(i).multiply(T),B=(new l.Matrix4).copyPosition(k),P=f.clone().multiply(B);return h.copyPosition(P),(k=h.clone().multiply(M)).premultiply(f.invert()),k}function nc(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function rc(e){return e.split(",").map((function(e){return parseFloat(e)}))}function ac(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),l.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function ic(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}function oc(e){return(0,f.useLoader)(Nu,e)}oc.preload=function(e){return f.useLoader.preload(Nu,e)},oc.clear=function(e){return f.useLoader.clear(Nu,e)};var sc,uc=new WeakMap,cc=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return(0,Q.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var a=this,i=new l.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(e){var n={attributeIDs:a.defaultAttributeIDs,attributeTypes:a.defaultAttributeTypes,useUniqueIDs:!1};a.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var a=t.attributeTypes[r];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=a.name)}var i,o=JSON.stringify(t);if(uc.has(e)){var s=uc.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,c=e.byteLength,l=this._getWorker(u,c).then((function(n){return i=n,new Promise((function(n,r){i._callbacks[u]={resolve:n,reject:r},i.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){i&&u&&n._releaseTask(i,u)})),uc.set(e,{key:o,promise:l}),l}},{key:"_createGeometry",value:function(e){var t=new l.BufferGeometry;e.index&&t.setIndex(new l.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],a=r.name,i=r.array,o=r.itemSize;t.setAttribute(a,new l.BufferAttribute(i,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new l.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var a=lc.toString(),i=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var a=n.workerPool[n.workerPool.length-1];return a._taskCosts[e]=t,a._taskLoad+=t,a}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(l.Loader);function lc(){var e,t;function n(e,t,n,r,a,i){var o=i.num_components(),s=n.num_points()*o,u=s*a.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,a),l=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,i,c,u,l);var f=new a(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:r,array:f,itemSize:o}}onmessage=function(r){var a=r.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=a.buffer,o=a.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{var u=function(e,t,r,a){var i,o,s=a.attributeIDs,u=a.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(r,i);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l={index:null,attributes:[]};for(var f in s){var d=self[u[f]],h=void 0,p=void 0;if(a.useUniqueIDs)p=s[f],h=t.GetAttributeByUniqueId(i,p);else{if(-1===(p=t.GetAttributeId(i,e[s[f]])))continue;h=t.GetAttribute(i,p)}l.attributes.push(n(e,t,i,f,d,h))}c===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){var r=3*n.num_faces(),a=4*r,i=e._malloc(a);t.GetTrianglesUInt32Array(n,a,i);var o=new Uint32Array(e.HEAPF32.buffer,i,r).slice();return e._free(i),{array:o,itemSize:1}}(e,t,i));return e.destroy(i),l}(t,r,s,o),c=u.attributes.map((function(e){return e.array.buffer}));u.index&&c.push(u.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:u},c)}catch(l){console.error(l),self.postMessage({type:"error",id:a.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var fc=function(){if(sc)return sc;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};var n,r="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";WebAssembly.validate(e)&&(r="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");var a=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var a=e.charCodeAt(r);n[r]=a>96?a-71:a>64?a-65:a>47?a+4:a>46?63:62}for(var i=0,o=0;o<e.length;++o)n[i++]=n[o]<60?t[n[o]]:64*(n[o]-60)+n[++o];return n.buffer.slice(0,i)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function i(e,t,r,a,i,o){var s=n.exports.sbrk,u=r+3&-4,c=s(u*a),l=s(i.length),f=new Uint8Array(n.exports.memory.buffer);f.set(i,l);var d=e(c,r,a,l,i.length);if(0===d&&o&&o(c,u,a),t.set(f.subarray(c,c+r*a)),s(c-s(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}var o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},s={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return sc={ready:a,supported:!0,decodeVertexBuffer:function(e,t,r,a,s){i(n.exports.meshopt_decodeVertexBuffer,e,t,r,a,n.exports[o[s]])},decodeIndexBuffer:function(e,t,r,a){i(n.exports.meshopt_decodeIndexBuffer,e,t,r,a)},decodeIndexSequence:function(e,t,r,a){i(n.exports.meshopt_decodeIndexSequence,e,t,r,a)},decodeGltfBuffer:function(e,t,r,a,u,c){i(n.exports[s[u]],e,t,r,a,n.exports[o[c]])}},sc},dc=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new gc(e)})),r.register((function(e){return new Ac(e)})),r.register((function(e){return new Mc(e)})),r.register((function(e){return new yc(e)})),r.register((function(e){return new _c(e)})),r.register((function(e){return new bc(e)})),r.register((function(e){return new wc(e)})),r.register((function(e){return new xc(e)})),r.register((function(e){return new vc(e)})),r.register((function(e){return new Ec(e)})),r}return(0,Q.Z)(n,[{key:"load",value:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:l.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new l.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(Al){o(Al)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,i={},o={};if("string"===typeof e)a=e;else if(l.LoaderUtils.decodeText(new Uint8Array(e,0,4))===Cc){try{i[pc.KHR_BINARY_GLTF]=new kc(e)}catch(v){return void(r&&r(v))}a=i[pc.KHR_BINARY_GLTF].content}else a=l.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new sl(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var f=this.pluginCallbacks[c](u);o[f.name]=f,i[f.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var h=s.extensionsUsed[d],p=s.extensionsRequired||[];switch(h){case pc.KHR_MATERIALS_UNLIT:i[h]=new mc;break;case pc.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[h]=new Dc;break;case pc.KHR_DRACO_MESH_COMPRESSION:i[h]=new Bc(s,this.dracoLoader);break;case pc.KHR_TEXTURE_TRANSFORM:i[h]=new Pc;break;case pc.KHR_MESH_QUANTIZATION:i[h]=new Rc;break;default:p.indexOf(h)>=0&&void 0===o[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(i),u.setPlugins(o),u.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.parse(e,t,r,a)}))}}]),n}(l.Loader);function hc(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var pc={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},vc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,Q.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],s=new l.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(a=new l.DirectionalLight(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new l.PointLight(s)).distance=u;break;case"spot":(a=new l.SpotLight(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),mc=function(){function e(){(0,K.Z)(this,e),this.name=pc.KHR_MATERIALS_UNLIT}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(){return l.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new l.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)}}]),e}(),gc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_CLEARCOAT}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){var o=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new l.Vector2(o,o)}return Promise.all(a)}}]),e}(),yc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_SHEEN}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[];t.sheenColor=new l.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var i=r.extensions[this.name];return void 0!==i.sheenColorFactor&&t.sheenColor.fromArray(i.sheenColorFactor),void 0!==i.sheenRoughnessFactor&&(t.sheenRoughness=i.sheenRoughnessFactor),void 0!==i.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",i.sheenColorTexture)),void 0!==i.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(a)}}]),e}(),_c=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_TRANSMISSION}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),bc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_VOLUME}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.thickness=void 0!==i.thicknessFactor?i.thicknessFactor:0,void 0!==i.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||0;var o=i.attenuationColor||[1,1,1];return t.attenuationColor=new l.Color(o[0],o[1],o[2]),Promise.all(a)}}]),e}(),wc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_IOR}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),xc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_MATERIALS_SPECULAR}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.specularIntensity=void 0!==i.specularFactor?i.specularFactor:1,void 0!==i.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",i.specularTexture));var o=i.specularColorFactor||[1,1,1];return t.specularColor=new l.Color(o[0],o[1],o[2]),void 0!==i.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",i.specularColorTexture).then((function(e){e.encoding=l.sRGBEncoding}))),Promise.all(a)}}]),e}(),Ac=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.KHR_TEXTURE_BASISU}return(0,Q.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=n.images[a.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}]),e}(),Mc=function(){function e(t){(0,K.Z)(this,e),this.parser=t,this.name=pc.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,Q.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Ec=function(){function e(t){(0,K.Z)(this,e),this.name=pc.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,Q.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,i.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new ArrayBuffer(a*o),u=new Uint8Array(e[0],t,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,u,r.mode,r.filter),s}))}return null}}]),e}(),Cc="glTF",Sc=1313821514,Tc=5130562,kc=(0,Q.Z)((function e(t){(0,K.Z)(this,e),this.name=pc.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:l.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Cc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),i=0;i<r;){var o=a.getUint32(i,!0);i+=4;var s=a.getUint32(i,!0);if(i+=4,s===Sc){var u=new Uint8Array(t,12+i,o);this.content=l.LoaderUtils.decodeText(u)}else if(s===Tc){var c=12+i;this.body=t.slice(c,c+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Bc=function(){function e(t,n){if((0,K.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pc.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,Q.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},u={};for(var c in i){var l=Yc[c]||c.toLowerCase();o[l]=i[c]}for(var f in e.attributes){var d=Yc[f]||f.toLowerCase();if(void 0!==i[f]){var h=n.accessors[e.attributes[f]],p=jc[h.componentType];u[d]=p,s[d]=!0===h.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,u)}))}))}}]),e}(),Pc=function(){function e(){(0,K.Z)(this,e),this.name=pc.KHR_TEXTURE_TRANSFORM}return(0,Q.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),Lc=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;(0,K.Z)(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new l.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=c,r.onBeforeCompile=function(e){for(var t in c)e.uniforms[t]=c[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",u)},Object.defineProperties((0,N.Z)(r),{specular:{get:function(){return c.specular.value},set:function(e){c.specular.value=e}},specularMap:{get:function(){return c.specularMap.value},set:function(e){c.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(e){c.glossiness.value=e}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(e){c.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return(0,Q.Z)(n,[{key:"copy",value:function(e){return(0,G.Z)((0,H.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(l.MeshStandardMaterial),Dc=function(){function e(){(0,K.Z)(this,e),this.name=pc.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return(0,Q.Z)(e,[{key:"getMaterialType",value:function(){return Lc}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new l.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new l.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new l.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",o)),a.push(n.assignTexture(e,"specularMap",o))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new Lc(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=l.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),Rc=(0,Q.Z)((function e(){(0,K.Z)(this,e),this.name=pc.KHR_MESH_QUANTIZATION})),Fc=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e,r,a,i){return(0,K.Z)(this,n),t.call(this,e,r,a,i)}return(0,Q.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}}]),n}(l.Interpolant);Fc.prototype.beforeStart_=Fc.prototype.copySampleValue_,Fc.prototype.afterEnd_=Fc.prototype.copySampleValue_,Fc.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,c=r-t,l=(n-t)/c,f=l*l,d=f*l,h=e*u,p=h-u,v=-2*d+3*f,m=d-f,g=1-v,y=m-f+l,_=0;_!==o;_++){var b=i[p+_+o],w=i[p+_+s]*c,x=i[h+_+o],A=i[h+_]*c;a[_]=g*b+y*w+v*x+m*A}return a};var Ic=new l.Quaternion,Oc=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){return(0,K.Z)(this,n),t.apply(this,arguments)}return(0,Q.Z)(n,[{key:"interpolate_",value:function(e,t,r,a){var i=(0,G.Z)((0,H.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,a);return Ic.fromArray(i).normalize().toArray(i),i}}]),n}(Fc),zc=0,Zc=1,Uc=2,Nc=3,Gc=4,Hc=5,Vc=6,jc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Wc={9728:l.NearestFilter,9729:l.LinearFilter,9984:l.NearestMipmapNearestFilter,9985:l.LinearMipmapNearestFilter,9986:l.NearestMipmapLinearFilter,9987:l.LinearMipmapLinearFilter},Xc={33071:l.ClampToEdgeWrapping,33648:l.MirroredRepeatWrapping,10497:l.RepeatWrapping},qc={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Yc={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Qc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Kc={CUBICSPLINE:void 0,LINEAR:l.InterpolateLinear,STEP:l.InterpolateDiscrete},Jc="OPAQUE",$c="MASK",el="BLEND";function tl(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function nl(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function rl(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function al(e){var t=e.extensions&&e.extensions[pc.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+il(t.attributes):e.indices+":"+il(e.attributes)+":"+e.mode}function il(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ol(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var sl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,K.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new hc,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox|Safari/.test(navigator.userAgent)?this.textureLoader=new l.ImageBitmapLoader(this.options.manager):this.textureLoader=new l.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new l.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,Q.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};tl(a,i,r),nl(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=r.associations.get(t);null!=a&&r.associations.set(n,a);var o,s=(0,J.Z)(t.children.entries());try{for(s.s();!(o=s.n()).done;){var u=(0,i.Z)(o.value,2),c=u[0];e(u[1],n.children[c])}}catch(l){s.e(l)}finally{s.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[pc.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(l.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,o=e[0],s=qc[r.type],u=jc[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==f){var v=Math.floor(d/h),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count,g=t.cache.get(m);g||(a=new u(o,v*h,r.count*h/c),g=new l.InterleavedBuffer(a,h/c),t.cache.add(m,g)),i=new l.InterleavedBufferAttribute(g,s,d%h/c,p)}else a=null===o?new u(r.count*s):new u(o,d,r.count*s),i=new l.BufferAttribute(a,s,p);if(void 0!==r.sparse){var y=qc.SCALAR,_=jc[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new _(e[1],b,r.sparse.count*y),A=new u(e[2],w,r.sparse.count*s);null!==o&&(i=new l.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var M=0,E=x.length;M<E;M++){var C=x[M];if(i.setX(C,A[M*s]),s>=2&&i.setY(C,A[M*s+1]),s>=3&&i.setZ(C,A[M*s+2]),s>=4&&i.setW(C,A[M*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],a=t.images[r.source],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,a,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,i=this.options,o=a.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];var u=self.URL||self.webkitURL,c=t.uri||"",f=!1;if(void 0!==t.bufferView)c=r.getDependency("bufferView",t.bufferView).then((function(e){f=!0;var n=new Blob([e],{type:t.mimeType});return c=u.createObjectURL(n)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var d=Promise.resolve(c).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){var n=new l.Texture(e);n.needsUpdate=!0,t(n)}),n.load(l.LoaderUtils.resolveURL(e,i.path),a,void 0,r)}))})).then((function(t){!0===f&&u.revokeObjectURL(c),t.flipY=!1,o.name&&(t.name=o.name);var n=(a.samplers||{})[o.sampler]||{};return t.magFilter=Wc[n.magFilter]||l.LinearFilter,t.minFilter=Wc[n.minFilter]||l.LinearMipmapLinearFilter,t.wrapS=Xc[n.wrapS]||l.RepeatWrapping,t.wrapT=Xc[n.wrapT]||l.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=d,d}},{key:"assignTexture",value:function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[pc.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[pc.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var o=r.associations.get(a);a=r.extensions[pc.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),r.associations.set(a,o)}}return e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new l.PointsMaterial,l.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,c=this.cache.get(u);c||(c=new l.LineBasicMaterial,l.Material.prototype.copy.call(c,n),c.color.copy(n.color),this.cache.add(u,c)),n=c}if(r||a||i){var f="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(f+="specular-glossiness:"),r&&(f+="derivative-tangents:"),a&&(f+="vertex-colors:"),i&&(f+="flat-shading:");var d=this.cache.get(f);d||(d=n.clone(),a&&(d.vertexColors=!0),i&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(f,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return l.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,i=r.materials[e],o={},s=i.extensions||{},u=[];if(s[pc.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[pc.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(o,i,n))}else if(s[pc.KHR_MATERIALS_UNLIT]){var f=a[pc.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),u.push(f.extendParams(o,i,n))}else{var d=i.pbrMetallicRoughness||{};if(o.color=new l.Color(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==d.baseColorTexture&&u.push(n.assignTexture(o,"map",d.baseColorTexture)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=l.DoubleSide);var p=i.alphaMode||Jc;if(p===el?(o.transparent=!0,o.depthWrite=!1):(o.format=l.RGBFormat,o.transparent=!1,p===$c&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new l.Vector2(1,1),void 0!==i.normalTexture.scale)){var v=i.normalTexture.scale;o.normalScale.set(v,v)}return void 0!==i.occlusionTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==l.MeshBasicMaterial&&(o.emissive=(new l.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==l.MeshBasicMaterial&&u.push(n.assignTexture(o,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){var r;return r=t===Lc?a[pc.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),i.name&&(r.name=i.name),r.map&&(r.map.encoding=l.sRGBEncoding),r.emissiveMap&&(r.emissiveMap.encoding=l.sRGBEncoding),nl(r,i),n.associations.set(r,{materials:e}),i.extensions&&tl(a,r,i),r}))}},{key:"createUniqueName",value:function(e){for(var t=l.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[pc.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return cl(n,e,t)}))}for(var i=[],o=0,s=e.length;o<s;o++){var u=e[o],c=al(u),f=r[c];if(f)i.push(f.promise);else{var d=void 0;d=u.extensions&&u.extensions[pc.KHR_DRACO_MESH_COMPRESSION]?a(u):cl(new l.BufferGeometry,u,t),r[c]={primitive:u,promise:d},i.push(d)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,a=this.extensions,i=r.meshes[e],o=i.primitives,s=[],u=0,c=o.length;u<c;u++){var f=void 0===o[u].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new l.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[u].material);s.push(f)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],u=[],c=0,f=s.length;c<f;c++){var d=s[c],h=o[c],p=void 0,v=r[c];if(h.mode===Gc||h.mode===Hc||h.mode===Vc||void 0===h.mode)!0!==(p=!0===i.isSkinnedMesh?new l.SkinnedMesh(d,v):new l.Mesh(d,v)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),h.mode===Hc?p.geometry=ll(p.geometry,l.TriangleStripDrawMode):h.mode===Vc&&(p.geometry=ll(p.geometry,l.TriangleFanDrawMode));else if(h.mode===Zc)p=new l.LineSegments(d,v);else if(h.mode===Nc)p=new l.Line(d,v);else if(h.mode===Uc)p=new l.LineLoop(d,v);else{if(h.mode!==zc)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new l.Points(d,v)}Object.keys(p.geometry.morphAttributes).length>0&&rl(p,i),p.name=n.createUniqueName(i.name||"mesh_"+e),nl(p,i),h.extensions&&tl(a,p,h),n.assignFinalMaterial(p),u.push(p)}for(var m=0,g=u.length;m<g;m++)n.associations.set(u[m],{meshes:e,primitives:m});if(1===u.length)return u[0];var y=new l.Group;n.associations.set(y,{meshes:e});for(var _=0,b=u.length;_<b;_++)y.add(u[_]);return y}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new l.PerspectiveCamera(l.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new l.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),nl(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],o=[],s=0,u=t.channels.length;s<u;s++){var c=t.channels[s],f=t.samplers[c.sampler],d=c.target,h=void 0!==d.node?d.node:d.id,p=void 0!==t.parameters?t.parameters[f.input]:f.input,v=void 0!==t.parameters?t.parameters[f.output]:f.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",v)),i.push(f),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(o)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=[],c=function(e,t){var n=r[e],c=a[e],f=i[e],d=o[e],h=s[e];if(void 0===n)return"continue";n.updateMatrix(),n.matrixAutoUpdate=!0;var p=void 0;switch(Qc[h.path]){case Qc.weights:p=l.NumberKeyframeTrack;break;case Qc.rotation:p=l.QuaternionKeyframeTrack;break;default:p=l.VectorKeyframeTrack}var v=n.name?n.name:n.uuid,m=void 0!==d.interpolation?Kc[d.interpolation]:l.InterpolateLinear,g=[];Qc[h.path]===Qc.weights?n.traverse((function(e){e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(v);var y=f.array;if(f.normalized){for(var _=ol(y.constructor),b=new Float32Array(y.length),w=0,x=y.length;w<x;w++)b[w]=y[w]*_;y=b}for(var A=0,M=g.length;A<M;A++){var E=new p(g[A]+"."+Qc[h.path],c.array,y,m);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new(this instanceof l.QuaternionKeyframeTrack?Oc:Fc)(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(E)}},f=0,d=r.length;f<d;f++)c(f);var h=t.name?t.name:"animation_"+e;return new l.AnimationClip(h,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],i=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===a.isBone?new l.Bone:t.length>1?new l.Group:1===t.length?t[0]:new l.Object3D)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(a.name&&(o.userData.name=a.name,o.name=i),nl(o,a),a.extensions&&tl(n,o,a),void 0!==a.matrix){var c=new l.Matrix4;c.fromArray(a.matrix),o.applyMatrix4(c)}else void 0!==a.translation&&o.position.fromArray(a.translation),void 0!==a.rotation&&o.quaternion.fromArray(a.rotation),void 0!==a.scale&&o.scale.fromArray(a.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=this,o=new l.Group;r.name&&(o.name=a.createUniqueName(r.name)),nl(o,r),r.extensions&&tl(n,o,r);for(var s=r.nodes||[],u=[],c=0,f=s.length;c<f;c++)u.push(ul(s[c],o,t,a));return Promise.all(u).then((function(){return a.associations=function(e){var t,n=new Map,r=(0,J.Z)(a.associations);try{for(r.s();!(t=r.n()).done;){var o=(0,i.Z)(t.value,2),s=o[0],u=o[1];(s instanceof l.Material||s instanceof l.Texture)&&n.set(s,u)}}catch(c){r.e(c)}finally{r.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&n.set(e,t)})),n}(o),o}))}}]),e}();function ul(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,o=n.length;i<o;i++){var s=n[i];if(s){r.push(s);var u=new l.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*i),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new l.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,u=o.length;s<u;s++){var c=o[s];i.push(ul(c,e,n,r))}return Promise.all(i)}))}function cl(e,t,n){var r=t.attributes,a=[];function i(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Yc[o]||o.toLowerCase();s in e.attributes||a.push(i(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(u)}return nl(e,t),function(e,t,n){var r=t.attributes,a=new l.Box3;if(void 0!==r.POSITION){var i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(a.set(new l.Vector3(o[0],o[1],o[2]),new l.Vector3(s[0],s[1],s[2])),i.normalized){var u=ol(jc[i.componentType]);a.min.multiplyScalar(u),a.max.multiplyScalar(u)}var c=t.targets;if(void 0!==c){for(var f=new l.Vector3,d=new l.Vector3,h=0,p=c.length;h<p;h++){var v=c[h];if(void 0!==v.POSITION){var m=n.json.accessors[v.POSITION],g=m.min,y=m.max;if(void 0!==g&&void 0!==y){if(d.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),d.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),d.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),m.normalized){var _=ol(jc[m.componentType]);d.multiplyScalar(_)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(f)}e.boundingBox=a;var b=new l.Sphere;a.getCenter(b.center),b.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=0,o=t.length;i<o;i++){var s=t[i];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(!r&&!a)return Promise.resolve(e);for(var u=[],c=[],l=0,f=t.length;l<f;l++){var d=t[l];if(r){var h=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION):e.attributes.position;u.push(h)}if(a){var p=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL):e.attributes.normal;c.push(p)}}return Promise.all([Promise.all(u),Promise.all(c)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function ll(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===l.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<o;c++)c%2===0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(s),f}var fl=null;function dl(e,t,n){return function(r){n&&n(r),e&&(fl||(fl=new cc),fl.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(fl)),t&&r.setMeshoptDecoder(fc())}}function hl(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=(0,f.useLoader)(dc,e,dl(t,n,r));return a}hl.preload=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return f.useLoader.preload(dc,e,dl(t,n,r))},hl.clear=function(e){return f.useLoader.clear(dc,e)};var pl=n(8356),vl=n.n(pl);function ml(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)}function gl(e){var t=e.showPanel,n=void 0===t?0:t,r=e.className,a=e.parent,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=u.useState(),a=(0,i.Z)(r,2),o=a[0],s=a[1];return u.useLayoutEffect((function(){var t=e();return s(t),ml(n,t),function(){return ml(n,null)}}),t),o}((function(){return new(vl())}),[]);return u.useEffect((function(){if(o){var e=a&&a.current||document.body;o.showPanel(n),null==e||e.appendChild(o.dom),r&&o.dom.classList.add(r);var t=(0,f.addEffect)((function(){return o.begin()})),i=(0,f.addAfterEffect)((function(){return o.end()}));return function(){null==e||e.removeChild(o.dom),t(),i()}}}),[a,o,r,n]),null}var yl=["multisample","samples"];function _l(e,t,n){var r=(0,f.useThree)((function(e){return e.gl})),a=(0,f.useThree)((function(e){return e.size})),i=(0,u.useMemo)((function(){return r.getPixelRatio()}),[r]),s="number"===typeof e?e:a.width*i,c="number"===typeof t?t:a.height*i,d=("number"===typeof e?n:e)||{},h=(0,u.useMemo)((function(){var e,t=d.multisample,n=d.samples,a=(0,o.Z)(d,yl);return t&&r.capabilities.isWebGL2?(e=new l.WebGLMultisampleRenderTarget(s,c,a),n&&(e.samples=n)):e=new l.WebGLRenderTarget(s,c,a),e}),[]);return(0,u.useEffect)((function(){h.setSize(s,c)}),[h,s,c]),(0,u.useEffect)((function(){return function(){return h.dispose()}}),[]),h}var bl=u.forwardRef((function(e,t){var n=e.size,r=void 0===n?256:n;u.useEffect((function(){console.warn("DepthBuffer has been deprecated and will be removed next major. Replace it with useDepthBuffer(size)!")}),[]);var a=(0,f.useThree)((function(e){return e.viewport.dpr})),i=(0,f.useThree)((function(e){return e.size})),o=i.width,s=i.height,c=r||o*a,d=r||s*a,h=u.useMemo((function(){var e=new l.DepthTexture(c,d);return e.format=l.DepthFormat,e.type=l.UnsignedShortType,{depthTexture:e}}),[c,d]),p=_l(c,d,h);return u.useImperativeHandle(t,(function(){return null==p?void 0:p.depthTexture})),(0,f.useFrame)((function(e){e.gl.setRenderTarget(p),e.gl.render(e.scene,e.camera),e.gl.setRenderTarget(null)}))}));function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?256:t,r=e.frames,a=void 0===r?1/0:r,i=(0,f.useThree)((function(e){return e.viewport.dpr})),o=(0,f.useThree)((function(e){return e.size})),s=o.width,c=o.height,d=n||s*i,h=n||c*i,p=u.useMemo((function(){var e=new l.DepthTexture(d,h);return e.format=l.DepthFormat,e.type=l.UnsignedShortType,{depthTexture:e}}),[d,h]),v=0,m=_l(d,h,p);return(0,f.useFrame)((function(e){(a===1/0||v<a)&&(e.gl.setRenderTarget(m),e.gl.render(e.scene,e.camera),e.gl.setRenderTarget(null),v++)})),m.depthTexture}function xl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,f.useThree)((function(e){return e.viewport})),a=t*(r.aspect>e/t?r.width/e:r.height/t),i=e*(r.aspect>e/t?r.width/e:r.height/t);return[i*n,a*n,1]}function Al(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}var Ml=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","radeon r9 200","sgx 543","sgx543"],El=function(e){return e.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},Cl="undefined"==typeof window,Sl=function(){if(!Cl){var e=window.navigator,t=e.userAgent,n=e.platform,r=e.maxTouchPoints,a=/(iphone|ipod|ipad)/i.test(t),i="iPad"===n||"MacIntel"===n&&r>0&&!window.MSStream;return{isIpad:i,isMobile:/android/i.test(t)||a||i,isSafari12:/Version\/12.+Safari/.test(t)}}}(),Tl=function(e,t,n){return"apple gpu"===t?function(e,t,n){var r=[t];if(n){var a=e.createShader(35633),i=e.createShader(35632),o=e.createProgram();if(i&&a&&o){e.shaderSource(a,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),e.shaderSource(i,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),e.compileShader(a),e.compileShader(i),e.attachShader(o,a),e.attachShader(o,i),e.linkProgram(o),e.detachShader(o,a),e.detachShader(o,i),e.deleteShader(a),e.deleteShader(i),e.useProgram(o);var s=e.createBuffer();e.bindBuffer(34962,s),e.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);var u=e.getAttribLocation(o,"aPosition");e.vertexAttribPointer(u,3,5126,!1,0,0),e.enableVertexAttribArray(u),e.clearColor(1,1,1,1),e.clear(16384),e.viewport(0,0,1,1),e.drawArrays(4,0,3);var c=new Uint8Array(4);e.readPixels(0,0,1,1,6408,5121,c),e.deleteProgram(o),e.deleteBuffer(s),r={801621810:(null==Sl?void 0:Sl.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==Sl?void 0:Sl.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[c.join("")]||r}}return r}(e,t,n):[t]},kl=[],Bl=[],Pl=function(e,t){if(e===t)return 0;var n=e;e.length>t.length&&(e=t,t=n);for(var r=e.length,a=t.length;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-a);)r--,a--;for(var i,o=0;o<r&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(a-=o,0===(r-=o))return a;for(var s,u,c=0,l=0,f=0;l<r;)Bl[l]=e.charCodeAt(o+l),kl[l]=++l;for(;f<a;)for(i=t.charCodeAt(o+f),s=f++,c=f,l=0;l<r;l++)u=i===Bl[l]?s:s+1,s=kl[l],c=kl[l]=s>c?u>c?c+1:u:u>s?s+1:u;return c},Ll=n(1652),Dl=function(e){return(0,Ll.G)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mobileTiers,n=void 0===t?[0,15,30,60]:t,r=e.desktopTiers,a=void 0===r?[0,15,30,60]:r,o=e.override,s=void 0===o?{}:o,u=e.glContext,c=e.failIfMajorPerformanceCaveat,l=void 0!==c&&c,f=e.benchmarksURL,d=void 0===f?"https://unpkg.com/detect-gpu@3.1.30/dist/benchmarks":f;return Al(void 0,void 0,void 0,ee().mark((function e(){var t,r,o,c,f,h,p,v,m,g,y,_,b,w,x,A,M,E,C,S,T,k,B,P;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!Cl){e.next=3;break}return e.abrupt("return",{tier:0,type:"SSR"});case 3:if(r=s.isIpad,o=void 0===r?!!(null==Sl?void 0:Sl.isIpad):r,c=s.isMobile,f=void 0===c?!!(null==Sl?void 0:Sl.isMobile):c,h=s.screenSize,p=void 0===h?window.screen:h,v=s.loadBenchmarks,m=void 0===v?function(e){return Al(void 0,void 0,void 0,ee().mark((function t(){var n;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(d,"/").concat(e)).then((function(e){return e.json()}));case 2:return n=t.sent,t.abrupt("return",(n.shift(),n));case 4:case"end":return t.stop()}}),t)})))}:v,g=s.renderer,y=function(e,t,n,r,a){return{device:a,fps:r,gpu:n,isMobile:f,tier:e,type:t}},b="",!g){e.next=11;break}g=El(g),_=[g],e.next=18;break;case 11:if(w=u||function(e){var t={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:arguments.length>1&&void 0!==arguments[1]&&arguments[1],powerPreference:"high-performance",stencil:!1};e&&delete t.powerPreference;var n=window.document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t);return null!=r?r:void 0}(null==Sl?void 0:Sl.isSafari12,l),w){e.next=14;break}return e.abrupt("return",y(0,"WEBGL_UNSUPPORTED"));case 14:if((x=w.getExtension("WEBGL_debug_renderer_info"))&&(g=w.getParameter(x.UNMASKED_RENDERER_WEBGL)),g){e.next=17;break}return e.abrupt("return",y(1,"FALLBACK"));case 17:b=g,g=El(g),_=Tl(w,g,f);case 18:return e.next=20,Promise.all(_.map((function(e){return Al(void 0,void 0,void 0,ee().mark((function n(){var r,a,s,u,c,l,d,h,v,g,y,_,b,w,x,A,M,E,C,S,T,k,B,P,L,D,R,F,I;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=function(e){for(var t=0,n=f?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","amd","radeon","nvidia","geforce"];t<n.length;t++){var r=n[t];if(e.includes(r))return r}}(e)){n.next=3;break}return n.abrupt("return");case 3:return a="".concat(f?"m":"d","-").concat(r,".json"),s=t[a]=t[a]||m(a),n.prev=4,n.next=7,s;case 7:u=n.sent,n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return");case 13:if(c=function(e){var t,n=(e=e.replace(/\([^)]+\)/,"")).match(/\d+/)||e.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(t=null==n?void 0:n.join("").replace(/\W|amd/g,""))&&void 0!==t?t:""}(e),l="apple"===r,(d=u.filter((function(e){return(0,i.Z)(e,2)[1]===c}))).length||(d=u.filter((function(t){return(0,i.Z)(t,1)[0].includes(e)}))),0!==(h=d.length)){n.next=19;break}return n.abrupt("return");case 19:g=h>1?d.map((function(t){return[t,Pl(e,t[0])]})).sort((function(e,t){return(0,i.Z)(e,2)[1]-(0,i.Z)(t,2)[1]}))[0][0]:d[0],y=(0,i.Z)(g,4),_=y[0],b=y[3],w=Number.MAX_VALUE,x=window,A=x.devicePixelRatio,M=p.width*A*(p.height*A),l&&f&&(b=b.filter((function(e){var t,n=(0,i.Z)(e,4)[3];return(null!==(t=null==n?void 0:n.indexOf(o?"ipad":"iphone"))&&void 0!==t?t:-1)>-1}))),E=(0,J.Z)(b);try{for(E.s();!(C=E.n()).done;)S=C.value,T=(0,i.Z)(S,2),k=T[0],B=T[1],P=k*B,(L=Math.abs(M-P))<w&&(w=L,v=S)}catch(O){E.e(O)}finally{E.f()}if(v){n.next=26;break}return n.abrupt("return");case 26:return D=v,R=(0,i.Z)(D,4),F=R[2],I=R[3],n.abrupt("return",[w,F,_,I]);case 28:case"end":return n.stop()}}),n,null,[[4,10]])})))})));case 20:if(A=e.sent.filter((function(e){return!!e})),A.length){e.next=24;break}return M=Ml.find((function(e){return g.includes(e)})),e.abrupt("return",M?y(0,"BLOCKLISTED",M):y(1,"FALLBACK","".concat(g," (").concat(b,")")));case 24:if(E=(0,i.Z)(A.sort((function(e,t){var n=(0,i.Z)(e,1)[0],r=void 0===n?Number.MAX_VALUE:n,a=(0,i.Z)(t,1)[0];return r-(void 0===a?Number.MAX_VALUE:a)}))[0],4),C=E[1],S=E[2],T=E[3],-1!==C){e.next=27;break}return e.abrupt("return",y(0,"BLOCKLISTED",S,C,T));case 27:for(k=f?n:a,B=0,P=0;P<k.length;P++)C>=k[P]&&(B=P);return e.abrupt("return",y(B,"BENCHMARK",S,C,T));case 31:case"end":return e.stop()}}),e)})))}(e)}),"useDetectGPU")};function Rl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=u.useRef(),o=(0,f.useThree)((function(e){return e.scene}));return u.useEffect((function(){return t&&e.current&&(i.current=(0,X.Z)(t,[e.current].concat(r)),i.current&&o.add(i.current)),function(){i.current&&o.remove(i.current)}}),[o,t,e,r]),(0,f.useFrame)((function(){var e;null!=(e=i.current)&&e.update&&i.current.update()})),i}var Fl=new l.Vector3,Il=new l.Vector3,Ol=new l.Vector3,zl=new l.Vector2,Zl=new l.Vector2,Ul=new l.Vector2,Nl=new l.Vector3;function Gl(e,t,n,r,a,i,o){Fl.fromBufferAttribute(t,r),Il.fromBufferAttribute(t,a),Ol.fromBufferAttribute(t,i);var s=function(e,t,n,r,a,i){return null===(i===l.BackSide?e.intersectTriangle(r,n,t,!0,a):e.intersectTriangle(t,n,r,i!==l.DoubleSide,a))?null:{distance:e.origin.distanceTo(a),point:a.clone()}}(e,Fl,Il,Ol,Nl,o);if(s){n&&(zl.fromBufferAttribute(n,r),Zl.fromBufferAttribute(n,a),Ul.fromBufferAttribute(n,i),s.uv=l.Triangle.getUV(Nl,Fl,Il,Ol,zl,Zl,Ul,new l.Vector2));var u={a:r,b:a,c:i,normal:new l.Vector3,materialIndex:0};l.Triangle.getNormal(Fl,Il,Ol,u.normal),s.face=u,s.faceIndex=r}return s}function Hl(e,t,n,r,a){var i=3*r,o=e.index.getX(i),s=e.index.getX(i+1),u=e.index.getX(i+2),c=Gl(n,e.attributes.position,e.attributes.uv,o,s,u,t);return c?(c.faceIndex=r,a&&a.push(c),c):null}function Vl(e,t,n){return null===e?null:(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(n.ray.origin),e.object=t,e.distance<n.near||e.distance>n.far?null:e)}var jl=1.25,Wl=32,Xl=65535,ql=Math.pow(2,-24),Yl=(0,Q.Z)((function e(){(0,K.Z)(this,e)}));function Ql(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function Kl(e){for(var t=-1,n=-1/0,r=0;r<3;r++){var a=e[r+3]-e[r];a>n&&(n=a,t=r)}return t}function Jl(e,t){t.set(e)}function $l(e,t,n){for(var r,a,i=0;i<3;i++){var o=i+3;r=e[i],a=t[i],n[i]=r<a?r:a,r=e[o],a=t[o],n[o]=r>a?r:a}}function ef(e,t,n){for(var r=0;r<3;r++){var a=t[e+2*r],i=t[e+2*r+1],o=a-i,s=a+i;o<n[r]&&(n[r]=o),s>n[r+3]&&(n[r+3]=s)}}function tf(e){var t=e[3]-e[0],n=e[4]-e[1],r=e[5]-e[2];return 2*(t*n+n*r+r*t)}function nf(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=1/0,o=1/0,s=1/0,u=-1/0,c=-1/0,l=-1/0,f=1/0,d=1/0,h=1/0,p=-1/0,v=-1/0,m=-1/0,g=null!==a,y=6*t,_=6*(t+n);y<_;y+=6){var b=e[y+0],w=e[y+1],x=b-w,A=b+w;x<i&&(i=x),A>u&&(u=A),g&&b<f&&(f=b),g&&b>p&&(p=b);var M=e[y+2],E=e[y+3],C=M-E,S=M+E;C<o&&(o=C),S>c&&(c=S),g&&M<d&&(d=M),g&&M>v&&(v=M);var T=e[y+4],k=e[y+5],B=T-k,P=T+k;B<s&&(s=B),P>l&&(l=P),g&&T<h&&(h=T),g&&T>m&&(m=T)}r[0]=i,r[1]=o,r[2]=s,r[3]=u,r[4]=c,r[5]=l,g&&(a[0]=f,a[1]=d,a[2]=h,a[3]=p,a[4]=v,a[5]=m)}function rf(e,t,n,r,a){for(var i=n,o=n+r-1,s=a.pos,u=2*a.axis;;){for(;i<=o&&t[6*i+u]<s;)i++;for(;i<=o&&t[6*o+u]>=s;)o--;if(!(i<o))return i;for(var c=0;c<3;c++){var l=e[3*i+c];e[3*i+c]=e[3*o+c],e[3*o+c]=l;var f=t[6*i+2*c+0];t[6*i+2*c+0]=t[6*o+2*c+0],t[6*o+2*c+0]=f;var d=t[6*i+2*c+1];t[6*i+2*c+1]=t[6*o+2*c+1],t[6*o+2*c+1]=d}i++,o--}}var af=32,of=function(e,t){return e.candidate-t.candidate},sf=new Array(af).fill().map((function(){return{count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0}})),uf=new Float32Array(6);function cf(e,t,n,r,a,i){var o=-1,s=0;if(0===i)-1!==(o=Kl(t))&&(s=(t[o]+t[o+3])/2);else if(1===i)-1!==(o=Kl(e))&&(s=function(e,t,n,r){for(var a=0,i=t,o=t+n;i<o;i++)a+=e[6*i+2*r];return a/n}(n,r,a,o));else if(2===i)for(var u=tf(e),c=jl*a,l=6*r,f=6*(r+a),d=0;d<3;d++){var h=t[d],p=(t[d+3]-h)/af;if(a<8){var v=(0,A.Z)(sf);v.length=a;for(var m=0,g=l;g<f;g+=6,m++){var y=v[m];y.candidate=n[g+2*d],y.count=0;for(var _=y.bounds,b=y.leftCacheBounds,w=y.rightCacheBounds,x=0;x<3;x++)w[x]=1/0,w[x+3]=-1/0,b[x]=1/0,b[x+3]=-1/0,_[x]=1/0,_[x+3]=-1/0;ef(g,n,_)}v.sort(of);for(var M=a,E=0;E<M;E++)for(var C=v[E];E+1<M&&v[E+1].candidate===C.candidate;)v.splice(E+1,1),M--;for(var S=l;S<f;S+=6)for(var T=n[S+2*d],k=0;k<M;k++){var B=v[k];T>=B.candidate?ef(S,n,B.rightCacheBounds):(ef(S,n,B.leftCacheBounds),B.count++)}for(var P=0;P<M;P++){var L=v[P],D=L.count,R=a-L.count,F=L.leftCacheBounds,I=L.rightCacheBounds,O=0;0!==D&&(O=tf(F)/u);var z=0;0!==R&&(z=tf(I)/u);var Z=1+jl*(O*D+z*R);Z<c&&(o=d,c=Z,s=L.candidate)}}else{for(var U=0;U<af;U++){var N=sf[U];N.count=0,N.candidate=h+p+U*p;for(var G=N.bounds,H=0;H<3;H++)G[H]=1/0,G[H+3]=-1/0}for(var V=l;V<f;V+=6){var j=~~((n[V+2*d]-h)/p);j>=af&&(j=31);var W=sf[j];W.count++,ef(V,n,W.bounds)}var X=sf[31];Jl(X.bounds,X.rightCacheBounds);for(var q=30;q>=0;q--){var Y=sf[q],Q=sf[q+1];$l(Y.bounds,Q.rightCacheBounds,Y.rightCacheBounds)}for(var K=0,J=0;J<31;J++){var $=sf[J],ee=$.count,te=$.bounds,ne=sf[J+1].rightCacheBounds;0!==ee&&(0===K?Jl(te,uf):$l(te,uf,uf));var re=0,ae=0;0!==(K+=ee)&&(re=tf(uf)/u);var ie=a-K;0!==ie&&(ae=tf(ne)/u);var oe=1+jl*(re*K+ae*ie);oe<c&&(o=d,c=oe,s=$.candidate)}}}else console.warn("MeshBVH: Invalid build strategy value ".concat(i," used."));return{axis:o,pos:s}}function lf(e,t){function n(e){h&&h(e/p)}function r(t,a,l){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!v&&p>=u&&(v=!0,c&&(console.warn("MeshBVH: Max depth of ".concat(u," reached when generating BVH. Consider increasing maxDepth.")),console.warn(e))),l<=f||p>=u)return n(a+l),t.offset=a,t.count=l,t;var m=cf(t.boundingData,h,o,a,l,d);if(-1===m.axis)return n(a+l),t.offset=a,t.count=l,t;var g=rf(s,o,a,l,m);if(g===a||g===a+l)n(a+l),t.offset=a,t.count=l;else{t.splitAxis=m.axis;var y=new Yl,_=a,b=g-a;t.left=y,y.boundingData=new Float32Array(6),nf(o,_,b,y.boundingData,i),r(y,_,b,i,p+1);var w=new Yl,x=g,A=l-b;t.right=w,w.boundingData=new Float32Array(6),nf(o,x,A,w.boundingData,i),r(w,x,A,i,p+1)}return t}!function(e,t){if(!e.index){var n,r=e.attributes.position.count,a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;n=r>65535?new Uint32Array(new a(4*r)):new Uint16Array(new a(2*r)),e.setIndex(new l.BufferAttribute(n,1));for(var i=0;i<r;i++)n[i]=i}}(e,t);var a=new Float32Array(6),i=new Float32Array(6),o=function(e,t){var n=e.attributes.position,r=n.array,a=e.index.array,i=a.length/3,o=new Float32Array(6*i),s=n.offset||0,u=3;n.isInterleavedBufferAttribute&&(u=n.data.stride);for(var c=0;c<i;c++)for(var l=3*c,f=6*c,d=a[l+0]*u+s,h=a[l+1]*u+s,p=a[l+2]*u+s,v=0;v<3;v++){var m=r[d+v],g=r[h+v],y=r[p+v],_=m;g<_&&(_=g),y<_&&(_=y);var b=m;g>b&&(b=g),y>b&&(b=y);var w=(b-_)/2,x=2*v;o[f+x+0]=_+w,o[f+x+1]=w+(Math.abs(_)+w)*ql,_<t[v]&&(t[v]=_),b>t[v+3]&&(t[v+3]=b)}return o}(e,a),s=e.index.array,u=t.maxDepth,c=t.verbose,f=t.maxLeafTris,d=t.strategy,h=t.onProgress,p=e.index.count/3,v=!1,m=[],g=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];var t,n=[],r=new Set,a=(0,J.Z)(e.groups);try{for(a.s();!(t=a.n()).done;){var i=t.value;r.add(i.start),r.add(i.start+i.count)}}catch(l){a.e(l)}finally{a.f()}for(var o=Array.from(r.values()).sort((function(e,t){return e-t})),s=0;s<o.length-1;s++){var u=o[s],c=o[s+1];n.push({offset:u/3,count:(c-u)/3})}return n}(e);if(1===g.length){var y=g[0],_=new Yl;_.boundingData=a,function(e,t,n,r){for(var a=1/0,i=1/0,o=1/0,s=-1/0,u=-1/0,c=-1/0,l=6*t,f=6*(t+n);l<f;l+=6){var d=e[l+0];d<a&&(a=d),d>s&&(s=d);var h=e[l+2];h<i&&(i=h),h>u&&(u=h);var p=e[l+4];p<o&&(o=p),p>c&&(c=p)}r[0]=a,r[1]=i,r[2]=o,r[3]=s,r[4]=u,r[5]=c}(o,y.offset,y.count,i),r(_,y.offset,y.count,i),m.push(_)}else{var b,w=(0,J.Z)(g);try{for(w.s();!(b=w.n()).done;){var x=b.value,A=new Yl;A.boundingData=new Float32Array(6),nf(o,x.offset,x.count,A.boundingData,i),r(A,x.offset,x.count,i),m.push(A)}}catch(M){w.e(M)}finally{w.f()}}return m}function ff(e,t){for(var n,r,a,i=lf(e,t),o=[],s=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,u=0;u<i.length;u++){var c=i[u],l=d(c),f=new s(Wl*l);n=new Float32Array(f),r=new Uint32Array(f),a=new Uint16Array(f),h(0,c),o.push(f)}return o;function d(e){return e.count?1:1+d(e.left)+d(e.right)}function h(e,t){for(var i=e/4,o=e/2,s=!!t.count,u=t.boundingData,c=0;c<6;c++)n[i+c]=u[c];if(s){var l=t.offset,f=t.count;return r[i+6]=l,a[o+14]=f,a[o+15]=Xl,e+Wl}var d,p=t.left,v=t.right,m=t.splitAxis;if((d=h(e+Wl,p))/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[i+6]=d/4,d=h(d,v),r[i+7]=m,d}}var df=function(){function e(){(0,K.Z)(this,e),this.min=1/0,this.max=-1/0}return(0,Q.Z)(e,[{key:"setFromPointsField",value:function(e,t){for(var n=1/0,r=-1/0,a=0,i=e.length;a<i;a++){var o=e[a][t];n=o<n?o:n,r=o>r?o:r}this.min=n,this.max=r}},{key:"setFromPoints",value:function(e,t){for(var n=1/0,r=-1/0,a=0,i=t.length;a<i;a++){var o=t[a],s=e.dot(o);n=s<n?s:n,r=s>r?s:r}this.min=n,this.max=r}},{key:"isSeparated",value:function(e){return this.min>e.max||e.min>this.max}}]),e}();df.prototype.setFromBox=function(){var e=new l.Vector3;return function(t,n){for(var r=n.min,a=n.max,i=1/0,o=-1/0,s=0;s<=1;s++)for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){e.x=r.x*s+a.x*(1-s),e.y=r.y*u+a.y*(1-u),e.z=r.z*c+a.z*(1-c);var l=t.dot(e);i=Math.min(l,i),o=Math.max(l,o)}this.min=i,this.max=o}}();!function(){var e=new df}();var hf=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Vector3;return function(r,a,i){var o=r.start,s=e,u=a.start,c=t;n.subVectors(o,u),e.subVectors(r.end,a.start),t.subVectors(a.end,a.start);var l,f,d=n.dot(c),h=c.dot(s),p=c.dot(c),v=n.dot(s),m=s.dot(s)*p-h*h;f=(d+(l=0!==m?(d*h-v*p)/m:0)*h)/p,i.x=l,i.y=f}}(),pf=function(){var e=new l.Vector2,t=new l.Vector3,n=new l.Vector3;return function(r,a,i,o){hf(r,a,e);var s,u,c=e.x,l=e.y;if(c>=0&&c<=1&&l>=0&&l<=1)return r.at(c,i),void a.at(l,o);if(c>=0&&c<=1)return l<0?a.at(0,o):a.at(1,o),void r.closestPointToPoint(o,!0,i);if(l>=0&&l<=1)return c<0?r.at(0,i):r.at(1,i),void a.closestPointToPoint(i,!0,o);s=c<0?r.start:r.end,u=l<0?a.start:a.end;var f=t,d=n;return r.closestPointToPoint(u,!0,t),a.closestPointToPoint(s,!0,n),f.distanceToSquared(u)<=d.distanceToSquared(s)?(i.copy(f),void o.copy(u)):(i.copy(s),void o.copy(d))}}(),vf=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Plane,r=new l.Line3;return function(a,i){var o=a.radius,s=a.center,u=i.a,c=i.b,l=i.c;if(r.start=u,r.end=c,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=u,r.end=l,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=c,r.end=l,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;var f=i.getPlane(n);if(Math.abs(f.distanceToPoint(s))<=o){var d=f.projectPoint(s,t);if(i.containsPoint(d))return!0}return!1}}(),mf=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isExtendedTriangle=!0,e.satAxes=new Array(4).fill().map((function(){return new l.Vector3})),e.satBounds=new Array(4).fill().map((function(){return new df})),e.points=[e.a,e.b,e.c],e.sphere=new l.Sphere,e.plane=new l.Plane,e.needsUpdate=!1,e}return(0,Q.Z)(n,[{key:"intersectsSphere",value:function(e){return vf(e,this)}},{key:"update",value:function(){var e=this.a,t=this.b,n=this.c,r=this.points,a=this.satAxes,i=this.satBounds,o=a[0],s=i[0];this.getNormal(o),s.setFromPoints(o,r);var u=a[1],c=i[1];u.subVectors(e,t),c.setFromPoints(u,r);var l=a[2],f=i[2];l.subVectors(t,n),f.setFromPoints(l,r);var d=a[3],h=i[3];d.subVectors(n,e),h.setFromPoints(d,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(o,e),this.needsUpdate=!1}}]),n}(l.Triangle);mf.prototype.closestPointToSegment=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Line3;return function(r){for(var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=r.start,u=r.end,c=this.points,l=1/0,f=0;f<3;f++){var d=(f+1)%3;n.start.copy(c[f]),n.end.copy(c[d]),pf(n,r,e,t),(a=e.distanceToSquared(t))<l&&(l=a,i&&i.copy(e),o&&o.copy(t))}return this.closestPointToPoint(s,e),(a=s.distanceToSquared(e))<l&&(l=a,i&&i.copy(e),o&&o.copy(s)),this.closestPointToPoint(u,e),(a=u.distanceToSquared(e))<l&&(l=a,i&&i.copy(e),o&&o.copy(u)),Math.sqrt(l)}}(),mf.prototype.intersectsTriangle=function(){var e=new mf,t=new Array(3),n=new Array(3),r=new df,a=new df,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=new l.Vector3,c=new l.Line3,f=new l.Line3,d=new l.Line3;return function(l){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.needsUpdate&&this.update(),l.isExtendedTriangle?l.needsUpdate&&l.update():(e.copy(l),e.update(),l=e);var p=this.plane,v=l.plane;if(Math.abs(p.normal.dot(v.normal))>1-1e-10){var m=this.satBounds,g=this.satAxes;n[0]=l.a,n[1]=l.b,n[2]=l.c;for(var y=0;y<4;y++){var _=m[y],b=g[y];if(r.setFromPoints(b,n),_.isSeparated(r))return!1}var w=l.satBounds,x=l.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(var A=0;A<4;A++){var M=w[A],E=x[A];if(r.setFromPoints(E,t),M.isSeparated(r))return!1}for(var C=0;C<4;C++)for(var S=g[C],T=0;T<4;T++){var k=x[T];if(i.crossVectors(S,k),r.setFromPoints(i,t),a.setFromPoints(i,n),r.isSeparated(a))return!1}return h&&(console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),h.start.set(0,0,0),h.end.set(0,0,0)),!0}for(var B=this.points,P=!1,L=0,D=0;D<3;D++){var R=B[D],F=B[(D+1)%3];if(c.start.copy(R),c.end.copy(F),c.delta(o),0===v.normal.dot(o)&&0===v.distanceToPoint(c.start)){f.copy(c),L=2;break}if(v.intersectLine(c,P?f.start:f.end)){if(L++,P)break;P=!0}}if(2!==L)return!1;for(var I=l.points,O=!1,z=0,Z=0;Z<3;Z++){var U=I[Z],N=I[(Z+1)%3];if(c.start.copy(U),c.end.copy(N),c.delta(s),0===p.normal.dot(s)&&0===p.distanceToPoint(c.start)){d.copy(c),z=2;break}if(p.intersectLine(c,O?d.start:d.end)){if(z++,O)break;O=!0}}if(2!==z)return!1;if(f.delta(o),d.delta(s),o.dot(s)<0){var G=d.start;d.start=d.end,d.end=G}var H=f.start.dot(o),V=f.end.dot(o),j=d.start.dot(o),W=d.end.dot(o),X=V<j,q=H<W;return(H===W||j===V||X!==q)&&(h&&(u.subVectors(f.start,d.start),u.dot(o)>0?h.start.copy(f.start):h.start.copy(d.start),u.subVectors(f.end,d.end),u.dot(o)<0?h.end.copy(f.end):h.end.copy(d.end)),!0)}}(),mf.prototype.distanceToPoint=function(){var e=new l.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),mf.prototype.distanceToTriangle=function(){var e=new l.Vector3,t=new l.Vector3,n=["a","b","c"],r=new l.Line3,a=new l.Line3;return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=o||s?r:null;if(this.intersectsTriangle(i,u))return(o||s)&&(o&&u.getCenter(o),s&&u.getCenter(s)),0;for(var c=1/0,l=0;l<3;l++){var f=void 0,d=n[l],h=i[d];this.closestPointToPoint(h,e),(f=h.distanceToSquared(e))<c&&(c=f,o&&o.copy(e),s&&s.copy(h));var p=this[d];i.closestPointToPoint(p,e),(f=p.distanceToSquared(e))<c&&(c=f,o&&o.copy(p),s&&s.copy(e))}for(var v=0;v<3;v++){var m=n[v],g=n[(v+1)%3];r.set(this[m],this[g]);for(var y=0;y<3;y++){var _=n[y],b=n[(y+1)%3];a.set(i[_],i[b]),pf(r,a,e,t);var w=e.distanceToSquared(t);w<c&&(c=w,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();var gf=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,K.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isOrientedBox=!0,e.matrix=new l.Matrix4,e.invMatrix=new l.Matrix4,e.points=new Array(8).fill().map((function(){return new l.Vector3})),e.satAxes=new Array(3).fill().map((function(){return new l.Vector3})),e.satBounds=new Array(3).fill().map((function(){return new df})),e.alignedSatBounds=new Array(3).fill().map((function(){return new df})),e.needsUpdate=!1,e}return(0,Q.Z)(n,[{key:"set",value:function(e,t,r){(0,G.Z)((0,H.Z)(n.prototype),"set",this).call(this,e,t),this.matrix.copy(r),this.needsUpdate=!0}},{key:"copy",value:function(e){(0,G.Z)((0,H.Z)(n.prototype),"copy",this).call(this,e),this.matrix.copy(e.matrix),this.needsUpdate=!0}}]),n}(l.Box3);function yf(e,t,n,r){var a=e.a,i=e.b,o=e.c,s=t,u=t+1,c=t+2;n&&(s=n.getX(t),u=n.getX(t+1),c=n.getX(t+2)),a.x=r.getX(s),a.y=r.getY(s),a.z=r.getZ(s),i.x=r.getX(u),i.y=r.getY(u),i.z=r.getZ(u),o.x=r.getX(c),o.y=r.getY(c),o.z=r.getZ(c)}function _f(e,t,n,r,a,i,o){for(var s=n.index,u=n.attributes.position,c=e,l=t+e;c<l;c++)if(yf(o,3*c,s,u),o.needsUpdate=!0,r(o,c,a,i))return!0;return!1}gf.prototype.update=function(){for(var e=this.matrix,t=this.min,n=this.max,r=this.points,a=0;a<=1;a++)for(var i=0;i<=1;i++)for(var o=0;o<=1;o++){var s=r[1*a|2*i|4*o];s.x=a?n.x:t.x,s.y=i?n.y:t.y,s.z=o?n.z:t.z,s.applyMatrix4(e)}for(var u=this.satBounds,c=this.satAxes,l=r[0],f=0;f<3;f++){var d=c[f],h=u[f],p=r[1<<f];d.subVectors(l,p),h.setFromPoints(d,r)}var v=this.alignedSatBounds;v[0].setFromPointsField(r,"x"),v[1].setFromPointsField(r,"y"),v[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},gf.prototype.intersectsBox=function(){var e=new df;return function(t){this.needsUpdate&&this.update();var n=t.min,r=t.max,a=this.satBounds,i=this.satAxes,o=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,o[0].isSeparated(e))return!1;if(e.min=n.y,e.max=r.y,o[1].isSeparated(e))return!1;if(e.min=n.z,e.max=r.z,o[2].isSeparated(e))return!1;for(var s=0;s<3;s++){var u=i[s],c=a[s];if(e.setFromBox(u,t),c.isSeparated(e))return!1}return!0}}(),gf.prototype.intersectsTriangle=function(){var e=new mf,t=new Array(3),n=new df,r=new df,a=new l.Vector3;return function(i){this.needsUpdate&&this.update(),i.isExtendedTriangle?i.needsUpdate&&i.update():(e.copy(i),e.update(),i=e);var o=this.satBounds,s=this.satAxes;t[0]=i.a,t[1]=i.b,t[2]=i.c;for(var u=0;u<3;u++){var c=o[u],l=s[u];if(n.setFromPoints(l,t),c.isSeparated(n))return!1}for(var f=i.satBounds,d=i.satAxes,h=this.points,p=0;p<3;p++){var v=f[p],m=d[p];if(n.setFromPoints(m,h),v.isSeparated(n))return!1}for(var g=0;g<3;g++)for(var y=s[g],_=0;_<4;_++){var b=d[_];if(a.crossVectors(y,b),n.setFromPoints(a,t),r.setFromPoints(a,h),n.isSeparated(r))return!1}return!0}}(),gf.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},gf.prototype.distanceToPoint=function(){var e=new l.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),gf.prototype.distanceToBox=function(){var e=["x","y","z"],t=new Array(12).fill().map((function(){return new l.Line3})),n=new Array(12).fill().map((function(){return new l.Line3})),r=new l.Vector3,a=new l.Vector3;return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.needsUpdate&&this.update(),this.intersectsBox(i))return(s||u)&&(i.getCenter(a),this.closestPointToPoint(a,r),i.closestPointToPoint(r,a),s&&s.copy(r),u&&u.copy(a)),0;for(var c=o*o,l=i.min,f=i.max,d=this.points,h=1/0,p=0;p<8;p++){var v=d[p];a.copy(v).clamp(l,f);var m=v.distanceToSquared(a);if(m<h&&(h=m,s&&s.copy(v),u&&u.copy(a),m<c))return Math.sqrt(m)}for(var g=0,y=0;y<3;y++)for(var _=0;_<=1;_++)for(var b=0;b<=1;b++){var w=(y+1)%3,x=(y+2)%3,A=_<<w|b<<x,M=1<<y|_<<w|b<<x,E=d[A],C=d[M],S=t[g];S.set(E,C);var T=e[y],k=e[w],B=e[x],P=n[g],L=P.start,D=P.end;L[T]=l[T],L[k]=_?l[k]:f[k],L[B]=b?l[B]:f[k],D[T]=f[T],D[k]=_?l[k]:f[k],D[B]=b?l[B]:f[k],g++}for(var R=0;R<=1;R++)for(var F=0;F<=1;F++)for(var I=0;I<=1;I++){a.x=R?f.x:l.x,a.y=F?f.y:l.y,a.z=I?f.z:l.z,this.closestPointToPoint(a,r);var O=a.distanceToSquared(r);if(O<h&&(h=O,s&&s.copy(r),u&&u.copy(a),O<c))return Math.sqrt(O)}for(var z=0;z<12;z++)for(var Z=t[z],U=0;U<12;U++){var N=n[U];pf(Z,N,r,a);var G=r.distanceToSquared(a);if(G<h&&(h=G,s&&s.copy(r),u&&u.copy(a),G<c))return Math.sqrt(G)}return Math.sqrt(h)}}();var bf=function(){function e(t){(0,K.Z)(this,e),this._getNewPrimitive=t,this._primitives=[]}return(0,Q.Z)(e,[{key:"getPrimitive",value:function(){var e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}},{key:"releasePrimitive",value:function(e){this._primitives.push(e)}}]),e}();function wf(e,t){return 65535===t[e+15]}function xf(e,t){return t[e+6]}function Af(e,t){return t[e+14]}function Mf(e){return e+8}function Ef(e,t){return t[e+6]}var Cf=new l.Box3,Sf=new l.Vector3,Tf=["x","y","z"];function kf(e,t,n,r,a){var i=2*e,o=Ff,s=If,u=Of;if(wf(i,s)){!function(e,t,n,r,a,i){for(var o=r,s=r+a;o<s;o++)Hl(e,t,n,o,i)}(t,n,r,xf(e,u),Af(i,s),a)}else{var c=Mf(e);Df(c,o,r,Sf)&&kf(c,t,n,r,a);var l=Ef(e,u);Df(l,o,r,Sf)&&kf(l,t,n,r,a)}}function Bf(e,t,n,r){var a=2*e,i=Ff,o=If,s=Of;if(wf(a,o))return function(e,t,n,r,a){for(var i=1/0,o=null,s=r,u=r+a;s<u;s++){var c=Hl(e,t,n,s);c&&c.distance<i&&(o=c,i=c.distance)}return o}(t,n,r,xf(e,s),Af(a,o));var u,c,l=function(e,t){return t[e+7]}(e,s),f=Tf[l],d=r.direction[f]>=0;d?(u=Mf(e),c=Ef(e,s)):(u=Ef(e,s),c=Mf(e));var h=Df(u,i,r,Sf)?Bf(u,t,n,r):null;if(h){var p=h.point[f];if(d?p<=i[c+l]:p>=i[c+l+3])return h}var v=Df(c,i,r,Sf)?Bf(c,t,n,r):null;return h&&v?h.distance<=v.distance?h:v:h||v||null}var Pf=function(){var e,t,n=[],r=new bf((function(){return new l.Box3}));return function(){e=r.getPrimitive(),t=r.getPrimitive(),n.push(e,t);var i=a.apply(void 0,arguments);r.releasePrimitive(e),r.releasePrimitive(t),n.pop(),n.pop();var o=n.length;return o>0&&(t=n[o-1],e=n[o-2]),i};function a(n,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;function l(e){for(var t=2*e,n=If,r=Of;!wf(t,n);)t=2*(e=Mf(e));return xf(e,r)}function f(e){for(var t=2*e,n=If,r=Of;!wf(t,n);)t=2*(e=Ef(e,r));return xf(e,r)+Af(t,n)}var d=2*n,h=Ff,p=If,v=Of,m=wf(d,p);if(m){var g=xf(n,v),y=Af(d,p);return Ql(n,h,e),o(g,y,!1,c,u+n,e)}var _,b,w,x,A=Mf(n),M=Ef(n,v),E=A,C=M;if(s&&(x=t,Ql(E,h,w=e),Ql(C,h,x),_=s(w),(b=s(x))<_)){E=M,C=A;var S=_;_=b,b=S,w=x}w||Ql(E,h,w=e);var T,k=wf(2*E,p),B=i(w,k,_,c+1,u+E);if(2===B){var P=l(E),L=f(E),D=L-P;T=o(P,D,!0,c+1,u+E,w)}else T=B&&a(E,r,i,o,s,u,c+1);if(T)return!0;Ql(C,h,x=t);var R,F=wf(2*C,p),I=i(x,F,b,c+1,u+C);if(2===I){var O=l(C),z=f(C),Z=z-O;R=o(O,Z,!0,c+1,u+C,x)}else R=I&&a(C,r,i,o,s,u,c+1);return!!R}}(),Lf=function(){var e=new mf,t=new mf,n=new l.Matrix4,r=new gf,a=new gf;return function i(o,s,u,c){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=2*o,d=Ff,h=If,p=Of;null===l&&(u.boundingBox||u.computeBoundingBox(),r.set(u.boundingBox.min,u.boundingBox.max,c),l=r);var v=wf(f,h);if(!v){var m=o+8,g=p[o+6];Ql(m,d,Cf);var y=l.intersectsBox(Cf)&&i(m,s,u,c,l);if(y)return!0;Ql(g,d,Cf);var _=l.intersectsBox(Cf)&&i(g,s,u,c,l);return!!_}var b=s,w=b.index,x=b.attributes.position,A=u.index,M=u.attributes.position,E=xf(o,p),C=Af(f,h);if(n.copy(c).invert(),u.boundsTree){Ql(o,d,a),a.matrix.copy(n),a.needsUpdate=!0;var S=u.boundsTree.shapecast({intersectsBounds:function(e){return a.intersectsBox(e)},intersectsTriangle:function(e){e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.needsUpdate=!0;for(var n=3*E,r=3*(C+E);n<r;n+=3)if(yf(t,n,w,x),t.needsUpdate=!0,e.intersectsTriangle(t))return!0;return!1}});return S}for(var T=3*E,k=C+3*E;T<k;T+=3){yf(e,T,w,x),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(var B=0,P=A.count;B<P;B+=3)if(yf(t,B,A,M),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}();function Df(e,t,n,r){return Ql(e,t,Cf),n.intersectBox(Cf,r)}var Rf,Ff,If,Of,zf=[];function Zf(e){Rf&&zf.push(Rf),Rf=e,Ff=new Float32Array(e),If=new Uint16Array(e),Of=new Uint32Array(e)}function Uf(){Rf=null,Ff=null,If=null,Of=null,zf.length&&Zf(zf.pop())}var Nf=Symbol("skip tree generation"),Gf=new l.Box3,Hf=new l.Box3,Vf=new l.Matrix4,jf=new gf,Wf=new gf,Xf=new l.Vector3,qf=new l.Vector3,Yf=new l.Vector3,Qf=new l.Vector3,Kf=new l.Vector3,Jf=new l.Box3,$f=new bf((function(){return new mf})),ed=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,K.Z)(this,e),!t.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t.index&&t.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((n=Object.assign((0,Lr.Z)({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null},Nf,!1),n)).useSharedArrayBuffer&&"undefined"===typeof SharedArrayBuffer)throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,n[Nf]||(this._roots=ff(t,n),!t.boundingBox&&n.setBoundingBox&&(t.boundingBox=this.getBoundingBox(new l.Box3))),this.geometry=t}return(0,Q.Z)(e,[{key:"refit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&Array.isArray(e)&&(e=new Set(e));var t,n,r,a,i=this.geometry,o=i.index.array,s=i.attributes.position,u=s.array,c=s.offset||0,l=3;s.isInterleavedBufferAttribute&&(l=s.data.stride);for(var f=0,d=this._roots,h=0,p=d.length;h<p;h++)t=d[h],n=new Uint32Array(t),r=new Uint16Array(t),a=new Float32Array(t),v(0,f),f+=t.byteLength;function v(t,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=2*t,d=r[f+15]===Xl;if(d){for(var h=n[t+6],p=r[f+14],m=1/0,g=1/0,y=1/0,_=-1/0,b=-1/0,w=-1/0,x=3*h,A=3*(h+p);x<A;x++){var M=o[x]*l+c,E=u[M+0],C=u[M+1],S=u[M+2];E<m&&(m=E),E>_&&(_=E),C<g&&(g=C),C>b&&(b=C),S<y&&(y=S),S>w&&(w=S)}return(a[t+0]!==m||a[t+1]!==g||a[t+2]!==y||a[t+3]!==_||a[t+4]!==b||a[t+5]!==w)&&(a[t+0]=m,a[t+1]=g,a[t+2]=y,a[t+3]=_,a[t+4]=b,a[t+5]=w,!0)}var T=t+8,k=n[t+6],B=T+i,P=k+i,L=s,D=!1,R=!1;e?L||(D=e.has(B),R=e.has(P),L=!D&&!R):(D=!0,R=!0);var F=L||D,I=L||R,O=!1;F&&(O=v(T,i,L));var z=!1;I&&(z=v(k,i,L));var Z=O||z;if(Z)for(var U=0;U<3;U++){var N=T+U,G=k+U,H=a[N],V=a[N+3],j=a[G],W=a[G+3];a[t+U]=H<j?H:j,a[t+U+3]=V>W?V:W}return Z}}},{key:"traverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._roots[t],r=new Uint32Array(n),a=new Uint16Array(n);function i(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=2*t,u=a[s+15]===Xl;if(u){var c=r[t+6],l=a[s+14];e(o,u,new Float32Array(n,4*t,6),c,l)}else{var f=t+8,d=r[t+6],h=r[t+7],p=e(o,u,new Float32Array(n,4*t,6),h);p||(i(f,o+1),i(d,o+1))}}i(0)}},{key:"raycast",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.FrontSide,n=this._roots,r=this.geometry,a=[],i=t.isMaterial,o=Array.isArray(t),s=r.groups,u=i?t.side:t,c=0,f=n.length;c<f;c++){var d=o?t[s[c].materialIndex].side:u,h=a.length;if(Zf(n[c]),kf(0,r,d,e,a),Uf(),o)for(var p=s[c].materialIndex,v=h,m=a.length;v<m;v++)a[v].face.materialIndex=p}return a}},{key:"raycastFirst",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.FrontSide,n=this._roots,r=this.geometry,a=t.isMaterial,i=Array.isArray(t),o=null,s=r.groups,u=a?t.side:t,c=0,f=n.length;c<f;c++){var d=i?t[s[c].materialIndex].side:u;Zf(n[c]);var h=Bf(0,r,d,e);Uf(),null!=h&&(null==o||h.distance<o.distance)&&(o=h,i&&(h.face.materialIndex=s[c].materialIndex))}return o}},{key:"intersectsGeometry",value:function(e,t){var n,r=this.geometry,a=!1,i=(0,J.Z)(this._roots);try{for(i.s();!(n=i.n()).done;){if(Zf(n.value),a=Lf(0,r,e,t),Uf(),a)break}}catch(o){i.e(o)}finally{i.f()}return a}},{key:"shapecast",value:function(e,t,n){var r=this.geometry;if(e instanceof Function){if(t){var a=t;t=function(e,t,n,r){var i=3*t;return a(e,i,i+1,i+2,n,r)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}var i=$f.getPrimitive(),o=e,s=o.boundsTraverseOrder,u=o.intersectsBounds,c=o.intersectsRange,l=o.intersectsTriangle;if(c&&l){var f=c;c=function(e,t,n,a,o){return!!f(e,t,n,a,o)||_f(e,t,r,l,n,a,i)}}else c||(c=l?function(e,t,n,a){return _f(e,t,r,l,n,a,i)}:function(e,t,n){return n});var d,h=!1,p=0,v=(0,J.Z)(this._roots);try{for(v.s();!(d=v.n()).done;){var m=d.value;if(Zf(m),h=Pf(0,r,u,c,s,p),Uf(),h)break;p+=m.byteLength}}catch(g){v.e(g)}finally{v.f()}return $f.releasePrimitive(i),h}},{key:"bvhcast",value:function(e,t,n){var r=n.intersectsRanges,a=n.intersectsTriangles,i=this.geometry.index,o=this.geometry.attributes.position,s=e.geometry.index,u=e.geometry.attributes.position;Vf.copy(t).invert();var c=$f.getPrimitive(),l=$f.getPrimitive();if(a){var f=function(e,n,r,f,d,h,p,v){for(var m=r,g=r+f;m<g;m++){yf(l,3*m,s,u),l.a.applyMatrix4(t),l.b.applyMatrix4(t),l.c.applyMatrix4(t),l.needsUpdate=!0;for(var y=e,_=e+n;y<_;y++)if(yf(c,3*y,i,o),c.needsUpdate=!0,a(c,l,y,m,d,h,p,v))return!0}return!1};if(r){var d=r;r=function(e,t,n,r,a,i,o,s){return!!d(e,t,n,r,a,i,o,s)||f(e,t,n,r,a,i,o,s)}}else r=f}this.getBoundingBox(Hf),Hf.applyMatrix4(t);var h=this.shapecast({intersectsBounds:function(e){return Hf.intersectsBox(e)},intersectsRange:function(t,n,a,i,o,s){return Gf.copy(s),Gf.applyMatrix4(Vf),e.shapecast({intersectsBounds:function(e){return Gf.intersectsBox(e)},intersectsRange:function(e,a,s,u,c){return r(t,n,e,a,i,o,u,c)}})}});return $f.releasePrimitive(c),$f.releasePrimitive(l),h}},{key:"intersectsBox",value:function(e,t){return jf.set(e.min,e.max,t),jf.needsUpdate=!0,this.shapecast({intersectsBounds:function(e){return jf.intersectsBox(e)},intersectsTriangle:function(e){return jf.intersectsTriangle(e)}})}},{key:"intersectsSphere",value:function(e){return this.shapecast({intersectsBounds:function(t){return e.intersectsBox(t)},intersectsTriangle:function(t){return t.intersectsSphere(e)}})}},{key:"closestPointToGeometry",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0;e.boundingBox||e.computeBoundingBox(),jf.set(e.boundingBox.min,e.boundingBox.max,t),jf.needsUpdate=!0;var o=this.geometry,s=o.attributes.position,u=o.index,c=e.attributes.position,l=e.index,f=$f.getPrimitive(),d=$f.getPrimitive(),h=qf,p=Yf,v=null,m=null;r&&(v=Qf,m=Kf);var g=1/0,y=null,_=null;return Vf.copy(t).invert(),Wf.matrix.copy(Vf),this.shapecast({boundsTraverseOrder:function(e){return jf.distanceToBox(e)},intersectsBounds:function(e,t,n){return n<g&&n<i&&(t&&(Wf.min.copy(e.min),Wf.max.copy(e.max),Wf.needsUpdate=!0),!0)},intersectsRange:function(n,r){if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:function(e){return Wf.distanceToBox(e)},intersectsBounds:function(e,t,n){return n<g&&n<i},intersectsRange:function(e,i){for(var o=3*e,b=3*(e+i);o<b;o+=3){yf(d,o,l,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(var w=3*n,x=3*(n+r);w<x;w+=3){yf(f,w,u,s),f.needsUpdate=!0;var A=f.distanceToTriangle(d,h,v);if(A<g&&(p.copy(h),m&&m.copy(v),g=A,y=w/3,_=o/3),A<a)return!0}}}});for(var o=0,b=l?l.count:c.count;o<b;o+=3){yf(d,o,l,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(var w=3*n,x=3*(n+r);w<x;w+=3){yf(f,w,u,s),f.needsUpdate=!0;var A=f.distanceToTriangle(d,h,v);if(A<g&&(p.copy(h),m&&m.copy(v),g=A,y=w/3,_=o/3),A<a)return!0}}}}),$f.releasePrimitive(f),$f.releasePrimitive(d),g===1/0?null:(n.point?n.point.copy(p):n.point=p.clone(),n.distance=g,n.faceIndex=y,r&&(r.point?r.point.copy(m):r.point=m.clone(),r.point.applyMatrix4(Vf),p.applyMatrix4(Vf),r.distance=p.sub(r.point).length(),r.faceIndex=_),n)}},{key:"closestPointToPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=n*n,i=r*r,o=1/0,s=null;if(this.shapecast({boundsTraverseOrder:function(t){return Xf.copy(e).clamp(t.min,t.max),Xf.distanceToSquared(e)},intersectsBounds:function(e,t,n){return n<o&&n<i},intersectsTriangle:function(t,n){t.closestPointToPoint(e,Xf);var r=e.distanceToSquared(Xf);return r<o&&(qf.copy(Xf),o=r,s=n),r<a}}),o===1/0)return null;var u=Math.sqrt(o);return t.point?t.point.copy(qf):t.point=qf.clone(),t.distance=u,t.faceIndex=s,t}},{key:"getBoundingBox",value:function(e){return e.makeEmpty(),this._roots.forEach((function(t){Ql(0,new Float32Array(t),Jf),e.union(Jf)})),e}}],[{key:"serialize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),e.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});n=(0,a.Z)({cloneBuffers:!0},n);var r=t.geometry,i=t._roots,o=r.getIndex();return n.cloneBuffers?{roots:i.map((function(e){return e.slice()})),index:o.array.slice()}:{roots:i,index:o.array}}},{key:"deserialize",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("boolean"===typeof r)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),e.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});r=(0,a.Z)({setIndex:!0},r);var i=t.index,o=t.roots,s=new e(n,(0,a.Z)((0,a.Z)({},r),{},(0,Lr.Z)({},Nf,!0)));if(s._roots=o,r.setIndex){var u=n.getIndex();if(null===u){var c=new l.BufferAttribute(t.index,1,!1);n.setIndex(c)}else u.array!==i&&(u.array.set(i),u.needsUpdate=!0)}return s}}]),e}(),td=ed.prototype.raycast;ed.prototype.raycast=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');var r=t[0],a=t[1],i=t[2],o=t[3],s=td.call(this,i,r.material);return s.forEach((function(e){(e=Vl(e,r,a))&&o.push(e)})),o}return td.apply(this,t)};var nd=ed.prototype.raycastFirst;ed.prototype.raycastFirst=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');var r=t[0],a=t[1],i=t[2];return Vl(nd.call(this,i,r.material),r,a)}return nd.apply(this,t)};var rd=ed.prototype.closestPointToPoint;ed.prototype.closestPointToPoint=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),t.unshift();var r=t[1],a={};return t[1]=a,rd.apply(this,t),r&&r.copy(a.point),a.distance}return rd.apply(this,t)};var ad=ed.prototype.closestPointToGeometry;ed.prototype.closestPointToGeometry=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[2],a=t[3];if(r&&r.isVector3||a&&a.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');var i={},o={},s=t[1];return t[2]=i,t[3]=o,ad.apply(this,t),r&&r.copy(i.point),a&&a.copy(o.point).applyMatrix4(s),i.distance}return ad.apply(this,t)};var id=ed.prototype.refit;ed.prototype.refit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];if(a&&(a instanceof Set||Array.isArray(a))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');var i=new Set;a.forEach((function(e){return i.add(e)})),r&&r.forEach((function(e){return i.add(e)})),id.call(this,i)}else id.apply(this,t)},["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach((function(e){var t=ed.prototype[e];ed.prototype[e]=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(null===r[0]||r[0].isMesh)&&(r.shift(),console.warn('MeshBVH: The function signature for "'.concat(e,'" has changed and no longer takes Mesh. See docs for new signature.'))),t.apply(this,r)}}));var od=new l.Ray,sd=new l.Matrix4,ud=l.Mesh.prototype.raycast;function cd(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;sd.copy(this.matrixWorld).invert(),od.copy(e.ray).applyMatrix4(sd);var n=this.geometry.boundsTree;if(!0===e.firstHitOnly){var r=Vl(n.raycastFirst(od,this.material),this,e);r&&t.push(r)}else for(var a=n.raycast(od,this.material),i=0,o=a.length;i<o;i++){var s=Vl(a[i],this,e);s&&t.push(s)}}else ud.call(this,e,t)}function ld(e){return this.boundsTree=new ed(this,e),this.boundsTree}function fd(){this.boundsTree=null}function dd(e,t){u.useEffect((function(){if(e.current){e.current.raycast=cd;var n=e.current.geometry;return n.computeBoundsTree=ld,n.disposeBoundsTree=fd,n.computeBoundsTree(t),function(){n.boundsTree&&n.disposeBoundsTree()}}}),[e,t])}function hd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u.useRef([]);return r.current=t.map((function(e){return u.useContext(e)})),u.useMemo((function(){return function(e){var n=e.children;return t.reduceRight((function(e,t,n){return u.createElement(t.Provider,{value:r.current[n],children:e})}),n)}}),[])}function pd(e,t){var n=u.useRef(),r=u.useState((function(){return t?t instanceof l.Object3D?{current:t}:t:n})),a=(0,i.Z)(r,1)[0],o=u.useState((function(){return new l.AnimationMixer(void 0)})),s=(0,i.Z)(o,1)[0],c=u.useRef({}),d=u.useState((function(){var t={};return e.forEach((function(e){return Object.defineProperty(t,e.name,{enumerable:!0,get:function(){if(a.current)return c.current[e.name]||(c.current[e.name]=s.clipAction(e,a.current))}})})),{ref:a,clips:e,actions:t,names:e.map((function(e){return e.name})),mixer:s}})),h=(0,i.Z)(d,1)[0];return(0,f.useFrame)((function(e,t){return s.update(t)})),u.useEffect((function(){var e=a.current;return function(){c.current={},Object.values(h.actions).forEach((function(t){e&&s.uncacheAction(t,e)}))}}),[e]),h}function vd(e){var t=u.useRef(null),n=u.useRef(!1),r=u.useRef(!1);return u.useEffect((function(){var a=t.current;if(a){var i=(0,f.addEffect)((function(){return n.current=!1,!0})),o=a.onBeforeRender;a.onBeforeRender=function(){return n.current=!0};var s=(0,f.addAfterEffect)((function(){return n.current!==r.current&&e(r.current=n.current),!0}));return function(){a.onBeforeRender=o,i(),s()}}}),[]),t}var md=function(e,t){return e[t]},gd=function(e,t){var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},o={},s=e[0].morphTargetsRelative,u=new l.BufferGeometry,c=0;if(e.forEach((function(e,l){var f=0;if(n!==(null!==e.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var d in e.attributes){if(!r.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[d]&&(i[d]=[]),i[d].push(e.attributes[d]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". Make sure all geometries have the same number of attributes."),null;if(s!==e.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var h in e.morphAttributes){if(!a.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[h]&&(o[h]=[]),o[h].push(e.morphAttributes[h])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(e.userData),t){var p;if(e.index)p=e.index.count;else{if(void 0===e.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". The geometry must have either an index or a position attribute"),null;p=e.attributes.position.count}u.addGroup(c,p,l),c+=p}})),n){var f=0,d=[];e.forEach((function(e){for(var t=e.index,n=0;n<t.count;++n)d.push(t.getX(n)+f);f+=e.attributes.position.count})),u.setIndex(d)}for(var h in i){var p=yd(i[h]);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;u.setAttribute(h,p)}for(var v in o){var m=o[v][0].length;if(0===m)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[v]=[];for(var g=0;g<m;++g){for(var y=[],_=0;_<o[v].length;++_)y.push(o[v][_][g]);var b=yd(y);if(!b)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+v+" morphAttribute."),null;u.morphAttributes[v].push(b)}}return u},yd=function(e){var t=void 0,n=void 0,r=void 0,a=0;if(e.forEach((function(e){return void 0===t&&(t=e.array.constructor),t!==e.array.constructor?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===n&&(n=e.itemSize),n!==e.itemSize?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===r&&(r=e.normalized),r!==e.normalized?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(a+=e.array.length)))})),t&&n){var i=new t(a),o=0;return e.forEach((function(e){i.set(e.array,o),o+=e.array.length})),new l.BufferAttribute(i,n,r)}},_d=function(e){for(var t=void 0,n=0,r=0,a=0,i=e.length;a<i;++a){var o=e[a];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,r+=o.itemSize}for(var s=new l.InterleavedBuffer(new t(n),r),u=0,c=[],f=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"],h=0,p=e.length;h<p;h++){var v=e[h],m=v.itemSize,g=v.count,y=new l.InterleavedBufferAttribute(s,m,u,v.normalized);c.push(y),u+=m;for(var _=0;_<g;_++)for(var b=0;b<m;b++){md(y,d[b])(_,md(v,f[b])(_))}}return c};function bd(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var a=e.getIndex();return t+=a?a.count*a.itemSize*a.array.BYTES_PER_ELEMENT:0}function wd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),a=e.getAttribute("position"),i=r?r.count:a.count,o=0,s=Object.keys(e.attributes),u={},c={},f=[],d=["getX","getY","getZ","getW"],h=0,p=s.length;h<p;h++){var v=s[h];u[v]=[];var m=e.morphAttributes[v];m&&(c[v]=new Array(m.length).fill(0).map((function(){return[]})))}for(var g=Math.log10(1/t),y=Math.pow(10,g),_=0;_<i;_++){for(var b=r?r.getX(_):_,w="",x=0,A=s.length;x<A;x++)for(var M=s[x],E=e.getAttribute(M),C=E.itemSize,S=0;S<C;S++)w+="".concat(~~(E[d[S]](b)*y),",");if(w in n)f.push(n[w]);else{for(var T=0,k=s.length;T<k;T++)for(var B=s[T],P=e.getAttribute(B),L=e.morphAttributes[B],D=P.itemSize,R=u[B],F=c[B],I=0;I<D;I++){var O=d[I];if(R.push(P[O](b)),L)for(var z=0,Z=L.length;z<Z;z++)F[z].push(L[z][O](b))}n[w]=o,f.push(o),o++}}for(var U=e.clone(),N=0,G=s.length;N<G;N++){var H=s[N],V=e.getAttribute(H),j=new V.array.constructor(u[H]),W=new l.BufferAttribute(j,V.itemSize,V.normalized);if(U.setAttribute(H,W),H in c)for(var X=0;X<c[H].length;X++){var q=e.morphAttributes[H][X],Y=new q.array.constructor(c[H][X]),Q=new l.BufferAttribute(Y,q.itemSize,q.normalized);U.morphAttributes[H][X]=Q}}return U.setIndex(f),U}function xd(e,t){if(t===l.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===l.TriangleFanDrawMode||t===l.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(n)if(t===l.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<o;c++)c%2===0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(s),f.clearGroups(),f}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function Ad(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;var t=new l.Vector3,n=new l.Vector3,r=new l.Vector3,a=new l.Vector3,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=new l.Vector3,c=new l.Vector3;function f(e,l,f,d,h,p,v,m,g){t.fromBufferAttribute(f,p),n.fromBufferAttribute(f,v),r.fromBufferAttribute(f,m);var y=e.morphTargetInfluences;if(l.morphTargets&&d&&y){s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var _=0,b=d.length;_<b;_++){var w=y[_],x=d[_];0!==w&&(a.fromBufferAttribute(x,p),i.fromBufferAttribute(x,v),o.fromBufferAttribute(x,m),h?(s.addScaledVector(a,w),u.addScaledVector(i,w),c.addScaledVector(o,w)):(s.addScaledVector(a.sub(t),w),u.addScaledVector(i.sub(n),w),c.addScaledVector(o.sub(r),w)))}t.add(s),n.add(u),r.add(c)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(v,n),e.boneTransform(m,r)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*v+0]=n.x,g[3*v+1]=n.y,g[3*v+2]=n.z,g[3*m+0]=r.x,g[3*m+1]=r.y,g[3*m+2]=r.z}var d,h,p,v,m,g,y,_,b,w=e.geometry,x=e.material,A=w.index,M=w.attributes.position,E=w.morphAttributes.position,C=w.morphTargetsRelative,S=w.attributes.normal,T=w.morphAttributes.position,k=w.groups,B=w.drawRange,P=new Float32Array(M.count*M.itemSize),L=new Float32Array(S.count*S.itemSize);if(null!==A)if(Array.isArray(x))for(v=0,g=k.length;v<g;v++)for(b=x[(_=k[v]).materialIndex],m=Math.max(_.start,B.start),y=Math.min(_.start+_.count,B.start+B.count);m<y;m+=3)f(e,b,M,E,C,d=A.getX(m),h=A.getX(m+1),p=A.getX(m+2),P),f(e,b,S,T,C,d,h,p,L);else for(v=Math.max(0,B.start),g=Math.min(A.count,B.start+B.count);v<g;v+=3)f(e,x,M,E,C,d=A.getX(v),h=A.getX(v+1),p=A.getX(v+2),P),f(e,x,S,T,C,d,h,p,L);else if(void 0!==M)if(Array.isArray(x))for(v=0,g=k.length;v<g;v++)for(b=x[(_=k[v]).materialIndex],m=Math.max(_.start,B.start),y=Math.min(_.start+_.count,B.start+B.count);m<y;m+=3)f(e,b,M,E,C,d=m,h=m+1,p=m+2,P),f(e,b,S,T,C,d,h,p,L);else for(v=Math.max(0,B.start),g=Math.min(M.count,B.start+B.count);v<g;v+=3)f(e,x,M,E,C,d=v,h=v+1,p=v+2,P),f(e,x,S,T,C,d,h,p,L);return{positionAttribute:M,normalAttribute:S,morphedPositionAttribute:new l.Float32BufferAttribute(P,3),morphedNormalAttribute:new l.Float32BufferAttribute(L,3)}}var Md=new l.Vector3,Ed=new l.Vector3;function Cd(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Sd=function(){function e(t,n){(0,K.Z)(this,e),(0,Lr.Z)(this,"position",void 0),(0,Lr.Z)(this,"id",void 0),(0,Lr.Z)(this,"faces",void 0),(0,Lr.Z)(this,"neighbors",void 0),(0,Lr.Z)(this,"collapseCost",void 0),(0,Lr.Z)(this,"collapseNeighbor",void 0),(0,Lr.Z)(this,"minCost",0),(0,Lr.Z)(this,"totalCost",0),(0,Lr.Z)(this,"costCount",0),this.position=t,this.id=n,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}return(0,Q.Z)(e,[{key:"addUniqueNeighbor",value:function(e){var t,n;t=this.neighbors,n=e,-1===t.indexOf(n)&&t.push(n)}},{key:"removeIfNonNeighbor",value:function(e){var t=this.neighbors,n=this.faces,r=t.indexOf(e);if(-1!==r){for(var a=0;a<n.length;a++)if(n[a].hasVertex(e))return;t.splice(r,1)}}}]),e}(),Td=function(){function e(t,n,r,a,i,o){(0,K.Z)(this,e),(0,Lr.Z)(this,"a",void 0),(0,Lr.Z)(this,"b",void 0),(0,Lr.Z)(this,"c",void 0),(0,Lr.Z)(this,"v1",void 0),(0,Lr.Z)(this,"v2",void 0),(0,Lr.Z)(this,"v3",void 0),(0,Lr.Z)(this,"normal",new l.Vector3),this.a=a,this.b=i,this.c=o,this.v1=t,this.v2=n,this.v3=r,this.computeNormal(),t.faces.push(this),t.addUniqueNeighbor(n),t.addUniqueNeighbor(r),n.faces.push(this),n.addUniqueNeighbor(t),n.addUniqueNeighbor(r),r.faces.push(this),r.addUniqueNeighbor(t),r.addUniqueNeighbor(n)}return(0,Q.Z)(e,[{key:"computeNormal",value:function(){var e=this.v1.position,t=this.v2.position,n=this.v3.position;Md.subVectors(n,t),Ed.subVectors(e,t),Md.cross(Ed).normalize(),this.normal.copy(Md)}},{key:"hasVertex",value:function(e){return e===this.v1||e===this.v2||e===this.v3}},{key:"replaceVertex",value:function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),Cd(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()}}]),e}(),kd=function(){function e(){var t=this;(0,K.Z)(this,e),(0,Lr.Z)(this,"computeEdgeCollapseCost",(function(e,t){var n,r,a,i=t.position.distanceTo(e.position),o=0,s=[],u=e.faces.length;for(n=0;n<u;n++)(r=e.faces[n]).hasVertex(t)&&s.push(r);for(n=0;n<u;n++){var c=1;r=e.faces[n];for(var l=0;l<s.length;l++){a=s[l];var f=r.normal.dot(a.normal);c=Math.min(c,(1.001-f)/2)}o=Math.max(o,c)}return s.length<2&&(o=1),i*o+0})),(0,Lr.Z)(this,"computeEdgeCostAtVertex",(function(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var n=0;n<e.neighbors.length;n++){var r=t.computeEdgeCollapseCost(e,e.neighbors[n]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[n],e.collapseCost=r,e.minCost=r,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=r,r<e.minCost&&(e.collapseNeighbor=e.neighbors[n],e.minCost=r)}e.collapseCost=e.totalCost/e.costCount})),(0,Lr.Z)(this,"removeFace",(function(e,t){Cd(t,e),e.v1&&Cd(e.v1.faces,e),e.v2&&Cd(e.v2.faces,e),e.v3&&Cd(e.v3.faces,e);for(var n,r,a=[e.v1,e.v2,e.v3],i=0;i<3;i++)r=a[(i+1)%3],(n=a[i])&&r&&(n.removeIfNonNeighbor(r),r.removeIfNonNeighbor(n))})),(0,Lr.Z)(this,"collapse",(function(e,n,r,a){if(a){var i,o=[];for(i=0;i<r.neighbors.length;i++)o.push(r.neighbors[i]);for(i=r.faces.length-1;i>=0;i--)r.faces[i].hasVertex(a)&&t.removeFace(r.faces[i],n);for(i=r.faces.length-1;i>=0;i--)r.faces[i].replaceVertex(r,a);for(t.removeVertex(r,e),i=0;i<o.length;i++)t.computeEdgeCostAtVertex(o[i])}else t.removeVertex(r,e)})),(0,Lr.Z)(this,"minimumCostEdge",(function(e){for(var t=e[0],n=0;n<e.length;n++)e[n].collapseCost<t.collapseCost&&(t=e[n]);return t})),(0,Lr.Z)(this,"modify",(function(e,n){var r=(e=e.clone()).attributes;for(var a in r)"position"!==a&&e.deleteAttribute(a);for(var i=[],o=[],s=(e=wd(e)).getAttribute("position"),u=0;u<s.count;u++){var c=(new l.Vector3).fromBufferAttribute(s,u),f=new Sd(c,u);i.push(f)}var d,h=e.getIndex();if(null!==h)for(var p=0;p<h.count;p+=3){var v=h.getX(p),m=h.getX(p+1),g=h.getX(p+2),y=new Td(i[v],i[m],i[g],v,m,g);o.push(y)}else for(var _=0;_<s.count;_+=3){var b=_,w=_+1,x=_+2,A=new Td(i[b],i[w],i[x],b,w,x);o.push(A)}for(var M=0,E=i.length;M<E;M++)t.computeEdgeCostAtVertex(i[M]);for(var C=n;C--;){if(!(d=t.minimumCostEdge(i))){console.log("THREE.SimplifyModifier: No next vertex");break}t.collapse(i,o,d,d.collapseNeighbor)}for(var S=new l.BufferGeometry,T=[],k=[],B=0;B<i.length;B++){var P=i[B].position;T.push(P.x,P.y,P.z)}for(var L=0;L<o.length;L++){var D=o[L],R=i.indexOf(D.v1),F=i.indexOf(D.v2),I=i.indexOf(D.v3);k.push(R,F,I)}return S.setAttribute("position",new l.Float32BufferAttribute(T,3)),S.setIndex(k),S}))}return(0,Q.Z)(e,[{key:"removeVertex",value:function(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){Cd(e.neighbors.pop().neighbors,e)}Cd(t,e)}}]),e}();function Bd(e){var t=u.useRef(),n=u.useRef(),r=u.useRef();return u.useEffect((function(){n.current||(n.current=t.current.geometry.clone(),r.current=new kd)}),[]),u.useEffect((function(){if(n.current&&t.current){var a=n.current,i=Math.floor(a.attributes.position.count*e);t.current.geometry=r.current.modify(a,i)}}),[e]),t}var Pd=(0,Q.Z)((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;(0,K.Z)(this,e),(0,Lr.Z)(this,"maxEdgeLength",void 0),(0,Lr.Z)(this,"maxIterations",void 0),(0,Lr.Z)(this,"modify",(function(e){null!==e.index&&(e=e.toNonIndexed());var n=t.maxIterations,r=t.maxEdgeLength*t.maxEdgeLength,a=new l.Vector3,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=[a,i,o,s],c=new l.Vector3,f=new l.Vector3,d=new l.Vector3,h=new l.Vector3,p=[c,f,d,h],v=new l.Color,m=new l.Color,g=new l.Color,y=new l.Color,_=[v,m,g,y],b=new l.Vector2,w=new l.Vector2,x=new l.Vector2,A=new l.Vector2,M=[b,w,x,A],E=new l.Vector2,C=new l.Vector2,S=new l.Vector2,T=new l.Vector2,k=[E,C,S,T],B=e.attributes,P=void 0!==B.normal,L=void 0!==B.color,D=void 0!==B.uv,R=void 0!==B.uv2,F=B.position.array,I=P?B.normal.array:null,O=L?B.color.array:null,z=D?B.uv.array:null,Z=R?B.uv2.array:null,U=F,N=I,G=O,H=z,V=Z,j=0,W=!0;function X(e,t,n){var r=u[e],a=u[t],i=u[n];if(U.push(r.x,r.y,r.z),U.push(a.x,a.y,a.z),U.push(i.x,i.y,i.z),P){var o=p[e],s=p[t],c=p[n];N.push(o.x,o.y,o.z),N.push(s.x,s.y,s.z),N.push(c.x,c.y,c.z)}if(L){var l=_[e],f=_[t],d=_[n];G.push(l.r,l.g,l.b),G.push(f.r,f.g,f.b),G.push(d.r,d.g,d.b)}if(D){var h=M[e],v=M[t],m=M[n];H.push(h.x,h.y),H.push(v.x,v.y),H.push(m.x,m.y)}if(R){var g=k[e],y=k[t],b=k[n];V.push(g.x,g.y),V.push(y.x,y.y),V.push(b.x,b.y)}}for(;W&&j<n;){j++,W=!1,F=U,U=[],P&&(I=N,N=[]),L&&(O=G,G=[]),D&&(z=H,H=[]),R&&(Z=V,V=[]);for(var q=0,Y=0,Q=F.length;q<Q;q+=9,Y+=6){a.fromArray(F,q+0),i.fromArray(F,q+3),o.fromArray(F,q+6),P&&I&&(c.fromArray(I,q+0),f.fromArray(I,q+3),d.fromArray(I,q+6)),L&&O&&(v.fromArray(O,q+0),m.fromArray(O,q+3),g.fromArray(O,q+6)),D&&z&&(b.fromArray(z,Y+0),w.fromArray(z,Y+2),x.fromArray(z,Y+4)),R&&Z&&(E.fromArray(Z,Y+0),C.fromArray(Z,Y+2),S.fromArray(Z,Y+4));var K=a.distanceToSquared(i),J=i.distanceToSquared(o),$=a.distanceToSquared(o);K>r||J>r||$>r?(W=!0,K>=J&&K>=$?(s.lerpVectors(a,i,.5),P&&h.lerpVectors(c,f,.5),L&&y.lerpColors(v,m,.5),D&&A.lerpVectors(b,w,.5),R&&T.lerpVectors(E,C,.5),X(0,3,2),X(3,1,2)):J>=K&&J>=$?(s.lerpVectors(i,o,.5),P&&h.lerpVectors(f,d,.5),L&&y.lerpColors(m,g,.5),D&&A.lerpVectors(w,x,.5),R&&T.lerpVectors(C,S,.5),X(0,1,3),X(3,2,0)):(s.lerpVectors(a,o,.5),P&&h.lerpVectors(c,d,.5),L&&y.lerpColors(v,g,.5),D&&A.lerpVectors(b,x,.5),R&&T.lerpVectors(E,S,.5),X(0,1,3),X(3,1,2))):X(0,1,2)}}var ee=new l.BufferGeometry;return ee.setAttribute("position",new l.Float32BufferAttribute(U,3)),P&&ee.setAttribute("normal",new l.Float32BufferAttribute(N,3)),L&&ee.setAttribute("color",new l.Float32BufferAttribute(G,3)),D&&ee.setAttribute("uv",new l.Float32BufferAttribute(H,2)),R&&ee.setAttribute("uv2",new l.Float32BufferAttribute(V,2)),ee})),this.maxEdgeLength=n,this.maxIterations=r}));function Ld(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0,n=u.useRef(),r=u.useRef(),a=u.useRef();return u.useEffect((function(){r.current||(r.current=n.current.geometry.clone(),a.current=new Pd(parseInt(t),e))}),[t,e]),u.useEffect((function(){a.current.maxEdgeLength=t}),[t]),u.useEffect((function(){if(r.current&&n.current){var e=a.current.modify(r.current);n.current.geometry=e}}),[t,e]),n}var Dd=(0,Q.Z)((function e(){var t=this;(0,K.Z)(this,e),(0,Lr.Z)(this,"A",new l.Vector3),(0,Lr.Z)(this,"B",new l.Vector3),(0,Lr.Z)(this,"C",new l.Vector3),(0,Lr.Z)(this,"positions",[]),(0,Lr.Z)(this,"normals",new Float32Array),(0,Lr.Z)(this,"indexes",[]),(0,Lr.Z)(this,"pointToIndexMap",[]),(0,Lr.Z)(this,"splitIndexes",[]),(0,Lr.Z)(this,"oldNormals",[]),(0,Lr.Z)(this,"computeNormals",(function(){t.normals=new Float32Array(3*t.indexes.length);for(var e=0;e<t.indexes.length;e+=3){var n=t.indexes[e];t.A.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),n=t.indexes[e+1],t.B.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),n=t.indexes[e+2],t.C.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),t.C.sub(t.B),t.A.sub(t.B);for(var r=t.C.cross(t.A).normalize(),a=0;a<3;a++)t.normals[3*(e+a)]=r.x,t.normals[3*(e+a)+1]=r.y,t.normals[3*(e+a)+2]=r.z}})),(0,Lr.Z)(this,"mapPositionsToIndexes",(function(){t.pointToIndexMap=Array(t.positions.length/3);for(var e=0;e<t.indexes.length;e++){var n=t.indexes[e];null==t.pointToIndexMap[n]&&(t.pointToIndexMap[n]=[]),t.pointToIndexMap[n].push(e)}})),(0,Lr.Z)(this,"edgeSplitToGroups",(function(e,n,r){t.A.set(t.normals[3*r],t.normals[3*r+1],t.normals[3*r+2]).normalize();var a,i={splitGroup:[],currentGroup:[r]},o=(0,J.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;s!==r&&(t.B.set(t.normals[3*s],t.normals[3*s+1],t.normals[3*s+2]).normalize(),t.B.dot(t.A)<n?i.splitGroup.push(s):i.currentGroup.push(s))}}catch(u){o.e(u)}finally{o.f()}return i})),(0,Lr.Z)(this,"edgeSplit",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0!==e.length){var a,i=[],o=(0,J.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push(t.edgeSplitToGroups(e,n,s))}}catch(d){o.e(d)}finally{o.f()}for(var u=i[0],c=0,l=i;c<l.length;c++){var f=l[c];f.currentGroup.length>u.currentGroup.length&&(u=f)}null!=r&&t.splitIndexes.push({original:r,indexes:u.currentGroup}),u.splitGroup.length&&t.edgeSplit(u.splitGroup,n,r||u.currentGroup[0])}})),(0,Lr.Z)(this,"modify",(function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1;if(e.attributes.normal&&(i=!0,e=e.clone(),!0===a&&null!==e.index&&(t.oldNormals=e.attributes.normal.array),e.deleteAttribute("normal")),null==e.index){if(void 0===r)throw"THREE.EdgeSplitModifier relies on BufferGeometryUtils";e=wd(e)}t.indexes=e.index.array,t.positions=e.getAttribute("position").array,t.computeNormals(),t.mapPositionsToIndexes(),t.splitIndexes=[];var o,s=(0,J.Z)(t.pointToIndexMap);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.edgeSplit(u,Math.cos(n)-.001)}}catch(I){s.e(I)}finally{s.f()}for(var c={},f=0,d=Object.keys(e.attributes);f<d.length;f++){var h=d[f],p=e.attributes[h],v=new p.array.constructor((t.indexes.length+t.splitIndexes.length)*p.itemSize);v.set(p.array),c[h]=new l.BufferAttribute(v,p.itemSize,p.normalized)}var m=new Uint32Array(t.indexes.length);m.set(t.indexes);for(var g=0;g<t.splitIndexes.length;g++){for(var y=t.splitIndexes[g],_=t.indexes[y.original],b=0,w=Object.values(c);b<w.length;b++)for(var x=w[b],A=0;A<x.itemSize;A++)x.array[(t.indexes.length+g)*x.itemSize+A]=x.array[_*x.itemSize+A];var M,E=(0,J.Z)(y.indexes);try{for(E.s();!(M=E.n()).done;){var C=M.value;m[C]=t.indexes.length+g}}catch(I){E.e(I)}finally{E.f()}}(e=new l.BufferGeometry).setIndex(new l.BufferAttribute(m,1));for(var S=0,T=Object.keys(c);S<T.length;S++){var k=T[S];e.setAttribute(k,c[k])}if(i&&(e.computeVertexNormals(),null!==t.oldNormals)){var B,P=new Array(t.oldNormals.length/3).fill(!1),L=(0,J.Z)(t.splitIndexes);try{for(L.s();!(B=L.n()).done;){var D=B.value;P[D.original]=!0}}catch(I){L.e(I)}finally{L.f()}for(var R=0;R<P.length;R++)if(!1===P[R])for(var F=0;F<3;F++)e.attributes.normal.array[3*R+F]=t.oldNormals[3*R+F]}return e}))}));function Rd(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u.useRef(),r=u.useRef(),a=u.useRef();return u.useEffect((function(){!r.current&&n.current&&(r.current=n.current.geometry.clone(),a.current=new Dd)}),[]),u.useEffect((function(){if(r.current&&n.current&&a.current){var i=a.current.modify(r.current,e,t);i.computeVertexNormals(),n.current.geometry=i}}),[e,t]),n}var Fd=1024,Id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Float32Array(4096*e*3),n=new l.DataTexture(t,Fd,4*e,l.RGBFormat,l.FloatType);return n.wrapS=l.RepeatWrapping,n.wrapT=l.RepeatWrapping,n.magFilter=l.NearestFilter,n.needsUpdate=!0,n},Od=function(e,t,n,r,a,i){var o=e.image.data,s=3072*i;o[3*t+s+0]=n,o[3*t+s+1]=r,o[3*t+s+2]=a};function zd(e){return{spineTexture:{value:e},pathOffset:{type:"f",value:0},pathSegment:{type:"f",value:1},spineOffset:{type:"f",value:161},spineLength:{type:"f",value:400},flow:{type:"i",value:1}}}function Zd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.__ok||(e.__ok=!0,e.onBeforeCompile=function(e){if(!e.__modified){e.__modified=!0,Object.assign(e.uniforms,t);var r="\n\t\tuniform sampler2D spineTexture;\n\t\tuniform float pathOffset;\n\t\tuniform float pathSegment;\n\t\tuniform float spineOffset;\n\t\tuniform float spineLength;\n\t\tuniform int flow;\n\n\t\tfloat textureLayers = ".concat(4*n,".;\n\t\tfloat textureStacks = ").concat(1,".;\n\n\t\t").concat(e.vertexShader,"\n\t\t").replace("#include <beginnormal_vertex>","").replace("#include <defaultnormal_vertex>","").replace("#include <begin_vertex>","").replace(/void\s*main\s*\(\)\s*\{/,"\n        void main() {\n        #include <beginnormal_vertex>\n\n        vec4 worldPos = modelMatrix * vec4(position, 1.);\n\n        bool bend = flow > 0;\n        float xWeight = bend ? 0. : 1.;\n\n        #ifdef USE_INSTANCING\n        float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];\n        float spineLengthFromInstanceMatrix = instanceMatrix[3][0];\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;\n        #else\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;\n        #endif\n\n        mt = mod(mt, textureStacks);\n        float rowOffset = floor(mt);\n\n        #ifdef USE_INSTANCING\n        rowOffset += instanceMatrix[3][1] * ".concat(4,".;\n        #endif\n\n        vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;\n        mat3 basis = mat3(a, b, c);\n\n        vec3 transformed = basis\n          * vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)\n          + spinePos;\n\n        vec3 transformedNormal = normalMatrix * (basis * objectNormal);\n\t\t\t")).replace("#include <project_vertex>","vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;");e.vertexShader=r}})}var Ud=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,K.Z)(this,e),(0,Lr.Z)(this,"curveArray",void 0),(0,Lr.Z)(this,"curveLengthArray",void 0),(0,Lr.Z)(this,"object3D",void 0),(0,Lr.Z)(this,"splineTexure",void 0),(0,Lr.Z)(this,"uniforms",void 0);var r=t.clone(),a=Id(n),i=zd(a);r.traverse((function(e){(e instanceof l.Mesh||e instanceof l.InstancedMesh)&&(e.material=e.material.clone(),Zd(e.material,i,n))})),this.curveArray=new Array(n),this.curveLengthArray=new Array(n),this.object3D=r,this.splineTexure=a,this.uniforms=i}return(0,Q.Z)(e,[{key:"updateCurve",value:function(e,t){if(e>=this.curveArray.length)throw Error("Index out of range for Flow");var n=t.getLength();this.uniforms.spineLength.value=n,this.curveLengthArray[e]=n,this.curveArray[e]=t,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.floor(1024);t.arcLengthDivisions=r/2,t.updateArcLengths();for(var a=t.getSpacedPoints(r),i=t.computeFrenetFrames(r,!0),o=0;o<r;o++){var s=Math.floor(o/Fd),u=o%Fd,c=a[o];Od(e,u,c.x,c.y,c.z,0+s+4*n),c=i.tangents[o],Od(e,u,c.x,c.y,c.z,1+s+4*n),c=i.normals[o],Od(e,u,c.x,c.y,c.z,2+s+4*n),c=i.binormals[o],Od(e,u,c.x,c.y,c.z,3+s+4*n)}e.needsUpdate=!0}(this.splineTexure,t,e)}},{key:"moveAlongCurve",value:function(e){this.uniforms.pathOffset.value+=e}}]),e}(),Nd=(new l.Matrix4,u.forwardRef((function(e,t){var n=e.children,r=e.curve,a=u.useState(),o=(0,i.Z)(a,2),s=o[0],c=o[1],l=u.useRef(),f=u.useRef();return u.useImperativeHandle(t,(function(){return{moveAlongCurve:function(e){var t;null==(t=f.current)||t.moveAlongCurve(e)}}})),u.useEffect((function(){!f.current&&l.current&&t&&(f.current=new Ud(l.current),c(f.current.object3D))}),[n,t]),u.useEffect((function(){var e;l.current&&r&&(null==(e=f.current)||e.updateCurve(0,r))}),[r]),s?u.createElement("primitive",{object:s}):u.cloneElement(u.Children.only(n),{ref:l})}))),Gd=["speed"],Hd=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)(this,n),(e=t.call(this,r)).setValues(r),e._time={value:0},e._distort={value:.4},e._radius={value:1},e}return(0,Q.Z)(n,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader="\n      uniform float time;\n      uniform float radius;\n      uniform float distort;\n      ".concat("#define GLSLIFY 1\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}","\n      ").concat(e.vertexShader,"\n    "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        float updateTime = time / 50.0;\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\n        ")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"distort",get:function(){return this._distort.value},set:function(e){this._distort.value=e}},{key:"radius",get:function(){return this._radius.value},set:function(e){this._radius.value=e}}]),n}(l.MeshPhysicalMaterial),Vd=u.forwardRef((function(e,t){var n=e.speed,r=void 0===n?1:n,a=(0,o.Z)(e,Gd),c=u.useState((function(){return new Hd})),l=(0,i.Z)(c,1)[0];return(0,f.useFrame)((function(e){return l&&(l.time=e.clock.getElapsedTime()*r)})),u.createElement("primitive",s({dispose:void 0,object:l,ref:t,attach:"material"},a))})),jd=["speed"],Wd=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)(this,n),(e=t.call(this,r)).setValues(r),e._time={value:0},e._factor={value:1},e}return(0,Q.Z)(n,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader="\n      uniform float time;\n      uniform float factor;\n      ".concat(e.vertexShader,"\n    "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","float theta = sin( time + position.y ) / 2.0 * factor;\n        float c = cos( theta );\n        float s = sin( theta );\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\n        vec3 transformed = vec3( position ) * m;\n        vNormal = vNormal * m;")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"factor",get:function(){return this._factor.value},set:function(e){this._factor.value=e}}]),n}(l.MeshStandardMaterial),Xd=u.forwardRef((function(e,t){var n=e.speed,r=void 0===n?1:n,a=(0,o.Z)(e,jd),c=u.useState((function(){return new Wd})),l=(0,i.Z)(c,1)[0];return(0,f.useFrame)((function(e){return l&&(l.time=e.clock.getElapsedTime()*r)})),u.createElement("primitive",s({dispose:void 0,object:l,ref:t,attach:"material"},a))})),qd=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.Vector2;return(0,K.Z)(this,n),(e=t.call(this,{uniforms:{inputBuffer:new l.Uniform(null),depthBuffer:new l.Uniform(null),resolution:new l.Uniform(new l.Vector2),texelSize:new l.Uniform(new l.Vector2),halfTexelSize:new l.Uniform(new l.Vector2),kernel:new l.Uniform(0),scale:new l.Uniform(1),cameraNear:new l.Uniform(0),cameraFar:new l.Uniform(1),minDepthThreshold:new l.Uniform(0),maxDepthThreshold:new l.Uniform(1),depthScale:new l.Uniform(0),depthToBlurRatioBias:new l.Uniform(.25)},fragmentShader:"#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n        }",vertexShader:"uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }",blending:l.NoBlending,depthWrite:!1,depthTest:!1})).toneMapped=!1,e.setTexelSize(r.x,r.y),e.kernel=new Float32Array([0,1,2,2,3]),e}return(0,Q.Z)(n,[{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}},{key:"setResolution",value:function(e){this.uniforms.resolution.value.copy(e)}}]),n}(l.ShaderMaterial),Yd=function(){function e(t){var n=t.gl,r=t.resolution,a=t.width,i=void 0===a?500:a,o=t.height,s=void 0===o?500:o,u=t.minDepthThreshold,c=void 0===u?0:u,f=t.maxDepthThreshold,d=void 0===f?1:f,h=t.depthScale,p=void 0===h?0:h,v=t.depthToBlurRatioBias,m=void 0===v?.25:v;(0,K.Z)(this,e),this.renderToScreen=!1,this.renderTargetA=new l.WebGLRenderTarget(r,r,{minFilter:l.LinearFilter,magFilter:l.LinearFilter,stencilBuffer:!1,depthBuffer:!1,encoding:n.outputEncoding}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new qd,this.convolutionMaterial.setTexelSize(1/i,1/s),this.convolutionMaterial.setResolution(new l.Vector2(i,s)),this.scene=new l.Scene,this.camera=new l.Camera,this.convolutionMaterial.uniforms.minDepthThreshold.value=c,this.convolutionMaterial.uniforms.maxDepthThreshold.value=d,this.convolutionMaterial.uniforms.depthScale.value=p,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=m,this.convolutionMaterial.defines.USE_DEPTH=p>0;var g=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),y=new Float32Array([0,0,2,0,0,2]),_=new l.BufferGeometry;_.setAttribute("position",new l.BufferAttribute(g,3)),_.setAttribute("uv",new l.BufferAttribute(y,2)),this.screen=new l.Mesh(_,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}return(0,Q.Z)(e,[{key:"render",value:function(e,t,n){var r=this.scene,a=this.camera,i=this.renderTargetA,o=this.renderTargetB,s=this.convolutionMaterial,u=s.uniforms;u.depthBuffer.value=t.depthTexture;var c,l,f,d=s.kernel,h=t;for(l=0,f=d.length-1;l<f;++l)c=0===(1&l)?i:o,u.kernel.value=d[l],u.inputBuffer.value=h.texture,e.setRenderTarget(c),e.render(r,a),h=c;u.kernel.value=d[l],u.inputBuffer.value=h.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(r,a)}}]),e}(),Qd=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.Z)(this,n),(e=t.call(this,r))._debug={value:0},e._tDepth={value:null},e._distortionMap={value:null},e._tDiffuse={value:null},e._tDiffuseBlur={value:null},e._textureMatrix={value:null},e._hasBlur={value:!1},e._mirror={value:0},e._mixBlur={value:0},e._blurStrength={value:.5},e._minDepthThreshold={value:.9},e._maxDepthThreshold={value:1},e._depthScale={value:0},e._depthToBlurRatioBias={value:.25},e._distortion={value:1},e._mixContrast={value:1},e.setValues(r),e}return(0,Q.Z)(n,[{key:"onBeforeCompile",value:function(e){var t;null!=(t=e.defines)&&t.USE_UV||(e.defines.USE_UV=""),e.uniforms.debug=this._debug,e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader="\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;     \n      ".concat(e.vertexShader),e.vertexShader=e.vertexShader.replace("#include <project_vertex>","#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );"),e.fragmentShader="\n        uniform int debug;\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;        \n        ".concat(e.fragmentShader),e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>","#include <emissivemap_fragment>\n    \n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n      \n      vec4 merge = base;\n      \n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n  \n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n      \n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);           \n      diffuseColor = sRGBToLinear(diffuseColor);\n      \n      if (debug == 1) {\n        diffuseColor = sRGBToLinear(vec4(vec3(depthFactor), 1.0));\n      }\n      if (debug == 2) {\n        diffuseColor = sRGBToLinear(vec4(vec3(blurFactor), 1.0));\n      }\n      if (debug == 3) {\n        diffuseColor = sRGBToLinear(texture2DProj(tDiffuse, new_vUv));\n      }\n      if (debug == 4) {\n        diffuseColor = sRGBToLinear(texture2DProj(tDiffuseBlur, new_vUv));\n      }\n      ")}},{key:"tDiffuse",get:function(){return this._tDiffuse.value},set:function(e){this._tDiffuse.value=e}},{key:"tDepth",get:function(){return this._tDepth.value},set:function(e){this._tDepth.value=e}},{key:"distortionMap",get:function(){return this._distortionMap.value},set:function(e){this._distortionMap.value=e}},{key:"tDiffuseBlur",get:function(){return this._tDiffuseBlur.value},set:function(e){this._tDiffuseBlur.value=e}},{key:"textureMatrix",get:function(){return this._textureMatrix.value},set:function(e){this._textureMatrix.value=e}},{key:"hasBlur",get:function(){return this._hasBlur.value},set:function(e){this._hasBlur.value=e}},{key:"mirror",get:function(){return this._mirror.value},set:function(e){this._mirror.value=e}},{key:"mixBlur",get:function(){return this._mixBlur.value},set:function(e){this._mixBlur.value=e}},{key:"mixStrength",get:function(){return this._blurStrength.value},set:function(e){this._blurStrength.value=e}},{key:"minDepthThreshold",get:function(){return this._minDepthThreshold.value},set:function(e){this._minDepthThreshold.value=e}},{key:"maxDepthThreshold",get:function(){return this._maxDepthThreshold.value},set:function(e){this._maxDepthThreshold.value=e}},{key:"depthScale",get:function(){return this._depthScale.value},set:function(e){this._depthScale.value=e}},{key:"debug",get:function(){return this._debug.value},set:function(e){this._debug.value=e}},{key:"depthToBlurRatioBias",get:function(){return this._depthToBlurRatioBias.value},set:function(e){this._depthToBlurRatioBias.value=e}},{key:"distortion",get:function(){return this._distortion.value},set:function(e){this._distortion.value=e}},{key:"mixContrast",get:function(){return this._mixContrast.value},set:function(e){this._mixContrast.value=e}}]),n}(l.MeshStandardMaterial),Kd=["mixBlur","mixStrength","resolution","blur","minDepthThreshold","maxDepthThreshold","depthScale","depthToBlurRatioBias","mirror","debug","distortion","mixContrast","distortionMap"];(0,f.extend)({MeshReflectorMaterialImpl:Qd});var Jd=u.forwardRef((function(e,t){var n=e.mixBlur,r=void 0===n?0:n,a=e.mixStrength,c=void 0===a?1:a,d=e.resolution,h=void 0===d?256:d,p=e.blur,v=void 0===p?[0,0]:p,m=e.minDepthThreshold,g=void 0===m?.9:m,y=e.maxDepthThreshold,_=void 0===y?1:y,b=e.depthScale,w=void 0===b?0:b,x=e.depthToBlurRatioBias,A=void 0===x?.25:x,M=e.mirror,E=void 0===M?0:M,C=e.debug,S=void 0===C?0:C,T=e.distortion,k=void 0===T?1:T,B=e.mixContrast,P=void 0===B?1:B,D=e.distortionMap,R=(0,o.Z)(e,Kd),F=(0,f.useThree)((function(e){return e.gl})),I=(0,f.useThree)((function(e){return e.camera})),O=(0,f.useThree)((function(e){return e.scene})),z=(v=Array.isArray(v)?v:[v,v])[0]+v[1]>0,Z=u.useRef(null),U=u.useState((function(){return new l.Plane})),N=(0,i.Z)(U,1)[0],G=u.useState((function(){return new l.Vector3})),H=(0,i.Z)(G,1)[0],V=u.useState((function(){return new l.Vector3})),j=(0,i.Z)(V,1)[0],W=u.useState((function(){return new l.Vector3})),X=(0,i.Z)(W,1)[0],q=u.useState((function(){return new l.Matrix4})),Y=(0,i.Z)(q,1)[0],Q=u.useState((function(){return new l.Vector3(0,0,-1)})),K=(0,i.Z)(Q,1)[0],J=u.useState((function(){return new l.Vector4})),$=(0,i.Z)(J,1)[0],ee=u.useState((function(){return new l.Vector3})),te=(0,i.Z)(ee,1)[0],ne=u.useState((function(){return new l.Vector3})),re=(0,i.Z)(ne,1)[0],ae=u.useState((function(){return new l.Vector4})),ie=(0,i.Z)(ae,1)[0],oe=u.useState((function(){return new l.Matrix4})),se=(0,i.Z)(oe,1)[0],ue=u.useState((function(){return new l.PerspectiveCamera})),ce=(0,i.Z)(ue,1)[0],le=u.useCallback((function(){var e,t=Z.current.parent||(null==(e=Z.current)?void 0:e.__r3f.parent);if(t&&(j.setFromMatrixPosition(t.matrixWorld),X.setFromMatrixPosition(I.matrixWorld),Y.extractRotation(t.matrixWorld),H.set(0,0,1),H.applyMatrix4(Y),te.subVectors(j,X),!(te.dot(H)>0))){te.reflect(H).negate(),te.add(j),Y.extractRotation(I.matrixWorld),K.set(0,0,-1),K.applyMatrix4(Y),K.add(X),re.subVectors(j,K),re.reflect(H).negate(),re.add(j),ce.position.copy(te),ce.up.set(0,1,0),ce.up.applyMatrix4(Y),ce.up.reflect(H),ce.lookAt(re),ce.far=I.far,ce.updateMatrixWorld(),ce.projectionMatrix.copy(I.projectionMatrix),se.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),se.multiply(ce.projectionMatrix),se.multiply(ce.matrixWorldInverse),se.multiply(t.matrixWorld),N.setFromNormalAndCoplanarPoint(H,j),N.applyMatrix4(ce.matrixWorldInverse),$.set(N.normal.x,N.normal.y,N.normal.z,N.constant);var n=ce.projectionMatrix;ie.x=(Math.sign($.x)+n.elements[8])/n.elements[0],ie.y=(Math.sign($.y)+n.elements[9])/n.elements[5],ie.z=-1,ie.w=(1+n.elements[10])/n.elements[14],$.multiplyScalar(2/$.dot(ie)),n.elements[2]=$.x,n.elements[6]=$.y,n.elements[10]=$.z+1,n.elements[14]=$.w}}),[]),fe=u.useMemo((function(){var e={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:F.outputEncoding},t=new l.WebGLRenderTarget(h,h,e);t.depthBuffer=!0,t.depthTexture=new l.DepthTexture(h,h),t.depthTexture.format=l.DepthFormat,t.depthTexture.type=l.UnsignedShortType;var n=new l.WebGLRenderTarget(h,h,e);return[t,n,new Yd({gl:F,resolution:h,width:v[0],height:v[1],minDepthThreshold:g,maxDepthThreshold:_,depthScale:w,depthToBlurRatioBias:A}),{mirror:E,textureMatrix:se,mixBlur:r,tDiffuse:t.texture,tDepth:t.depthTexture,tDiffuseBlur:n.texture,hasBlur:z,mixStrength:c,minDepthThreshold:g,maxDepthThreshold:_,depthScale:w,depthToBlurRatioBias:A,transparent:!0,debug:S,distortion:k,distortionMap:D,mixContrast:P,"defines-USE_BLUR":z?"":void 0,"defines-USE_DEPTH":w>0?"":void 0,"defines-USE_DISTORTION":D?"":void 0}]}),[F,v,se,h,E,z,r,c,g,_,w,A,S,k,D,P]),de=(0,i.Z)(fe,4),he=de[0],pe=de[1],ve=de[2],me=de[3];return(0,f.useFrame)((function(){var e,t=Z.current.parent||(null==(e=Z.current)?void 0:e.__r3f.parent);if(t){t.visible=!1;var n=F.xr.enabled,r=F.shadowMap.autoUpdate;le(),F.xr.enabled=!1,F.shadowMap.autoUpdate=!1,F.setRenderTarget(he),F.state.buffers.depth.setMask(!0),F.autoClear||F.clear(),F.render(O,ce),z&&ve.render(F,he,pe),F.xr.enabled=n,F.shadowMap.autoUpdate=r,t.visible=!0,F.setRenderTarget(null)}})),u.createElement("meshReflectorMaterialImpl",s({attach:"material",key:"key"+me["defines-USE_BLUR"]+me["defines-USE_DEPTH"]+me["defines-USE_DISTORTION"],ref:(0,L.default)([Z,t])},me,R))})),$d=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){return(0,K.Z)(this,n),t.call(this,{transparent:!0,uniforms:{size:{value:1}},vertexShader:l.ShaderLib.points.vertexShader,fragmentShader:"\n      varying vec3 vColor;\n      void main() {\n        vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n        float r = dot(cxy, cxy);\n        float delta = fwidth(r);\n        vec3 color = vColor;\n        #ifdef TONE_MAPPING\n          color = toneMapping(color);\n        #endif\n        gl_FragColor = linearToOutputTexel(vec4(color, 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r)));\n      }",vertexColors:!0})}return(0,Q.Z)(n,[{key:"scale",get:function(){return this.uniforms.size.value},set:function(e){this.uniforms.size.value=e}}]),n}(l.ShaderMaterial),eh=u.forwardRef((function(e,t){var n=u.useState((function(){return new $d})),r=(0,i.Z)(n,1)[0];return u.createElement("primitive",s({object:r,ref:t,attach:"material"},e))})),th=!1,nh=function(e){if(!th){th=!0;var t=l.ShaderChunk.shadowmap_pars_fragment;t=t.replace("#ifdef USE_SHADOWMAP","#ifdef USE_SHADOWMAP\n"+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frustum,n=void 0===t?3.75:t,r=e.size,a=void 0===r?.005:r,i=e.near,o=void 0===i?9.5:i,s=e.samples,u=void 0===s?17:s,c=e.rings,l=void 0===c?11:c;return"#define LIGHT_WORLD_SIZE ".concat(a,"\n#define LIGHT_FRUSTUM_WIDTH ").concat(n,"\n#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n#define NEAR_PLANE ").concat(o,"\n\n#define NUM_SAMPLES ").concat(u,"\n#define NUM_RINGS ").concat(l,"\n#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n#define PCF_NUM_SAMPLES NUM_SAMPLES\n\nvec2 poissonDisk[NUM_SAMPLES];\n\nvoid initPoissonSamples(const in vec2 randomSeed) {\n  float ANGLE_STEP = PI2 * float(NUM_RINGS) / float(NUM_SAMPLES);\n  float INV_NUM_SAMPLES = 1.0 / float(NUM_SAMPLES);\n  float angle = rand(randomSeed) * PI2;\n  float radius = INV_NUM_SAMPLES;\n  float radiusStep = radius;\n  for (int i = 0; i < NUM_SAMPLES; i++) {\n    poissonDisk[i] = vec2(cos(angle), sin(angle)) * pow(radius, 0.75);\n    radius += radiusStep;\n    angle += ANGLE_STEP;\n  }\n}\n\nfloat penumbraSize(const in float zReceiver, const in float zBlocker) { // Parallel plane estimation\n  return (zReceiver - zBlocker) / zBlocker;\n}\n\nfloat findBlocker(sampler2D shadowMap, const in vec2 uv, const in float zReceiver) {\n  float searchRadius = LIGHT_SIZE_UV * (zReceiver - NEAR_PLANE) / zReceiver;\n  float blockerDepthSum = 0.0;\n  int numBlockers = 0;\n  for (int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++) {\n    float shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n    if (shadowMapDepth < zReceiver) {\n      blockerDepthSum += shadowMapDepth;\n      numBlockers++;\n    }\n  }\n  if (numBlockers == 0) return -1.0;\n  return blockerDepthSum / float(numBlockers);\n}\n\nfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius) {\n  float sum = 0.0;\n  for (int i = 0; i < PCF_NUM_SAMPLES; i++) {\n    float depth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[ i ] * filterRadius));\n    if (zReceiver <= depth) sum += 1.0;\n  }\n  for (int i = 0; i < PCF_NUM_SAMPLES; i++) {\n    float depth = unpackRGBAToDepth(texture2D(shadowMap, uv + -poissonDisk[ i ].yx * filterRadius));\n    if (zReceiver <= depth) sum += 1.0;\n  }\n  return sum / (2.0 * float(PCF_NUM_SAMPLES));\n}\n\nfloat PCSS(sampler2D shadowMap, vec4 coords) {\n  vec2 uv = coords.xy;\n  float zReceiver = coords.z; // Assumed to be eye-space z in this code\n  initPoissonSamples(uv);\n  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver);\n  if (avgBlockerDepth == -1.0) return 1.0;\n  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\n  float filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n  return PCF_Filter(shadowMap, uv, zReceiver, filterRadius);\n}")}((0,a.Z)({},e))),t=t.replace("#if defined( SHADOWMAP_TYPE_PCF )","\nreturn PCSS(shadowMap, shadowCoord);\n#if defined( SHADOWMAP_TYPE_PCF )"),l.ShaderChunk.shadowmap_pars_fragment=t}},rh=["args","children"];function ah(e){var t=e+"BufferGeometry";return u.forwardRef((function(e,n){var r=e.args,a=e.children,i=(0,o.Z)(e,rh);return u.createElement("mesh",s({ref:n},i),u.createElement(t,{attach:"geometry",args:r}),a)}))}var ih=ah("box"),oh=ah("circle"),sh=ah("cone"),uh=ah("cylinder"),ch=ah("sphere"),lh=ah("plane"),fh=ah("tube"),dh=ah("torus"),hh=ah("torusKnot"),ph=ah("tetrahedron"),vh=ah("ring"),mh=ah("polyhedron"),gh=ah("icosahedron"),yh=ah("octahedron"),_h=ah("dodecahedron"),bh=ah("extrude"),wh=ah("lathe"),xh=ah("parametric"),Ah=["args","radius","smoothness","children"],Mh=1e-5;var Eh=u.forwardRef((function(e,t){var n=e.args;n=void 0===n?[]:n;var r=(0,i.Z)(n,3),a=r[0],c=void 0===a?1:a,f=r[1],d=void 0===f?1:f,h=r[2],p=void 0===h?1:h,v=e.radius,m=void 0===v?.05:v,g=e.smoothness,y=void 0===g?4:g,_=e.children,b=(0,o.Z)(e,Ah),w=u.useMemo((function(){return function(e,t,n){var r=new l.Shape,a=n-Mh;return r.absarc(Mh,Mh,Mh,-Math.PI/2,-Math.PI,!0),r.absarc(Mh,t-2*a,Mh,Math.PI,Math.PI/2,!0),r.absarc(e-2*a,t-2*a,Mh,Math.PI/2,0,!0),r.absarc(e-2*a,Mh,Mh,0,-Math.PI/2,!0),r}(c,d,m)}),[c,d,m]),x=u.useMemo((function(){return{depth:p-2*m,bevelEnabled:!0,bevelSegments:2*y,steps:1,bevelSize:m-Mh,bevelThickness:m,curveSegments:y}}),[p,m,y]),A=u.useRef();return u.useLayoutEffect((function(){A.current&&A.current.center()}),[w,x]),u.createElement("mesh",s({ref:t},b),u.createElement("extrudeBufferGeometry",{attach:"geometry",ref:A,args:[w,x]}),_)})),Ch=["children"];function Sh(){var e=new l.BufferGeometry,t=new Float32Array([-1,-1,3,-1,-1,3]);return e.setAttribute("position",new l.BufferAttribute(t,2)),e}var Th=u.forwardRef((function(e,t){var n=e.children,r=(0,o.Z)(e,Ch),a=u.useMemo(Sh,[]);return u.createElement("mesh",s({ref:t,geometry:a,frustumCulled:!1},r),n)})),kh=["children","alignTop"],Bh=u.forwardRef((function(e,t){var n=e.children,r=e.alignTop,a=(0,o.Z)(e,kh),i=u.useRef(null),c=u.useRef(null);return u.useLayoutEffect((function(){i.current.position.set(0,0,0),i.current.updateWorldMatrix(!0,!0);var e=(new l.Box3).setFromObject(c.current),t=new l.Vector3,n=new l.Sphere,a=e.max.y-e.min.y;e.getCenter(t),e.getBoundingSphere(n),i.current.position.set(-t.x,-t.y+(r?a/2:0),-t.z)}),[n]),u.createElement("group",s({ref:t},a),u.createElement("group",{ref:i},u.createElement("group",{ref:c},n)))})),Ph=function(e){return e&&e.isOrthographicCamera},Lh=u.createContext(null);function Dh(e){var t=e.children,n=e.damping,r=void 0===n?6:n,a=e.fit,o=e.clip,s=e.margin,c=void 0===s?1.2:s,d=e.eps,h=void 0===d?.01:d,p=e.onFit,v=u.useRef(null),m=(0,f.useThree)((function(e){return e.camera})),g=(0,f.useThree)((function(e){return e.controls})),y=(0,f.useThree)((function(e){return e.invalidate})),_=u.useRef(p);function b(e,t){return Math.abs(e.x-t.x)<h&&Math.abs(e.y-t.y)<h&&Math.abs(e.z-t.z)<h}function w(e,t,n,r){e.x=l.MathUtils.damp(e.x,t.x,n,r),e.y=l.MathUtils.damp(e.y,t.y,n,r),e.z=l.MathUtils.damp(e.z,t.z,n,r)}_.current=p;var x=u.useState((function(){return{animating:!1,focus:new l.Vector3,camera:new l.Vector3,zoom:1}})),A=(0,i.Z)(x,1)[0],M=u.useState((function(){return{focus:new l.Vector3,camera:new l.Vector3,zoom:1}})),E=(0,i.Z)(M,1)[0],C=u.useState((function(){return new l.Box3})),S=(0,i.Z)(C,1)[0],T=u.useMemo((function(){function e(){var e=S.getSize(new l.Vector3),t=S.getCenter(new l.Vector3),n=Math.max(e.x,e.y,e.z),r=Ph(m)?4*n:n/(2*Math.atan(Math.PI*m.fov/360)),a=Ph(m)?4*n:r/m.aspect,i=c*Math.max(r,a);return{box:S,size:e,center:t,distance:i}}return{getSize:e,refresh:function(e){var t;if((t=e)&&t.isObject3D?S.setFromObject(e):!function(e){return e&&e.isBox3}(e)?v.current&&S.setFromObject(v.current):S.copy(e),S.isEmpty()){var n=m.position.length()||10;S.setFromCenterAndSize(new l.Vector3,new l.Vector3(n,n,n))}return this},clip:function(){var t=e().distance;return g&&(g.maxDistance=10*t),m.near=t/100,m.far=100*t,m.updateProjectionMatrix(),g&&g.update(),this},fit:function(){A.camera.copy(m.position),g&&A.focus.copy(g.target);var t=e(),n=t.center,a=t.distance,i=n.clone().sub(m.position).normalize().multiplyScalar(a);if(E.camera.copy(n).sub(i),E.focus.copy(n),Ph(m)){A.zoom=m.zoom;var o=0,s=0,u=[new l.Vector3(S.min.x,S.min.y,S.min.z),new l.Vector3(S.min.x,S.max.y,S.min.z),new l.Vector3(S.min.x,S.min.y,S.max.z),new l.Vector3(S.min.x,S.max.y,S.max.z),new l.Vector3(S.max.x,S.max.y,S.max.z),new l.Vector3(S.max.x,S.max.y,S.min.z),new l.Vector3(S.max.x,S.min.y,S.max.z),new l.Vector3(S.max.x,S.min.y,S.min.z)];n.applyMatrix4(m.matrixWorldInverse);for(var f=0,d=u;f<d.length;f++){var h=d[f];h.applyMatrix4(m.matrixWorldInverse),o=Math.max(o,Math.abs(h.y-n.y)),s=Math.max(s,Math.abs(h.x-n.x))}o*=2,s*=2;var p=(m.top-m.bottom)/o,v=(m.right-m.left)/s;E.zoom=Math.min(p,v)/c,r||(m.zoom=E.zoom,m.updateProjectionMatrix())}return r?A.animating=!0:(m.position.copy(E.camera),m.lookAt(E.focus),g&&(g.target.copy(E.focus),g.update()),y()),_.current&&_.current(this.getSize()),this}}}),[S,m,g,c,r,y]);return u.useLayoutEffect((function(){if(T.refresh(),a&&T.fit(),o&&T.clip(),g){var e=function(){return A.animating=!1};return g.addEventListener("start",e),function(){return g.removeEventListener("start",e)}}}),[o,a,g]),(0,f.useFrame)((function(e,t){if(A.animating){if(w(A.focus,E.focus,r,t),w(A.camera,E.camera,r,t),A.zoom=l.MathUtils.damp(A.zoom,E.zoom,r,t),m.position.copy(A.camera),Ph(m)&&(m.zoom=A.zoom,m.updateProjectionMatrix()),g?(g.target.copy(A.focus),g.update()):m.lookAt(A.focus),y(),Ph(m)&&!(Math.abs(A.zoom-E.zoom)<h))return;if(!Ph(m)&&!b(A.camera,E.camera))return;if(g&&!b(A.focus,E.focus))return;A.animating=!1}})),u.createElement("group",{ref:v},u.createElement(Lh.Provider,{value:T},t))}function Rh(){return u.useContext(Lh)}var Fh=(0,Q.Z)((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math;(0,K.Z)(this,e),(0,Lr.Z)(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),(0,Lr.Z)(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),(0,Lr.Z)(this,"p",[]),(0,Lr.Z)(this,"perm",[]),(0,Lr.Z)(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),(0,Lr.Z)(this,"dot",(function(e,t,n){return e[0]*t+e[1]*n})),(0,Lr.Z)(this,"dot3",(function(e,t,n,r){return e[0]*t+e[1]*n+e[2]*r})),(0,Lr.Z)(this,"dot4",(function(e,t,n,r,a){return e[0]*t+e[1]*n+e[2]*r+e[3]*a})),(0,Lr.Z)(this,"noise",(function(e,n){var r=(e+n)*(.5*(Math.sqrt(3)-1)),a=Math.floor(e+r),i=Math.floor(n+r),o=(3-Math.sqrt(3))/6,s=(a+i)*o,u=e-(a-s),c=n-(i-s),l=0,f=1;u>c&&(l=1,f=0);var d=u-l+o,h=c-f+o,p=u-1+2*o,v=c-1+2*o,m=255&a,g=255&i,y=t.perm[m+t.perm[g]]%12,_=t.perm[m+l+t.perm[g+f]]%12,b=t.perm[m+1+t.perm[g+1]]%12,w=.5-u*u-c*c,x=.5-d*d-h*h,A=.5-p*p-v*v;return 70*((w<0?0:(w*=w)*w*t.dot(t.grad3[y],u,c))+(x<0?0:(x*=x)*x*t.dot(t.grad3[_],d,h))+(A<0?0:(A*=A)*A*t.dot(t.grad3[b],p,v)))})),(0,Lr.Z)(this,"noise3d",(function(e,n,r){var a,i,o,s,u,c,l=(e+n+r)*(1/3),f=Math.floor(e+l),d=Math.floor(n+l),h=Math.floor(r+l),p=1/6,v=(f+d+h)*p,m=e-(f-v),g=n-(d-v),y=r-(h-v);m>=g?g>=y?(a=1,i=0,o=0,s=1,u=1,c=0):m>=y?(a=1,i=0,o=0,s=1,u=0,c=1):(a=0,i=0,o=1,s=1,u=0,c=1):g<y?(a=0,i=0,o=1,s=0,u=1,c=1):m<y?(a=0,i=1,o=0,s=0,u=1,c=1):(a=0,i=1,o=0,s=1,u=1,c=0);var _=m-a+p,b=g-i+p,w=y-o+p,x=m-s+2*p,A=g-u+2*p,M=y-c+2*p,E=m-1+.5,C=g-1+.5,S=y-1+.5,T=255&f,k=255&d,B=255&h,P=t.perm[T+t.perm[k+t.perm[B]]]%12,L=t.perm[T+a+t.perm[k+i+t.perm[B+o]]]%12,D=t.perm[T+s+t.perm[k+u+t.perm[B+c]]]%12,R=t.perm[T+1+t.perm[k+1+t.perm[B+1]]]%12,F=.6-m*m-g*g-y*y,I=.6-_*_-b*b-w*w,O=.6-x*x-A*A-M*M,z=.6-E*E-C*C-S*S;return 32*((F<0?0:(F*=F)*F*t.dot3(t.grad3[P],m,g,y))+(I<0?0:(I*=I)*I*t.dot3(t.grad3[L],_,b,w))+(O<0?0:(O*=O)*O*t.dot3(t.grad3[D],x,A,M))+(z<0?0:(z*=z)*z*t.dot3(t.grad3[R],E,C,S)))})),(0,Lr.Z)(this,"noise4d",(function(e,n,r,a){var i,o,s,u,c,l,f,d,h,p,v,m,g=t.grad4,y=t.simplex,_=t.perm,b=(Math.sqrt(5)-1)/4,w=(5-Math.sqrt(5))/20,x=(e+n+r+a)*b,A=Math.floor(e+x),M=Math.floor(n+x),E=Math.floor(r+x),C=Math.floor(a+x),S=(A+M+E+C)*w,T=e-(A-S),k=n-(M-S),B=r-(E-S),P=a-(C-S),L=(T>k?32:0)+(T>B?16:0)+(k>B?8:0)+(T>P?4:0)+(k>P?2:0)+(B>P?1:0),D=T-(i=y[L][0]>=3?1:0)+w,R=k-(o=y[L][1]>=3?1:0)+w,F=B-(s=y[L][2]>=3?1:0)+w,I=P-(u=y[L][3]>=3?1:0)+w,O=T-(c=y[L][0]>=2?1:0)+2*w,z=k-(l=y[L][1]>=2?1:0)+2*w,Z=B-(f=y[L][2]>=2?1:0)+2*w,U=P-(d=y[L][3]>=2?1:0)+2*w,N=T-(h=y[L][0]>=1?1:0)+3*w,G=k-(p=y[L][1]>=1?1:0)+3*w,H=B-(v=y[L][2]>=1?1:0)+3*w,V=P-(m=y[L][3]>=1?1:0)+3*w,j=T-1+4*w,W=k-1+4*w,X=B-1+4*w,q=P-1+4*w,Y=255&A,Q=255&M,K=255&E,J=255&C,$=_[Y+_[Q+_[K+_[J]]]]%32,ee=_[Y+i+_[Q+o+_[K+s+_[J+u]]]]%32,te=_[Y+c+_[Q+l+_[K+f+_[J+d]]]]%32,ne=_[Y+h+_[Q+p+_[K+v+_[J+m]]]]%32,re=_[Y+1+_[Q+1+_[K+1+_[J+1]]]]%32,ae=.6-T*T-k*k-B*B-P*P,ie=.6-D*D-R*R-F*F-I*I,oe=.6-O*O-z*z-Z*Z-U*U,se=.6-N*N-G*G-H*H-V*V,ue=.6-j*j-W*W-X*X-q*q;return 27*((ae<0?0:(ae*=ae)*ae*t.dot4(g[$],T,k,B,P))+(ie<0?0:(ie*=ie)*ie*t.dot4(g[ee],D,R,F,I))+(oe<0?0:(oe*=oe)*oe*t.dot4(g[te],O,z,Z,U))+(se<0?0:(se*=se)*se*t.dot4(g[ne],N,G,H,V))+(ue<0?0:(ue*=ue)*ue*t.dot4(g[re],j,W,X,q)))}));for(var r=0;r<256;r++)this.p[r]=Math.floor(256*n.random());for(var a=0;a<512;a++)this.perm[a]=this.p[255&a]})),Ih=u.forwardRef((function(e,t){var n=e.intensity,r=void 0===n?1:n,a=e.decay,o=e.decayRate,s=void 0===o?.65:o,c=e.maxYaw,l=void 0===c?.1:c,d=e.maxPitch,h=void 0===d?.1:d,p=e.maxRoll,v=void 0===p?.1:p,m=e.yawFrequency,g=void 0===m?.1:m,y=e.pitchFrequency,_=void 0===y?.1:y,b=e.rollFrequency,w=void 0===b?.1:b,x=e.controls,A=(0,f.useThree)((function(e){return e.camera})),M=(0,f.useThree)((function(e){return e.controls})),E=u.useRef(r),C=u.useRef(A.rotation.clone()),S=u.useState((function(){return new Fh})),T=(0,i.Z)(S,1)[0],k=u.useState((function(){return new Fh})),B=(0,i.Z)(k,1)[0],P=u.useState((function(){return new Fh})),L=(0,i.Z)(P,1)[0],D=function(){(E.current<0||E.current>1)&&(E.current=E.current<0?0:1)};return u.useImperativeHandle(t,(function(){return{getIntensity:function(){return E.current},setIntensity:function(e){E.current=e,D()}}}),[]),u.useEffect((function(){var e=M||(null==x?void 0:x.current),t=function(){C.current=A.rotation.clone()};return null==e||e.addEventListener("change",t),function(){null==e||e.removeEventListener("change",t)}}),[x,M]),(0,f.useFrame)((function(e,t){var n=e.clock,r=Math.pow(E.current,2),i=l*r*T.noise(n.elapsedTime*g,1),o=h*r*B.noise(n.elapsedTime*_,1),u=v*r*L.noise(n.elapsedTime*w,1);A.rotation.set(C.current.x+o,C.current.y+i,C.current.z+u),a&&E.current>0&&(E.current-=s*t,D())})),null})),Oh=["children","speed","rotationIntensity","floatIntensity"];function zh(e){var t=e.children,n=e.speed,r=void 0===n?1:n,a=e.rotationIntensity,i=void 0===a?1:a,s=e.floatIntensity,c=void 0===s?1:s,l=(0,o.Z)(e,Oh),d=u.useRef(null),h=u.useRef(1e4*Math.random());return(0,f.useFrame)((function(e){var t=h.current+e.clock.getElapsedTime();d.current.rotation.x=Math.cos(t/4*r)/8*i,d.current.rotation.y=Math.sin(t/4*r)/8*i,d.current.rotation.z=Math.sin(t/4*r)/20*i,d.current.position.y=Math.sin(t/4*r)/10*c})),u.createElement("group",l,u.createElement("group",{ref:d},t))}var Zh=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).type=l.HalfFloatType,r}return(0,Q.Z)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,a=-1,i=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(a=s.indexOf("\n"))&&i<t&&r<e.byteLength;)o+=s,i+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==n&&(e.pos+=i+a+1),o+s.slice(0,a))},r=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i},a=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=l.DataUtils.toHalfFloat(Math.min(e[t+0]*i,65504)),n[r+1]=l.DataUtils.toHalfFloat(Math.min(e[t+1]*i,65504)),n[r+2]=l.DataUtils.toHalfFloat(Math.min(e[t+2]*i,65504))},i=new Uint8Array(e);i.pos=0;var o=function(e){var r,a,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(a=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(c.valid|=1,c.programtype=a[1],c.string+=r+"\n";!1!==(r=n(e));)if(c.string+=r+"\n","#"!==r.charAt(0)){if((a=r.match(i))&&(c.gamma=parseFloat(a[1],10)),(a=r.match(o))&&(c.exposure=parseFloat(a[1],10)),(a=r.match(s))&&(c.valid|=2,c.format=a[1]),(a=r.match(u))&&(c.valid|=4,c.height=parseInt(a[1],10),c.width=parseInt(a[2],10)),2&c.valid&&4&c.valid)break}else c.comments+=r+"\n";return 2&c.valid?4&c.valid?c:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==o){var s=o.width,u=o.height,c=function(e,n,r){var a=n;if(a<8||a>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var i=new Uint8Array(4*n*r);if(!i.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,u=4*a,c=new Uint8Array(4),l=new Uint8Array(u),f=r;f>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(c[0]=e[s++],c[1]=e[s++],c[2]=e[s++],c[3]=e[s++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=a)return t(3,"bad rgbe scanline format");for(var d=0,h=void 0;d<u&&s<e.byteLength;){var p=(h=e[s++])>128;if(p&&(h-=128),0===h||d+h>u)return t(3,"bad scanline data");if(p)for(var v=e[s++],m=0;m<h;m++)l[d++]=v;else l.set(e.subarray(s,s+h),d),d+=h,s+=h}for(var g=a,y=0;y<g;y++){var _=0;i[o]=l[y+_],_+=a,i[o+1]=l[y+_],_+=a,i[o+2]=l[y+_],_+=a,i[o+3]=l[y+_],o+=4}f--}return i}(i.subarray(i.pos),s,u);if(-1!==c){var f,d,h,p;switch(this.type){case l.FloatType:p=c.length/4;for(var v=new Float32Array(3*p),m=0;m<p;m++)r(c,4*m,v,3*m);f=v,d=l.RGBFormat,h=l.FloatType;break;case l.HalfFloatType:p=c.length/4;for(var g=new Uint16Array(3*p),y=0;y<p;y++)a(c,4*y,g,3*y);f=g,d=l.RGBFormat,h=l.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:u,data:f,header:o.string,gamma:o.gamma,exposure:o.exposure,format:d,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,a){return(0,G.Z)((0,H.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case l.FloatType:case l.HalfFloatType:e.encoding=l.LinearEncoding,e.minFilter=l.LinearFilter,e.magFilter=l.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,a)}}]),n}(l.DataTextureLoader),Uh={sunset:"venice_sunset_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",night:"dikhololo_night_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr",forest:"forest_slope_1k.hdr",apartment:"lebombo_1k.hdr",studio:"studio_small_03_1k.hdr",city:"potsdamer_platz_1k.hdr",park:"rooitou_park_1k.hdr",lobby:"st_fagans_interior_1k.hdr"};function Nh(e){var t=e.background,n=void 0!==t&&t,r=e.files,a=void 0===r?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:r,i=e.path,o=void 0===i?"":i,s=e.preset,c=void 0===s?void 0:s,d=e.scene,h=e.extensions;if(c){if(!(c in Uh))throw new Error("Preset must be one of: "+Object.keys(Uh).join(", "));a=Uh[c],o="https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2/hdri/"}var p=(0,f.useThree)((function(e){return e.scene})),v=(0,f.useThree)((function(e){return e.gl})),m=Array.isArray(a),g=m?l.CubeTextureLoader:Zh,y=(0,f.useLoader)(g,m?[a]:a,(function(e){e.setPath(o),h&&h(e)})),_=m?y[0]:y,b=(0,Ll.G)((function(){return new Promise((function(e){var t=new l.PMREMGenerator(v),n=function(e,t,n){return n?(t.compileEquirectangularShader(),t.fromCubemap(e).texture):t.fromEquirectangular(e).texture}(_,t,m);t.dispose(),e(n)}))}),_);return u.useLayoutEffect((function(){var e=d?d.background:p.background,t=d?d.environment:p.environment;return d?(d.environment=b,n&&(d.background=b)):(p.environment=b,n&&(p.background=b)),function(){d?(d.environment=t,d.background=e):(p.environment=t,p.background=e),Ll.G.clear(_),b.dispose()}}),[b,n,d]),null}var Gh={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},Hh={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n  \n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},Vh=["scale","frames","opacity","width","height","blur","far","resolution"],jh=u.forwardRef((function(e,t){var n=e.scale,r=e.frames,a=void 0===r?1/0:r,c=e.opacity,d=void 0===c?1:c,h=e.width,p=void 0===h?1:h,v=e.height,m=void 0===v?1:v,g=e.blur,y=void 0===g?1:g,_=e.far,b=void 0===_?10:_,w=e.resolution,x=void 0===w?256:w,A=(0,o.Z)(e,Vh),M=(0,f.useThree)((function(e){return e.scene})),E=(0,f.useThree)((function(e){return e.gl})),C=u.useRef();p*=Array.isArray(n)?n[0]:n||1,m*=Array.isArray(n)?n[1]:n||1;var S=u.useMemo((function(){var e=new l.WebGLRenderTarget(x,x),t=new l.WebGLRenderTarget(x,x);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new l.PlaneBufferGeometry(p,m).rotateX(Math.PI/2),r=new l.Mesh(n),a=new l.MeshDepthMaterial;a.depthTest=a.depthWrite=!1,a.onBeforeCompile=function(e){return e.fragmentShader=e.fragmentShader.replace("1.0 - fragCoordZ ), opacity );","0.0 ), ( 1.0 - fragCoordZ ) * 1.0 );")};var i=new l.ShaderMaterial(Gh),o=new l.ShaderMaterial(Hh);return o.depthTest=i.depthTest=!1,[e,n,a,r,i,o,t]}),[x,p,m,n]),T=(0,i.Z)(S,7),k=T[0],B=T[1],P=T[2],L=T[3],D=T[4],R=T[5],F=T[6],I=0;return(0,f.useFrame)((function(){if(C.current&&(a===1/0||I<a)){var e=M.background;M.background=null,M.overrideMaterial=P,E.setRenderTarget(k),E.render(M,C.current),M.overrideMaterial=null,L.material=D,L.material.uniforms.tDiffuse.value=k.texture,D.uniforms.h.value=y/256,E.setRenderTarget(F),E.render(L,C.current),L.material=R,L.material.uniforms.tDiffuse.value=F.texture,R.uniforms.v.value=y/256,E.setRenderTarget(k),E.render(L,C.current),E.setRenderTarget(null),M.background=e,I++}})),u.createElement("group",s({"rotation-x":Math.PI/2},A,{ref:t}),u.createElement("mesh",{geometry:B,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},u.createElement("meshBasicMaterial",{map:k.texture,transparent:!0,opacity:d})),u.createElement("orthographicCamera",{ref:C,args:[-p/2,p/2,m/2,-m/2,0,b]}))})),Wh=["children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow"],Xh={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function qh(e){var t=e.children,n=e.controls,r=e.shadows,a=void 0===r||r,c=e.adjustCamera,d=void 0===c||c,h=e.environment,p=void 0===h?"city":h,v=e.intensity,m=void 0===v?1:v,g=e.preset,y=void 0===g?"rembrandt":g,_=e.shadowBias,b=void 0===_?0:_,w=e.contactShadow,x=void 0===w?{blur:2,opacity:.5,position:[0,0,0]}:w,A=(0,o.Z)(e,Wh),M=Xh[y],E=(0,f.useThree)((function(e){return e.camera})),C=(0,f.useThree)((function(e){return e.controls})),S=u.useRef(null),T=u.useRef(null),k=u.useState({radius:0,width:0,height:0}),B=(0,i.Z)(k,2),P=B[0],L=P.radius,D=P.width,R=P.height,F=B[1];return u.useLayoutEffect((function(){S.current.position.set(0,0,0),S.current.updateWorldMatrix(!0,!0);var e=(new l.Box3).setFromObject(T.current),t=new l.Vector3,n=new l.Sphere,r=e.max.y-e.min.y,a=e.max.x-e.min.x;e.getCenter(t),e.getBoundingSphere(n),F({radius:n.radius,width:a,height:r}),S.current.position.set(-t.x,-t.y+r/2,-t.z)}),[t]),u.useLayoutEffect((function(){if(d){var e=L/(R>D?1.5:2.5);E.position.set(0,.5*L,2.5*L),E.near=.1,E.far=Math.max(5e3,4*L),E.lookAt(0,e,0);var t=C||(null==n?void 0:n.current);t&&(t.target.set(0,e,0),t.update())}}),[C,L,R,D,d]),u.createElement("group",A,u.createElement("group",{ref:S},u.createElement("group",{ref:T},t)),x&&u.createElement(jh,s({width:2*L,height:2*L,far:L/2},x)),p&&u.createElement(Nh,{preset:p}),u.createElement("ambientLight",{intensity:m/3}),u.createElement("spotLight",{penumbra:1,position:[M.main[0]*L,M.main[1]*L,M.main[2]*L],intensity:2*m,castShadow:a,"shadow-bias":b}),u.createElement("pointLight",{position:[M.fill[0]*L,M.fill[1]*L,M.fill[2]*L],intensity:m}))}var Yh=["children","floor","segments","receiveShadow"],Qh=function(e){return 0===e?0:Math.pow(2,10*e-10)};function Kh(e){var t=e.children,n=e.floor,r=void 0===n?.25:n,a=e.segments,i=void 0===a?20:a,s=e.receiveShadow,c=(0,o.Z)(e,Yh),l=u.useRef(null);return u.useLayoutEffect((function(){for(var e=0,t=i/i/2,n=l.current.attributes.position,a=0;a<i+1;a++)for(var o=0;o<i+1;o++)n.setXYZ(e++,a/i-t+(0===a?-r:0),o/i-t,Qh(a/i));n.needsUpdate=!0,l.current.computeVertexNormals()}),[i,r]),u.createElement("group",c,u.createElement("mesh",{receiveShadow:s,rotation:[-Math.PI/2,0,Math.PI/2]},u.createElement("planeGeometry",{ref:l,args:[1,1,i,i]}),t))}var Jh=["fog","colorStop","color","opacity"],$h=u.forwardRef((function(e,t){var n=e.fog,r=void 0!==n&&n,a=e.colorStop,i=void 0===a?0:a,c=e.color,f=void 0===c?"black":c,d=e.opacity,h=void 0===d?.5:d,p=(0,o.Z)(e,Jh),v=u.useMemo((function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d"),n=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return n.addColorStop(i,new l.Color(f).getStyle()),n.addColorStop(1,"rgba(0,0,0,0)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),e}),[f,i]);return u.createElement("mesh",s({ref:t},p),u.createElement("planeBufferGeometry",{attach:"geometry",args:[1,1]}),u.createElement("meshBasicMaterial",{attach:"material",transparent:!0,opacity:h,fog:r},u.createElement("canvasTexture",{attach:"map",args:[v]})))})),ep=["mixBlur","mixStrength","resolution","blur","args","minDepthThreshold","maxDepthThreshold","depthScale","depthToBlurRatioBias","mirror","children","debug","distortion","mixContrast","distortionMap"];(0,f.extend)({MeshReflectorMaterial:Qd});var tp=u.forwardRef((function(e,t){var n=e.mixBlur,r=void 0===n?0:n,a=e.mixStrength,c=void 0===a?.5:a,d=e.resolution,h=void 0===d?256:d,p=e.blur,v=void 0===p?[0,0]:p,m=e.args,g=void 0===m?[1,1]:m,y=e.minDepthThreshold,_=void 0===y?.9:y,b=e.maxDepthThreshold,w=void 0===b?1:b,x=e.depthScale,A=void 0===x?0:x,M=e.depthToBlurRatioBias,E=void 0===M?.25:M,C=e.mirror,S=void 0===C?0:C,T=e.children,k=e.debug,B=void 0===k?0:k,P=e.distortion,D=void 0===P?1:P,R=e.mixContrast,F=void 0===R?1:R,I=e.distortionMap,O=(0,o.Z)(e,ep);u.useEffect((function(){console.warn("Reflector has been deprecated and will be removed next major. Replace it with <MeshReflectorMaterial />!")}),[]);var z=(0,f.useThree)((function(e){return e.gl})),Z=(0,f.useThree)((function(e){return e.camera})),U=(0,f.useThree)((function(e){return e.scene})),N=(v=Array.isArray(v)?v:[v,v])[0]+v[1]>0,G=u.useRef(null),H=u.useState((function(){return new l.Plane})),V=(0,i.Z)(H,1)[0],j=u.useState((function(){return new l.Vector3})),W=(0,i.Z)(j,1)[0],X=u.useState((function(){return new l.Vector3})),q=(0,i.Z)(X,1)[0],Y=u.useState((function(){return new l.Vector3})),Q=(0,i.Z)(Y,1)[0],K=u.useState((function(){return new l.Matrix4})),J=(0,i.Z)(K,1)[0],$=u.useState((function(){return new l.Vector3(0,0,-1)})),ee=(0,i.Z)($,1)[0],te=u.useState((function(){return new l.Vector4})),ne=(0,i.Z)(te,1)[0],re=u.useState((function(){return new l.Vector3})),ae=(0,i.Z)(re,1)[0],ie=u.useState((function(){return new l.Vector3})),oe=(0,i.Z)(ie,1)[0],se=u.useState((function(){return new l.Vector4})),ue=(0,i.Z)(se,1)[0],ce=u.useState((function(){return new l.Matrix4})),le=(0,i.Z)(ce,1)[0],fe=u.useState((function(){return new l.PerspectiveCamera})),de=(0,i.Z)(fe,1)[0],he=u.useCallback((function(){if(q.setFromMatrixPosition(G.current.matrixWorld),Q.setFromMatrixPosition(Z.matrixWorld),J.extractRotation(G.current.matrixWorld),W.set(0,0,1),W.applyMatrix4(J),ae.subVectors(q,Q),!(ae.dot(W)>0)){ae.reflect(W).negate(),ae.add(q),J.extractRotation(Z.matrixWorld),ee.set(0,0,-1),ee.applyMatrix4(J),ee.add(Q),oe.subVectors(q,ee),oe.reflect(W).negate(),oe.add(q),de.position.copy(ae),de.up.set(0,1,0),de.up.applyMatrix4(J),de.up.reflect(W),de.lookAt(oe),de.far=Z.far,de.updateMatrixWorld(),de.projectionMatrix.copy(Z.projectionMatrix),le.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),le.multiply(de.projectionMatrix),le.multiply(de.matrixWorldInverse),le.multiply(G.current.matrixWorld),V.setFromNormalAndCoplanarPoint(W,q),V.applyMatrix4(de.matrixWorldInverse),ne.set(V.normal.x,V.normal.y,V.normal.z,V.constant);var e=de.projectionMatrix;ue.x=(Math.sign(ne.x)+e.elements[8])/e.elements[0],ue.y=(Math.sign(ne.y)+e.elements[9])/e.elements[5],ue.z=-1,ue.w=(1+e.elements[10])/e.elements[14],ne.multiplyScalar(2/ne.dot(ue)),e.elements[2]=ne.x,e.elements[6]=ne.y,e.elements[10]=ne.z+1,e.elements[14]=ne.w}}),[]),pe=u.useMemo((function(){var e={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:z.outputEncoding},t=new l.WebGLRenderTarget(h,h,e);t.depthBuffer=!0,t.depthTexture=new l.DepthTexture(h,h),t.depthTexture.format=l.DepthFormat,t.depthTexture.type=l.UnsignedShortType;var n=new l.WebGLRenderTarget(h,h,e);return[t,n,new Yd({gl:z,resolution:h,width:v[0],height:v[1],minDepthThreshold:_,maxDepthThreshold:w,depthScale:A,depthToBlurRatioBias:E}),{mirror:S,textureMatrix:le,mixBlur:r,tDiffuse:t.texture,tDepth:t.depthTexture,tDiffuseBlur:n.texture,hasBlur:N,mixStrength:c,minDepthThreshold:_,maxDepthThreshold:w,depthScale:A,depthToBlurRatioBias:E,transparent:!0,debug:B,distortion:D,distortionMap:I,mixContrast:F,"defines-USE_BLUR":N?"":void 0,"defines-USE_DEPTH":A>0?"":void 0,"defines-USE_DISTORTION":I?"":void 0}]}),[z,v,le,h,S,N,r,c,_,w,A,E,B,D,I,F]),ve=(0,i.Z)(pe,4),me=ve[0],ge=ve[1],ye=ve[2],_e=ve[3];return(0,f.useFrame)((function(){if(null!=G&&G.current){G.current.visible=!1;var e=z.xr.enabled,t=z.shadowMap.autoUpdate;he(),z.xr.enabled=!1,z.shadowMap.autoUpdate=!1,z.setRenderTarget(me),z.state.buffers.depth.setMask(!0),z.autoClear||z.clear(),z.render(U,de),N&&ye.render(z,me,ge),z.xr.enabled=e,z.shadowMap.autoUpdate=t,G.current.visible=!0,z.setRenderTarget(null)}})),u.createElement("mesh",s({ref:(0,L.default)([G,t])},O),u.createElement("planeBufferGeometry",{args:g}),T?T("meshReflectorMaterial",_e):u.createElement("meshReflectorMaterial",_e))})),np=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){return(0,K.Z)(this,n),t.call(this,{uniforms:{depth:{value:null},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new l.Vector3(0,0,0)},lightColor:{value:new l.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new l.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n\n      void main() {\n        // compute intensity\n        vNormal = normalize( normalMatrix * normal );\n        vec4 worldPosition\t= modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n        vec4 viewPosition = viewMatrix * worldPosition;\n        vViewZ = viewPosition.z;\n        float intensity\t= distance(worldPosition.xyz, spotPosition) / attenuation;\n        intensity\t= 1.0 - clamp(intensity, 0.0, 1.0);\n        vIntensity = intensity;        \n        // set gl_Position\n        gl_Position\t= projectionMatrix * viewPosition;\n\n      }",fragmentShader:"\n      #include <packing>\n\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      uniform vec3 lightColor;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n      uniform float anglePower;\n      uniform sampler2D depth;\n      uniform vec2 resolution;\n      uniform float cameraNear;\n      uniform float cameraFar;\n      varying float vViewZ;\n      varying float vIntensity;\n\n      float readDepth( sampler2D depthSampler, vec2 coord ) {\n        float fragCoordZ = texture2D( depthSampler, coord ).x;\n        float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n        return viewZ;\n      }\n\n      void main() {\n        float d = 1.0;\n        bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n        if (isSoft) {\n          vec2 sUv = gl_FragCoord.xy / resolution;\n          d = readDepth(depth, sUv);\n        }\n        float intensity = vIntensity;\n        vec3 normal\t= vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n        float angleIntensity\t= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );\n        intensity\t*= angleIntensity;\n        // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n        if (isSoft) {\n          intensity\t*= smoothstep(0., 1., vViewZ - d);\n        }\n        gl_FragColor = vec4(lightColor, intensity);\n      }"})}return(0,Q.Z)(n)}(l.ShaderMaterial),rp=["depthBuffer","color","distance","angle","attenuation","anglePower"],ap=new l.Vector3,ip=u.forwardRef((function(e,t){var n=e.depthBuffer,r=e.color,a=void 0===r?"white":r,c=e.distance,d=void 0===c?5:c,h=e.angle,p=void 0===h?.15:h,v=e.attenuation,m=void 0===v?5:v,g=e.anglePower,y=void 0===g?5:g,_=(0,o.Z)(e,rp),b=u.useRef(null),w=(0,f.useThree)((function(e){return e.size})),x=(0,f.useThree)((function(e){return e.camera})),A=(0,f.useThree)((function(e){return e.viewport.dpr})),M=u.useState((function(){return new np})),E=(0,i.Z)(M,1)[0];(0,f.useFrame)((function(){E.uniforms.spotPosition.value.copy(b.current.getWorldPosition(ap)),b.current.lookAt(b.current.parent.target.getWorldPosition(ap))}));var C=u.useMemo((function(){var e=new l.CylinderGeometry(.1,7*p,d,128,64,!0);return e.applyMatrix4((new l.Matrix4).makeTranslation(0,-d/2,0)),e.applyMatrix4((new l.Matrix4).makeRotationX(-Math.PI/2)),e}),[p,d]);return u.createElement("spotLight",s({ref:t,angle:p,color:a,distance:d},_),u.createElement("mesh",{ref:b,geometry:C},u.createElement("primitive",{object:E,attach:"material","uniforms-lightColor-value":a,"uniforms-attenuation-value":m,"uniforms-anglePower-value":y,"uniforms-depth-value":n,"uniforms-cameraNear-value":x.near,"uniforms-cameraFar-value":x.far,"uniforms-resolution-value":n?[w.width*A,w.height*A]:[0,0]})))})),op=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){return(0,K.Z)(this,n),t.call(this,new l.BoxGeometry(1,1,1),n.material)}return(0,Q.Z)(n)}(l.Mesh);(0,Lr.Z)(op,"SkyShader",{uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new l.Vector3},up:{value:new l.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")}),(0,Lr.Z)(op,"material",new l.ShaderMaterial({name:"SkyShader",fragmentShader:op.SkyShader.fragmentShader,vertexShader:op.SkyShader.vertexShader,uniforms:l.UniformsUtils.clone(op.SkyShader.uniforms),side:l.BackSide,depthWrite:!1}));var sp=["inclination","azimuth","distance","mieCoefficient","mieDirectionalG","rayleigh","turbidity","sunPosition"];function up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l.Vector3,r=Math.PI*(e-.5),a=2*Math.PI*(t-.5);return n.x=Math.cos(a),n.y=Math.sin(r),n.z=Math.sin(a),n}var cp=u.forwardRef((function(e,t){var n=e.inclination,r=void 0===n?.6:n,a=e.azimuth,c=void 0===a?.1:a,f=e.distance,d=void 0===f?1e3:f,h=e.mieCoefficient,p=void 0===h?.005:h,v=e.mieDirectionalG,m=void 0===v?.8:v,g=e.rayleigh,y=void 0===g?.5:g,_=e.turbidity,b=void 0===_?10:_,w=e.sunPosition,x=void 0===w?up(r,c):w,A=(0,o.Z)(e,sp),M=u.useMemo((function(){return(new l.Vector3).setScalar(d)}),[d]),E=u.useState((function(){return new op})),C=(0,i.Z)(E,1)[0];return u.createElement("primitive",s({dispose:void 0,object:C,ref:t,"material-uniforms-mieCoefficient-value":p,"material-uniforms-mieDirectionalG-value":m,"material-uniforms-rayleigh-value":y,"material-uniforms-sunPosition-value":x,"material-uniforms-turbidity-value":b,scale:M},A))})),lp=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){return(0,K.Z)(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}return(0,Q.Z)(n)}(l.ShaderMaterial),fp=function(e){return(new l.Vector3).setFromSpherical(new l.Spherical(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI))},dp=u.forwardRef((function(e,t){var n=e.radius,r=void 0===n?100:n,a=e.depth,o=void 0===a?50:a,s=e.count,c=void 0===s?5e3:s,d=e.saturation,h=void 0===d?0:d,p=e.factor,v=void 0===p?4:p,m=e.fade,g=void 0!==m&&m,y=u.useRef(),_=u.useMemo((function(){for(var e=[],t=[],n=Array.from({length:c},(function(){return(.5+.5*Math.random())*v})),a=new l.Color,i=r+o,s=o/c,u=0;u<c;u++)i-=s*Math.random(),e.push.apply(e,(0,A.Z)(fp(i).toArray())),a.setHSL(u/c,h,.9),t.push(a.r,a.g,a.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(n)]}),[c,o,v,r,h]),b=(0,i.Z)(_,3),w=b[0],x=b[1],M=b[2];(0,f.useFrame)((function(e){return y.current&&(y.current.uniforms.time.value=e.clock.getElapsedTime())}));var E=u.useState((function(){return new lp})),C=(0,i.Z)(E,1)[0];return u.createElement("points",{ref:t},u.createElement("bufferGeometry",{attach:"geometry"},u.createElement("bufferAttribute",{attachObject:["attributes","position"],args:[w,3]}),u.createElement("bufferAttribute",{attachObject:["attributes","color"],args:[x,3]}),u.createElement("bufferAttribute",{attachObject:["attributes","size"],args:[M,1]})),u.createElement("primitive",{dispose:void 0,ref:y,object:C,attach:"material",blending:l.AdditiveBlending,"uniforms-fade-value":g,transparent:!0,vertexColors:!0}))})),hp=["opacity","speed","width","depth","segments"];function pp(e){var t=e.opacity,n=void 0===t?.5:t,r=e.speed,a=void 0===r?.4:r,i=e.width,s=void 0===i?10:i,c=e.depth,l=void 0===c?1.5:c,d=e.segments,h=void 0===d?20:d,p=(0,o.Z)(e,hp),v=u.useRef(),m=Po("data:image/png;base64,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"),g=u.useMemo((function(){return(0,A.Z)(new Array(h)).map((function(e,t){return{x:s/2-Math.random()*s,y:s/2-Math.random()*s,scale:.4+Math.sin((t+1)/h*Math.PI)*(10*(.2+Math.random())),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*a}}))}),[s,h,a]);return(0,f.useFrame)((function(e){var t;return null==(t=v.current)?void 0:t.children.forEach((function(t,n){t.children[0].rotation.z+=g[n].rotation,t.children[0].scale.setScalar(g[n].scale+(1+Math.sin(e.clock.getElapsedTime()/10))/2*n/10)}))})),u.createElement("group",p,u.createElement("group",{position:[0,0,h/2*l],ref:v},g.map((function(e,t){var r=e.x,a=e.y,i=e.scale,o=e.density;return u.createElement(ei,{key:t,position:[r,a,-t*l]},u.createElement(lh,{scale:i,rotation:[0,0,0]},u.createElement("meshStandardMaterial",{map:m,transparent:!0,opacity:i/6*o*n,depthTest:!1})))}))))}var vp={0:"0404E8_0404B5_0404CB_3333FC",1:"045C5C_0DBDBD_049393_04A4A4",2:"046363_0CC3C3_049B9B_04ACAC",3:"0489C5_0DDDF9_04C3EE_04AFE1",4:"04989A_0CE3E4_04D2D5_04C7C8",5:"04C455_0EFABC_04F097_04E17A",6:"04CC77_0CF7CA_04E9A7_04AB54",7:"04E804_04B504_04CB04_33FC33",8:"04E8E8_04B5B5_04CCCC_33FCFC",9:"050505_747474_4C4C4C_333333",10:"070B0C_B2C7CE_728FA3_5B748B",11:"090909_9C9C9C_555555_7C7C7C",12:"0A0A0A_A9A9A9_525252_747474",13:"0C0CC3_04049F_040483_04045C",14:"0C430C_257D25_439A43_3C683C",15:"0D0DBD_040497_04047B_040455",16:"0D0DE3_040486_0404AF_0404CF",17:"0DBD0D_049704_047B04_045504",18:"0F0F0F_4B4B4B_1C1C1C_2C2C2C",19:"0F990F_047B04_044604_046704",20:"15100F_241D1B_292424_2C2C27",21:"161B1F_C7E0EC_90A5B3_7B8C9B",22:"167E76_36D6D2_23B2AC_27C1BE",23:"17395A_7EBCC7_4D8B9F_65A1B5",24:"181F1F_475057_616566_525C62",25:"191514_6D5145_4E3324_3B564D",26:"1A2461_3D70DB_2C3C8F_2C6CAC",27:"1B1B1B_515151_7E7E7E_6C6C6C",28:"1B1B1B_999999_575757_747474",29:"1B1C19_5F615D_4B4E4C_3F403D",30:"1C1810_352F23_2B2C1C_2B2C24",31:"1C70C6_09294C_0F3F73_52B3F6",32:"1D2424_565F66_4E555A_646C6E",33:"1D2A21_43443B_655B54_545C54",34:"1D3FCC_051B5F_81A0F2_5579E9",35:"221917_928380_5F504D_7C746C",36:"232014_908B78_5E5743_747460",37:"242733_333A4D_3E4554_3C3B43",38:"245642_3D8168_3D6858_417364",39:"253C3C_528181_406C6C_385F5F",40:"254FB0_99AFF0_6587D8_1D3279",41:"27222B_677491_484F6A_5D657A",42:"281813_604233_4B3426_442B22",43:"28292A_D3DAE5_A3ACB8_818183",44:"291912_473531_3C2C25_3A2424",45:"293534_B2BFC5_738289_8A9AA7",46:"293D21_ABC692_73B255_667C5C",47:"2A2A2A_B3B3B3_6D6D6D_848C8C",48:"2A2A2A_DBDBDB_6A6A6A_949494",49:"2A2D21_555742_898974_6C745B",50:"2A4BA7_1B2D44_1F3768_233C81",51:"2A6276_041218_739BA6_042941",52:"2B2828_7B796F_534F4A_616464",53:"2B2B22_3C3C30_464538_121210",54:"2D2D2A_74716E_8F8C8C_92958E",55:"2D2D2F_C6C2C5_727176_94949B",56:"2D8753_5CD6A5_45BB82_4CC494",57:"2E2E2D_7D7C76_A3A39F_949C94",58:"2E763A_78A0B7_B3D1CF_14F209",59:"2EAC9E_61EBE3_4DDDD1_43D1C6",60:"2F2FAA_1E1E87_10104E_1C1C70",61:"2F3747_6A7C9E_54637F_62748B",62:"300706_888576_822821_876E79",63:"302721_CAC1BB_7A706A_91959B",64:"304FB1_69A1EF_5081DF_5C8CE6",65:"312C34_A2AAB3_61656A_808494",66:"312D20_80675C_8B8C8B_85848C",67:"313131_BBBBBB_878787_A3A4A4",68:"320455_720DBE_560496_47047B",69:"32201D_613C3C_563533_8C655F",70:"32302B_4C4842_121211_1C1C14",71:"323C4D_B79039_7C6A44_605C48",72:"326666_66CBC9_C0B8AE_52B3B4",73:"331A0B_B17038_7D4E28_5B351A",74:"336EB3_152578_A4C5E2_74AED9",75:"34352A_718184_50605E_6E6761",76:"346088_6ABED7_56A0C5_4E91B8",77:"34A09C_6EE5E3_5CD7D3_4EC9C6",78:"34AB94_36DFC1_19F9EB_6C6E62",79:"353535_CFCFCF_828282_A4A4A4",80:"36220C_C6C391_8C844A_8B7B4C",81:"36312E_726461_59504D_645C5C",82:"365123_C6E5A3_A8D18D_8EB16C",83:"36C8FA_176ACB_24A7EF_1D93EC",84:"37C337_279F27_186018_248824",85:"385264_A1D3E2_86ADC1_6E94A8",86:"385862_6D8B8D_647B80_1A2E2F",87:"386169_A9CFDB_153C23_7CA3AC",88:"38925D_142B23_1D4835_2A6449",89:"392307_B3AE7D_6D5618_847C42",90:"39433A_65866E_86BF8B_BFF8D8",91:"394641_B1A67E_75BEBE_7D7256",92:"3A2412_A78B5F_705434_836C47",93:"3A3329_C9B090_928069_A9957A",94:"3A3D37_7E7F75_BCBFB6_9C9C94",95:"3B3B3B_C7C7C7_878787_A4A4A4",96:"3B3C3F_DAD9D5_929290_ABACA8",97:"3B4235_7B9395_5B716C_70847B",98:"3B6E10_E3F2C3_88AC2E_99CE51",99:"3D1F12_653821_070404_22130B",100:"3E2335_D36A1B_8E4A2E_2842A5",101:"3E3D39_D6CEAF_91BAC1_897966",102:"3E3E36_72726D_63645D_0E0F0C",103:"3E3E3E_AEAEAE_848484_777777",104:"3E95CC_65D9F1_A2E2F6_679BD4",105:"3F3A2F_91D0A5_7D876A_94977B",106:"3F3D52_CCCED9_AFB0C6_8D8CAC",107:"3F4441_D1D7D6_888F87_A2ADA1",108:"403A34_B0936E_7F979C_7E6956",109:"415325_83A24E_678239_748C3C",110:"416BA7_A5B8D0_0D2549_65ABEB",111:"422509_C89536_824512_0A0604",112:"422A1E_716767_685D59_5E4F4A",113:"424244_BDBBBE_8A898E_A3A4A9",114:"425F84_1C2939_2A3F57_24344C",115:"430404_BD9295_7E1E21_94544C",116:"432322_5E3839_170C0B_543433",117:"433D3F_A58D7D_786760_8C7C6D",118:"434240_D3D3CF_898784_A4A49F",119:"434343_9E9E9E_8C8C8C_848484",120:"434C32_62704C_546244_2F3220",121:"442C27_A79E90_847066_8D837C",122:"447072_8ACACB_65A4A5_74B3B3",123:"45432C_808361_B8C8BC_A5A27A",124:"454447_908E9A_181716_7C7C7B",125:"456A73_779B9E_173A46_154C5D",126:"463F37_ACCFBB_818B78_91A494",127:"464445_D2D0CB_919196_A8ADB0",128:"464543_D1CFC1_8E8C83_A4AC9C",129:"46804D_CBE9AC_90B57C_95D38F",130:"468126_C1DDB5_8AC460_A1D07C",131:"47392E_997E69_7C6553_8B745F",132:"474444_7B7575_9E9899_8C8C8B",133:"474643_696F7D_A9ABB8_8B8C93",134:"474843_CECEC4_898883_A3A3A4",135:"48270F_C4723B_9B5728_7B431B",136:"482908_894E0D_FBDB52_CA7420",137:"487FC9_A8E7F8_88CCF2_70AFDE",138:"489B7A_A0E7D9_6DC5AC_87DAC7",139:"48C381_226640_369F64_3CAC74",140:"49200B_C6926C_9C642B_A45C26",141:"495CA6_CCD2E6_A5B1D8_1E2852",142:"495E48_0D100D_9D9C87_9ECC9C",143:"496DBA_94C9F2_72A7E2_84B4EC",144:"4A6442_D0AB75_81CD94_181B12",145:"4B362C_715A4F_211913_644C44",146:"4B4A3A_94A3A4_68766F_988475",147:"4B5455_BBBFC4_97A0A6_838C90",148:"4C240E_A5613B_895134_734C44",149:"4C342A_7B584B_271912_6B4C44",150:"4C462E_6D876C_9AAC8F_9AABA6",151:"4C4C4C_D2D2D2_8F8F8F_ACACAC",152:"4D595E_858D87_596F84_748480",153:"4E4C42_B8C4C5_898E89_A3ACA4",154:"4E4D40_979786_AEAEA1_878678",155:"4E5150_9FA3A3_848C8A_82848C",156:"4F251B_381710_43241B_602F23",157:"4F439F_A28BE5_8570D6_7765C9",158:"4F4742_B7B1AA_847E79_969294",159:"4F4C45_A7AEAA_7A8575_9D97A2",160:"4F4F4F_9C9C9C_121212_7C7C7C",161:"4F4F4F_A1A1A1_8C8C8C_848484",162:"4F5246_8C8D84_7B7C74_131611",163:"4FE34F_2BB02B_3CD03C_1C861C",164:"50332C_D98D79_955F52_AA7C6C",165:"503522_C38254_9F6B45_845838",166:"504D3C_979C9D_81837D_9C998A",167:"513A11_CDBEB5_C8811C_9A733F",168:"51462B_DFCA7E_948050_A49874",169:"515151_DCDCDC_B7B7B7_9B9B9B",170:"515341_9A9C86_16180D_838474",171:"517919_659623_34460C_3E5813",172:"519C8D_83DAC7_9DEDE0_2B5B4C",173:"522221_91343B_7F6F6B_744960",174:"522A1A_94543A_C3896F_AB7D66",175:"525050_D4D3D3_959393_ACACAC",176:"533B33_AF9998_866965_9C7E7B",177:"535A2F_CDCA91_91915B_A4AC6F",178:"535F6B_A6BDC8_8FA3B4_7F91A2",179:"537387_75BBB9_152E5B_0E85E8",180:"54584E_B1BAC5_818B91_A7ACA3",181:"545B4D_D8DDC8_A0A792_B2C1A3",182:"54C104_BBFA0F_97EF04_7AE104",183:"55382F_78554E_271A16_6C4C44",184:"555555_C8C8C8_8B8B8B_A4A4A4",185:"556F42_112817_81927F_223E24",186:"55C404_BCFA0E_97F004_7AE104",187:"562D2A_2E1615_7E4945_703C3C",188:"56352F_1E110F_311C19_3C231C",189:"57553F_C6C3AF_8C8768_868C8C",190:"57583E_969788_292920_848474",191:"579241_B5D25D_0E1D2D_97C284",192:"582410_83381A_1F0C04_30140A",193:"583629_2E1810_765648_3C1C14",194:"584F3A_BEC3BD_C5A57D_A39073",195:"586A51_CCD5AA_8C9675_8DBBB7",196:"593E2C_E5D8A9_BC9F79_9F8A68",197:"595356_CDBFC6_AA9DA3_BBB3BC",198:"59554F_171716_847C74_2C2C24",199:"596773_B3C6CE_98AFB9_879AA8",200:"597C3F_254319_6C9668_7C9B53",201:"5A492B_DEC583_987D4D_AC9C74",202:"5A643B_454D2C_393F25_202315",203:"5B4CBC_B59AF2_9B84EB_8F78E4",204:"5B5428_C5A052_A28B46_ADA752",205:"5B574E_586967_807C6F_6A746C",206:"5C045C_BD0DBD_930493_A404A4",207:"5C2E0C_C36924_9F4F14_834114",208:"5C4E41_CCCDD6_9B979B_B1AFB0",209:"5C5743_262418_393727_342C20",210:"5C5C04_BDBD0D_939304_A4A404",211:"5C5C5C_A2A2A2_8C8C8C_848484",212:"5D5854_1A1714_373330_2C2424",213:"5D5D5D_CDCDCD_232323_ACACAC",214:"5D5E5A_A1A29B_2A2927_8B948C",215:"5E423A_8C6E69_382416_745D64",216:"5E5049_CDC2BE_9C8E88_B7ACA4",217:"5E5855_C6C4CD_C89B67_8F8E98",218:"5E5F62_A7B2BE_211C17_939CA3",219:"5ECBA4_BCFAE7_92EED0_A1F4DC",220:"5F1827_9B4A60_1F0404_340406",221:"5F4C4B_A07C7D_A8AFBF_868185",222:"5F4F50_A18E8E_8C7C7B_211A1A",223:"5F5F5F_BDBDBD_A4A4A4_9C9C9C",224:"604A30_DC9065_212C14_AC9C92",225:"60534A_211813_9B948E_8E837D",226:"605352_E9CCC5_C7A8A3_A89291",227:"606857_9BA894_8C9C83_8C9483",228:"613F04_D68C04_A45F04_1F0F04",229:"61583E_252314_928972_342C1C",230:"617586_23304C_1B1E30_4988CF",231:"622F19_885934_9A7748_94603A",232:"623622_A1756F_986353_89645B",233:"624541_FCD0C6_E4A19A_FCBCB4",234:"626262_9E9E9E_848484_262626",235:"626262_A8A8A8_949494_1F1F1F",236:"626A57_3B3F33_7D8973_444C3C",237:"626D5C_B8C2BB_1B230F_A4ACA3",238:"627D72_A6CAAA_202C28_B4D4B4",239:"630463_C30CC3_9B049B_AC04AC",240:"63533B_AA9472_1C1108_9B8C68",241:"63584B_E6E0D6_A8A092_BFB6A8",242:"635D52_A9BCC0_B1AEA0_819598",243:"636363_AAAAAA_949494_252525",244:"636D6C_D4E7ED_ABBCC4_9BA4A8",245:"637598_B7C4D3_22293A_9BACBF",246:"64554D_D1C9C1_ABADA0_0E0C0A",247:"64686F_BDC0C4_161718_A4A7AB",248:"647171_1F3349_2A475C_87A5AD",249:"647686_23292E_333C44_404B55",250:"656662_9B9B99_393B31_8B8C8C",251:"657274_2A2F30_A0A7B0_363C44",252:"65A0BA_C3E4F1_A7D5E6_97CADF",253:"65A0C7_C3E4F8_A7D5EF_97CAE9",254:"660505_F2B090_DD4D37_AA1914",255:"66605E_939198_2E261F_3C332A",256:"666864_B3B4AB_2F2F2C_9CA49B",257:"673B2A_99735C_99593A_3A160E",258:"677E93_36444D_99A9BA_435464",259:"678E67_C4D9C4_ACC8AC_98B898",260:"68049F_C90DE6_A404CF_B304DC",261:"683F2D_9F736D_431D06_966152",262:"68493E_B2AAA9_978C8C_130907",263:"684C40_776E69_9B7765_758D96",264:"685B57_BEB1B1_9B99A4_1E1D1D",265:"686464_CCCAC7_A4A19F_BCB4B4",266:"686B73_2A2B2D_D5D9DD_B0B3BC",267:"686E55_353C2F_869B7F_444434",268:"696347_98B0A2_28261E_362B22",269:"696969_A0A0A0_949494_8C8C8C",270:"6A3C15_EFC898_D59D59_B38346",271:"6A5338_1C120B_C5975F_96886C",272:"6A8287_405153_839EBE_424C5C",273:"6B3822_A65D48_824E48_401E0C",274:"6BBD6B_C8F3C8_A3E2A3_B4ECB4",275:"6C52AA_C9A6EA_A681D6_B494E2",276:"6C5DC3_352D66_5C4CAB_544CA5",277:"6C6F76_CBD1D7_B2BDC7_A6B0BF",278:"6C8996_14223F_B9DEDD_2E445C",279:"6D1616_E6CDBA_DE2B24_230F0F",280:"6D3B1C_895638_502A0D_844C31",281:"6D6050_C8C2B9_A2998E_B4AA9F",282:"6D6D6D_3E3E3E_C0C0C0_949494",283:"6E2E36_D3A1A0_BD7175_C78C8B",284:"6E5137_E8CA90_271912_B99C74",285:"6E524D_8496C5_AF6624_100B11",286:"6E6D69_D0ECE9_AAC7C6_200C0C",287:"6E7181_D1CFDF_ABAFC7_B4BCCE",288:"6E8C48_B8CDA7_344018_A8BC94",289:"6EC66E_C9F8C9_A3E8A3_B4F1B4",290:"6F503E_D59A70_221812_B0A899",291:"705B4B_312821_AF927B_44342C",292:"706962_24211E_BCB6AF_ACA494",293:"713A28_A87661_3A160D_9B6454",294:"714C30_EAD7C5_CC9265_E2B48F",295:"716049_D1C8B9_3F160C_BAA6A9",296:"71623B_ECDE8C_30250A_ABA69A",297:"72625B_F0DFD0_D9BAA5_C3A595",298:"726F5B_A09C88_8B8C7B_94907C",299:"727167_2F2F2B_A3A6A2_44443C",300:"728473_534C40_7BCEC8_7BB9B6",301:"736655_D9D8D5_2F281F_B1AEAB",302:"745359_BFAEA8_9B8384_AC9392",303:"746761_291C19_AB9385_3C2B27",304:"747A6F_292E2A_ACA79F_45453B",305:"74A192_041B0D_194C33_235B4C",306:"75322B_96463F_51201A_3D1814",307:"75723E_C0C3A0_2A1E0E_AFAE77",308:"75746F_333330_A2A1A9_444444",309:"758391_BAC2CA_435263_A1ACBC",310:"763B28_D0BDB8_ADA39E_1E1D1D",311:"763C39_431510_210504_55241C",312:"764739_D0917B_2A1611_B37C68",313:"765938_1F1009_A59C7C_C9A382",314:"766554_C1BEBB_2A1A0E_B4ABAC",315:"76787C_2F3031_A5A9B8_444446",316:"767989_323437_B6C4EE_343C44",317:"771A1F_D2939E_B6595D_9D4B54",318:"773012_AE5124_4D1908_340F04",319:"776045_D2CCC3_281910_BBB5AA",320:"776A5C_BA9A89_302C26_443C34",321:"776C62_292622_474039_3C342C",322:"777C61_333727_BABFA1_A5AC8C",323:"777D7D_BDCAD2_3E3C2E_B1B8B6",324:"787165_DAD9CD_9DC0CE_36302A",325:"7877EE_D87FC5_75D9C7_1C78C0",326:"794E40_361612_4C2A21_441B1B",327:"795038_C2856B_533320_AC7C61",328:"796D6B_DED3CB_C6BAB1_ADA09B",329:"796F52_36413A_C9B48C_B6A77F",330:"797367_302E29_ABA3A0_443C35",331:"7A6959_2D271D_C1B5A9_B4A393",332:"7A736F_463F33_575046_4B463D",333:"7A7A7A_D0D0D0_BCBCBC_B4B4B4",334:"7A7A7A_D9D9D9_BCBCBC_B4B4B4",335:"7A7C63_625531_665B3F_5B4B29",336:"7A9196_485C64_425459_C1E4E7",337:"7B5254_E9DCC7_B19986_C8AC91",338:"7B6857_383028_BCA38F_4C3C34",339:"7B6E5B_C5CACC_B1B2AE_322415",340:"7B7E82_343536_A0B1C8_44444C",341:"7C584C_27140D_B3765C_3D2318",342:"7C7C71_353630_ADAFAF_444444",343:"7D6651_F8E3BF_CEA987_E7C29C",344:"7D7673_353230_AEA7B0_4C4444",345:"7DA1BA_A4CCE8_5D7A8B_5E7C94",346:"7E5344_22120E_CCAB9C_8D919D",347:"7E5E57_AD9794_612D1D_C9997D",348:"7E8174_39444D_CECAA7_B3B49B",349:"7F5134_22120A_452110_9F7D5F",350:"7F8896_3B3936_BBCFE9_4B4B4D",351:"803537_310F10_C35A5D_D89093",352:"807068_C3B0AB_443E3B_AC9C94",353:"80726C_DCDBD7_9AA6C2_B7BFCA",354:"808A5B_E0E1D4_2C4304_C5C7B0",355:"80A6B4_D5E9EF_B2D0D9_C1DCE4",356:"80CA23_B7EE37_D5FA4C_A3E434",357:"812828_521818_C94141_AB3737",358:"812E39_551C24_381117_9E3C49",359:"815C41_F6C99A_D39F77_BB9474",360:"815F54_DECBC6_301813_C5A8A0",361:"8194AB_D6DFEB_C0CEDE_B0BFD1",362:"81ADB3_D6ECEE_BFDEE1_AFD1D7",363:"81BABA_D5F3F3_BBE4E4_ABDCDC",364:"825C4D_A08175_97746C_613B2F",365:"826A59_E0C9B9_CBAD99_3D2615",366:"827C87_4F3937_605457_534C4E",367:"834741_4C281D_BE8F8C_AE6A65",368:"835984_39273A_4C334C_593D5A",369:"837667_DCD4C8_C5BAAC_3C2E22",370:"846556_503E33_61493D_5C4434",371:"848679_363630_AABBB7_4B4B44",372:"855D08_DAC31B_BF9B0C_AF860C",373:"85694C_D1A67A_3C2F22_EBBF8F",374:"857B61_ACE5D4_593D28_5B4334",375:"858362_9F9F80_9C9673_70714B",376:"85B9D3_C9EAF9_417277_528789",377:"866C5B_544237_B29B8C_AC8F7C",378:"872F2D_AB403E_682421_581F1C",379:"877B70_34302B_CBB3A4_524C44",380:"877C72_B6ACBB_36322D_4C443B",381:"878787_4C4C4C_646464_5C5C5C",382:"887153_E5C188_433729_C1A484",383:"888D8F_515454_646A6C_6C6C6D",384:"89204B_17080D_DA4377_F780B5",385:"8955D0_744CC4_EA4AEF_954DA4",386:"8A3B3D_DA5F62_461F20_BC7F81",387:"8A3DA1_D77CE4_C263D4_B75AC9",388:"8A5B34_F3BD7C_DA9758_BE7E45",389:"8A6565_2E214D_D48A5F_ADA59C",390:"8A7666_3C332C_C6AEA2_54443C",391:"8A7968_3C342D_C6B3A5_54443B",392:"8B7469_443E39_C7A797_544443",393:"8B795F_291504_EFE5D4_4A3518",394:"8B892C_D4E856_475E2D_47360A",395:"8C5945_D4C0B6_C3A49C_430504",396:"8CAEBC_3A4443_506463_DAEFEF",397:"8D553D_3C2419_5D3727_AA766C",398:"8D8D8D_DDDDDD_CCCCCC_B7B7B7",399:"8E6767_D9C4C4_C8ACAC_B89898",400:"8E7C67_E2C6A5_3B332A_C3AB94",401:"8E907C_B1B5A7_D7DBD0_CCCFBA",402:"8F4277_361530_BF538E_52274C",403:"8F4E20_E8B06B_391A08_CC8944",404:"8F5D3C_5B3B26_382416_70482E",405:"8F7B61_D6B892_4E4436_C3AC86",406:"8F894E_DAD79B_C9C384_C4BE7B",407:"903B2A_EC9888_D96747_58190D",408:"906867_C7B6BC_5D2E26_BEA4A3",409:"908887_3C3229_C7C6D0_554A45",410:"908E8E_292828_454444_595757",411:"909473_555D4B_C2CCA2_645B3C",412:"910E5A_E127C3_CF1CA3_C1158F",413:"926B48_4C2D0D_5F3913_AA8874",414:"927253_EECEA7_D8B792_C7A883",415:"935555_F6DAD9_D39393_593333",416:"936451_C29A8F_5F3A2B_361D14",417:"938C8D_403731_CECED8_554C4C",418:"942967_D292B5_C76E9E_551A4C",419:"945D43_E5AAA0_351F14_CC8B78",420:"94615B_DACED1_C3B9A4_CCABAA",421:"94624F_573529_24110C_733424",422:"9650CA_46236A_7239A6_633492",423:"965146_2B191D_DF7A5C_BFD6E1",424:"96785D_B8A398_63452C_6C5435",425:"975337_EEBE98_4B211C_D88659",426:"977970_E1D9D8_DAC8C1_C4B2AD",427:"98332E_4A100D_691A16_A85A5B",428:"989784_665542_BFECE5_6D644C",429:"9A5A55_31110D_582A24_703C34",430:"9A7467_D2C2BF_662D22_CCB2A5",431:"9AA8B6_313133_4E5055_D7EBF8",432:"9B4816_E8A138_CC7421_DC8827",433:"9B9994_E1E0DB_474643_544C4C",434:"9B9B9B_1E1E1E_5C5C5C_444444",435:"9C5B3B_49200A_E9C8AB_DDAB7D",436:"9CC338_4E671A_799F27_8CAC2C",437:"9D282A_38191D_DFC6CD_D6495A",438:"9D4343_E38989_D37474_CE6C6C",439:"9D602E_E4C363_D5A64F_C38A44",440:"9D7F6E_C6DAD4_6D4C4B_C6BBBC",441:"9D8F84_5D4544_D9D3C9_62555A",442:"9D9D9D_4E4E4E_646464_6C6C6C",443:"9E7C7E_DDCBD0_351D20_683B38",444:"9E9C77_6E6F4E_7C7C54_C7BF96",445:"9F1A27_F1AF7F_CD5845_D08441",446:"9F4738_CE958D_4F0C0A_C0837C",447:"9F7D30_B69F75_B9B7BE_CB9C4D",448:"9F886D_362F25_E8C9A4_5C4C3C",449:"9F9F9F_E4E4E4_D4D4D4_CCCCCC",450:"A05F31_D5C2BC_D9996F_42230E",451:"A0A8B0_424336_E7E9EF_545C5C",452:"A1824F_4A2A06_F7E29F_B3A598",453:"A27216_E9D036_D0AB24_DCB927",454:"A28766_E4D6C3_D6C4AA_CAB598",455:"A3B2A4_3B3E3D_676F6A_535C57",456:"A48DA4_E8DDE8_C9B7C9_D4C2D4",457:"A49994_695244_C4C2CF_76645C",458:"A67362_36150C_5E2E1E_F6C3BF",459:"A84337_611D18_3F110F_7C2A22",460:"A88C77_DAD2C7_623532_956229",461:"A95E4D_57261A_6E3223_773C24",462:"A971A9_E8CBE8_D4A8D4_DCB3DC",463:"A98D6A_F2D3AB_FBE6BE_695332",464:"A9A2A0_2F211C_544440_6D5E5A",465:"AA526C_EAA6C9_DC88AF_D17BA0",466:"AB2C2C_EBB4B3_561212_DE8484",467:"AB2D08_C35E5A_C75522_C56C70",468:"AB54A8_EBAAE9_DF8FDD_D37ED0",469:"AC171C_FA8593_E84854_D3464E",470:"AC725C_2E1610_663E31_E78F6B",471:"AC7F84_78463A_C4AABB_885454",472:"AC8942_432D19_6E4D27_5F3B1C",473:"AC8961_EBDAC3_D1B791_DCC2A0",474:"AD9E81_F1E5CE_6B5C3E_5A492A",475:"ADC2CD_DFF7FA_C9E6F5_C1DBEC",476:"AE9D99_29303B_585F70_875C33",477:"AF986F_CDB489_9C7C5B_7E6C4D",478:"AF987A_2F2416_523F27_6B5331",479:"AF9A72_504718_74652B_E2C2A2",480:"B06932_451B09_7B3E16_150804",481:"B09273_7A573D_C7AF97_84644C",482:"B0A2A8_866A63_E8E9F2_614C4F",483:"B0B0B0_6E6E6E_848484_8C8C8C",484:"B1A395_EFE6E1_635A47_786D5D",485:"B2674B_552913_7C442F_733919",486:"B26F52_4B2E2B_79493A_663B32",487:"B27744_5A2804_F6C488_EBB27D",488:"B38B76_40251D_745042_5F3A30",489:"B3AA93_F4EFD7_E1DDC2_DCD3BB",490:"B47A5B_301E14_704A31_633C23",491:"B4B29D_442D0D_604E2A_736542",492:"B5987E_F8E4DC_6F5939_E9CCBA",493:"B5BBB5_3B4026_6E745D_5C6147",494:"B62D33_E4868B_7E2D34_DD6469",495:"B66D59_F0C9B2_E5B49C_DAA084",496:"B67F6B_4B2E2A_6C3A34_F3DBC6",497:"B6B8B1_994A24_315C81_927963",498:"B76E5E_7F3A2F_EE938C_F8A5A1",499:"B7A763_E6E1CC_554A1E_6C6428",500:"B86137_FBCA6F_6F3C37_040404",501:"B9896A_5B341B_F4CAA3_6C4C2D",502:"B98A6D_7B4F38_D1A68F_8C5B43",503:"B9B37A_F1EED0_E5E4BA_DAD6A8",504:"B9CDD2_775339_958272_7F6A5E",505:"BA472D_CA6E67_C76150_CA6C59",506:"BA5DBA_F2BEF2_E69BE6_DC8CDC",507:"BA864A_5D381E_644422_FBE97A",508:"BA8979_DDCBCA_9A4726_892407",509:"BAADA8_ECE6E7_9A8378_E3DCD3",510:"BC5B43_95170B_EEAC92_DB8C7C",511:"BC928D_F9E2D6_654445_835A51",512:"BD0D0D_970404_7B0404_550404",513:"BD5345_460F11_732622_EDB7B1",514:"BDB466_F3EDC3_E3DD9F_ECE3AA",515:"BE5F5F_F4BDBD_ECA4A4_E29191",516:"BEE2E9_7E6A53_9AA09C_87837E",517:"BF7051_994C2D_E99A7B_DE8C74",518:"BF7745_F5D08E_E5AE6B_ECBC7C",519:"BF8E78_E5CCBF_753E32_4A261E",520:"BFAA83_F5EAD6_E1D0B1_EBDDC0",521:"BFB5A4_DEDCCB_D7D4CC_DCD3C2",522:"C05429_ED6129_94492A_834729",523:"C09E5C_DAD2B9_654429_81582D",524:"C1AA92_AD6E29_737889_CED1D7",525:"C1B3A1_F6EEE5_E1D7C7_ECE4D3",526:"C21338_920C24_E71C54_F34A7D",527:"C28E4E_845119_0B0805_713C0C",528:"C2A391_523728_785741_694836",529:"C2A584_363B41_71665B_8C7367",530:"C2AB7D_4A412E_7A6B4E_F9EDBE",531:"C30C0C_9F0404_830404_5C0404",532:"C33829_48171A_752523_942923",533:"C345EC_5F1DAA_9F31DB_872CCD",534:"C35C04_F9C30C_EE9F04_E08304",535:"C3CCD4_5F3B23_948A7B_A9A49A",536:"C47004_F9D00C_EDAF04_E09704",537:"C4A591_635448_F2D9D5_856D5B",538:"C4C6C6_4D5756_646463_7A8080",539:"C4DEDE_97B5B5_EAF9F9_ABC4C4",540:"C5A292_635247_F2D7D6_846A5B",541:"C5BBB6_F8F4F1_E2DAD6_ECE3DF",542:"C75F55_F8BDA9_EB9484_F4A494",543:"C7938D_E0DBE1_D1BBBC_D5CCCB",544:"C7B9A1_F8F1E4_EEE4D2_E4D8C4",545:"C7C0AC_2E181B_543B30_6B6270",546:"C7C7D7_4C4E5A_818393_6C6C74",547:"C87157_F8CBAE_E9A582_F2B394",548:"C88467_5B3333_875C5A_7A3822",549:"C8AF84_F9ECD7_EFDEBF_E6D1AF",550:"C8C8C8_3F3F3F_787878_5C5C5C",551:"C8D1DC_575B62_818892_6E747B",552:"C98D7F_3B0B0B_A97667_94433F",553:"C99A8B_491B0E_6E4136_8A4D28",554:"C9C7BE_55514B_888279_7B6E5F",555:"CA4FE1_6B2398_A337C7_9334BC",556:"CA8892_F9D7DC_EBB8C0_F3C4CC",557:"CAA094_875343_956255_EADEDC",558:"CAA78A_F9E7D7_EAD0B9_F3DCC3",559:"CAAC80_FAEBD5_F2DEBF_EAD1AF",560:"CAB094_F9ECDD_EFDEC8_E8D4BD",561:"CAB79D_F9F1E3_F1E5D1_E9DAC6",562:"CAE24E_6C9A23_A3C737_B3D43C",563:"CB4934_FB9971_F07554_F68464",564:"CB4E88_F99AD6_F384C3_ED75B9",565:"CB5E3B_FABC7A_EF965E_F4A46C",566:"CB7146_551D0F_7C270D_E5AB9C",567:"CB7846_753C22_AB5C32_B46C3C",568:"CB919B_F9DDE1_ECC0C8_F4CCD4",569:"CBCBCB_595959_8C8C8C_747474",570:"CC7C5F_A15436_B26346_AF5C3C",571:"CC9A7E_8A5249_C06A3E_DADADA",572:"CCC5C9_3B2B2B_67585B_7F7375",573:"CCF6FA_9DD9EB_82C5D9_ACD4E4",574:"CDC3B8_5A3F3C_67545A_8D7769",575:"CDCBC8_444342_696765_81807E",576:"CE8C15_EAC79B_DDAB57_F9C962",577:"CE8F3D_F0D2B0_F3C77D_E6B278",578:"CEB299_6B5C4C_887564_746355",579:"D04444_AF2F2F_8B2424_9B2C2C",580:"D07E3F_FBBD1F_8D2840_24120C",581:"D0CCCB_524D50_928891_727581",582:"D0D3BE_816854_998366_685146",583:"D1AC04_F8E50A_EDD004_B38D04",584:"D3CAAB_8C866E_C0B89A_AEA68A",585:"D4855F_92512D_AE6742_A75C2C",586:"D54C2B_5F1105_F39382_F08375",587:"D5B5B4_9E6C6F_F5E9EF_A57986",588:"D5D5D5_929292_ACACAC_B4B4B4",589:"D64480_E27497_EA9BB1_CD156F",590:"D7D7C3_AAAA92_F5F5EA_BCBCA4",591:"D7DFDB_AAB5AF_F5FAF7_BCC4C4",592:"D8388B_230A14_FCC8FC_FC71E1",593:"D8C949_F5F19E_6B7855_9A9858",594:"D8D8E5_9D9DAF_B4B4C4_B4B4CC",595:"DA5788_DE94BD_E078A3_DD83B4",596:"DBDBBB_F7F7E4_AFAF89_C4C49C",597:"DC3E04_B52604_FC7D20_F85F04",598:"DE9261_86361E_A85A37_944C2C",599:"DEDEC4_B5B597_F9F9EA_C4C4AB",600:"DEE3E8_A6AEB5_BCC4CC_BCC4C4",601:"DEE8DE_A6B5A6_BCCCBC_BCC4BC",602:"DEE8E8_A6B5B5_BCCCCC_BAC4C4",603:"DFD9C2_B5AE92_F9F7EA_C4C4A4",604:"DFDBB7_F9F8E3_B5AF86_BCBC8C",605:"DFDFCA_4D2D07_6B5224_857145",606:"DFDFD6_58544E_81766A_989288",607:"E1E1D4_777C7B_9FA19A_898F8D",608:"E1E1E0_363636_989897_747472",609:"E2D3BC_867255_B39E7F_96836C",610:"E2E2E7_AEAEB5_C4C4CC_C4C4C4",611:"E42E12_F35132_F86949_B71B0A",612:"E5DED7_AFA69D_C4BCB4_C3BAAB",613:"E6BF3C_5A4719_977726_FCFC82",614:"E6E3E3_B5AFAF_CCC4C4_C4C4C4",615:"E6E6E6_AAAAAA_C4C4C4_CCCCCC",616:"E7632F_FBA06B_BB2905_FB865E",617:"E7E2D8_B1AA9D_C9C2B3_BCB4AC",618:"E80404_B50404_CB0404_FC3333",619:"E804E8_B504B5_CC04CC_FC33FC",620:"E8DEE1_B5A6AA_CCBCC1_C4BBBC",621:"E8E5DE_B5AFA6_CCC5BC_C4C4BB",622:"E8E8DE_B5B5A6_CCCCBC_C4C4BA",623:"E9CCA1_A63106_DF8C3B_621304",624:"EA783E_6D4830_905837_FCDC6C",625:"EAD8D6_B59A97_CCB4B0_C9ABAB",626:"EAEAEA_B5B5B5_CCCCCC_D4D4D4",627:"EAEAEA_B6B6B6_CCCCCC_C4C4C4",628:"ED4630_791A0E_A42716_501009",629:"ED5087_FAC3D0_1C0B0C_FC84CC",630:"ED7F04_FCD60E_7E2D04_B73E04",631:"EDED06_B5B504_CCCC04_D4D404",632:"EE4128_FC8E82_9A0704_BF0F05",633:"EEECFB_BFB6D5_D0C8EB_CCC4DC",634:"F0D504_FBFAD3_B98609_CDA204",635:"F75F0B_461604_9A3004_FB9D2F",636:"F77777_FBE1E1_FAB2B2_FBC4C4",637:"F79686_FCCBD4_E76644_E76B56",638:"F9E6C7_FCF7DF_EDD3AA_F1D4B4",639:"FBB43F_FBE993_FB552E_FCDD65",640:"FBB82D_FBEDBF_FBDE7D_FB7E05"};function mp(e){switch(e){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}var gp="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d",yp=vp[0];function _p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=u.useMemo((function(){return Object.keys(vp).length}),[]),r=u.useMemo((function(){return"string"===typeof e?e:"number"===typeof e?vp[e]:null}),[e]),a="".concat(r||yp).concat(mp(t),".png"),i="".concat(gp,"/").concat(t,"/").concat(a),o=Po(i);return[o,i,n]}var bp={0:"151_norm.JPG",1:"152_norm.JPG",2:"153_norm.JPG",3:"154_norm.JPG",4:"155_norm.JPG",5:"156_norm.JPG",6:"157_norm.JPG",7:"158_norm.JPG",8:"159_norm.JPG",9:"160_norm.JPG",10:"161_norm.JPG",11:"162_norm.JPG",12:"163_norm.JPG",13:"164_norm.JPG",14:"165_norm.JPG",15:"166_norm.JPG",16:"167_norm.JPG",17:"168_norm.JPG",18:"169_norm.JPG",19:"170_norm.JPG",20:"171_norm.JPG",21:"172_norm.JPG",22:"173_norm.JPG",23:"174_norm.jpg",24:"175_norm.JPG",25:"176_norm.JPG",26:"177_norm.JPG",27:"178_norm.JPG",28:"179_norm.JPG",29:"180_norm.JPG",30:"181_norm.JPG",31:"182_norm.JPG",32:"183_norm.JPG",33:"184_norm.JPG",34:"185_norm.JPG",35:"186_norm.JPG",36:"187_norm.JPG",37:"188_norm.JPG",38:"189_norm.JPG",39:"190_norm.JPG",40:"191_norm.JPG",41:"192_norm.JPG",42:"193_norm.JPG",43:"194_norm.JPG",44:"195_norm.JPG",45:"196_norm.JPG",46:"197_norm.JPG",47:"198_norm.JPG",48:"199_norm.JPG",49:"200_norm.JPG",50:"201_norm.jpg",51:"202_norm.jpg",52:"203_norm.jpg",53:"204_norm.jpg",54:"205_norm.jpg",55:"206_norm.jpg",56:"207_norm.jpg",57:"208_norm.jpg",58:"209_norm.jpg",59:"210_norm.jpg",60:"211_norm.jpg",61:"212_norm.jpg",62:"213_norm.jpg",63:"214_norm.jpg",64:"215_norm.jpg",65:"216_norm.jpg",66:"217_norm.jpg",67:"218_norm.jpg",68:"219_norm.jpg",69:"220_norm.jpg",70:"221_norm.jpg",71:"222_norm.jpg",72:"223_norm.jpg",73:"224_norm.jpg",74:"225_norm.jpg",75:"226_norm.jpg"},wp="https://rawcdn.githack.com/emmelleppi/normal-maps/f24c810fc1d86b5b1e5dfea914b668f70b5f2923",xp=bp[0];function Ap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.repeat,r=void 0===n?[1,1]:n,a=t.anisotropy,i=void 0===a?1:a,o=t.offset,s=void 0===o?[0,0]:o,c=u.useMemo((function(){return Object.keys(bp).length}),[]),f=bp[e]||xp,d="".concat(wp,"/normals/").concat(f),h=Po(d);return u.useLayoutEffect((function(){h&&(h.wrapS=h.wrapT=l.RepeatWrapping,h.repeat=new l.Vector2(r[0],r[1]),h.offset=new l.Vector2(s[0],s[1]),h.anisotropy=i)}),[h,i,r,s]),[h,d,c]}var Mp,Ep,Cp=function(e){(0,V.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;return(0,K.Z)(this,n),(e=t.call(this)).color=new l.Color("white"),e}return(0,Q.Z)(n)}(l.Group),Sp=["children","range","limit"],Tp=["children"],kp=["children","positions","colors","sizes","stride"],Bp=u.createContext(null),Pp=new l.Matrix4,Lp=new l.Vector3,Dp=new l.Color,Rp=u.forwardRef((function(e,t){var n=e.children,r=e.range,c=e.limit,d=void 0===c?1e3:c,h=(0,o.Z)(e,Sp),p=u.useRef(null),v=u.useState([]),m=(0,i.Z)(v,2),g=m[0],y=m[1],_=u.useState((function(){return[new Float32Array(3*d),Float32Array.from({length:3*d},(function(){return 1})),Float32Array.from({length:d},(function(){return 1}))]})),b=(0,i.Z)(_,1),w=(0,i.Z)(b[0],3),x=w[0],M=w[1],E=w[2];u.useLayoutEffect((function(){p.current.geometry.drawRange.count=Math.min(d,void 0!==r?r:d,g.length)}),[g,r]),u.useEffect((function(){p.current.geometry.attributes.position.needsUpdate=!0})),(0,f.useFrame)((function(){for(p.current.updateMatrix(),p.current.updateMatrixWorld(),Pp.copy(p.current.matrixWorld).invert(),Mp=0;Mp<g.length;Mp++)(Ep=g[Mp].current).getWorldPosition(Lp).applyMatrix4(Pp),Lp.x===x[3*Mp]&&Lp.y===x[3*Mp+1]&&Lp.z===x[3*Mp+2]||(Lp.toArray(x,3*Mp),p.current.geometry.attributes.position.needsUpdate=!0,Ep.matrixWorldNeedsUpdate=!0),Ep.color.equals(Dp.fromArray(M,3*Mp))||(Ep.color.toArray(M,3*Mp),p.current.geometry.attributes.color.needsUpdate=!0),Ep.size!==E[Mp]&&(E.set([Ep.size],Mp),p.current.geometry.attributes.size.needsUpdate=!0)}));var C=u.useMemo((function(){var e={};for(Mp=0;Mp<g.length;Mp++){var t;Object.assign(e,null==(t=g[Mp].current)?void 0:t.__r3f.handlers)}return Object.keys(e).reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,Lr.Z)({},t,(function(e){var n,r,i,o=null==(n=g[e.index])?void 0:n.current;return null==o||null==(r=o.__r3f)||null==(i=r.handlers)?void 0:i[t]((0,a.Z)((0,a.Z)({},e),{},{object:o}))})))}),{})}),[n,g]),S=u.useMemo((function(){return{subscribe:function(e){return y((function(t){return[].concat((0,A.Z)(t),[e])})),function(){return y((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return u.createElement("points",s({matrixAutoUpdate:!1,ref:(0,L.default)([t,p])},C,h),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attachObject:["attributes","position"],count:x.length/3,array:x,itemSize:3,usage:l.DynamicDrawUsage}),u.createElement("bufferAttribute",{attachObject:["attributes","color"],count:M.length/3,array:M,itemSize:3,usage:l.DynamicDrawUsage}),u.createElement("bufferAttribute",{attachObject:["attributes","size"],count:E.length,array:E,itemSize:1,usage:l.DynamicDrawUsage})),u.createElement(Bp.Provider,{value:S},n))})),Fp=u.forwardRef((function(e,t){var n=e.children,r=(0,o.Z)(e,Tp);u.useMemo((function(){return(0,f.extend)({Position:Cp})}),[]);var a=u.useRef(),i=u.useContext(Bp).subscribe;return u.useLayoutEffect((function(){return i(a)}),[]),u.createElement("position",s({ref:(0,L.default)([t,a])},r),n)})),Ip=u.forwardRef((function(e,t){var n=e.children,r=e.positions,a=e.colors,i=e.sizes,c=e.stride,d=void 0===c?3:c,h=(0,o.Z)(e,kp),p=u.useRef(null);return(0,f.useFrame)((function(){var e=p.current.geometry.attributes;e.position.needsUpdate=!0,a&&(e.color.needsUpdate=!0),i&&(e.size.needsUpdate=!0)})),u.createElement("points",s({matrixAutoUpdate:!1,ref:(0,L.default)([t,p])},h),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attachObject:["attributes","position"],count:r.length/d,array:r,itemSize:d,usage:l.DynamicDrawUsage}),a&&u.createElement("bufferAttribute",{attachObject:["attributes","color"],count:a.length/d,array:a,itemSize:3,usage:l.DynamicDrawUsage}),i&&u.createElement("bufferAttribute",{attachObject:["attributes","size"],count:i.length/d,array:i,itemSize:1,usage:l.DynamicDrawUsage})),n)})),Op=u.forwardRef((function(e,t){return e.positions instanceof Float32Array?u.createElement(Ip,s({},e,{ref:t})):u.createElement(Rp,s({},e,{ref:t}))})),zp=n(1386),Zp=n.n(zp);function Up(e){return Np(e.children,e.components)}function Np(e,t,n){if(n=n||[],!t[0])return e(n);function r(r){return Np(e,t.slice(1),n.concat([r]))}return"function"===typeof t[0]?t[0]({results:n,render:r}):(0,u.cloneElement)(t[0],{children:r})}Up.propTypes={children:Zp().func.isRequired,components:Zp().arrayOf(Zp().oneOfType([Zp().element,Zp().func])).isRequired};var Gp,Hp,Vp=["context","children"],jp=["children","range","limit","frames"],Wp=["meshes","children"],Xp=u.createContext(null),qp=new l.Matrix4,Yp=new l.Matrix4,Qp=new l.Matrix4,Kp=new l.Color,Jp=new l.Vector3,$p=new l.Quaternion,ev=new l.Vector3,tv=u.forwardRef((function(e,t){var n=e.context,r=e.children,a=(0,o.Z)(e,Vp);u.useMemo((function(){return(0,f.extend)({Position:Cp})}),[]);var i=u.useRef(),c=u.useContext(n||Xp).subscribe;return u.useLayoutEffect((function(){return c(i)}),[]),u.createElement("position",s({ref:(0,L.default)([t,i])},a),r)})),nv=u.forwardRef((function(e,t){var n=e.children,r=e.range,c=e.limit,d=void 0===c?1e3:c,h=e.frames,p=void 0===h?1/0:h,v=(0,o.Z)(e,jp),m=u.useState((function(){var e=u.createContext(null);return{context:e,instance:u.forwardRef((function(t,n){return u.createElement(tv,s({context:e},t,{ref:n}))}))}})),g=(0,i.Z)(m,1)[0],y=g.context,_=g.instance,b=u.useRef(null),w=u.useState([]),x=(0,i.Z)(w,2),M=x[0],E=x[1],C=u.useState((function(){var e=new Float32Array(16*d);for(Gp=0;Gp<d;Gp++)Qp.identity().toArray(e,16*Gp);return[e,new Float32Array((0,A.Z)(new Array(3*d)).map((function(){return 1})))]})),S=(0,i.Z)(C,1),T=(0,i.Z)(S[0],2),k=T[0],B=T[1];u.useLayoutEffect((function(){b.current.count=b.current.instanceMatrix.updateRange.count=b.current.instanceColor.updateRange.count=Math.min(d,void 0!==r?r:d,M.length)}),[M,r]),u.useEffect((function(){b.current.instanceMatrix.needsUpdate=!0}));var P=0;(0,f.useFrame)((function(){if(p===1/0||P<p){for(b.current.updateMatrix(),b.current.updateMatrixWorld(),qp.copy(b.current.matrixWorld).invert(),Gp=0;Gp<M.length;Gp++)(Hp=M[Gp].current).matrixWorld.decompose(Jp,$p,ev),Yp.compose(Jp,$p,ev).premultiply(qp),Yp.equals(Qp.fromArray(k,16*Gp))||(Yp.toArray(k,16*Gp),b.current.instanceMatrix.needsUpdate=!0),Hp.color.equals(Kp.fromArray(B,3*Gp))||(Hp.color.toArray(B,3*Gp),b.current.instanceColor.needsUpdate=!0);P++}}));var D=u.useMemo((function(){var e={};for(Gp=0;Gp<M.length;Gp++){var t;Object.assign(e,null==(t=M[Gp].current)?void 0:t.__r3f.handlers)}return Object.keys(e).reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,Lr.Z)({},t,(function(e){var n,r,i,o=null==(n=M[e.instanceId])?void 0:n.current;return null==o||null==(r=o.__r3f)||null==(i=r.handlers)?void 0:i[t]((0,a.Z)((0,a.Z)({},e),{},{object:o}))})))}),{})}),[n,M]),R=u.useMemo((function(){return{subscribe:function(e){return E((function(t){return[].concat((0,A.Z)(t),[e])})),function(){return E((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return u.createElement("instancedMesh",s({matrixAutoUpdate:!1,ref:(0,L.default)([t,b]),args:[null,null,0]},D,v),u.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:k.length/16,array:k,itemSize:16,usage:l.DynamicDrawUsage}),u.createElement("instancedBufferAttribute",{attach:"instanceColor",count:B.length/3,array:B,itemSize:3,usage:l.DynamicDrawUsage}),"function"===typeof n?u.createElement(y.Provider,{value:R},n(_)):u.createElement(Xp.Provider,{value:R},n))}));function rv(e){var t=e.meshes,n=e.children,r=(0,o.Z)(e,Wp),i=Array.isArray(t);if(!i)for(var c=0,l=Object.keys(t);c<l.length;c++){var f=l[c];t[f].isMesh||delete t[f]}return u.createElement(Up,{components:(i?t:Object.values(t)).map((function(e){var t=e.geometry,n=e.material;return u.createElement(nv,s({key:t.uuid,geometry:t,material:n},r))}))},(function(e){return i?n.apply(void 0,(0,A.Z)(e)):n(Object.keys(t).filter((function(e){return t[e].isMesh})).reduce((function(t,n,r){return(0,a.Z)((0,a.Z)({},t),{},(0,Lr.Z)({},n,e[r]))}),{}))}))}var av=["limit","lineWidth","children"],iv=u.createContext(null),ov=function(e){return e instanceof l.Color?e.toArray():e},sv=function(e){return e instanceof l.Vector3?e.toArray():e},uv=u.forwardRef((function(e,t){var n=e.limit,r=void 0===n?1e3:n,a=e.lineWidth,c=void 0===a?1:a,d=e.children,h=(0,o.Z)(e,av),p=u.useState([]),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=u.useState((function(){return new oi})),_=(0,i.Z)(y,1)[0],b=u.useState((function(){return new ri})),w=(0,i.Z)(b,1)[0],x=u.useState((function(){return new ti})),M=(0,i.Z)(x,1)[0],E=u.useState((function(){return new l.Vector2(512,512)})),C=(0,i.Z)(E,1)[0],S=u.useState((function(){return Array(6*r).fill(0)})),T=(0,i.Z)(S,1)[0],k=u.useState((function(){return Array(6*r).fill(0)})),B=(0,i.Z)(k,1)[0],P=u.useMemo((function(){return{subscribe:function(e){return g((function(t){return[].concat((0,A.Z)(t),[e])})),function(){return g((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return(0,f.useFrame)((function(){for(var e=0;e<r;e++)for(var t,n=null==(t=m[e])?void 0:t.current,a=n?sv(n.start):[0,0,0],i=n?sv(n.end):[0,0,0],o=n?ov(n.color):[1,1,1],s=0;s<3;s++)T[6*e+s]=a[s],T[6*e+s+3]=i[s],B[6*e+s]=o[s],B[6*e+s+3]=o[s];M.setColors(B),M.setPositions(T),_.computeLineDistances()})),u.createElement("primitive",{object:_,ref:t},u.createElement("primitive",{object:M,attach:"geometry"}),u.createElement("primitive",s({object:w,attach:"material",vertexColors:!0,resolution:C,linewidth:c},h)),u.createElement(iv.Provider,{value:P},d))})),cv=(0,Q.Z)((function e(){(0,K.Z)(this,e),this.color=new l.Color("white"),this.start=new l.Vector3(0,0,0),this.end=new l.Vector3(0,0,0)})),lv=u.forwardRef((function(e,t){var n=u.useContext(iv);if(!n)throw"Segment must used inside Segments component.";var r=u.useRef();return u.useMemo((function(){return(0,f.extend)({SegmentObject:cv})}),[]),u.useLayoutEffect((function(){return n.subscribe(r)}),[]),u.createElement("segmentObject",s({ref:(0,L.default)([r,t])},e))})),fv=["children","distances"],dv=u.forwardRef((function(e,t){var n=e.children,r=e.distances,a=(0,o.Z)(e,fv),i=u.useRef(null);return u.useLayoutEffect((function(){var e=i.current;e.levels.length=0,e.children.forEach((function(t,n){return e.levels.push({object:t,distance:r[n]})}))})),(0,f.useFrame)((function(e){var t;return null==(t=i.current)?void 0:t.update(e.camera)})),u.createElement("lOD",s({ref:(0,L.default)([i,t])},a),n)}));function hv(e){var t=e.all,n=e.scene,r=e.camera,a=(0,f.useThree)((function(e){return e.gl})),i=(0,f.useThree)((function(e){return e.camera})),o=(0,f.useThree)((function(e){return e.scene}));return u.useLayoutEffect((function(){var e=[];t&&(n||o).traverse((function(t){!1===t.visible&&(e.push(t),t.visible=!0)})),a.compile(n||o,r||i);var s=new l.WebGLCubeRenderTarget(128);new l.CubeCamera(.01,1e5,s).update(a,n||o),s.dispose(),e.forEach((function(e){return e.visible=!1}))}),[]),null}function pv(){var e=(0,f.useThree)((function(e){return e.gl}));return(0,u.useEffect)((function(){return e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,function(){e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0}}),[e.shadowMap]),null}var vv=new l.Matrix4,mv=new l.Ray,gv=new l.Sphere,yv=new l.Vector3;function _v(e,t){var n=this.geometry,r=this.material,a=this.matrixWorld;void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),gv.copy(n.boundingSphere),gv.applyMatrix4(a),!1!==e.ray.intersectsSphere(gv)&&(vv.copy(a).invert(),mv.copy(e.ray).applyMatrix4(vv),null!==n.boundingBox&&null===mv.intersectBox(n.boundingBox,yv)||t.push({distance:yv.distanceTo(e.ray.origin),point:yv.clone(),object:this})))}function bv(e){var t=e.pixelated,n=(0,f.useThree)((function(e){return e.gl})),r=(0,f.useThree)((function(e){return e.internal.active})),a=(0,f.useThree)((function(e){return e.performance.current})),i=(0,f.useThree)((function(e){return e.viewport.initialDpr})),o=(0,f.useThree)((function(e){return e.setDpr}));return u.useEffect((function(){var e=n.domElement;return function(){r&&o(i),t&&e&&(e.style.imageRendering="auto")}}),[]),u.useEffect((function(){o(a*i),t&&n.domElement&&(n.domElement.style.imageRendering=1===a?"auto":"pixelated")}),[a]),null}function wv(){var e=(0,f.useThree)((function(e){return e.get})),t=(0,f.useThree)((function(e){return e.performance.current}));return u.useEffect((function(){var t=e().raycaster.enabled;return function(){e().raycaster.enabled=t}}),[]),u.useEffect((function(){e().raycaster.enabled=1===t}),[t]),null}},5112:function(e,t,n){"use strict";n.r(t),n.d(t,{Canvas:function(){return pe},ReactThreeFiber:function(){return Z},_roots:function(){return we},act:function(){return Re},addAfterEffect:function(){return oe},addEffect:function(){return ie},addTail:function(){return se},advance:function(){return Ee},applyProps:function(){return Te},context:function(){return $},createPortal:function(){return Ie},dispose:function(){return De},events:function(){return le},extend:function(){return Y},invalidate:function(){return Me},reconciler:function(){return Se},render:function(){return Be},unmountComponentAtNode:function(){return Le},useFrame:function(){return me},useGraph:function(){return ye},useLoader:function(){return be},useThree:function(){return ve}});var r=n(5671),a=n(3144),i=n(136),o=n(9388),s=n(5647),u=n(4925),c=n(4942),l=n(3878),f=n(9199),d=n(181),h=n(5267);function p(e){return(0,l.Z)(e)||(0,f.Z)(e)||(0,d.Z)(e)||(0,h.Z)()}var v=n(9439),m=n(3433),g=n(1413),y=n(7762),_=n(4911),b=n(4519),w=n(5401);function x(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var A=n(438),M=n.n(A),E=n(8514),C=n(1652),S=n(1870),T=n.n(S);function k(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,i=t.scroll,o=t.polyfill,s=t.offsetSize,u=o||("undefined"===typeof window?(0,a.Z)((function e(){(0,r.Z)(this,e)})):window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var c=(0,b.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,v.Z)(c,2),f=l[0],d=l[1],h=(0,b.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f}),p=n?"number"===typeof n?n:n.scroll:null,m=n?"number"===typeof n?n:n.resize:null,g=(0,b.useRef)(!1);(0,b.useEffect)((function(){return g.current=!0,function(){g.current=!1}}));var y=(0,b.useMemo)((function(){var e=function(){if(h.current.element){var e=h.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};h.current.element instanceof HTMLElement&&s&&(t.height=h.current.element.offsetHeight,t.width=h.current.element.offsetWidth),Object.freeze(t),g.current&&!L(h.current.lastBounds,t)&&d(h.current.lastBounds=t)}};return[e,m?T()(e,m):e,p?T()(e,p):e]}),[d,s,p,m]),_=(0,v.Z)(y,3),w=_[0],x=_[1],A=_[2];function M(){h.current.scrollContainers&&(h.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",A,!0)})),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function E(){h.current.element&&(h.current.resizeObserver=new u(A),h.current.resizeObserver.observe(h.current.element),i&&h.current.scrollContainers&&h.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",A,{capture:!0,passive:!0})})))}var C,S,k;return C=A,S=Boolean(i),(0,b.useEffect)((function(){if(S){var e=C;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[C,S]),k=x,(0,b.useEffect)((function(){var e=k;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[k]),(0,b.useEffect)((function(){M(),E()}),[i,A,x]),(0,b.useEffect)((function(){return M}),[]),[function(e){e&&e!==h.current.element&&(M(),h.current.element=e,h.current.scrollContainers=B(e),E())},f,w]}function B(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,m.Z)(B(e.parentElement)))}var P=["x","y","top","bottom","left","right","width","height"],L=function(e,t){return P.every((function(n){return e[n]===t[n]}))},D=["args"],R=["args"],F=["args"],I=["params"],O=["children","fallback","tabIndex","resize","id","style","className","events"],z=["gl","size","mode","events","onCreated"],Z=Object.freeze({__proto__:null}),U={obj:function(e){return e===Object(e)&&!U.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(U.str(e)||U.num(e)||U.obj(e))return e===t;if(U.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!U.und(n)||e===t}};function N(e){return(e.eventObject||e.object).uuid+"/"+e.index}function G(e){var t=new _.Vector3;function n(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],a=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+a*a))}function r(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f.handlers)?void 0:n["onPointer"+t]}))}))}function a(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index}))){var r=e.eventObject.__r3f.handlers;if(n.hovered.delete(N(e)),r){var a=(0,g.Z)((0,g.Z)({},e),{},{intersections:t||[]});null==r.onPointerOut||r.onPointerOut(a),null==r.onPointerLeave||r.onPointerLeave(a)}}}))}function i(e,t){t.forEach((function(t){var n;return null==(n=t.__r3f.handlers)||null==n.onPointerMissed?void 0:n.onPointerMissed(e)}))}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return function(){return a([])};case"onLostPointerCapture":return function(t){"pointerId"in t&&e.getState().internal.capturedMap.delete(t.pointerId),a([])}}return function(s){var u=e.getState(),c=u.onPointerMissed,l=u.internal;!function(t){var n,r=e.getState(),a=r.raycaster,i=r.mouse,o=r.camera,s=r.size,u=null!=(n=null==a.computeOffsets?void 0:a.computeOffsets(t,r))?n:t,c=u.offsetX,l=u.offsetY,f=s.width,d=s.height;i.set(c/f*2-1,-l/d*2+1),a.setFromCamera(i,o)}(s);var f="onPointerMove"===o,d=function(t,n){var r=e.getState().internal;return"pointerId"in n&&r.capturedMap.has(n.pointerId)&&t.push.apply(t,(0,m.Z)(r.capturedMap.get(n.pointerId).values())),t}(function(t){var n=e.getState(),r=n.raycaster,a=n.internal;if(!r.enabled)return[];var i=new Set,o=[],s=t?t(a.interaction):a.interaction,u=r.intersectObjects(s,!0).filter((function(e){var t=N(e);return!i.has(t)&&(i.add(t),!0)}));r.filter&&(u=r.filter(u,n));var c,l=(0,y.Z)(u);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=f.object;d;){var h;(null==(h=d.__r3f)?void 0:h.handlers)&&o.push((0,g.Z)((0,g.Z)({},f),{},{eventObject:d})),d=d.parent}}catch(p){l.e(p)}finally{l.f()}return o}(f?r:void 0),s);f&&a(d),function(r,i,o){var s=e.getState(),u=s.raycaster,c=s.mouse,l=s.camera,f=s.internal;r.length&&function(){var e,s=t.set(c.x,c.y,0).unproject(l),d="click"===i.type?n(i):0,h=function(e){return i.target.releasePointerCapture(e)},p={stopped:!1},v=(0,y.Z)(r);try{var _=function(){var t=e.value,n=function(e){var n,r;return null!=(n=null==(r=f.capturedMap.get(e))?void 0:r.has(t.eventObject))&&n},v=function(e){f.capturedMap.has(e)?f.capturedMap.get(e).set(t.eventObject,t):f.capturedMap.set(e,new Map([[t.eventObject,t]])),i.target.setPointerCapture(e)},y={};for(var _ in Object.getPrototypeOf(i)){var b=i[_];"function"!==typeof b&&(y[_]=b)}var w=(0,g.Z)((0,g.Z)((0,g.Z)({},t),y),{},{spaceX:c.x,spaceY:c.y,intersections:r,stopped:p.stopped,delta:d,unprojectedPoint:s,ray:u.ray,camera:l,stopPropagation:function(){var e="pointerId"in i&&f.capturedMap.get(i.pointerId);if((!e||e.has(t.eventObject))&&(w.stopped=p.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((function(e){return e.eventObject===t.eventObject})))){var n=r.slice(0,r.indexOf(t));a([].concat((0,m.Z)(n),[t]))}},target:{hasPointerCapture:n,setPointerCapture:v,releasePointerCapture:h},currentTarget:{hasPointerCapture:n,setPointerCapture:v,releasePointerCapture:h},sourceEvent:i,nativeEvent:i});if(o(w),!0===p.stopped)return"break"};for(v.s();!(e=v.n()).done&&"break"!==_(););}catch(b){v.e(b)}finally{v.f()}}()}(d,s,(function(e){var t=e.eventObject,n=t.__r3f.handlers;if(n)if(f){if(n.onPointerOver||n.onPointerEnter||n.onPointerOut||n.onPointerLeave){var r=N(e),a=l.hovered.get(r);a?a.stopped&&e.stopPropagation():(l.hovered.set(r,e),null==n.onPointerOver||n.onPointerOver(e),null==n.onPointerEnter||n.onPointerEnter(e))}null==n.onPointerMove||n.onPointerMove(e)}else{var u=null==n?void 0:n[o];u&&("onClick"!==o&&"onContextMenu"!==o&&"onDoubleClick"!==o||l.initialHits.includes(t))&&(u(e),i(s,l.interaction.filter((function(e){return e!==t}))))}})),"onPointerDown"===o&&(l.initialClick=[s.offsetX,s.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),"onClick"!==o&&"onContextMenu"!==o&&"onDoubleClick"!==o||d.length||n(s)<=2&&(i(s,l.interaction),c&&c(s))}}}}var H=function(e){return e&&!!e.getState},V=function(e,t){var n,r;return{root:H(e)?e:null!=(n=null==(r=e.__r3f)?void 0:r.root)?n:t.__r3f.root,container:H(e)?e.getState().scene:e}},j="__default",W={},X=["children","key","ref"],q={},Y=function(e){q=(0,g.Z)((0,g.Z)({},q),e)};function Q(e,t){var n=e;return(null!=t&&t.instance||!n.__r3f)&&(n.__r3f=(0,g.Z)({root:null,memoizedProps:{},objects:[]},t)),e}var K,J=function(e){return e&&e.isOrthographicCamera},$=b.createContext(null),ee=function(e,t,n,r){var a=r.gl,i=r.size,o=r.shadows,s=void 0!==o&&o,c=r.linear,l=void 0!==c&&c,f=r.flat,d=void 0!==f&&f,h=r.vr,p=void 0!==h&&h,v=r.orthographic,y=void 0!==v&&v,b=r.frameloop,A=void 0===b?"always":b,M=r.dpr,E=void 0===M?1:M,C=r.performance,S=r.clock,T=void 0===S?new _.Clock:S,k=r.raycaster,B=r.camera,P=r.onPointerMissed;s&&(a.shadowMap.enabled=!0,"object"===typeof s?Object.assign(a.shadowMap,s):a.shadowMap.type=_.PCFSoftShadowMap),l||(d||(a.toneMapping=_.ACESFilmicToneMapping),a.outputEncoding=_.sRGBEncoding),"never"===A&&(T.stop(),T.elapsedTime=0);var L=(0,w.Z)((function(i,o){var s=new _.Raycaster,c=k||{},f=c.params,h=(0,u.Z)(c,I);e(s,(0,g.Z)((0,g.Z)({enabled:!0},h),{},{params:(0,g.Z)((0,g.Z)({},s.params),f)}),{});var v=B instanceof _.Camera,b=v?B:y?new _.OrthographicCamera(0,0,0,0,.1,1e3):new _.PerspectiveCamera(75,0,.1,1e3);function w(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}v||(b.position.z=5,B&&e(b,B,{}),b.lookAt(0,0,0));var x=w(E),M=new _.Vector3,S=new _.Vector3;function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o().size,r=n.width,a=n.height,i=r/a,s=e.getWorldPosition(M).distanceTo(t);if(J(e))return{width:r/e.zoom,height:a/e.zoom,factor:1,distance:s,aspect:i};var u=e.fov*Math.PI/180,c=2*Math.tan(u/2)*s,l=c*(r/a);return{width:l,height:c,factor:r/l,distance:s,aspect:i}}var D=void 0,R=function(e){return i((function(t){return{performance:(0,g.Z)((0,g.Z)({},t.performance),{},{current:e})}}))};return{gl:a,set:i,get:o,invalidate:function(){return t(o())},advance:function(e,t){return n(e,t,o())},linear:l,flat:d,scene:Q(new _.Scene),camera:b,raycaster:s,clock:T,mouse:new _.Vector2,vr:p,frameloop:A,onPointerMissed:P,performance:(0,g.Z)((0,g.Z)({current:1,min:.5,max:1,debounce:200},C),{},{regress:function(){var e=o();D&&clearTimeout(D),e.performance.current!==e.performance.min&&R(e.performance.min),D=setTimeout((function(){return R(o().performance.max)}),e.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:x,dpr:x,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:L},setSize:function(e,t){var n={width:e,height:t};i((function(e){return{size:n,viewport:(0,g.Z)((0,g.Z)({},e.viewport),L(b,S,n))}}))},setDpr:function(e){return i((function(t){return{viewport:(0,g.Z)((0,g.Z)({},t.viewport),{},{dpr:w(e)})}}))},events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i((function(n){var r=n.internal;return{internal:(0,g.Z)((0,g.Z)({},r),{},{priority:r.priority+(t?1:0),subscribers:[].concat((0,m.Z)(r.subscribers),[{ref:e,priority:t}]).sort((function(e,t){return e.priority-t.priority}))})}})),function(){i((function(n){var r=n.internal;return{internal:(0,g.Z)((0,g.Z)({},r),{},{priority:r.priority-(t?1:0),subscribers:r.subscribers.filter((function(t){return t.ref!==e}))})}}))}}}}}));L.subscribe((function(){var e=L.getState(),t=e.camera,n=e.size,r=e.viewport;e.internal.lastProps.camera instanceof _.Camera||(J(t)?(t.left=n.width/-2,t.right=n.width/2,t.top=n.height/2,t.bottom=n.height/-2):t.aspect=n.width/n.height,t.updateProjectionMatrix(),t.updateMatrixWorld()),a.setPixelRatio(r.dpr),a.setSize(n.width,n.height)}),(function(e){return[e.viewport.dpr,e.size]}),x);var D=L.getState();return i&&D.setSize(i.width,i.height),L.subscribe((function(e){return t(e)})),L};function te(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var ne=[],re=[],ae=[],ie=function(e){return te(e,ne)},oe=function(e){return te(e,re)},se=function(e){return te(e,ae)};function ue(e,t){for(K=0;K<e.length;K++)e[K](t)}function ce(e,t){var n=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(n=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),K=0;K<t.internal.subscribers.length;K++)t.internal.subscribers[K].ref.current(t,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function le(e){var t=G(e).handlePointer,n={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(n).reduce((function(e,n){return(0,g.Z)((0,g.Z)({},e),{},(0,c.Z)({},n,t(n)))}),{}),connect:function(t){var r,a=e.getState(),i=a.set,o=a.events;null==o.disconnect||o.disconnect(),i((function(e){return{events:(0,g.Z)((0,g.Z)({},e.events),{},{connected:t})}})),Object.entries(null!=(r=null==o?void 0:o.handlers)?r:[]).forEach((function(e){var r=(0,v.Z)(e,2),a=r[0],i=r[1],o=(0,v.Z)(n[a],2),s=o[0],u=o[1];t.addEventListener(s,i,{passive:u})}))},disconnect:function(){var t,r=e.getState(),a=r.set,i=r.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(0,v.Z)(e,2),r=t[0],a=t[1];if(i&&i.connected instanceof HTMLElement){var o=(0,v.Z)(n[r],1)[0];i.connected.removeEventListener(o,a)}})),a((function(e){return{events:(0,g.Z)((0,g.Z)({},e.events),{},{connected:!1})}})))}}}var fe="undefined"!==typeof window?b.useLayoutEffect:b.useEffect;function de(e){var t=e.set;return fe((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[]),null}var he=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return(0,a.Z)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(b.Component);function pe(e){var t=e.children,n=e.fallback,r=e.tabIndex,a=e.resize,i=e.id,o=e.style,s=e.className,c=e.events,l=(0,u.Z)(e,O),f=k((0,g.Z)({scroll:!0,debounce:{scroll:50,resize:0}},a)),d=(0,v.Z)(f,2),h=d[0],p=d[1],m=b.useRef(null),y=b.useState(!1),_=(0,v.Z)(y,2),w=_[0],x=_[1],A=b.useState(!1),M=(0,v.Z)(A,2),E=M[0],C=M[1];if(w)throw w;if(E)throw E;return fe((function(){p.width>0&&p.height>0&&Be(b.createElement(he,{set:C},b.createElement(b.Suspense,{fallback:b.createElement(de,{set:x})},t)),m.current,(0,g.Z)((0,g.Z)({},l),{},{size:p,events:c||le}))}),[p,t]),fe((function(){var e=m.current;return function(){return Le(e)}}),[]),b.createElement("div",{ref:h,id:i,className:s,tabIndex:r,style:(0,g.Z)({position:"relative",width:"100%",height:"100%",overflow:"hidden"},o)},b.createElement("canvas",{ref:m,style:{display:"block"}},n))}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0,n=b.useContext($);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n(e,t)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b.useContext($).getState().internal.subscribe,r=b.useRef(e);return b.useLayoutEffect((function(){r.current=e}),[e]),b.useLayoutEffect((function(){var e=n(r,t);return function(){return e()}}),[t,n]),null}function ge(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function ye(e){return b.useMemo((function(){return ge(e)}),[e])}function _e(e,t){return function(n){var r=new n;e&&e(r);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Promise.all(i.map((function(e){return new Promise((function(n,a){return r.load(e,(function(e){e.scene&&Object.assign(e,ge(e.scene)),n(e)}),t,(function(t){return a("Could not load ".concat(e,": ").concat(t.message))}))}))})))}}function be(e,t,n,r){var a=Array.isArray(t)?t:[t],i=C.G.apply(void 0,[_e(n,r),e].concat((0,m.Z)(a)));return Array.isArray(t)?i:i[0]}he.getDerivedStateFromError=function(){return{error:!0}},be.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return C.G.preload.apply(C.G,[_e(n),e].concat((0,m.Z)(r)))};var we=new Map,xe=["legacy","blocking","concurrent"],Ae=function(e){var t,n=!1;function r(a){if(n=!0,t=0,ue(ne,a),e.forEach((function(e){var n=e.store.getState();n.internal.active&&("always"===n.frameloop||n.internal.frames>0)&&(t+=ce(a,n))})),ue(re,a),t>0)return requestAnimationFrame(r);ue(ae,a),n=!1}return{loop:r,invalidate:function t(a){if(!a)return e.forEach((function(e){return t(e.store.getState())}));!a.vr&&a.internal.active&&"never"!==a.frameloop&&(a.internal.frames=Math.min(60,a.internal.frames+1),n||(n=!0,requestAnimationFrame(r)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;n&&ue(ne,t),r?ce(t,r):e.forEach((function(e){return ce(t,e.store.getState())})),n&&ue(re,t)}}}(we),Me=Ae.invalidate,Ee=Ae.advance,Ce=function(e){function t(e,t){var a,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=null!=(a=null==e?void 0:e.__r3f)?a:{},f=l.root,d=null!=(i=null==f||null==f.getState?void 0:f.getState())?i:{},h=[],y=[],b={},w=0;Object.entries(t).forEach((function(e){var t=(0,v.Z)(e,2),n=t[0],r=t[1];-1===X.indexOf(n)&&(b[n]=r)})),l.memoizedProps&&l.memoizedProps.args&&(b.args=l.memoizedProps.args),l.memoizedProps&&l.memoizedProps.attach&&(b.attach=l.memoizedProps.attach),e.__r3f&&(e.__r3f.memoizedProps=b);var x=Object.keys(t);for(w=0;w<x.length;w++)U.equ(t[x[w]],s[x[w]])&&h.push(x[w]),U.fun(t[x[w]])&&/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x[w])&&y.push(x[w]);var A=[];if(u)for(x=Object.keys(s),w=0;w<x.length;w++)t.hasOwnProperty(x[w])||A.push(x[w]);var M=[].concat(h,X);null!=(o=e.__r3f)&&o.instance&&M.push("object");var E=(0,g.Z)({},t);for(x=Object.keys(E),w=0;w<x.length;w++)M.indexOf(x[w])>-1&&delete E[x[w]];var C=Object.entries(E);for(w=0;w<A.length;w++)"children"!==A[w]&&C.unshift([A[w],j+"remove"]);if(C.length>0){if(C.forEach((function(t){var r=(0,v.Z)(t,2),a=r[0],i=r[1];if(!y.includes(a)){var o,s=e,u=s[a];if(a.includes("-")){var c=a.split("-");if(u=c.reduce((function(e,t){return e[t]}),e),!u||!u.set){var l=p(c.reverse()),f=l[0];s=l.slice(1).reverse().reduce((function(e,t){return e[t]}),e),a=f}}if(i===j+"remove")if(u&&u.constructor)i=new u.constructor(b.args);else if(s.constructor){var h=new s.constructor(s.__r3f.memoizedProps.args);i=h[u],h.dispose&&h.dispose()}else i=0;if(u&&u.set&&(u.copy||u instanceof _.Layers)){if(Array.isArray(i))if(u.fromArray)u.fromArray(i);else(o=u).set.apply(o,(0,m.Z)(i));else if(u.copy&&i&&i.constructor&&u.constructor.name===i.constructor.name)u.copy(i);else if(void 0!==i){var g=u instanceof _.Color;!g&&u.setScalar?u.setScalar(i):u instanceof _.Layers&&i instanceof _.Layers?u.mask=i.mask:u.set(i),!d.linear&&g&&u.convertSRGBToLinear()}}else s[a]=i,!d.linear&&s[a]instanceof _.Texture&&(s[a].encoding=_.sRGBEncoding);n(e)}})),u&&f&&e.raycast&&l.handlers){l.handlers=void 0;var S=d.internal.interaction.indexOf(e);S>-1&&d.internal.interaction.splice(S,1)}y.length&&(u&&f&&e.raycast&&d.internal.interaction.push(e),l.handlers=y.reduce((function(e,n){return(0,g.Z)((0,g.Z)({},e),{},(0,c.Z)({},n,t[n]))}),{})),e.parent&&r(e)}}function n(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function r(e){null==e.onUpdate||e.onUpdate(e)}function a(e,n,r,a,i){var o,c=n.args,l=void 0===c?[]:c,f=(0,u.Z)(n,D),d="".concat(e[0].toUpperCase()).concat(e.slice(1));if(!H(r)&&i){r=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(i)}if(!r||!H(r))throw"No valid root for ".concat(d,"!");if("primitive"===e){if(void 0===f.object)throw"Primitives without 'object' are invalid!";o=Q(f.object,{root:r,instance:!0})}else{var h=q[d]||_[d];if(!h)throw"".concat(d," is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively");var p=U.arr(l);o=Q(p?(0,s.Z)(h,(0,m.Z)(l)):new h(l),{root:r,memoizedProps:{args:p&&0===l.length?null:l}})}return d.endsWith("Geometry")?f=(0,g.Z)({attach:"geometry"},f):d.endsWith("Material")&&(f=(0,g.Z)({attach:"material"},f)),t(o,f,{}),o}function i(e,t){var a=!1;t&&(t.attachArray?(U.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(U.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&!U.fun(t.attach)?e[t.attach]=t:t.isObject3D&&(e.add(t),a=!0),a||(e.__r3f.objects.push(t),t.parent=e),r(t),n(t))}function o(e,t,a){var o=!1;if(t){if(t.attachArray){var s=e[t.attachArray];U.arr(s)||(e[t.attachArray]=[]),s.splice(s.indexOf(a),0,t)}else{if(t.attachObject||t.attach&&!U.fun(t.attach))return o=!0,i(e,t);if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var u=e.children.filter((function(e){return e!==t})),c=u.indexOf(a);e.children=[].concat((0,m.Z)(u.slice(0,c)),[t],(0,m.Z)(u.slice(c))),o=!0}}o||(e.__r3f.objects.push(t),t.parent=e),r(t),n(t)}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(0,m.Z)(e).forEach((function(e){return f(t,e,n)}))}function f(e,t,r){if(t){var a;if(e.__r3f.objects){var i=e.__r3f.objects.length;e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t})),e.__r3f.objects.length<i&&(t.parent=null)}if(t.attachArray)e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t}));else if(t.attachObject)delete e[t.attachObject[0]][t.attachObject[1]];else if(t.attach&&!U.fun(t.attach))e[t.attach]=null;else if(t.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}))}(t.__r3f.root,t)}var s,u=null==(a=t.__r3f)?void 0:a.instance,c=void 0===r?null!==t.dispose&&!u:r;if(!u)l(null==(s=t.__r3f)?void 0:s.objects,t,c),l(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,E.unstable_runWithPriority)(E.unstable_IdlePriority,(function(){return t.dispose()})),n(e)}}function d(e,t,n,r){var o=e.parent;if(o){var s=a(t,n,e.__r3f.root);e.children&&(e.children.forEach((function(e){return i(s,e)})),e.children=[]),e.__r3f.objects.forEach((function(e){return i(s,e)})),e.__r3f.objects=[],f(o,e),i(o,s),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=s,e.ref&&("function"===typeof e.ref?e.ref(s):e.ref.current=s))}))}}return{reconciler:M()({now:E.unstable_now,createInstance:a,removeChild:f,appendChild:i,appendInitialChild:i,insertBefore:o,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:U.fun(setTimeout)?setTimeout:void 0,cancelTimeout:U.fun(clearTimeout)?clearTimeout:void 0,setTimeout:U.fun(setTimeout)?setTimeout:void 0,clearTimeout:U.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:function(e,t){var n=V(e,t),r=n.container,a=n.root;r.__r3f.root=a,i(r,t)},removeChildFromContainer:function(e,t){f(V(e,t).container,t)},insertInContainerBefore:function(e,t,n){o(V(e,t).container,t,n)},commitUpdate:function(e,n,r,a,i,o){if(e.__r3f.instance&&i.object&&i.object!==e)d(e,r,i,o);else{var s=i.args,c=void 0===s?[]:s,l=(0,u.Z)(i,R),f=a.args,h=void 0===f?[]:f,p=(0,u.Z)(a,F);c.some((function(e,t){return U.obj(e)?Object.entries(e).some((function(e){var n=(0,v.Z)(e,2),r=n[0];return n[1]!==h[t][r]})):e!==h[t]}))?d(e,r,i,o):t(e,l,p,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,n(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,n(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance:function(e){return e},getRootHostContext:function(e){return W},getChildHostContext:function(e){return W},createTextInstance:function(){},finalizeInitialChildren:function(e){return!!e.__r3f.handlers},commitMount:function(e){e.raycast&&e.__r3f.handlers&&e.__r3f.root.getState().internal.interaction.push(e)},prepareUpdate:function(){return W},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}}),applyProps:t}}(),Se=Ce.reconciler,Te=Ce.applyProps,ke=function(e,t){return(n=e)&&n.render?e:new _.WebGLRenderer((0,g.Z)({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e));var n};function Be(e,t){var n,r,a,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s.gl,l=s.size,f=s.mode,d=void 0===f?xe[1]:f,h=s.events,p=s.onCreated,v=(0,u.Z)(s,z);l||(l={width:null!=(r=null==(a=t.parentElement)?void 0:a.clientWidth)?r:0,height:null!=(i=null==(o=t.parentElement)?void 0:o.clientHeight)?i:0});var m=we.get(t),y=null==m?void 0:m.fiber,_=null==m?void 0:m.store,w=null==(n=_)?void 0:n.getState();if(y&&w){var x=w.internal.lastProps;void 0===v.dpr||U.equ(x.dpr,v.dpr)||w.setDpr(v.dpr),void 0===l||U.equ(x.size,l)||w.setSize(l.width,l.height);var A=v.linear!==x.linear;A&&(Le(t),y=void 0)}if(!y){var M=ke(c,t);v.vr&&(M.xr.enabled=!0,M.setAnimationLoop((function(e){return Ee(e,!0)})));var E=(_=ee(Te,Me,Ee,(0,g.Z)({gl:M,size:l},v))).getState();E.get,y=Se.createContainer(_,xe.indexOf(d),!1,null),we.set(t,{fiber:y,store:_}),h&&E.set({events:h(_)})}if(_&&y)return Se.updateContainer(b.createElement(Pe,{store:_,element:e,onCreated:p,target:t}),y,null,(function(){})),_;throw"Error creating root!"}function Pe(e){var t=e.store,n=e.element,r=e.onCreated,a=e.target;return b.useEffect((function(){var e=t.getState();e.set((function(e){return{internal:(0,g.Z)((0,g.Z)({},e.internal),{},{active:!0})}})),null==e.events.connect||e.events.connect(a),r&&r(e)}),[]),b.createElement($.Provider,{value:t},n)}function Le(e,t){var n=we.get(e),r=null==n?void 0:n.fiber;if(r){var a=null==n?void 0:n.store.getState();a&&(a.internal.active=!1),Se.updateContainer(null,r,null,(function(){a&&setTimeout((function(){var n,r,i;null==a.events.disconnect||a.events.disconnect(),null==(n=a.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=a.gl)||null==i.forceContextLoss||i.forceContextLoss(),De(a),we.delete(e),t&&t(e)}),500)}))}}function De(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e){var n,r;null==(n=(r=t).dispose)||n.call(r),delete e[t]}}var Re=Se.act,Fe=U.fun(Symbol)&&Symbol.for?Symbol.for("react.portal"):60106;function Ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Fe,key:null==r?null:""+r,children:e,containerInfo:Q(t),implementation:n}}Se.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"})},9138:function(e,t,n){"use strict";var r=n(7757),a=n(4575).default,i=n(3913).default,o=n(6525).default,s=n(9754).default,u=n(2205).default,c=n(9842).default,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;var f=n(633),d=n(5729),h=n(4985),p=n(5756),v=n(7117),m=1,g=new Map,y=document.createElement("video");y.setAttribute("playsinline",""),y.setAttribute("webkit-playsinline",""),d.profile.videoElementInDOM&&(y.style.width="0px",y.style.height="0px",document.body.appendChild(y));var _=function(e){u(n,e);var t=c(n);function n(e,r,i){var o;return a(this,n),(o=t.call(this,y,r))._impl=e,o._deviceId=i,o._currentStream=null,o._activeDeviceId=null,o._hasStartedOrientation=!1,o._deviceMotionListener=function(e){var t=h.Pipeline.get(o._pipeline);if(t){var n=void 0!==e.timeStamp&&null!==e.timeStamp?e.timeStamp:performance.now();null!==e.accelerationIncludingGravity&&null!==e.accelerationIncludingGravity.x&&null!==e.accelerationIncludingGravity.y&&null!==e.accelerationIncludingGravity.z&&t.motionAccelerometerSubmit(n,e.accelerationIncludingGravity.x*d.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.y*d.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.z*d.profile.deviceMotionMutliplier),null===e.rotationRate||null===e.rotationRate.alpha||null===e.rotationRate.beta||null===e.rotationRate.gamma||o._hasStartedOrientation?o._hasStartedOrientation||o._startDeviceOrientation():(e.timeStamp,t.motionRotationRateSubmit(n,e.rotationRate.alpha*Math.PI/-180,e.rotationRate.beta*Math.PI/-180,e.rotationRate.gamma*Math.PI/-180))}},o}return i(n,[{key:"destroy",value:function(){g.delete(this._impl),o(s(n.prototype),"destroy",this).call(this)}},{key:"_stop",value:function(){this._currentStream&&(this._currentStream.getTracks().forEach((function(e){return e.stop()})),this._currentStream=null)}},{key:"pause",value:function(){o(s(n.prototype),"pause",this).call(this),this._stopDeviceMotion(),this._syncCamera()}},{key:"start",value:function(){o(s(n.prototype),"start",this).call(this),this._startDeviceMotion(),this._syncCamera()}},{key:"_getConstraints",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t,a,i,o,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deviceId!==n.DEFAULT_DEVICE_ID&&this._deviceId!==n.USER_DEFAULT_DEVICE_ID?t=this._deviceId:a=this._deviceId===n.DEFAULT_DEVICE_ID?"environment":"user",i={audio:!1,video:{facingMode:a,width:d.profile.videoWidth,height:d.profile.videoHeight,frameRate:d.profile.requestHighFrameRate?60:void 0,deviceId:t}},!t){e.next=4;break}return e.abrupt("return",i);case 4:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=6;break}return e.abrupt("return",i);case 6:return e.next=8,navigator.mediaDevices.enumerateDevices();case 8:if(o=e.sent,s=!1,o=o.filter((function(e){if("videoinput"!==e.kind)return!1;if(e.getCapabilities){s=!0;var t=e.getCapabilities();if(t&&t.facingMode&&t.facingMode.indexOf("user"===a?"user":"environment")<0)return!1}return!0})),s&&0!==o.length){e.next=13;break}return e.abrupt("return",i);case 13:return"object"===typeof i.video&&(v.zcout("choosing device ID",o[o.length-1].deviceId),i.video.deviceId=o[o.length-1].deviceId),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"getFrame",value:function(e){return this._cameraToScreenRotation=p.cameraRotationForScreenOrientation(!1),o(s(n.prototype),"getFrame",this).call(this,e)}},{key:"_getUserMedia",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getConstraints();case 2:if(t=e.sent,!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=7;break}return e.next=6,navigator.mediaDevices.getUserMedia(t);case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,new Promise((function(e,n){navigator.getUserMedia(t,e,n)}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_syncCamera",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._currentStream||!this._isPaused){e.next=3;break}return this._stop(),e.abrupt("return");case 3:if(this._currentStream&&this._activeDeviceId!==this._deviceId&&this._stop(),this._isPaused){e.next=22;break}return this._activeDeviceId=this._deviceId,e.next=8,this._getUserMedia();case 8:if(this._currentStream=e.sent,!this._isPaused){e.next=13;break}return e.next=12,this._syncCamera();case 12:return e.abrupt("return");case 13:if(this._isUserFacing=!1,this._currentStream&&(t=this._currentStream.getVideoTracks()).length>0&&(this._isUserFacing="user"===t[0].getSettings().facingMode),this._video instanceof HTMLVideoElement){e.next=17;break}return e.abrupt("return");case 17:this._video.src="",this._video.loop=!1,this._video.muted=!0,this._video.srcObject=this._currentStream,this._video.play();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"_startDeviceOrientation",value:function(){var e=this;this._hasStartedOrientation||(this._hasStartedOrientation=!0,window.addEventListener("deviceorientation",(function(t){var n=h.Pipeline.get(e._pipeline);if(n){var r=void 0!==t.timeStamp&&null!==t.timeStamp?t.timeStamp:performance.now();null!==t.alpha&&null!==t.beta&&null!==t.gamma&&n.motionAttitudeSubmit(r,t.alpha,t.beta,t.gamma)}})))}},{key:"_startDeviceMotion",value:function(){window.addEventListener("devicemotion",this._deviceMotionListener,!1)}},{key:"_stopDeviceMotion",value:function(){window.removeEventListener("devicemotion",this._deviceMotionListener)}}],[{key:"create",value:function(e,t){var r=m++;return g.set(r,new n(r,e,t)),v.zcout("camera_source_t initialized"),r}},{key:"get",value:function(e){return g.get(e)}}]),n}(f.HTMLElementSource);t.CameraSource=_,_.USER_DEFAULT_DEVICE_ID="Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b",_.DEFAULT_DEVICE_ID="Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b"},5756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cameraRotationForScreenOrientation=t.projectionMatrix=void 0;var r=n(2e3);function a(e){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return e?90:270;case"landscape-secondary":return 180;case"portrait-secondary":return e?270:90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return e?90:270;case 90:return 0;case 180:return e?270:90;case-90:return 180}return 0}t.projectionMatrix=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,s=2*e[2],u=2*e[3],c=r.mat4.create();r.mat4.frustum(c,i*(-.5-e[2])/e[0],i*(s-.5-e[2])/e[0],i*(u-.5-e[3])/e[1],i*(-.5-e[3])/e[1],i,o),c[4]*=-1,c[5]*=-1,c[6]*=-1,c[7]*=-1;var l=r.mat4.create();r.mat4.fromScaling(l,[.5*s,.5*u,1]),r.mat4.multiply(c,l,c),r.mat4.fromRotation(l,a(!1)*Math.PI/180,[0,0,1]),r.mat4.multiply(c,l,c);var f=r.vec3.create();f[0]=s,f[1]=u,f[2]=0,r.vec3.transformMat4(f,f,l);var d=Math.abs(f[0]),h=Math.abs(f[1]),p=1;return p=d/t>h/n?n/h:t/d,r.mat4.fromScaling(l,[p,p,1]),r.mat4.multiply(c,l,c),r.mat4.fromScaling(l,[2/t,2/n,1]),r.mat4.multiply(c,l,c),r.mat4.fromRotation(l,a(!1)*Math.PI/-180,[0,0,1]),r.mat4.multiply(c,c,l),c},t.cameraRotationForScreenOrientation=a},3262:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={incompatible:function(){return!("function"===typeof Promise&&"object"===typeof WebAssembly&&(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia))},incompatible_ui:function(){var e=document.createElement("div");e.append(function(){var e=document.createElement("div"),t="a recent web browser";navigator.userAgent.match(/Android/i)?(t="Chrome for Android",window.location.href="googlechrome://navigate?url="+encodeURI(window.location.href),setTimeout((function(){window.location.href="samsunginternet://open?url="+encodeURI(window.location.href)}),2e3)):navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(t="Safari",e.classList.add("zee-launcher-browser-safari")),e.classList.add("zee-launcher-unsupported"),e.innerHTML="\n            <style>.zee-launcher-unsupported {\n               display: flex;\n               flex-direction: column;\n               height: 100%;\n               justify-content: center;\n               position: absolute;\n               width: 100%;\n               height: 100%;\n               top: 0;\n               left: 0;\n               align-items: center;\n               }\n               .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 210 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cg transform='translate(83 146.5)'%3E%3Cpath d='m55.146 88.785l-32.039-49.472c19.962-24.947 49.904-38.684 80.517-38.81 17.739-0.12642 35.855 4.4246 52.336 13.99 18.2 10.619 32.039 25.874 40.846 43.404l-86.095-4.5511c-24.365-1.4327-47.556 12.347-55.565 35.439zm13.797 16.224c0 19.468 15.684 35.229 35.059 35.229 19.374 0 35.059-15.76 35.059-35.229 0-19.468-15.684-35.229-35.059-35.229-19.374 0-35.059 15.718-35.059 35.229zm132.06-37.588l-58.585 3.034c15.894 18.668 16.145 45.595 2.7678 66.243l-47.01 72.648c19.5 1.0535 39.588-3.2447 57.788-13.864 45.039-26.126 63.282-80.908 45.039-128.06zm-144.93 57.647l-39.126-77.326c-10.694 16.434-16.942 36.156-16.942 57.267 0 52.253 38.078 95.53 87.856 103.2l26.713-52.59c-24.155 4.5511-47.472-8.765-58.501-30.551z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n               width: 211px;\n               height: 211px;\n               margin-bottom: 25%;\n               margin-top: -60px;\n               background-repeat: no-repeat;\n               }\n               .zee-launcher-browser-safari .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 211 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cpath d='m180 251.86c0-4.0385 2.9377-7.855 7.2552-7.855 3.9614 0 7.7448 2.8402 7.7448 7.145 0 4.0385-2.8487 7.855-7.1662 7.855-4.0059 0-7.8338-2.9734-7.8338-7.145zm112-0.35503c0 57.728-46.772 104.5-104.5 104.5s-104.5-46.772-104.5-104.5 46.772-104.5 104.5-104.5 104.5 46.772 104.5 104.5zm-12-1c0-51.649-41.851-93.5-93.5-93.5s-93.5 41.851-93.5 93.5 41.851 93.5 93.5 93.5 93.5-41.851 93.5-93.5zm-30.624 40.983c0 1.5095 5.4495 4.2768 6.8328 5.1154-11.486 17.401-29.26 29.938-49.423 34.928l-1.8444-7.757c-0.12576-1.0482-0.79646-1.174-1.7606-1.174-0.79646 0-1.2576 1.174-1.1737 1.7611l1.8444 7.8828c-5.5753 1.174-11.234 1.7611-16.935 1.7611-15.217 0-30.182-4.2768-43.177-12.202 0.71263-1.174 5.1141-7.5474 5.1141-8.4698 0-0.79666-0.71263-1.5095-1.5091-1.5095-1.6348 0-5.1141 6.9603-6.1621 8.344-17.522-11.615-30.182-29.602-35.044-50.148l8.0066-1.761c0.92222-0.25158 1.1737-0.92246 1.1737-1.7611 0-0.79667-1.1737-1.2579-1.8444-1.174l-7.8389 1.803c-1.048-5.3251-1.6348-10.692-1.6348-16.143 0-15.556 4.4015-30.86 12.66-43.984 1.1737 0.71281 6.749 4.5284 7.6712 4.5284 0.79646 0 1.5091-0.58702 1.5091-1.3837 0-1.6353-6.1621-4.7381-7.5455-5.7024 11.821-17.275 29.805-29.728 50.219-34.34l1.7606 7.757c0.25152 0.92246 0.92222 1.174 1.7606 1.174 0.83838 0 1.2576-1.174 1.1737-1.8449l-1.7606-7.6732c5.1141-0.92246 10.312-1.5095 15.552-1.5095 15.552 0 30.727 4.4026 43.973 12.663-0.79646 1.174-4.5273 6.6249-4.5273 7.5474 0 0.79667 0.58687 1.5095 1.3833 1.5095 1.6348 0 4.7369-6.0379 5.5753-7.4216 17.187 11.615 29.469 29.351 34.248 49.561l-6.4975 1.3837c-1.048 0.25158-1.1737 0.92246-1.1737 1.8449 0 0.79667 1.1737 1.2579 1.7606 1.174l6.6232-1.5095c1.048 5.3251 1.6348 10.776 1.6348 16.227 0 15.221-4.1919 30.189-12.073 43.062-1.1737-0.58702-6.0364-4.0672-6.9586-4.0672-0.8803 0-1.5929 0.71281-1.5929 1.5095zm-14.876-98.483c-5.2178 4.88-53.863 49.48-55.228 51.8l-38.772 64.2c5.0974-4.76 53.863-49.6 55.108-51.72l38.892-64.28z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n               }\n               .zee-launcher-unsupported-message {\n               text-align: center;\n               width: 250px;\n               font-family: sans-serif;\n               color: #ffffff;\n               }\n               .zee-launcher-unsupported-message-copy {\n               border: 1px solid #ffffff;\n               border-radius: 5px;\n               margin-top: 10px;\n               }\n               #zee-launcher-unsupported-message-input {\n               border: none;\n               padding: 10px;\n               border-radius: 0px;\n               border-right: 1px solid #344B60;\n               height: 40px;\n               color: #ffffff;\n               background-color: black;\n               box-sizing: border-box;\n               width: calc(100% - 65px);\n               margin-left: 5px;\n               }\n               #zee-launcher-unsupported-message-button {\n               background: none;\n               border: none;\n               outline: none;\n               text-transform: uppercase;\n               color: #ffffff;\n               height: 40px;\n               display: inline-block;\n               width: 59px;\n               }\n               .zee-launcher-unsupported-message-before-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-before-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-after-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-after-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n            </style>\n            <div class=\"zee-launcher-browser-logo\"></div>\n            <div class=\"zee-launcher-unsupported-message\">Open with ".concat(t,' to access this content.</div>\n            <div class="zee-launcher-unsupported-message-before-copy">\n               <div class="zee-launcher-unsupported-message ">Tap below to copy the address for easy pasting into ').concat(t,'.</div>\n               <div class="zee-launcher-unsupported-message-copy"><input id="zee-launcher-unsupported-message-input" type="text/"><button id="zee-launcher-unsupported-message-button">Copy</button></div>\n            </div>\n            <div class="zee-launcher-unsupported-message zee-launcher-unsupported-message-after-copy">COPIED! Now paste into ').concat(t,"'s address bar to experience the content.</div>\n    ");var n=e.querySelector("#zee-launcher-unsupported-message-input")||document.createElement("input");n.value=window.location.href;var r=function(){if(navigator.userAgent.match(/iPhone|iPod|iPad/i)){var t=document.createRange();t.selectNodeContents(n);var r=window.getSelection();if(!r)return;r.removeAllRanges(),r.addRange(t),n.setSelectionRange(0,999999999)}else n.select();document.execCommand("copy"),n.blur(),e.classList.toggle("zee-launcher-unsupported-message-copied",!0)};return(e.querySelector("#zee-launcher-unsupported-message-button")||document.createElement("button")).addEventListener("click",r),n.addEventListener("click",r),e}()),Object.assign(e.style,{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:1001,backgroundColor:"rgba(0, 0, 0, 0.9)",fontFamily:"sans-serif",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),e.classList.add("zee_launcher_compatibility"),document.body.append(e)}}},2735:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;var i=function(){function e(){var t=this;r(this,e),this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:function(){return t._i32View[t._startOffset++]},bool:function(){return 1===t._i32View[t._startOffset++]},type:function(){return t._i32View[t._startOffset++]},float:function(){return t._f32View[t._startOffset++]},timestamp:function(){t._startOffset%2===1&&t._startOffset++;var e=t._f64View[t._startOffset/2];return t._startOffset+=2,e},string:function(){var e=t._i32View[t._startOffset++],n=(new TextDecoder).decode(new Uint8Array(t._buffer,4*t._startOffset,e));return t._startOffset+=e>>2,0!==(3&e)&&t._startOffset++,n},dataWithLength:function(){var e=t._i32View[t._startOffset++],n=new Uint8Array(e);return n.set(t._u8View.subarray(4*t._startOffset,4*t._startOffset+e)),t._startOffset+=n.byteLength>>2,0!==(3&n.byteLength)&&t._startOffset++,n.buffer},matrix4x4:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+16)),t._startOffset+=e,n},identityCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+50)),t._startOffset+=e,n},expressionCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+29)),t._startOffset+=e,n},cameraModel:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+6)),t._startOffset+=e,n},barcodeFormat:function(){return t._i32View[t._startOffset++]},faceLandmarkName:function(){return t._i32View[t._startOffset++]},instantTrackerTransformOrientation:function(){return t._i32View[t._startOffset++]},logLevel:function(){return t._i32View[t._startOffset++]}}}return a(e,[{key:"setData",value:function(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}},{key:"hasMessage",value:function(){return this._offset+1<this._length}},{key:"forMessages",value:function(e){for(;this.hasMessage();){var t=this._i32View[this._offset],n=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(n,this._processor)}}}]),e}();t.MessageDeserializer=i},7183:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.cameraFrameTextureMatrix=t.CameraDraw=void 0;var i=n(7916),o=n(2e3),s=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._vbo=void 0,this._shader&&this._gl.deleteProgram(this._shader.prog),this._shader=void 0}},{key:"_generate",value:function(e,t){if(this._vbo)return this._vbo;if(this._vbo||(this._vbo=e.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");var n=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,-1,0,1,0,1,-1,0,1,0,-1,1,0,0,1,1,1,0,1,1]);return e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._vbo}},{key:"drawCameraFrame",value:function(e,t,n,r){if(n.texture){var a=this._gl;a.disable(a.DEPTH_TEST),a.disable(a.SCISSOR_TEST),a.disable(a.CULL_FACE),a.disable(a.BLEND);var i=this._getCameraShader(a),o=this._generate(a,n);a.activeTexture(a.TEXTURE0),a.useProgram(i.prog),a.uniformMatrix4fv(i.unif_skinTexTransform,!1,l(n.dataWidth,n.dataHeight,e,t,n.uvTransform,r)),a.uniform1i(i.unif_skinSampler,0),a.bindTexture(a.TEXTURE_2D,n.texture),a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(i.attr_position,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(i.attr_position),a.vertexAttribPointer(i.attr_texCoord,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray(i.attr_texCoord),a.drawArrays(a.TRIANGLES,0,6),a.disableVertexAttribArray(i.attr_position),a.disableVertexAttribArray(i.attr_texCoord),a.bindTexture(a.TEXTURE_2D,null),a.bindBuffer(a.ARRAY_BUFFER,null),a.useProgram(null)}}},{key:"_getCameraShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,u),r=i.compileShader(e,e.FRAGMENT_SHADER,c);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"skinTexTransform");if(!a)throw new Error("Unable to get uniform location skinTexTransform");var o=e.getUniformLocation(t,"skinSampler");if(!o)throw new Error("Unable to get uniform location skinSampler");return this._shader={prog:t,unif_skinTexTransform:a,unif_skinSampler:o,attr_position:e.getAttribLocation(t,"position"),attr_texCoord:e.getAttribLocation(t,"texCoord")},this._shader}}]),e}();t.CameraDraw=s;var u="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nattribute vec4 position;\nattribute vec4 texCoord;\nvarying vec4 skinTexVarying;\nuniform mat4 skinTexTransform;\n\nvoid main()\n{\n    gl_Position = position;\n    skinTexVarying = skinTexTransform * texCoord;\n}",c="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2DProj(skinSampler, skinTexVarying);\n}";function l(e,t,n,r,a,i){var s=o.mat4.create(),u=o.mat4.create();o.mat4.fromTranslation(u,[-.5,-.5,0]),o.mat4.multiply(s,u,s),i&&(o.mat4.fromScaling(u,[-1,1,1]),o.mat4.multiply(s,u,s)),o.mat4.fromRotation(u,-1*function(){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return 270;case"landscape-secondary":return 180;case"portrait-secondary":return 90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return 270;case 90:return 0;case 180:return 90;case-90:return 180}return 0}()*Math.PI/180,[0,0,1]),o.mat4.multiply(s,u,s);var c=o.vec3.create();c[0]=n,c[1]=r,c[2]=0,o.vec3.transformMat4(c,c,u);var l=Math.abs(c[0]),f=Math.abs(c[1]);o.mat4.fromScaling(u,[1,-1,1]),o.mat4.multiply(s,u,s);var d=l/f,h=e/t;return d>h?o.mat4.fromScaling(u,[1,h/d,1]):o.mat4.fromScaling(u,[d/h,1,1]),o.mat4.multiply(s,u,s),o.mat4.fromTranslation(u,[.5,.5,0]),o.mat4.multiply(s,u,s),o.mat4.multiply(s,a,s),s}t.cameraFrameTextureMatrix=l},224:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDraw=void 0;var i=n(7916),o=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._normalbo&&this._gl.deleteBuffer(this._normalbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._normalbo=void 0,this._ibo=void 0,this._shader=void 0}},{key:"_generateIBO",value:function(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}},{key:"_generateVBO",value:function(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}},{key:"_generateNormalBO",value:function(e,t){if(this._normalbo||(this._normalbo=t.createBuffer()),!this._normalbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._normalbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._normalbo}},{key:"drawFace",value:function(e,t){var n=this._gl,r=this._getShader(n),a=this._generateVBO(t.getVertices(),n),i=this._generateNormalBO(t.getNormals(),n),o=this._generateIBO(t.getIndices(),n);n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.useProgram(r.prog),n.uniformMatrix4fv(r.unif_matrix,!1,e),n.bindBuffer(n.ARRAY_BUFFER,a),n.vertexAttribPointer(r.attr_position,3,n.FLOAT,!1,12,0),n.enableVertexAttribArray(r.attr_position),n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(r.attr_normal,3,n.FLOAT,!1,12,0),n.enableVertexAttribArray(r.attr_normal),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o),n.drawElements(n.TRIANGLES,t.getIndices().length,n.UNSIGNED_SHORT,0),n.disableVertexAttribArray(r.attr_position),n.disableVertexAttribArray(r.attr_normal),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}},{key:"_getShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,s),r=i.compileShader(e,e.FRAGMENT_SHADER,u);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"matrix");if(!a)throw new Error("Unable to get uniform location mattrix");return this._shader={prog:t,unif_matrix:a,attr_position:e.getAttribLocation(t,"position"),attr_normal:e.getAttribLocation(t,"normal")},this._shader}}]),e}();t.FaceDraw=o;var s="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nattribute vec4 position;\nattribute vec3 normal;\nvarying highp vec3 vnormal;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vnormal = normal;\n}",u="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nvarying highp vec3 vnormal;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    vec3 normal2 = 0.5 * vnormal + 0.5;\n    gl_FragColor = vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},2667:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDrawProject=void 0;var i=n(7916),o=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._uvbo&&this._gl.deleteBuffer(this._uvbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._uvbo=void 0,this._ibo=void 0,this._shader=void 0}},{key:"_generateIBO",value:function(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}},{key:"_generateVBO",value:function(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}},{key:"_generateUVBO",value:function(e,t){if(this._uvbo||(this._uvbo=t.createBuffer()),!this._uvbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._uvbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._uvbo}},{key:"drawFace",value:function(e,t,n,r,a,i){var o=this._gl,s=this._getShader(o),u=this._generateVBO(t,o),c=this._generateUVBO(r,o),l=this._generateIBO(a,o);o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.useProgram(s.prog),o.uniformMatrix4fv(s.unif_matrix,!1,e),o.uniformMatrix4fv(s.unif_uvmatrix,!1,n),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(s.unif_sampler,0),o.bindBuffer(o.ARRAY_BUFFER,u),o.vertexAttribPointer(s.attr_position,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_position),o.bindBuffer(o.ARRAY_BUFFER,c),o.vertexAttribPointer(s.attr_uv,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,l),o.drawElements(o.TRIANGLES,6912,o.UNSIGNED_SHORT,0),o.disableVertexAttribArray(s.attr_position),o.disableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null)}},{key:"_getShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,s),r=i.compileShader(e,e.FRAGMENT_SHADER,u);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"matrix");if(!a)throw new Error("Unable to get uniform location matrix");var o=e.getUniformLocation(t,"uvmatrix");if(!o)throw new Error("Unable to get uniform location matrix");var c=e.getUniformLocation(t,"uSampler");if(!c)throw new Error("Unable to get uniform location sampler");return this._shader={prog:t,unif_matrix:a,unif_sampler:c,unif_uvmatrix:o,attr_position:e.getAttribLocation(t,"position"),attr_uv:e.getAttribLocation(t,"uv"),attr_texturecoord:e.getAttribLocation(t,"aTextureCoord")},this._shader}}]),e}();t.FaceDrawProject=o;var s="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nuniform mat4 uvmatrix;\nattribute vec4 position;\nattribute vec3 normal;\nattribute vec3 uv;\n\n// varying highp vec3 vnormal;\n\nvarying highp vec2 vTextureCoord;\nvarying highp float vAlpha;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vec4 ret = uvmatrix * vec4(uv.x, uv.y, uv.z, 1.0);\n    ret.x /= ret.w * 2.0;\n    ret.y /= ret.w * 2.0;\n    ret.x += 0.5;\n    ret.y += 0.0;\n    vAlpha = 1.0;\n    vTextureCoord = ret.xy;\n}",u="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vnormal;\nvarying highp float vAlpha;\nuniform lowp sampler2D uSampler;\n\nvoid main()\n{\n    // vec3 normal2 = 0.5 * vnormal + 0.5;\n    vec4 p = texture2D(uSampler, vTextureCoord);\n    p.a = vAlpha;\n    gl_FragColor = p; // vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},1758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawPlane=t.disposeDrawPlane=void 0;var r,a,i,o=n(7916),s={};function u(e){if(i)return i;if(!(i=e.createBuffer()))throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),i}t.disposeDrawPlane=function(){r=void 0,a=void 0,i=void 0,s={}},t.drawPlane=function(e,t,n,r,i){var o=c(e),l=function(e){if(a)return a;if(!(a=e.createBuffer()))throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-.5,.125,0,-.5,-.125,0,.5,.125,0,.5,-.125,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),a}(e),f=u(e);e.disable(e.DEPTH_TEST),e.useProgram(o.prog),e.uniformMatrix4fv(o.unif_proj,!1,t),e.uniformMatrix4fv(o.unif_camera,!1,n),e.uniformMatrix4fv(o.unif_matrix,!1,r),e.bindBuffer(e.ARRAY_BUFFER,l),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,function(e,t){if(s[t])return s[t];var n=e.createTexture();if(!n)throw new Error("Unable to create texture");s[t]=n,e.bindTexture(e.TEXTURE_2D,n);var r=0,a=e.RGBA,i=1,o=1,u=0,c=e.RGBA,l=e.UNSIGNED_BYTE,f=new Uint8Array([0,0,255,255]);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,r,a,i,o,u,c,l,f);var d=new Image;return d.onload=function(){e.bindTexture(e.TEXTURE_2D,n),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,r,a,c,l,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},d.src=t,n}(e,i)),e.uniform1i(o.unif_skinSampler,0),e.vertexAttribPointer(o.attr_position,3,e.FLOAT,!1,12,0),e.enableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,f),e.vertexAttribPointer(o.attr_textureCoord,2,e.FLOAT,!1,8,0),e.enableVertexAttribArray(o.attr_textureCoord),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.disableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,null)};function c(e){if(r)return r;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=o.compileShader(e,e.VERTEX_SHADER,"\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 projMatrix;\nuniform mat4 cameraMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec4 position;\nattribute vec2 textureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main()\n{\n    gl_Position = projMatrix * cameraMatrix * modelViewMatrix * position;\n    vTextureCoord = textureCoord;\n}"),a=o.compileShader(e,e.FRAGMENT_SHADER,"\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nuniform sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2D(skinSampler, vTextureCoord);\n}");e.attachShader(t,n),e.attachShader(t,a),o.linkProgram(e,t);var i=e.getUniformLocation(t,"projMatrix");if(!i)throw new Error("Unable to get uniform location projMatrix");var s=e.getUniformLocation(t,"modelViewMatrix");if(!s)throw new Error("Unable to get uniform location modelViewMatrix");var u=e.getUniformLocation(t,"cameraMatrix");if(!u)throw new Error("Unable to get uniform location cameraMatrix");var c=e.getUniformLocation(t,"skinSampler");if(!c)throw new Error("Unable to get uniform location skinSampler");return r={prog:t,unif_matrix:s,unif_proj:i,unif_camera:u,unif_skinSampler:c,attr_position:e.getAttribLocation(t,"position"),attr_textureCoord:e.getAttribLocation(t,"textureCoord")}}},1319:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o;var s=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t){for(var n=0,r=this._funcs.length;n<r;n++)this._funcs[n](e,t)}}]),e}();t.Event2=s;var u=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n){for(var r=0,a=this._funcs.length;r<a;r++)this._funcs[r](e,t,n)}}]),e}();t.Event3=u;var c=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n,r,a){for(var i=0,o=this._funcs.length;i<o;i++)this._funcs[i](e,t,n,r,a)}}]),e}();t.Event5=c},1192:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.getFaceLandmark=t.destroyFaceLandmark=t.createFaceLandmark=void 0;var i=n(2e3),o=n(3987),s=n(7117),u=1,c=new Map;t.createFaceLandmark=function(e){var t=u++;return c.set(t,new l(e)),s.zcout("face_landmark_t initialized"),t},t.destroyFaceLandmark=function(e){c.delete(e)},t.getFaceLandmark=function(e){return c.get(e)};var l=function(){function e(t){r(this,e),this._name=t,this.anchor_pose=i.mat4.create()}return a(e,[{key:"_getVertex",value:function(e,t,n){for(var r=n.mean.slice(),a=0;a<50;a++)r[0]+=e[a]*n.identity[3*a+0],r[1]+=e[a]*n.identity[3*a+1],r[2]+=e[a]*n.identity[3*a+2];for(var i=0;i<29;i++)r[0]+=t[i]*n.expression[3*i+0],r[1]+=t[i]*n.expression[3*i+1],r[2]+=t[i]*n.expression[3*i+2];return r}},{key:"update",value:function(e,t,n){var r,a=o.landmarkData[this._name.toString()];if(a){if(Array.isArray(a)){r=this._getVertex(e,t,a[0]);var s=this._getVertex(e,t,a[1]);r[0]=.5*(r[0]+s[0]),r[1]=.5*(r[1]+s[1]),r[2]=.5*(r[2]+s[2])}else r=this._getVertex(e,t,a);n&&(r[0]*=-1),i.mat4.fromTranslation(this.anchor_pose,r)}}}]),e}();t.FaceLandmark=l},3987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.landmarkData=void 0,t.landmarkData={0:[{mean:[.235,.2344,.7305],identity:[.008,.0087,.0024,-.0026,6e-4,-.0022,5e-4,.0033,.0026,.0017,-.0055,-8e-4,.0011,.0059,0,2e-4,.001,-.001,-.0044,-.0011,-1e-4,.0024,.0019,-9e-4,4e-4,-.0015,0,.0038,.0013,3e-4,.002,-.0021,.0018,.0023,.0011,.0012,-.0011,-.0017,9e-4,-.0012,-8e-4,7e-4,-.0017,.0029,-.0029,8e-4,-.0027,8e-4,-.0017,4e-4,9e-4,-.001,-3e-4,8e-4,-.0016,-3e-4,-7e-4,.0016,-9e-4,.0021,-5e-4,.0011,-.0024,-1e-4,6e-4,1e-4,-.0026,-4e-4,-3e-4,-9e-4,5e-4,3e-4,-8e-4,-.001,-4e-4,-8e-4,.0022,-.0014,-1e-4,-.0023,0,-.0018,7e-4,-.0036,.0017,.0017,-.0018,-2e-4,-4e-4,-9e-4,-8e-4,3e-4,.0012,9e-4,-4e-4,-.0016,5e-4,-.0013,.0011,.0023,.0029,.0024,.0017,-.0027,-4e-4,-.001,-.0018,-.0015,-.001,.001,-.0013,-1e-4,-2e-4,7e-4,3e-4,3e-4,-.0016,9e-4,-.0021,4e-4,.0014,.002,-7e-4,-4e-4,2e-4,-4e-4,-6e-4,-9e-4,.0015,4e-4,-4e-4,5e-4,-.0015,9e-4,3e-4,3e-4,-2e-4,-8e-4,-9e-4,.0023,4e-4,1e-4,-4e-4,-1e-4,7e-4,2e-4,.001,1e-4,-.0029,-5e-4],expression:[0,3e-4,.0052,-7e-4,-.0051,-.0103,0,.0019,.0027,-.0054,.0135,.035,-5e-4,-6e-4,.0025,-.0045,-.0557,-.003,-.0191,-.1199,.0548,-.0036,-.0682,-.0167,2e-4,-.0085,-.0085,.0044,.0041,-.0568,.0044,.179,.0065,-.0017,-.1006,.0036,-.0267,-.3279,.0301,-.0011,-.0173,-.001,.0046,.2808,.0207,.0162,.238,-.0225,.0017,.1041,.0203,5e-4,.0161,.0031,-.0436,.6504,.0873,-.0099,.1039,.0048,-.0254,.2534,-.0042,.003,-.0106,-.0153,-.0118,.0252,9e-4,-.0071,.0099,.007,-.0724,.0461,-.0235,.0833,.004,.0141,-.0219,.0132,-.0042,-.0179,.0045,-.0215,.3638,.0054,-.0445]},{mean:[.2358,.1466,.7183],identity:[.0077,.0093,1e-4,-.0022,0,-.0041,5e-4,.0022,.0028,.0018,-.0038,-.0013,.001,.0044,-2e-4,0,.0017,-.0016,-.0043,-2e-4,-1e-4,.0023,9e-4,5e-4,-7e-4,-4e-4,-.0017,.003,7e-4,6e-4,.0011,-.0018,5e-4,.0018,-8e-4,4e-4,-.0023,-6e-4,-3e-4,-.0015,-.0014,-1e-4,-.0018,.0027,-.0026,3e-4,-.0031,.0011,-.0026,-.0011,.0012,-.0013,-2e-4,7e-4,-.0021,.0021,4e-4,.0012,-.001,.002,-3e-4,2e-4,-.0026,-3e-4,.001,1e-4,-.0018,-.001,9e-4,-.0011,.001,4e-4,-8e-4,-7e-4,-.001,-3e-4,7e-4,-5e-4,-6e-4,-.0019,-5e-4,-.002,7e-4,-.0027,.0014,.0013,6e-4,-5e-4,-3e-4,-3e-4,-.001,0,.0019,1e-4,6e-4,-.0012,4e-4,-9e-4,4e-4,.0025,3e-4,.0024,.0017,-9e-4,-.0015,-.0015,-.001,-.0023,-.001,-5e-4,-4e-4,8e-4,9e-4,7e-4,2e-4,7e-4,-9e-4,9e-4,-.0013,1e-4,9e-4,2e-4,6e-4,-6e-4,-8e-4,-4e-4,-7e-4,8e-4,.0019,3e-4,.0015,2e-4,-.0015,-3e-4,0,6e-4,3e-4,6e-4,-6e-4,2e-4,5e-4,-4e-4,.0012,-4e-4,2e-4,-8e-4,6e-4,-4e-4,2e-4,-.0021],expression:[-.0034,.0054,.0069,.004,6e-4,-.0104,-3e-4,.0036,.0025,.0065,.0296,.0208,-9e-4,.0154,.0029,-.0167,.0124,.004,-.0102,.0351,.028,-.019,.0146,-.0035,-.0023,-.0069,-.0051,-.01,.0262,-.028,.0112,.082,.023,-.0019,-.066,-.0104,-.0408,.0164,.0075,-.0074,.0367,.0041,.0517,-.0207,.0045,.0291,-.0672,-.0129,.0345,-.1558,-.0106,.0037,-.0437,-.0021,.0854,-.1121,.0187,.0041,.0072,.0011,.0193,-.0143,-.0119,.005,-.02,-.0122,-.008,.0527,.0036,-.006,.0222,.007,-.0429,.046,-.0046,.0226,-.0059,.0202,-.0173,.0087,0,-.0067,-.0095,-.0153,.1506,-.0017,.0021]}],1:[{mean:[-.2271,.2323,.7319],identity:[-.0084,.0097,.0018,.0041,2e-4,-.002,-.0012,.0036,.0019,-9e-4,-.0063,-.001,-3e-4,.0053,6e-4,1e-4,5e-4,-.0015,.0044,-.0025,-.0015,-.002,.0016,-6e-4,2e-4,-.0013,0,-.0022,2e-4,2e-4,-.0025,-.0014,.0015,8e-4,2e-4,.0012,6e-4,-6e-4,.0017,0,3e-4,-1e-4,.0024,.0025,-.0029,-.0015,-.0015,1e-4,.0031,-.0016,7e-4,.0019,6e-4,.002,9e-4,.001,-.0014,-.002,-.0015,.0029,1e-4,5e-4,-.0023,8e-4,-.0011,.0019,.0017,-3e-4,-.0011,-3e-4,.0011,-8e-4,.0019,-.0022,1e-4,.0015,.0017,-8e-4,-.0011,-.0022,3e-4,.0022,6e-4,-.003,-2e-4,0,-.0017,-2e-4,0,1e-4,4e-4,.0012,.0019,-.0014,4e-4,-.0017,-.0012,-.0011,.0021,-.0029,.0026,.0018,-.0023,-.0029,1e-4,.0014,-.0019,-4e-4,-4e-4,.0023,-.0016,0,-9e-4,.0014,-.0015,.0015,-.0016,-.0011,-.0022,1e-4,-.0018,.0027,-.0013,4e-4,-1e-4,-5e-4,.0011,-2e-4,.0015,5e-4,-9e-4,-1e-4,.0029,6e-4,0,-3e-4,7e-4,-8e-4,-5e-4,.0025,3e-4,2e-4,-8e-4,-1e-4,3e-4,0,.0014,2e-4,-.0024,1e-4],expression:[-.0025,-9e-4,.006,.004,-.0027,-.0113,-8e-4,.001,.0031,-.0016,.0144,.0382,-3e-4,-5e-4,.0035,-.0044,-.0511,-.0014,-7e-4,-.1007,.0582,-6e-4,-.0606,-.0165,5e-4,-.0087,-.0093,.0036,.0057,-.0576,-.0039,.1488,.0127,.0016,-.0666,-9e-4,-.0153,.3162,-.0445,-.0021,.0023,.0043,-.0033,.2382,.0063,-.0217,.167,-.039,.0097,-.1144,-.0189,-.0145,.6831,.0632,-.0012,-.1959,-.0133,4e-4,.1108,-3e-4,.0062,.2593,-.0161,-.0018,-.0051,-.012,.0162,.016,-.0022,-.0052,-.0201,.0101,.0115,.0365,-.024,-.0059,.0188,-.0336,.0352,.0224,-.0229,.0146,.0086,-.0273,-.0032,.0103,-.0112]},{mean:[-.2288,.1541,.7202],identity:[-.0082,.0101,2e-4,.0036,-7e-4,-.0037,-8e-4,.0024,.0022,-.0013,-.0045,-.0013,-6e-4,.0045,-4e-4,4e-4,.0012,-.0014,.0042,-.001,-7e-4,-.0019,3e-4,-2e-4,.0012,-4e-4,-.0012,-.0018,-4e-4,-1e-4,-.0014,-.0012,1e-4,1e-4,-.0017,.001,.0015,-1e-4,6e-4,1e-4,0,-6e-4,.0028,.0021,-.0025,-.002,-.0015,7e-4,.0028,-.0023,9e-4,.0013,1e-4,.0016,.0012,.0032,-6e-4,-.0013,-.0011,.0021,3e-4,-5e-4,-.0024,4e-4,-4e-4,.0014,.0015,-8e-4,-3e-4,3e-4,.0017,-6e-4,.002,-.0018,-3e-4,9e-4,1e-4,2e-4,-6e-4,-.0015,-4e-4,.0022,7e-4,-.0023,0,-2e-4,-2e-4,-3e-4,-1e-4,6e-4,-2e-4,6e-4,.0022,-3e-4,.0013,-.0014,-5e-4,-3e-4,.0013,-.0027,6e-4,.0025,-.0023,-8e-4,-.0013,.0017,-9e-4,-.0019,1e-4,8e-4,-7e-4,-4e-4,0,.001,-.001,.0019,-8e-4,-.0015,-6e-4,-2e-4,-.0011,8e-4,1e-4,9e-4,-8e-4,-4e-4,6e-4,7e-4,.0021,-4e-4,7e-4,-5e-4,.0021,-7e-4,-4e-4,-9e-4,8e-4,3e-4,1e-4,3e-4,1e-4,9e-4,.001,-5e-4,5e-4,-.001,.001,4e-4,-5e-4,-.0012],expression:[8e-4,.0037,.0078,-4e-4,5e-4,-.012,-2e-4,-.0046,.0033,-.0089,.0295,.0221,-.0024,-.0084,.0013,.0057,.0125,.0049,-.0036,.0373,.0285,.0115,.0135,-.0035,.0048,.0108,-.0033,.0106,.0281,-.0301,-.0082,.0803,.0244,-7e-4,-.0725,-.0105,-.0247,-.0036,-.0143,-.0045,-.029,2e-4,-.0303,.0093,-.0021,-.0196,-.0754,-.0211,.0326,.1246,.006,-.0804,-.1499,.0109,.0182,-.0029,-.0014,-.0035,.0072,-8e-4,-.0152,-.0108,-.0166,-.0073,-.0144,-.0095,.0101,.047,-.0018,-.004,-.0189,.0027,.0104,.0298,-.0042,-.0096,.0191,-.0217,.0228,.0226,-.0105,.0047,-.0048,-.0172,.0061,-.0043,-.0016]}],2:{mean:[.5396,.2028,.2496],identity:[.0204,.0146,-.0182,-.0052,.0158,-.0038,-.0025,-.0108,-.006,.0085,-.0044,.0029,.0042,.001,.0095,.0015,-.0034,-.0064,-.0057,7e-4,.0026,7e-4,.0037,-6e-4,.0037,.0026,.0024,5e-4,-.0019,-.0013,.003,-.0028,.0018,-9e-4,.002,-.0047,.004,-.003,.0031,-.0027,-.0026,-.0017,.0016,.0014,-4e-4,.0021,-.002,0,.0017,7e-4,-4e-4,-7e-4,-.0018,-9e-4,2e-4,-.0012,1e-4,-5e-4,-.0011,4e-4,2e-4,.0011,1e-4,8e-4,.0017,-.0013,.0025,.0017,.001,2e-4,3e-4,5e-4,-4e-4,-1e-4,-5e-4,7e-4,-.0022,-.0029,6e-4,-8e-4,-6e-4,6e-4,-5e-4,5e-4,.0013,3e-4,-5e-4,-.003,7e-4,2e-4,.0016,-4e-4,0,0,4e-4,1e-4,.0014,.0012,1e-4,4e-4,-1e-4,8e-4,9e-4,4e-4,-4e-4,9e-4,-2e-4,.001,9e-4,4e-4,1e-4,7e-4,7e-4,.001,-.0017,-8e-4,2e-4,.0017,-3e-4,-1e-4,4e-4,5e-4,7e-4,5e-4,-1e-4,-6e-4,-1e-4,1e-4,-3e-4,-7e-4,-2e-4,-5e-4,0,-3e-4,3e-4,8e-4,-2e-4,-3e-4,5e-4,1e-4,-7e-4,-.001,-2e-4,3e-4,4e-4,-1e-4,7e-4,0,4e-4,4e-4],expression:[1e-4,-4e-4,1e-4,0,5e-4,2e-4,0,0,3e-4,-2e-4,3e-4,5e-4,-1e-4,2e-4,8e-4,1e-4,-2e-4,-5e-4,-3e-4,6e-4,5e-4,0,1e-4,2e-4,1e-4,-1e-4,-6e-4,-2e-4,5e-4,0,-4e-4,4e-4,.0016,4e-4,-4e-4,-.0015,0,1e-4,1e-4,-3e-4,3e-4,.0019,-2e-4,7e-4,4e-4,4e-4,-8e-4,-.0015,.0013,-.0016,-.0069,4e-4,-6e-4,-.0019,0,-1e-4,5e-4,-3e-4,2e-4,.0014,-3e-4,6e-4,.0011,4e-4,-3e-4,-.0032,-6e-4,8e-4,.0025,-3e-4,3e-4,.0015,-1e-4,1e-4,3e-4,-1e-4,0,0,-3e-4,4e-4,.0019,1e-4,0,-8e-4,-1e-4,1e-4,5e-4]},3:{mean:[-.5464,.2141,.26],identity:[-.0207,.0172,-.0176,.0068,.0148,-.0051,.0042,-.0101,-.0058,-.0087,-.0059,.0045,-.0056,.0017,.0097,-.0048,-.004,-.0044,.0019,2e-4,.0041,-.0052,.0041,2e-4,-.0027,6e-4,.002,-.0027,-.0033,-6e-4,-.004,9e-4,-.0012,-1e-4,-.0026,.0021,-.003,-.0025,.0052,.0025,.0022,-1e-4,-8e-4,.0013,.001,4e-4,.0018,.0014,6e-4,-5e-4,-.0015,-.0039,.0014,-1e-4,8e-4,-2e-4,6e-4,-5e-4,-.0038,-.0012,-.0018,-3e-4,.001,9e-4,.0012,.0024,-.0024,-7e-4,-.0016,-.0016,3e-4,-.001,-.0014,-.0014,.001,-3e-4,-7e-4,-.0012,3e-4,6e-4,3e-4,-5e-4,3e-4,.0012,6e-4,-8e-4,4e-4,4e-4,8e-4,-2e-4,-.0014,3e-4,0,.0023,-3e-4,-.0012,-.0013,.0011,-2e-4,-.0014,-1e-4,.0014,0,3e-4,3e-4,-8e-4,-5e-4,-7e-4,-7e-4,-2e-4,3e-4,5e-4,2e-4,-1e-4,.0011,-.0014,1e-4,-.0015,-1e-4,-3e-4,0,-.001,-1e-4,-8e-4,8e-4,-8e-4,-2e-4,-.0011,-3e-4,-4e-4,1e-4,-2e-4,3e-4,-7e-4,0,3e-4,1e-4,-8e-4,5e-4,1e-4,4e-4,.0014,-6e-4,-.001,-3e-4,-2e-4,1e-4,-1e-4,-1e-4,7e-4],expression:[-3e-4,-1e-4,6e-4,4e-4,0,-7e-4,0,-3e-4,-2e-4,-4e-4,.0012,8e-4,1e-4,-5e-4,-7e-4,-4e-4,0,1e-4,-4e-4,.0017,7e-4,0,1e-4,3e-4,0,4e-4,4e-4,5e-4,1e-4,-.001,-7e-4,.0022,.0026,5e-4,-.0024,-.0023,0,1e-4,3e-4,0,-.0013,-.0015,6e-4,.0014,8e-4,-2e-4,-.0025,-.0023,-3e-4,.0049,.006,-2e-4,-7e-4,-2e-4,0,-.0019,-.0018,-2e-4,.0017,.0017,3e-4,.0015,7e-4,1e-4,-.0023,-.0036,2e-4,.0023,.0017,0,-5e-4,-3e-4,-3e-4,4e-4,2e-4,-1e-4,-3e-4,-5e-4,1e-4,.0018,.0025,1e-4,-6e-4,-.0011,0,1e-4,1e-4]},4:{mean:[.0018,.1864,.853],identity:[-.0011,.0134,.0085,9e-4,-.0025,-7e-4,-3e-4,.0033,4e-4,-5e-4,-.0047,-.002,7e-4,.0026,-.0069,-1e-4,.0036,.0072,5e-4,-8e-4,-.0047,4e-4,-8e-4,-.001,0,2e-4,-.0036,-2e-4,-.001,-.0048,-1e-4,.0018,.0044,-7e-4,-2e-4,.0043,3e-4,.002,-.0031,0,-7e-4,.0013,0,.0037,.0033,-.0016,-.0012,.002,-1e-4,-.0027,.0051,5e-4,8e-4,7e-4,-.0017,.0054,.0023,-3e-4,.0032,1e-4,0,7e-4,-5e-4,-.0011,2e-4,8e-4,0,-.0033,-8e-4,-7e-4,7e-4,.0033,5e-4,-3e-4,.0029,-1e-4,-.0024,-.0011,-.002,-.0015,-.0019,2e-4,7e-4,.0031,6e-4,.0012,0,0,-.0021,0,-9e-4,-.0011,-.0011,-2e-4,.0015,.001,.0013,8e-4,.001,-3e-4,9e-4,.0027,-2e-4,-.0011,-.0011,6e-4,7e-4,2e-4,1e-4,-5e-4,-.0022,.0011,-.0014,9e-4,3e-4,2e-4,0,-6e-4,-4e-4,-.0011,-7e-4,.001,-.0012,6e-4,-.0012,-.0015,3e-4,-9e-4,-.0013,-.0013,7e-4,.001,-.0011,-.0013,.0015,4e-4,1e-4,4e-4,-1e-4,-.0016,-.0016,9e-4,-7e-4,-.0024,5e-4,-1e-4,-.0017,-2e-4,3e-4,-9e-4],expression:[-.0017,.0019,.0097,.003,-.0103,-.0093,9e-4,6e-4,.0023,-.0017,-.0204,.0376,.0033,-.0034,.0033,-.0026,-.0322,.0396,-.0032,-.0947,.0942,-7e-4,-.0175,.0266,-.001,-6e-4,.0016,.0025,.0157,-.0142,-.0022,.037,.015,.0021,-.0102,-.0107,.0036,.0055,-.0051,.0021,3e-4,-3e-4,4e-4,-.0177,.0074,-6e-4,-.0357,.0149,-.0066,9e-4,.0013,-.0031,.0016,.0095,.002,.0052,.0035,-3e-4,.0053,-.0082,.002,.0022,-.0071,-.0011,5e-4,.0055,.0011,3e-4,-.0126,-4e-4,3e-4,-.0023,-.0015,.0059,.0063,-.0042,-.0023,.0055,.0019,.0017,-.0075,6e-4,-8e-4,.0018,.0012,.0012,-5e-4]},5:{mean:[-.002,-.0469,1.0039],identity:[-.0017,.0018,.0156,6e-4,-.0038,5e-4,4e-4,.0013,.002,-4e-4,-.0015,-.0051,5e-4,-7e-4,-.0055,-1e-4,-9e-4,.008,-2e-4,.0036,-.0053,4e-4,-.0026,-.0016,7e-4,9e-4,-.009,-3e-4,7e-4,-.0084,.0015,.0021,.0032,-.0015,.0018,.0046,-3e-4,-4e-4,-1e-4,8e-4,-.0044,-7e-4,-8e-4,7e-4,.0048,-.0024,-3e-4,.0024,2e-4,-.0051,.0058,-6e-4,.0028,.0018,-.0021,.0035,.0057,.0011,.0065,0,-2e-4,.0011,.003,-.0027,8e-4,7e-4,3e-4,-.0039,-.002,-2e-4,-.0015,.0034,.0012,-.0025,.0024,-2e-4,4e-4,-.0042,-.0024,-.001,-.0023,.0016,-7e-4,.0039,1e-4,-5e-4,.0018,3e-4,-2e-4,-9e-4,-.0015,3e-4,-7e-4,-1e-4,-2e-4,.0023,.0032,.002,-.0013,.0013,-.0038,.0045,1e-4,-.0031,1e-4,.0019,-1e-4,.0016,.0013,0,-.002,.0023,2e-4,.0011,.0018,-.0024,6e-4,-.0017,.002,-8e-4,-.0021,7e-4,.0011,8e-4,4e-4,-.001,.0012,2e-4,-6e-4,-.0027,-5e-4,.001,-9e-4,1e-4,-1e-4,8e-4,-.0011,.0022,-.001,-5e-4,-.0011,.0016,-.0015,8e-4,-3e-4,9e-4,.0013,-7e-4,-7e-4,-2e-4],expression:[-.0018,-.0168,.0088,.0389,.1026,.0414,.2201,-.0262,-.0016,-.0017,.0612,-.0298,-.0323,.0093,.0013,-.005,.2207,.1315,-4e-4,.0858,-.0303,-.0133,.015,-.008,.1454,.0114,.0177,-.0077,.1022,.0356,-.0023,.1088,.0232,.003,-.0706,.0347,-1e-4,.004,-.0011,.0397,-.0096,-.0033,.0029,-.01,-.0083,-6e-4,-.0135,.0016,-.0087,-.0019,.0022,-.004,-.0087,.0105,8e-4,-.005,.0069,.0028,.0409,-.0391,.003,.0103,.0051,.0026,.0776,-.0083,-.0062,-.0567,.0268,.0175,.0017,.0156,-.0043,.0299,-.0395,-.0015,.0051,-.0148,.0125,.0035,.0603,.0109,-.0645,-.0257,.002,6e-4,-8e-4]},6:{mean:[-6e-4,-.1542,.8789],identity:[-7e-4,-.0032,.01,0,-.0027,.0031,6e-4,5e-4,-6e-4,-3e-4,.0013,-.0049,-2e-4,-.002,-.0046,8e-4,-.0011,.0054,2e-4,.0043,-.0027,3e-4,-.0022,-.0019,8e-4,.0032,-.0069,0,4e-4,-.0071,.0016,.0027,.0039,-.0017,9e-4,.0031,-1e-4,-5e-4,-4e-4,7e-4,-.0026,-.0012,-5e-4,6e-4,2e-4,-.0014,-.0013,.0019,-2e-4,-.0053,.0031,-6e-4,.0016,.0023,-.0013,.0021,.0029,8e-4,.0052,0,4e-4,0,.0037,-.0026,3e-4,.002,-2e-4,-.0024,4e-4,-4e-4,-.0012,8e-4,7e-4,-.0023,5e-4,0,.0014,-.0022,-.0016,0,-.0012,8e-4,-7e-4,.0014,-6e-4,-.0012,-3e-4,2e-4,.0012,-3e-4,-.002,-1e-4,1e-4,-2e-4,-.0016,9e-4,.002,.0019,0,6e-4,-.0022,.0016,1e-4,-.0017,-.0013,.001,9e-4,-1e-4,.0011,3e-4,-7e-4,.0014,8e-4,.0013,.0011,-.002,0,-.0015,.0014,.001,-.0015,7e-4,3e-4,.001,-1e-4,.0012,7e-4,6e-4,-4e-4,-.0013,-.0012,-9e-4,-.0011,2e-4,-5e-4,5e-4,4e-4,2e-4,1e-4,0,5e-4,5e-4,-.0014,.0015,-9e-4,5e-4,.0014,-8e-4,-8e-4,.0012],expression:[8e-4,.0481,.1653,.0784,.1008,-.3992,.5088,-.02,.0542,.001,.3723,-.0151,-.0986,.0283,-.0033,-.0121,.2634,.1202,.0036,-.0529,-.0245,-.0297,-.1085,.0495,.3264,.0083,4e-4,-.0314,.1459,-.1142,-.003,1e-4,.1154,-.0035,-.0285,-.0184,-1e-4,.0012,.0035,.079,-.0103,.0043,.011,-.004,-.0774,-.0047,-.023,.0284,-.0048,-.001,.0149,-.0039,.0046,.0528,-6e-4,.0063,.0376,.0096,.0558,-.0295,0,-.0311,-.0634,.0062,.0176,-.0154,-.0109,-.1149,.0192,.0326,.0121,.0237,.0034,.0262,-.0778,.0014,-.0045,-.0203,.0077,.0588,.0575,.008,-.0557,-.0095,.0032,.0054,-.0042]},7:{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},8:{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]},9:[{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]}],10:{mean:[-.007,-.6338,.7695],identity:[1e-4,-.0296,.0089,-6e-4,-.0073,-.0065,-1e-4,-.0029,-.0031,-2e-4,.0128,.0065,0,-.0116,-.014,-1e-4,-.0037,-.0052,-5e-4,.0028,.003,-4e-4,.0041,.0015,6e-4,.0088,-.0076,-.0011,-.0015,-.0073,7e-4,-.0011,.0019,-.0011,-5e-4,.0031,-1e-4,-.0018,9e-4,.0018,.0038,.0068,-4e-4,-1e-4,.0061,.0024,.0024,-.0066,-6e-4,.0051,.0014,.002,.005,-.0035,1e-4,-.0034,-.004,-7e-4,.001,-8e-4,1e-4,-5e-4,-.0021,2e-4,.0045,-.0043,-.0012,-.0024,-.0014,6e-4,.0034,.0027,-8e-4,-.0053,.0014,1e-4,.0013,-.0018,6e-4,-.0015,.0029,-2e-4,-.0035,1e-4,-.002,.0012,.0048,.0011,1e-4,-2e-4,-3e-4,-.0012,.0033,6e-4,.002,-.0033,4e-4,.0028,2e-4,8e-4,-1e-4,-.0018,8e-4,.0017,1e-4,9e-4,8e-4,3e-4,.0019,-.001,.001,-7e-4,-.0013,0,1e-4,.0032,-1e-4,1e-4,.0011,-4e-4,5e-4,-7e-4,.0018,-3e-4,2e-4,7e-4,8e-4,-.0014,7e-4,.0015,-6e-4,-1e-4,-4e-4,.0019,-9e-4,-6e-4,-6e-4,-.0012,2e-4,-.0012,-8e-4,4e-4,6e-4,-.0011,3e-4,9e-4,-4e-4,6e-4,-7e-4,-4e-4],expression:[-.0603,2.0527,1.9014,.1025,.6143,.3804,.7881,-.1023,-.0764,.0454,-.2487,-.5073,-.6704,-.031,-.0181,.0466,.0651,-.0726,-.0033,-.0022,.2944,.0101,.1669,-.5225,-.4685,.0236,.0079,.011,.2173,.4529,.0121,-.2104,-.0673,.0225,-.4023,.0317,-9e-4,.0076,-.0032,.0333,.0523,.0129,-.001,-.0319,-.0139,.0015,-.0044,.0247,-5e-4,.0161,.0061,.0074,.0776,-.0176,.007,.055,-.017,.0052,-.1819,.0294,-.0161,-.0337,.0226,-.008,-.0297,.1967,-.0095,.0383,.2039,.0434,.0271,-.0064,-.0037,-.0294,-.024,.0024,-.0137,-.0209,-.0031,.0628,.1003,-.0126,-.056,-.0097,-.0012,-.0041,.0162]},11:{mean:[.2505,.3833,.7793],identity:[.0098,.012,.0077,-6e-4,-3e-4,0,1e-4,.0082,-7e-4,.0019,-.0036,-.0012,2e-4,.0119,-.0039,.001,1e-4,.0031,-.0036,-.0059,-7e-4,.0026,.0028,-.0011,9e-4,-.0032,8e-4,.0029,.0043,3e-4,.0025,-9e-4,.0047,.0016,.0022,.0018,-.001,.0025,-.003,-.001,.0033,.0034,4e-4,-.0052,.0024,-2e-4,.001,-.0014,-6e-4,.0038,-.0015,-6e-4,-.001,-.0011,-4e-4,-.001,4e-4,-7e-4,.0036,-8e-4,-2e-4,-.0019,5e-4,3e-4,-6e-4,-.0024,-.0017,-.0014,6e-4,-4e-4,-.0031,-.0013,-6e-4,.0042,2e-4,-2e-4,-.002,-3e-4,8e-4,.0018,-5e-4,-6e-4,-2e-4,-6e-4,.0025,.0019,.001,8e-4,-.0015,-.0012,-1e-4,-6e-4,-4e-4,.0023,-.001,6e-4,-2e-4,-.001,0,-9e-4,-.002,-.0011,1e-4,0,-1e-4,5e-4,6e-4,9e-4,-6e-4,5e-4,8e-4,-1e-4,-2e-4,-.0017,-6e-4,-4e-4,4e-4,-6e-4,.0012,4e-4,3e-4,-7e-4,3e-4,-2e-4,6e-4,1e-4,5e-4,-.0019,-6e-4,4e-4,7e-4,-1e-4,1e-4,5e-4,.001,-6e-4,-.002,-7e-4,-5e-4,5e-4,3e-4,7e-4,.0014,0,5e-4,-5e-4,-2e-4,3e-4,-6e-4,-1e-4],expression:[-9e-4,-3e-4,.0032,-.003,-.0034,-.0031,.0014,0,4e-4,-.0139,-.0764,.0275,-.002,-.0089,.0031,-.0503,-.0771,.038,-.1323,-.3523,.1368,-.0474,-.0564,.0296,-.0045,.007,-.0013,.0153,.1259,-.0464,.0866,.2175,-.0786,-.0413,-.1248,.0448,-.1777,-.4607,.1782,-5e-4,-.005,.0016,.0629,.1506,-.0624,.0545,.2576,-.0864,-.0231,-.0552,.0244,-.0136,-.0359,.0169,-.1158,-.2996,.1214,-.0235,-.0354,.0165,-.0745,-.1079,.0475,-.0116,-.0039,.0012,.0013,-.0108,-8e-4,.0044,-.0027,-1e-4,-.0694,.0363,.0071,.1462,-.136,.0047,.009,-.0177,.0038,-.0271,.0118,.0011,-.0399,-.0111,.0123]},12:{mean:[-.2981,.3828,.7563],identity:[-.0116,.014,.0054,.0018,5e-4,0,-4e-4,.0068,-.0013,-.0019,-.0048,-5e-4,5e-4,.0108,-.0036,-.0029,-.0018,.0029,.0043,-.0077,6e-4,-.0017,.002,-.0011,-.0014,-.0035,.0015,-.0024,.0011,4e-4,-.0048,2e-4,.0029,-1e-4,-1e-4,.003,.0019,.0035,-.0016,-4e-4,.0039,.0019,1e-4,-.0064,.004,3e-4,.002,-.0021,.0017,.0011,-.001,.0026,.0025,-5e-4,2e-4,-3e-4,-5e-4,-7e-4,9e-4,-4e-4,-.001,-.0022,.001,9e-4,-.0014,7e-4,.0011,-.001,-5e-4,-8e-4,-.0017,-.0021,9e-4,.0036,5e-4,4e-4,-.0031,6e-4,-.0015,.0027,2e-4,1e-4,-.0011,2e-4,-.0011,-.0018,4e-4,-.0013,-2e-4,7e-4,9e-4,-3e-4,.001,-.0021,8e-4,6e-4,-9e-4,4e-4,-7e-4,8e-4,-.002,-.0013,0,7e-4,-.0012,-1e-4,.0014,.0014,-1e-4,.0013,6e-4,6e-4,-.0014,-.0015,-9e-4,1e-4,1e-4,9e-4,7e-4,0,1e-4,-.001,-4e-4,0,-5e-4,1e-4,-3e-4,4e-4,-5e-4,-1e-4,-.0011,2e-4,0,1e-4,8e-4,8e-4,0,-7e-4,-8e-4,0,2e-4,-1e-4,.001,3e-4,4e-4,-2e-4,0,5e-4,.0018,-1e-4],expression:[0,-4e-4,.0028,.0036,-8e-4,-.0026,-.0015,-8e-4,3e-4,.0075,-.0608,.025,.0019,-.0076,.0033,.0379,-.0437,.0335,.0964,-.2452,.1233,.0368,-.0251,.0253,.0033,.0097,-.0021,-.0095,.1171,-.0475,-.064,.1548,-.0718,.0228,-.0831,.0343,-.1924,.6206,-.2771,.0021,-.0143,.0056,-.0705,.2522,-.1116,-.0692,.4229,-.1592,-.0093,.05,-.0185,.0948,-.3196,.1437,-.0184,.0194,-.0131,.0205,-.0353,.0201,.0676,-.135,.0672,.0137,-.0311,.0118,3e-4,-.0077,-2e-4,-.0151,4e-4,-.0058,.029,-.0139,.0163,.1324,.1819,-.0039,.0406,.0501,.0017,.0331,.0161,.0062,-.0235,-.0446,.0047]}}},2372:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=t.getFaceMesh=t.destroyFaceMesh=t.createFaceMesh=void 0;var i=n(2e3),o=n(7117),s=1,u=new Map;t.createFaceMesh=function(){var e=s++;return u.set(e,new c),o.zcout("face_mesh_t initialized"),e},t.destroyFaceMesh=function(e){u.delete(e)},t.getFaceMesh=function(e){return u.get(e)};var c=function(){function e(){r(this,e),this.render_mean_=new Float32Array,this.render_identity_=new Float32Array(50),this.render_expression_=new Float32Array(29),this.render_uvs_=new Float32Array,this.render_indices_=new Uint16Array,this.vertices_=new Float32Array,this.normals_=new Float32Array,this.normalsCalculated_=!1,this.modelVersion_=-1,this.mirrored_=!1}return a(e,[{key:"loadFromMemory",value:function(e,t,n,r,a){var i=0,o=new Uint16Array(e),s=new Int32Array(e),u=new Float32Array(e),c=function(){var e=s[i++]*s[i++],t=u.subarray(i,i+e);return i+=e,t},l=function(){var e=s[i++],t=o.subarray(2*i,2*i+e);return i+=e/2,t};this.render_mean_=c(),this.render_identity_=c(),this.render_expression_=c(),this.render_uvs_=c();var f=l(),d=i<s.length?l():new Uint16Array,h=i<s.length?l():new Uint16Array,p=i<s.length?l():new Uint16Array,v=i<s.length?l():new Uint16Array;if(t||n||r||a){var m=f.length;t&&(m+=d.length),n&&(m+=h.length),r&&(m+=p.length),a&&(m+=v.length),this.render_indices_=new Uint16Array(m),this.render_indices_.set(f,0);var g=f.length;t&&(this.render_indices_.set(d,g),g+=d.length),n&&(this.render_indices_.set(h,g),g+=h.length),r&&(this.render_indices_.set(p,g),g+=p.length),a&&(this.render_indices_.set(v,g),g+=v.length)}else this.render_indices_=f;this.vertices_=new Float32Array(this.render_mean_),this.normals_=new Float32Array(this.vertices_.length),this.modelVersion_++}},{key:"getVertices",value:function(){return this.vertices_}},{key:"getUVs",value:function(){return this.render_uvs_}},{key:"getIndices",value:function(){if(this.mirrored_){if(!this.render_indices_reversed){this.render_indices_reversed=new Uint16Array(this.render_indices_.length);for(var e=0;e<this.render_indices_.length;e+=3)this.render_indices_reversed[e]=this.render_indices_[e+2],this.render_indices_reversed[e+1]=this.render_indices_[e+1],this.render_indices_reversed[e+2]=this.render_indices_[e]}return this.render_indices_reversed}return this.render_indices_}},{key:"getNormals",value:function(){return this.normalsCalculated_||this.calculateNormals(),this.normals_}},{key:"getModelVersion",value:function(){return this.modelVersion_}},{key:"getLandmarkDataForVertex",value:function(e){for(var t=[this.render_mean_[3*e],this.render_mean_[3*e+1],this.render_mean_[3*e+2]],n=[],r=0;r<50;r++)n.push(this.render_identity_[3*e*50+r]),n.push(this.render_identity_[50*(3*e+1)+r]),n.push(this.render_identity_[50*(3*e+2)+r]);for(var a=[],i=0;i<29;i++)a.push(this.render_expression_[3*e*29+i]),a.push(this.render_expression_[29*(3*e+1)+i]),a.push(this.render_expression_[29*(3*e+2)+i]);return{mean:t,identity:n,expression:a}}},{key:"update",value:function(e,t,n){if(0!==this.render_mean_.length&&0!==this.render_identity_.length&&0!==this.render_expression_.length){this.mirrored_=n,this.vertices_.set(this.render_mean_);for(var r=0;r<e.length;r++)for(var a=0;a<this.vertices_.length;a++)this.vertices_[a]+=e[r]*this.render_identity_[a*e.length+r];for(var i=0;i<t.length;i++)for(var o=0;o<this.vertices_.length;o++)this.vertices_[o]+=t[i]*this.render_expression_[o*t.length+i];if(n)for(var s=0;s<this.vertices_.length;s+=3)this.vertices_[s]*=-1;this.normalsCalculated_=!1}}},{key:"calculateNormals",value:function(){var e=this.getIndices(),t=this.vertices_,n=new Float32Array(e.length);if(t){for(var r=e.length,a=this.normals_,o=new Float32Array([0,0,0]),s=new Float32Array([0,0,0]),u=new Float32Array([0,0,0]),c=0;c<r;c+=3){var l=3*e[c],f=3*e[c+1],d=3*e[c+2];o[0]=t[f]-t[l],o[1]=t[f+1]-t[l+1],o[2]=t[f+2]-t[l+2],s[0]=t[d]-t[l],s[1]=t[d+1]-t[l+1],s[2]=t[d+2]-t[l+2],i.vec3.cross(u,o,s);var h=i.vec3.length(u);n[c]=u[0]/h,n[c+1]=u[1]/h,n[c+2]=u[2]/h}a.fill(0);for(var p=0;p<r;p+=3){var v=3*e[p],m=3*e[p+1],g=3*e[p+2];a[v]+=n[p],a[v+1]+=n[p+1],a[v+2]+=n[p+2],a[m]+=n[p],a[m+1]+=n[p+1],a[m+2]+=n[p+2],a[g]+=n[p],a[g+1]+=n[p+1],a[g+2]+=n[p+2]}for(var y=a.length/3,_=0;_<y;_++){var b=3*_;o[0]=a[b],o[1]=a[b+1],o[2]=a[b+2],i.vec3.normalize(s,o),a[b]=s[0],a[b+1]=s[1],a[b+2]=s[2]}this.normalsCalculated_=!0}}}]),e}();t.FaceMesh=c},4657:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_client=void 0;var i=n(2363),o=n(2735),s=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._globalState={log_level:1},this.serializer=new i.MessageSerializer((function(e){n._messageSender(e)})),this.deserializer=new o.MessageDeserializer,this._latestId=1,this._pipeline_state_by_instance=new Map,this._camera_source_state_by_instance=new Map,this._image_tracker_state_by_instance=new Map,this._face_tracker_state_by_instance=new Map,this._face_mesh_state_by_instance=new Map,this._face_landmark_state_by_instance=new Map,this._barcode_finder_state_by_instance=new Map,this._instant_world_tracker_state_by_instance=new Map,this.impl={log_level:function(){return n._globalState.log_level},log_level_set:function(e){n.serializer.sendMessage(33,(function(t){t.logLevel(e)}))},analytics_project_id_set:function(e){n.serializer.sendMessage(30,(function(t){t.string(e)}))},pipeline_create:function(){var e=n._latestId++,t={current_frame_user_data:0,camera_model:new Float32Array([300,300,160,120,0,0]),camera_pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),camera_frame_camera_attitude:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),frame_number:0};return n._pipeline_state_by_instance.set(e,t),n.serializer.sendMessage(26,(function(t){t.type(e)})),e},pipeline_destroy:function(e){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n._pipeline_state_by_instance.delete(e),n.serializer.sendMessage(27,(function(t){t.type(e)}))},pipeline_frame_update:function(e){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(9,(function(t){t.type(e)}))},pipeline_frame_number:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.frame_number},pipeline_camera_model:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_model},pipeline_camera_frame_user_data:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.current_frame_user_data},pipeline_camera_frame_submit:function(e,t,r,a,i,o){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(8,(function(n){n.type(e),n.dataWithLength(t),n.int(r),n.int(a),n.int(i),n.matrix4x4(o)}))},pipeline_camera_frame_camera_attitude:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_frame_camera_attitude},pipeline_motion_accelerometer_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(10,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},pipeline_motion_rotation_rate_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(11,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},pipeline_motion_attitude_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(12,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},camera_source_create:function(e,t){var r=n._latestId++;return n._camera_source_state_by_instance.set(r,{}),n.serializer.sendMessage(28,(function(n){n.type(r),n.type(e),n.string(t)})),r},camera_source_destroy:function(e){if(!n._camera_source_state_by_instance.get(e))throw new Error("This object has been destroyed");n._camera_source_state_by_instance.delete(e),n.serializer.sendMessage(29,(function(t){t.type(e)}))},image_tracker_create:function(e){var t=n._latestId++;return n._image_tracker_state_by_instance.set(t,{enabled:!0,target_loaded_version:-1,target_count:0,anchor_count:0,anchor_id:[],anchor_pose:[]}),n.serializer.sendMessage(2,(function(n){n.type(t),n.type(e)})),t},image_tracker_destroy:function(e){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._image_tracker_state_by_instance.delete(e),n.serializer.sendMessage(13,(function(t){t.type(e)}))},image_tracker_target_load_from_memory:function(e,t){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(4,(function(n){n.type(e),n.dataWithLength(t)}))},image_tracker_target_loaded_version:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_loaded_version},image_tracker_target_count:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_count},image_tracker_enabled:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},image_tracker_enabled_set:function(e,t){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(3,(function(n){n.type(e),n.bool(t)}))},image_tracker_anchor_count:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},image_tracker_anchor_id:function(e,t){var r=n._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},image_tracker_anchor_pose_raw:function(e,t){var r=n._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_create:function(e){var t=n._latestId++;return n._face_tracker_state_by_instance.set(t,{enabled:!0,model_loaded:-1,max_faces:1,anchor_count:0,anchor_id:[],anchor_pose:[],anchor_identity_coefficients:[],anchor_expression_coefficients:[]}),n.serializer.sendMessage(19,(function(n){n.type(t),n.type(e)})),t},face_tracker_destroy:function(e){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_tracker_state_by_instance.delete(e),n.serializer.sendMessage(20,(function(t){t.type(e)}))},face_tracker_model_load_from_memory:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(21,(function(n){n.type(e),n.dataWithLength(t)}))},face_tracker_model_loaded_version:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.model_loaded},face_tracker_enabled_set:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(22,(function(n){n.type(e),n.bool(t)}))},face_tracker_enabled:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},face_tracker_max_faces_set:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(23,(function(n){n.type(e),n.int(t)}))},face_tracker_max_faces:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.max_faces},face_tracker_anchor_count:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},face_tracker_anchor_id:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},face_tracker_anchor_pose_raw:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_anchor_identity_coefficients:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_identity_coefficients[t]},face_tracker_anchor_expression_coefficients:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_expression_coefficients[t]},face_mesh_create:function(){var e=n._latestId++;return n._face_mesh_state_by_instance.set(e,{}),n.serializer.sendMessage(24,(function(t){t.type(e)})),e},face_mesh_destroy:function(e){if(!n._face_mesh_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_mesh_state_by_instance.delete(e),n.serializer.sendMessage(25,(function(t){t.type(e)}))},face_landmark_create:function(e){var t=n._latestId++;return n._face_landmark_state_by_instance.set(t,{}),n.serializer.sendMessage(31,(function(n){n.type(t),n.faceLandmarkName(e)})),t},face_landmark_destroy:function(e){if(!n._face_landmark_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_landmark_state_by_instance.delete(e),n.serializer.sendMessage(32,(function(t){t.type(e)}))},barcode_finder_create:function(e){var t=n._latestId++;return n._barcode_finder_state_by_instance.set(t,{enabled:!0,number_found:0,found_text:[],found_format:[],formats:131071}),n.serializer.sendMessage(15,(function(n){n.type(t),n.type(e)})),t},barcode_finder_destroy:function(e){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n._barcode_finder_state_by_instance.delete(e),n.serializer.sendMessage(16,(function(t){t.type(e)}))},barcode_finder_enabled_set:function(e,t){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(17,(function(n){n.type(e),n.bool(t)}))},barcode_finder_enabled:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},barcode_finder_found_number:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.number_found},barcode_finder_found_text:function(e,t){var r=n._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_text[t]},barcode_finder_found_format:function(e,t){var r=n._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_format[t]},barcode_finder_formats:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.formats},barcode_finder_formats_set:function(e,t){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(18,(function(n){n.type(e),n.barcodeFormat(t)}))},instant_world_tracker_create:function(e){var t=n._latestId++,r={enabled:!0,pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};return n._instant_world_tracker_state_by_instance.set(t,r),n.serializer.sendMessage(5,(function(n){n.type(t),n.type(e)})),t},instant_world_tracker_destroy:function(e){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._instant_world_tracker_state_by_instance.delete(e),n.serializer.sendMessage(14,(function(t){t.type(e)}))},instant_world_tracker_enabled_set:function(e,t){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(6,(function(n){n.type(e),n.bool(t)}))},instant_world_tracker_enabled:function(e){var t=n._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},instant_world_tracker_anchor_pose_raw:function(e){var t=n._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.pose},instant_world_tracker_anchor_pose_set_from_camera_offset:function(e,t,r,a,i){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(7,(function(n){n.type(e),n.float(t),n.float(r),n.float(a),n.instantTrackerTransformOrientation(i)}))}}}return a(e,[{key:"processMessages",value:function(e){var t=this;this.deserializer.setData(e),this.deserializer.forMessages((function(e,n){switch(e){case 7:var r=n.type(),a=t._pipeline_state_by_instance.get(r);if(!a)return;a.frame_number=n.int();break;case 6:var i=n.type(),o=t._pipeline_state_by_instance.get(i);if(!o)return;o.camera_model=n.cameraModel();break;case 5:var s=n.type(),u=t._pipeline_state_by_instance.get(s);if(!u)return;u.current_frame_user_data=n.int();break;case 11:var c=n.type(),l=t._pipeline_state_by_instance.get(c);if(!l)return;l.camera_frame_camera_attitude=n.matrix4x4();break;case 18:var f=n.type(),d=t._image_tracker_state_by_instance.get(f);if(!d)return;d.target_loaded_version=n.int();break;case 20:var h=n.type(),p=t._image_tracker_state_by_instance.get(h);if(!p)return;p.target_count=n.int();break;case 1:var v=n.type(),m=t._image_tracker_state_by_instance.get(v);if(!m)return;m.anchor_count=n.int();break;case 2:var g=n.type(),y=t._image_tracker_state_by_instance.get(g);if(!y)return;var _=n.int();y.anchor_id[_]=n.string();break;case 3:var b=n.type(),w=t._image_tracker_state_by_instance.get(b);if(!w)return;var x=n.int();w.anchor_pose[x]=n.matrix4x4();break;case 17:var A=n.type(),M=t._face_tracker_state_by_instance.get(A);if(!M)return;M.model_loaded=n.int();break;case 12:var E=n.type(),C=t._face_tracker_state_by_instance.get(E);if(!C)return;C.anchor_count=n.int();break;case 13:var S=n.type(),T=t._face_tracker_state_by_instance.get(S);if(!T)return;var k=n.int();T.anchor_id[k]=n.string();break;case 14:var B=n.type(),P=t._face_tracker_state_by_instance.get(B);if(!P)return;var L=n.int();P.anchor_pose[L]=n.matrix4x4();break;case 15:var D=n.type(),R=t._face_tracker_state_by_instance.get(D);if(!R)return;var F=n.int();R.anchor_identity_coefficients[F]=n.identityCoefficients();break;case 16:var I=n.type(),O=t._face_tracker_state_by_instance.get(I);if(!O)return;var z=n.int();O.anchor_expression_coefficients[z]=n.expressionCoefficients();break;case 8:var Z=n.type(),U=t._barcode_finder_state_by_instance.get(Z);if(!U)return;U.number_found=n.int();break;case 9:var N=n.type(),G=t._barcode_finder_state_by_instance.get(N);if(!G)return;var H=n.int();G.found_text[H]=n.string();break;case 10:var V=n.type(),j=t._barcode_finder_state_by_instance.get(V);if(!j)return;var W=n.int();j.found_format[W]=n.barcodeFormat();break;case 4:var X=n.type(),q=t._instant_world_tracker_state_by_instance.get(X);if(!q)return;q.pose=n.matrix4x4()}}))}}]),e}();t.zappar_client=s},9719:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0,function(e){e[e.UNKNOWN=131072]="UNKNOWN",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=4]="CODE_39",e[e.CODE_93=8]="CODE_93",e[e.CODE_128=16]="CODE_128",e[e.DATA_MATRIX=32]="DATA_MATRIX",e[e.EAN_8=64]="EAN_8",e[e.EAN_13=128]="EAN_13",e[e.ITF=256]="ITF",e[e.MAXICODE=512]="MAXICODE",e[e.PDF_417=1024]="PDF_417",e[e.QR_CODE=2048]="QR_CODE",e[e.RSS_14=4096]="RSS_14",e[e.RSS_EXPANDED=8192]="RSS_EXPANDED",e[e.UPC_A=16384]="UPC_A",e[e.UPC_E=32768]="UPC_E",e[e.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",e[e.ALL=131071]="ALL"}(t.barcode_format_t||(t.barcode_format_t={})),function(e){e[e.EYE_LEFT=0]="EYE_LEFT",e[e.EYE_RIGHT=1]="EYE_RIGHT",e[e.EAR_LEFT=2]="EAR_LEFT",e[e.EAR_RIGHT=3]="EAR_RIGHT",e[e.NOSE_BRIDGE=4]="NOSE_BRIDGE",e[e.NOSE_TIP=5]="NOSE_TIP",e[e.NOSE_BASE=6]="NOSE_BASE",e[e.LIP_TOP=7]="LIP_TOP",e[e.LIP_BOTTOM=8]="LIP_BOTTOM",e[e.MOUTH_CENTER=9]="MOUTH_CENTER",e[e.CHIN=10]="CHIN",e[e.EYEBROW_LEFT=11]="EYEBROW_LEFT",e[e.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"}(t.face_landmark_name_t||(t.face_landmark_name_t={})),function(e){e[e.WORLD=3]="WORLD",e[e.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",e[e.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",e[e.UNCHANGED=6]="UNCHANGED"}(t.instant_world_tracker_transform_orientation_t||(t.instant_world_tracker_transform_orientation_t={})),function(e){e[e.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",e[e.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",e[e.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"}(t.log_level_t||(t.log_level_t={}))},6501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0;var r=n(9719);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return r.barcode_format_t}});var a=n(9719);Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return a.face_landmark_name_t}});var i=n(9719);Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return i.instant_world_tracker_transform_orientation_t}});var o=n(9719);Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return o.log_level_t}})},2637:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GLStateManager=void 0;var i=new Map,o=function(){function e(t){var n=this;r(this,e),this._gl=t,this._viewports=[],this._underlyingViewport=this._gl.viewport,this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT)),this._gl.viewport=function(e,t,r,a){n._viewports[n._viewports.length-1]=[e,t,r,a],n._underlyingViewport.call(n._gl,e,t,r,a)}}return a(e,[{key:"push",value:function(){this._viewports.push(this._viewports[this._viewports.length-1])}},{key:"pop",value:function(){var e=this._viewports.pop(),t=this._viewports[this._viewports.length-1];e&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||this._underlyingViewport.call(this._gl,t[0],t[1],t[2],t[3])}}],[{key:"get",value:function(t){var n=i.get(t);return n||(n=new e(t),i.set(t,n)),n}}]),e}();t.GLStateManager=o},633:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(1506).default,o=n(2205).default,s=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;var u=n(4985),c=n(4706),l=n(5729),f=n(7916),d=n(2e3),h=n(7117),p=n(2637),v=1,m=new Map,g=function(e){o(n,e);var t=s(n);function n(e,a){var o;r(this,n),(o=t.call(this))._video=e,o._pipeline=a,o._isPaused=!0,o._hadFrames=!1,o._isUserFacing=!1,o._cameraToScreenRotation=0,o._isUploadFrame=!0,o._computedTransformRotation=-1,o._computedFrontCameraRotation=!1,o._cameraUvTransform=d.mat4.create(),o._cameraVertexTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o._framebufferWidth=0,o._framebufferHeight=0,o._framebufferId=null,o._renderTexture=null;var s=o._video;o._video instanceof HTMLVideoElement?s.addEventListener("loadedmetadata",(function(){o._hadFrames=!0})):o._hadFrames=!0,o._resetGLContext=o._resetGLContext.bind(i(o));var c=u.Pipeline.get(o._pipeline);return c&&c.onGLContextReset.bind(o._resetGLContext),o}return a(n,[{key:"_resetGLContext",value:function(){this._currentVideoTexture=void 0,this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}},{key:"destroy",value:function(){var e=u.Pipeline.get(this._pipeline);e&&e.onGLContextReset.unbind(this._resetGLContext),this.pause(),this._resetGLContext()}},{key:"pause",value:function(){this._isPaused=!0;var e=u.Pipeline.get(this._pipeline);e&&e.currentCameraSource===this&&(e.currentCameraSource=void 0)}},{key:"start",value:function(){var e;this._isPaused&&(this._isUploadFrame=!0,this._video instanceof HTMLVideoElement&&(this._hadFrames=!1)),this._isPaused=!1;var t=u.Pipeline.get(this._pipeline);t&&t.currentCameraSource!==this&&(null===(e=t.currentCameraSource)||void 0===e||e.pause(),t.currentCameraSource=this)}},{key:"getFrame",value:function(e){var t=u.Pipeline.get(this._pipeline);if(t){var n=t.glContext;if(n&&!this._isPaused&&this._hadFrames)try{return this._processFrame(n,this._cameraToScreenRotation,e)}catch(r){console.log("Unable to process frame")}}}},{key:"_processFrame",value:function(e,t,n){var r=u.Pipeline.get(this._pipeline);if(r){if(this._isUploadFrame)return this._currentVideoTexture||(this._currentVideoTexture=r.getVideoTexture()),this._uploadFrame(t,this._isUserFacing),void(this._isUploadFrame=!this._isUploadFrame);if(!n)return this._isUploadFrame=!this._isUploadFrame,this._readFrame(r,e)}}},{key:"_uploadFrame",value:function(e,t){if(this._currentVideoTexture){var n=u.Pipeline.get(this._pipeline);if(n){var r=n.glContext;if(r){var a=p.GLStateManager.get(r);a.push();var i=r.isEnabled(r.SCISSOR_TEST),o=r.isEnabled(r.DEPTH_TEST),s=r.isEnabled(r.BLEND),c=r.isEnabled(r.CULL_FACE),f=r.getParameter(r.ACTIVE_TEXTURE),d=r.getParameter(r.UNPACK_FLIP_Y_WEBGL),h=r.getParameter(r.CURRENT_PROGRAM);r.activeTexture(r.TEXTURE0);var v=r.getParameter(r.TEXTURE_BINDING_2D),m=r.getParameter(r.FRAMEBUFFER_BINDING),g=r.getParameter(r.ARRAY_BUFFER_BINDING),y=r.getParameter(r.ELEMENT_ARRAY_BUFFER_BINDING);r.disable(r.SCISSOR_TEST),r.disable(r.DEPTH_TEST),r.disable(r.BLEND),r.disable(r.CULL_FACE),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.bindTexture(r.TEXTURE_2D,this._currentVideoTexture);var _=r.RGBA,b=r.RGBA,w=r.UNSIGNED_BYTE;r.texImage2D(r.TEXTURE_2D,0,_,b,w,this._video);var x=0,A=0;this._video instanceof HTMLVideoElement?(x=this._video.videoWidth,A=this._video.videoHeight):(x=this._video.width,A=this._video.height),A>x&&(A=[x,x=A][0]),this._updateTransforms(e,t);var M=this._getFramebuffer(r,l.profile.dataWidth/4,l.profile.dataHeight),E=this._getVertexBuffer(r),C=this._getIndexBuffer(r),S=this._getGreyscaleShader(r),T=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_SIZE),k=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_TYPE),B=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_NORMALIZED),P=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_STRIDE),L=r.getVertexAttribOffset(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_POINTER),D=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_ENABLED),R=r.getVertexAttrib(S.aVertexPositionLoc,r.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),F=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_SIZE),I=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_TYPE),O=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_NORMALIZED),z=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_STRIDE),Z=r.getVertexAttribOffset(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_POINTER),U=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_ENABLED),N=r.getVertexAttrib(S.aTextureCoordLoc,r.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,M),r.viewport(0,0,this._framebufferWidth,this._framebufferHeight),r.clear(r.COLOR_BUFFER_BIT),r.bindBuffer(r.ARRAY_BUFFER,E),r.vertexAttribPointer(S.aVertexPositionLoc,2,r.FLOAT,!1,16,0),r.enableVertexAttribArray(S.aVertexPositionLoc),r.vertexAttribPointer(S.aTextureCoordLoc,2,r.FLOAT,!1,16,8),r.enableVertexAttribArray(S.aTextureCoordLoc),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,C),r.useProgram(S.program),r.uniform1f(S.uTexWidthLoc,l.profile.dataWidth),r.uniformMatrix4fv(S.uUvTransformLoc,!1,this._cameraUvTransform),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._currentVideoTexture),r.uniform1i(S.uSamplerLoc,0),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),r.bindBuffer(r.ARRAY_BUFFER,R),r.vertexAttribPointer(S.aVertexPositionLoc,T,k,B,P,L),r.bindBuffer(r.ARRAY_BUFFER,N),r.vertexAttribPointer(S.aTextureCoordLoc,F,I,O,z,Z),r.bindBuffer(r.ARRAY_BUFFER,g),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,y),D||r.disableVertexAttribArray(S.aVertexPositionLoc),U||r.disableVertexAttribArray(S.aTextureCoordLoc),r.bindFramebuffer(r.FRAMEBUFFER,m),r.useProgram(h),r.bindTexture(r.TEXTURE_2D,v),r.activeTexture(f),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,d),s&&r.enable(r.BLEND),c&&r.enable(r.CULL_FACE),o&&r.enable(r.DEPTH_TEST),i&&r.enable(r.SCISSOR_TEST),a.pop()}}}}},{key:"_readFrame",value:function(e,t){if(!this._currentVideoTexture)throw new Error("No video texture");var n=this._currentVideoTexture;this._currentVideoTexture=void 0;for(var r=l.profile.dataWidth*l.profile.dataHeight,a=e.cameraPixelArrays.pop();a&&a.byteLength!==r;)a=e.cameraPixelArrays.pop();a||(a=new ArrayBuffer(r));var i=new Uint8Array(a),o=t.getParameter(t.FRAMEBUFFER_BINDING),s=this._getFramebuffer(t,l.profile.dataWidth/4,l.profile.dataHeight);return t.bindFramebuffer(t.FRAMEBUFFER,s),t.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,o),{uvTransform:this._cameraUvTransform,data:a,texture:n,dataWidth:l.profile.dataWidth,dataHeight:l.profile.dataHeight,userFacing:this._computedFrontCameraRotation}}},{key:"_updateTransforms",value:function(e,t){e==this._computedTransformRotation&&t==this._computedFrontCameraRotation||(this._computedTransformRotation=e,this._computedFrontCameraRotation=t,this._cameraUvTransform=this._getCameraUvTransform(),this._cameraVertexTransform=this._getCameraVertexTransform())}},{key:"_getCameraUvTransform",value:function(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},{key:"_getCameraVertexTransform",value:function(){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(!this._computedFrontCameraRotation)return e;switch(this._computedTransformRotation){case 0:case 90:case 180:e[0]=-1;break;case 270:e[5]=-1}return e}},{key:"_getFramebuffer",value:function(e,t,n){if(this._framebufferWidth===t&&this._framebufferHeight===n&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(e.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(e.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=e.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(e.bindFramebuffer(e.FRAMEBUFFER,this._framebufferId),this._renderTexture=e.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderTexture,0);var r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+r.toString());return this._framebufferWidth=t,this._framebufferHeight=n,e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this._framebufferId}},{key:"_getVertexBuffer",value:function(e){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=e.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer);var t=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this._vertexBuffer}},{key:"_getIndexBuffer",value:function(e){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=e.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer);var t=new Uint16Array([0,1,2,0,2,3]);return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),this._indexBuffer}},{key:"_getGreyscaleShader",value:function(e){if(this._greyscaleShader)return this._greyscaleShader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=f.compileShader(e,e.VERTEX_SHADER,y),r=f.compileShader(e,e.FRAGMENT_SHADER,_);e.attachShader(t,n),e.attachShader(t,r),f.linkProgram(e,t);var a=e.getUniformLocation(t,"uTexWidth");if(!a)throw new Error("Unable to get uniform location uTexWidth");var i=e.getUniformLocation(t,"uUvTransform");if(!i)throw new Error("Unable to get uniform location uUvTransform");var o=e.getUniformLocation(t,"uSampler");if(!o)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:t,aVertexPositionLoc:e.getAttribLocation(t,"aVertexPosition"),aTextureCoordLoc:e.getAttribLocation(t,"aTextureCoord"),uTexWidthLoc:a,uUvTransformLoc:i,uSamplerLoc:o},this._greyscaleShader}}],[{key:"createVideoElementSource",value:function(e,t){var r=v++;return m.set(r,new n(t,e)),h.zcout("html_element_source_t initialized"),r}},{key:"getVideoElementSource",value:function(e){return m.get(e)}}]),n}(c.Source);t.HTMLElementSource=g;var y="\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    varying highp vec2 vTextureCoord1;\n    varying highp vec2 vTextureCoord2;\n    varying highp vec2 vTextureCoord3;\n    varying highp vec2 vTextureCoord4;\n\n    uniform float uTexWidth;\n\tuniform mat4 uUvTransform;\n\n    void main(void) {\n      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);\n      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);\n\n      gl_Position = aVertexPosition;\n      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;\n      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;\n      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;\n      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;\n    }\n",_="\n  varying highp vec2 vTextureCoord1;\n  varying highp vec2 vTextureCoord2;\n  varying highp vec2 vTextureCoord3;\n  varying highp vec2 vTextureCoord4;\n\n  uniform sampler2D uSampler;\n\n  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);\n\n  void main(void) {\n    lowp vec4 outpx;\n\n    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);\n    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);\n    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);\n    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);\n\n    gl_FragColor = outpx;\n  }\n"},5817:function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=t.initialize=void 0,"undefined"!==typeof Z_STANDALONE&&Z_STANDALONE&&document.currentScript){var r=new URL(document.currentScript.src),a=r.toString();if(r.pathname){var i=a.split("/");i.pop(),a=i.join("/")+"/"}n.p=a}var o=n(647),s=n(8273);t.initialize=function(){return console.log("Zappar CV v".concat(s.VERSION)),o.initialize()};var u=n(6501);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return u.barcode_format_t}}),Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return u.face_landmark_name_t}}),Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return u.instant_world_tracker_transform_orientation_t}}),Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return u.log_level_t}})},7117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zcwarn=t.zcerr=t.zcout=t.setLogLevel=void 0;var r=n(6501),a=r.log_level_t.LOG_LEVEL_ERROR;t.setLogLevel=function(e){a=e},t.zcout=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_VERBOSE&&(e=console).log.apply(e,["[Zappar] INFO"].concat(n))},t.zcerr=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_ERROR&&(e=console).error.apply(e,["[Zappar] ERROR"].concat(n))},t.zcwarn=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_VERBOSE&&(e=console).log.apply(e,["[Zappar] WARN"].concat(n))}},6776:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;var i=n(1319),o=function(){function e(){r(this,e),this.onOutgoingMessage=new i.Event,this.onIncomingMessage=new i.Event1,this._outgoingMessages=[]}return a(e,[{key:"postIncomingMessage",value:function(e){this.onIncomingMessage.emit(e)}},{key:"postOutgoingMessage",value:function(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}},{key:"getOutgoingMessages",value:function(){var e=this._outgoingMessages;return this._outgoingMessages=[],e}}]),e}();t.MsgManager=o},647:function(e,t,n){"use strict";var r=n(7757),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var i,o=n(4657),s=n(1758),u=n(5756),c=n(2e3),l=n(6664),f=n(6794),d=n(2372),h=n(4985),p=n(9138),v=n(633),m=n(1192),g=n(3262),y=n(7117);function _(e){return a(this,void 0,void 0,r.mark((function t(){var a,o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==(a=n(7006)).default&&(a=a.default),t.next=4,fetch(a);case 4:return o=t.sent,t.next=7,o.arrayBuffer();case 7:s=t.sent,null===i||void 0===i||i.face_tracker_model_load_from_memory(e,s);case 9:case"end":return t.stop()}}),t)})))}t.initialize=function(){var e=this;if(i)return i;var t=!1;l.launchWorker().then((function(){y.zcout("Fully loaded"),t=!0}));var b=new o.zappar_client((function(e){l.messageManager.postOutgoingMessage({t:"zappar",d:e},[e])}));if(window.location.hostname.toLowerCase().indexOf(".zappar.io")>0){var w=window.location.pathname.split("/");w.length>1&&w[1].length>0&&b.impl.analytics_project_id_set(".wiz"+w[1])}return l.messageManager.onIncomingMessage.bind((function(e){var t,n;switch(e.t){case"zappar":null===(t=h.Pipeline.get(e.p))||void 0===t||t.pendingMessages.push(e.d);break;case"buf":b.serializer.bufferReturn(e.d);break;case"cameraFrameRecycleS2C":var r=e;null===(n=h.Pipeline.get(r.p))||void 0===n||n.cameraTokenReturn(r.token,r.d);break;case"licerr":var a=document.createElement("div");a.innerHTML="Visit <a href='https://docs.zap.works/universal-ar/licensing/' style='color: white;'>our licensing page</a> to find out about hosting on your own domain.",a.style.position="absolute",a.style.bottom="20px",a.style.width="80%",a.style.backgroundColor="black",a.style.color="white",a.style.borderRadius="10px",a.style.padding="10px",a.style.fontFamily="sans-serif",a.style.textAlign="center",a.style.left="10%",a.style.zIndex=Number.MAX_SAFE_INTEGER.toString();var i=document.createElement("span");i.innerText=" (30)",a.append(i);var o=30;setInterval((function(){--o>=0&&(i.innerText=" ("+o.toString()+")")}),1e3),document.body.append(a)}})),i=Object.assign(Object.assign({},b.impl),{loaded:function(){return t},camera_default_device_id:function(e){return e?p.CameraSource.USER_DEFAULT_DEVICE_ID:p.CameraSource.DEFAULT_DEVICE_ID},camera_source_create:function(e,t){return p.CameraSource.create(e,t)},camera_source_destroy:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.destroy()},camera_source_pause:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.pause()},camera_source_start:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.start()},pipeline_create:function(){return h.Pipeline.create(b.impl,l.messageManager)},pipeline_frame_update:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.frameUpdate(b)},pipeline_camera_frame_draw_gl:function(e,t,n,r){var a;null===(a=h.Pipeline.get(e))||void 0===a||a.cameraFrameDrawGL(t,n,r)},draw_plane:function(e,t,n,r,a){s.drawPlane(e,t,n,r,a)},pipeline_draw_face:function(e,t,n,r,a){var i,o=d.getFaceMesh(a);if(!o)return y.zcwarn("attempting to call draw_face on a destroyed zappar_face_mesh_t"),new Uint16Array;null===(i=h.Pipeline.get(e))||void 0===i||i.drawFace(t,n,r,o)},pipeline_draw_face_project:function(e,t,n,r,a,i,o){var s;null===(s=h.Pipeline.get(e))||void 0===s||s.drawFaceProject(t,n,r,a,i,o)},projection_matrix_from_camera_model:u.projectionMatrix,projection_matrix_from_camera_model_ext:u.projectionMatrix,pipeline_process_gl:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.processGL()},pipeline_gl_context_set:function(e,t,n){var r;return null===(r=h.Pipeline.get(e))||void 0===r?void 0:r.glContextSet(t,n)},pipeline_gl_context_lost:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.glContextLost()},pipeline_camera_frame_upload_gl:function(){},pipeline_camera_frame_texture_gl:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameTexture()},pipeline_camera_frame_texture_matrix:function(e,t,n,r){var a;return(null===(a=h.Pipeline.get(e))||void 0===a?void 0:a.cameraFrameTextureMatrix(t,n,r))||c.mat4.create()},pipeline_camera_frame_user_facing:function(e){var t;return(null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameUserFacing())||!1},pipeline_camera_pose_default:function(){return c.mat4.create()},pipeline_camera_pose_with_attitude:function(e,t){var n;return(null===(n=h.Pipeline.get(e))||void 0===n?void 0:n.cameraPoseWithAttitude(t))||c.mat4.create()},pipeline_camera_pose_with_origin:function(e,t){var n=c.mat4.create();return c.mat4.invert(n,t),n},instant_world_tracker_anchor_pose_camera_relative:function(e,t){var n=h.applyScreenCounterRotation(void 0,b.impl.instant_world_tracker_anchor_pose_raw(e));if(t){var r=c.mat4.create();c.mat4.fromScaling(r,[-1,1,1]),c.mat4.multiply(n,r,n),c.mat4.multiply(n,n,r)}return n},instant_world_tracker_anchor_pose:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,b.impl.instant_world_tracker_anchor_pose_raw(e));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return c.mat4.multiply(r,t,r),r},image_tracker_anchor_pose_camera_relative:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,b.impl.image_tracker_anchor_pose_raw(e,t));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return r},image_tracker_anchor_pose:function(e,t,n,r){var a=h.applyScreenCounterRotation(void 0,b.impl.image_tracker_anchor_pose_raw(e,t));if(r){var i=c.mat4.create();c.mat4.fromScaling(i,[-1,1,1]),c.mat4.multiply(a,i,a),c.mat4.multiply(a,a,i)}return c.mat4.multiply(a,n,a),a},face_tracker_anchor_pose_camera_relative:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,b.impl.face_tracker_anchor_pose_raw(e,t));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return r},face_tracker_anchor_pose:function(e,t,n,r){var a=h.applyScreenCounterRotation(void 0,b.impl.face_tracker_anchor_pose_raw(e,t));if(r){var i=c.mat4.create();c.mat4.fromScaling(i,[-1,1,1]),c.mat4.multiply(a,i,a),c.mat4.multiply(a,a,i)}return c.mat4.multiply(a,n,a),a},face_tracker_model_load_default:function(t){return a(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:case"end":return e.stop()}}),e)})))},face_mesh_create:function(){return d.createFaceMesh()},face_mesh_destroy:function(e){d.destroyFaceMesh(e)},face_mesh_indices:function(e){var t=d.getFaceMesh(e);return t?t.getIndices():(y.zcwarn("attempting to call face_mesh_indices on a destroyed zappar_face_mesh_t"),new Uint16Array)},face_mesh_indices_size:function(e){var t=d.getFaceMesh(e);return t?t.getIndices().length:(y.zcwarn("attempting to call face_mesh_indices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_uvs:function(e){var t=d.getFaceMesh(e);return t?t.getUVs():(y.zcwarn("attempting to call face_mesh_uvs on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_uvs_size:function(e){var t=d.getFaceMesh(e);return t?t.getUVs().length:(y.zcwarn("attempting to call face_mesh_uvs_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_vertices:function(e){var t=d.getFaceMesh(e);return t?t.getVertices():(y.zcwarn("attempting to call face_mesh_vertices on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_vertices_size:function(e){var t=d.getFaceMesh(e);return t?t.getVertices().length:(y.zcwarn("attempting to call face_mesh_vertices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_normals:function(e){var t=d.getFaceMesh(e);return t?t.getNormals():(y.zcwarn("attempting to call face_mesh_normals on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_normals_size:function(e){var t=d.getFaceMesh(e);return t?t.getNormals().length:(y.zcwarn("attempting to call face_mesh_normals_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_load_from_memory:function(e,t,n,r,a,i){var o=d.getFaceMesh(e);o?o.loadFromMemory(t,n,r,a,i):y.zcwarn("attempting to call face_mesh_load_from_memory on a destroyed zappar_face_mesh_t")},face_mesh_update:function(e,t,n,r){var a=d.getFaceMesh(e);a?a.update(t,n,r):y.zcwarn("attempting to call face_mesh_update on a destroyed zappar_face_mesh_t")},face_mesh_load_default:function(t){return a(e,void 0,void 0,r.mark((function e(){var a,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(i=n(8333)).default&&(i=i.default),e.next=8,fetch(i);case 8:return o=e.sent,e.t0=a,e.next=12,o.arrayBuffer();case 12:e.t1=e.sent,e.t0.loadFromMemory.call(e.t0,e.t1,!1,!1,!1,!1);case 14:case"end":return e.stop()}}),e)})))},face_mesh_load_default_face:function(t,i,o,s){return a(e,void 0,void 0,r.mark((function e(){var a,u,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default_face on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(u=n(8333)).default&&(u=u.default),e.next=8,fetch(u);case 8:return c=e.sent,e.t0=a,e.next=12,c.arrayBuffer();case 12:e.t1=e.sent,e.t2=i,e.t3=o,e.t4=s,e.t0.loadFromMemory.call(e.t0,e.t1,e.t2,e.t3,e.t4,!1);case 17:case"end":return e.stop()}}),e)})))},face_mesh_load_default_full_head_simplified:function(t,i,o,s,u){return a(e,void 0,void 0,r.mark((function e(){var a,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default_full_head_simplified on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(c=n(7319)).default&&(c=c.default),e.next=8,fetch(c);case 8:return l=e.sent,e.t0=a,e.next=12,l.arrayBuffer();case 12:e.t1=e.sent,e.t2=i,e.t3=o,e.t4=s,e.t5=u,e.t0.loadFromMemory.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5);case 18:case"end":return e.stop()}}),e)})))},face_mesh_loaded_version:function(e){var t=d.getFaceMesh(e);return t?t.getModelVersion():(y.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t"),-1)},face_landmark_create:function(e){return m.createFaceLandmark(e)},face_landmark_destroy:function(e){m.destroyFaceLandmark(e)},face_landmark_update:function(e,t,n,r){var a=m.getFaceLandmark(e);a?a.update(t,n,r):y.zcwarn("attempting to call face_landmark_update on a destroyed zappar_face_landmark_t")},face_landmark_anchor_pose:function(e){var t=m.getFaceLandmark(e);return t?t.anchor_pose:(y.zcwarn("attempting to call face_landmark_anchor_pose on a destroyed zappar_face_landmark_t"),c.mat4.create())},html_element_source_create:function(e,t){return v.HTMLElementSource.createVideoElementSource(e,t)},html_element_source_start:function(e){var t;return null===(t=v.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.start()},html_element_source_pause:function(e){var t;return null===(t=v.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.pause()},html_element_source_destroy:function(e){var t;return null===(t=v.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.destroy()},permission_granted_all:f.permissionGrantedAll,permission_granted_camera:f.permissionGrantedCamera,permission_granted_motion:f.permissionGrantedMotion,permission_denied_any:f.permissionDeniedAny,permission_denied_camera:f.permissionDeniedCamera,permission_denied_motion:f.permissionDeniedMotion,permission_request_motion:f.permissionRequestMotion,permission_request_camera:f.permissionRequestCamera,permission_request_all:f.permissionRequestAll,permission_request_ui:f.permissionRequestUI,permission_request_ui_promise:f.permissionRequestUI,permission_denied_ui:f.permissionDeniedUI,browser_incompatible:g.default.incompatible,browser_incompatible_ui:g.default.incompatible_ui,log_level_set:function(e){y.setLogLevel(e),b.impl.log_level_set(e)}})}},6794:function(e,t,n){"use strict";var r=n(7757),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequestMotion=t.permissionRequestCamera=t.permissionRequestAll=t.permissionGrantedAll=t.permissionDeniedAny=t.permissionDeniedMotion=t.permissionDeniedCamera=t.permissionGrantedMotion=t.permissionGrantedCamera=void 0;var i=new(n(9776).UAParser),o=!1,s=!1,u=!1,c=!1;function l(){return a(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.permissions||!navigator.permissions.query){e.next=11;break}return e.prev=1,e.next=4,navigator.permissions.query({name:"camera"});case 4:t=e.sent,u="denied"===t.state,o="granted"===t.state,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))}function f(){return u||c}function d(){return o&&s}function h(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,p();case 4:case"end":return e.stop()}}),e)})))}function p(){return a(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:t=e.sent,t.getTracks().forEach((function(e){return e.stop()})),o=!0,u=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o=!1,u=!0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))}function v(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.DeviceOrientationEvent||!window.DeviceOrientationEvent.requestPermission){e.next=8;break}return e.next=3,window.DeviceOrientationEvent.requestPermission();case 3:if("granted"===e.sent){e.next=8;break}return s=!1,c=!0,e.abrupt("return",!1);case 8:s=!0,c=!1;case 10:case"end":return e.stop()}}),e)})))}window.DeviceOrientationEvent&&window.DeviceOrientationEvent.requestPermission||(s=!0),l(),t.permissionGrantedCamera=function(){return o},t.permissionGrantedMotion=function(){return s},t.permissionDeniedCamera=function(){return u},t.permissionDeniedMotion=function(){return c},t.permissionDeniedAny=f,t.permissionGrantedAll=d,t.permissionRequestAll=h,t.permissionRequestCamera=p,t.permissionRequestMotion=v,t.permissionRequestUI=function(){return a(this,void 0,void 0,r.mark((function e(){var t,n,i=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:if(!d()){e.next=4;break}return e.abrupt("return",!0);case 4:return(t=document.createElement("div")).classList.add("zappar-permission-request"),t.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Almost there...</div>\n        <div class="zappar-text">In order to provide this augmented reality experience, we need access to your device\'s camera and motion sensors.</div>\n        <button id="zappar-permission-request-button">Grant Access</button>\n    </div>\n',document.body.append(t),n=t.querySelector("#zappar-permission-request-button"),e.next=11,new Promise((function(e){null===n||void 0===n||n.addEventListener("click",(function(){return a(i,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h();case 2:t.remove();case 3:return n.next=6,new Promise((function(e){return requestAnimationFrame((function(){return e()}))}));case 6:if(!f()){n.next=9;break}return e(!1),n.abrupt("return");case 9:if(!d()){n.next=12;break}return e(!0),n.abrupt("return");case 12:n.next=3;break;case 14:case"end":return n.stop()}}),n)})))}))}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))},t.permissionDeniedUI=function(){if("Chrome"===i.getBrowser().name)!function(){var e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience.<br/><br/>To grant access, please tap the ! button in the address bar of your browser, then "Site settings", and finally "Clear and reset". You can then reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);var t=e.querySelector("#zappar-permission-reload-button");null===t||void 0===t||t.addEventListener("click",(function(){return window.location.reload()}))}();else!function(){var e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience. Please reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);var t=e.querySelector("#zappar-permission-reload-button");null===t||void 0===t||t.addEventListener("click",(function(){return window.location.reload()}))}()}},4985:function(e,t,n){"use strict";var r=n(3269).default,a=n(4575).default,i=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.applyScreenCounterRotation=t.Pipeline=void 0;var o=n(7183),s=n(2e3),u=n(5756),c=n(224),l=n(2667),f=n(1758),d=n(1319),h=n(7117),p=new Map,v=function(){function e(t,n,r){a(this,e),this._client=t,this._impl=n,this._mgr=r,this.pendingMessages=[],this.cameraTokens=new Map,this.nextCameraToken=1,this.tokensInFlight=0,this.videoTextures=[],this.cameraPixelArrays=[],this.onGLContextReset=new d.Event}return i(e,[{key:"frameUpdate",value:function(e){var t,n=r(this.pendingMessages);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.processMessages(a),this._mgr.postOutgoingMessage({t:"buf",p:this._impl,d:a},[a])}}catch(c){n.e(c)}finally{n.f()}this.pendingMessages=[];var i=this._client.pipeline_camera_frame_user_data(this._impl);if(i){var o,s=r(this.cameraTokens);try{for(s.s();!(o=s.n()).done;){var u=o.value;u[0]<i&&(u[1].texture&&this.videoTextures.push(u[1].texture),this.cameraTokens.delete(u[0]))}}catch(c){s.e(c)}finally{s.f()}}}},{key:"cameraTokenReturn",value:function(e,t){this.cameraPixelArrays.push(t),this.tokensInFlight--}},{key:"getVideoTexture",value:function(){return this.videoTextures.pop()}},{key:"destroy",value:function(){this._client.pipeline_destroy(this._impl),p.delete(this._impl)}},{key:"getCurrentCameraInfo",value:function(){var e=this._client.pipeline_camera_frame_user_data(this._impl);if(e)return this.cameraTokens.get(e)}},{key:"cameraFrameDrawGL",value:function(e,t,n){if(this.glContext){var r=this.getCurrentCameraInfo();r&&(this._cameraDraw||(this._cameraDraw=new o.CameraDraw(this.glContext)),this._cameraDraw.drawCameraFrame(e,t,r,!0===n))}}},{key:"glContextLost",value:function(){this._cameraDraw&&this._cameraDraw.dispose(),this._faceDraw&&this._faceDraw.dispose(),this._faceProjectDraw&&this._faceProjectDraw.dispose(),delete this._cameraDraw,delete this._faceDraw,delete this._faceProjectDraw,f.disposeDrawPlane(),this.onGLContextReset.emit();var e,t=r(this.videoTextures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.glContext&&this.glContext.deleteTexture(n)}}catch(s){t.e(s)}finally{t.f()}this.videoTextures=[];var a,i=r(this.cameraTokens);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.glContext&&o[1].texture&&this.glContext.deleteTexture(o[1].texture),o[1].texture=void 0}}catch(s){i.e(s)}finally{i.f()}this.glContext=void 0}},{key:"glContextSet",value:function(e,t){this.glContextLost(),this.glContext=e,t=t||[];for(var n=0;n<4;n++){var r=t[n]||e.createTexture();r&&(e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.videoTextures.push(r))}e.bindTexture(e.TEXTURE_2D,null)}},{key:"drawFace",value:function(e,t,n,r){if(this.glContext){this._faceDraw||(this._faceDraw=new c.FaceDraw(this.glContext));var a=s.mat4.create();s.mat4.multiply(a,e,t),s.mat4.multiply(a,a,n),this._faceDraw.drawFace(a,r)}}},{key:"drawFaceProject",value:function(e,t,n,r,a,i){this.glContext&&(this._faceProjectDraw||(this._faceProjectDraw=new l.FaceDrawProject(this.glContext)),this._faceProjectDraw.drawFace(e,t,n,r,a,i))}},{key:"cameraFrameTexture",value:function(){var e;return null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.texture}},{key:"cameraFrameTextureMatrix",value:function(e,t,n){var r=this.getCurrentCameraInfo();return r?o.cameraFrameTextureMatrix(r.dataWidth,r.dataHeight,e,t,r.uvTransform,n):s.mat4.create()}},{key:"cameraFrameUserFacing",value:function(){var e;return(null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.userFacing)||!1}},{key:"cameraPoseWithAttitude",value:function(e){var t=m(this.getCurrentCameraInfo(),this._client.pipeline_camera_frame_camera_attitude(this._impl));if(e){var n=s.mat4.create();s.mat4.fromScaling(n,[-1,1,1]),s.mat4.multiply(t,n,t),s.mat4.multiply(t,t,n)}return s.mat4.invert(t,t),t}},{key:"processGL",value:function(){if(this.glContext){if(this.currentCameraSource)if(this.tokensInFlight>0)this.currentCameraSource.getFrame(!0);else{var e=this.currentCameraSource.getFrame(!1);if(e){var t=this.nextCameraToken++;this.cameraTokens.set(t,e);var n={d:e.data,p:this._impl,width:e.dataWidth,height:e.dataHeight,token:t,userFacing:e.userFacing,t:"cameraFrameC2S"};this.tokensInFlight++,this._mgr.postOutgoingMessage(n,[e.data])}}}else h.zcerr("no GL context for camera frames - please call pipeline_gl_context_set")}},{key:"motionAccelerometerSubmit",value:function(e,t,n,r){this._client.pipeline_motion_accelerometer_submit(this._impl,e,t,n,r)}},{key:"motionRotationRateSubmit",value:function(e,t,n,r){this._client.pipeline_motion_rotation_rate_submit(this._impl,e,t,n,r)}},{key:"motionAttitudeSubmit",value:function(e,t,n,r){this._client.pipeline_motion_attitude_submit(this._impl,e,t,n,r)}}],[{key:"create",value:function(t,n){var r=t.pipeline_create();return p.set(r,new e(t,r,n)),r}},{key:"get",value:function(e){return p.get(e)}}]),e}();function m(e,t){var n;n=!!e&&e.userFacing;var r=s.mat4.create();return s.mat4.fromRotation(r,u.cameraRotationForScreenOrientation(n)*Math.PI/180,[0,0,1]),s.mat4.multiply(r,r,t),r}t.Pipeline=v,t.applyScreenCounterRotation=m},5729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profile=t.EmbeddedVideoImplementation=void 0;var r=n(9776);!function(e){e[e.OBJECT_URL=0]="OBJECT_URL",e[e.SRC_OBJECT=1]="SRC_OBJECT"}(t.EmbeddedVideoImplementation||(t.EmbeddedVideoImplementation={})),t.profile={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1},window.zeeProfile=t.profile;var a=new r.UAParser,i=(a.getOS().name||"unknown").toLowerCase(),o=(a.getEngine().name||"unknown").toLowerCase();("webkit"===o&&"ios"!==i&&(t.profile.deviceMotionMutliplier=1,void 0!==window.orientation&&s("15.0")),"webkit"===o&&"ios"===i)&&(t.profile.deviceMotionMutliplier=1,s(a.getOS().version||"15.0"));function s(e){var n=e.split(".");if(n.length>=2){var r=parseInt(n[0]),a=parseInt(n[1]);(r<11||11===r&&a<3)&&(t.profile.blacklisted=!0),(r<12||12===r&&a<2)&&(t.profile.videoElementInDOM=!0),(12===r&&a>=2||r>=13)&&(t.profile.showGyroPermissionsWarningIfNecessary=!0),r>=13&&(t.profile.showSafariPermissionsResetIfNecessary=!0),(r>=12&&a>1||r>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(t.profile.requestHighFrameRate=!0,t.profile.videoHeight=360,t.profile.dataHeight=180)}}},2363:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;var i=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:function(e){return n.int(e)},bool:function(e){return n.int(e?1:0)},float:function(e){return n.float(e)},string:function(e){return n.string(e)},dataWithLength:function(e){return n.arrayBuffer(e)},type:function(e){return n.int(e)},matrix4x4:function(e){return n.float32ArrayBuffer(e)},identityCoefficients:function(e){return n.float32ArrayBuffer(e)},expressionCoefficients:function(e){return n.float32ArrayBuffer(e)},cameraModel:function(e){return n.float32ArrayBuffer(e)},timestamp:function(e){return n.double(e)},barcodeFormat:function(e){return n.int(e)},faceLandmarkName:function(e){return n.int(e)},instantTrackerTransformOrientation:function(e){return n.int(e)},logLevel:function(e){return n.int(e)}},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}return a(e,[{key:"bufferReturn",value:function(e){this._freeBufferPool.push(e)}},{key:"_ensureArrayBuffer",value:function(e){var t=4*(this._offset+e+8);if(!(this._buffer&&this._buffer.byteLength>=t)){var n=void 0;if(!n){var r=t;r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,n=new ArrayBuffer(r)}var a=this._buffer?this._i32View:void 0;this._buffer=n,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),a&&this._i32View.set(a.subarray(0,this._offset))}}},{key:"sendMessage",value:function(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}},{key:"_sendOneTime",value:function(){var e=this;!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout((function(){e._timeoutSet=!1,e._send()}),0))}},{key:"_send",value:function(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}},{key:"int",value:function(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}},{key:"double",value:function(e){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}},{key:"float",value:function(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}},{key:"int32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"float32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"booleanArray",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}},{key:"uint8ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"arrayBuffer",value:function(e){var t=new Uint8Array(e);this.uint8ArrayBuffer(t)}},{key:"uint8ClampedArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"float32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}},{key:"uint16ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;var t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!==(1&e.length)&&this._offset++}},{key:"int32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}},{key:"uint32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}},{key:"string",value:function(e){var t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!==(3&t.byteLength)&&this._offset++}}]),e}();t.MessageSerializer=i},7916:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkProgram=t.compileShader=void 0,t.compileShader=function(e,t,n){var r=e.createShader(t);if(!r)throw new Error("Unable to create shader");e.shaderSource(r,n),e.compileShader(r);var a=e.getShaderInfoLog(r);if(a&&a.trim().length>0)throw new Error("Shader compile error: "+a);return r},t.linkProgram=function(e,t){e.linkProgram(t);var n=e.getProgramInfoLog(t);if(n&&n.trim().length>0)throw new Error("Unable to link: "+n)}},4706:function(e,t,n){"use strict";var r=n(3913).default,a=n(4575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var i=r((function e(){a(this,e)}));t.Source=i},8273:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.16"},6664:function(e,t,n){"use strict";var r=n(7757),a=n(3269).default,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorker=t.messageManager=void 0;var o,s=n(6776);function u(e){return new Promise((function(t){e.addEventListener("message",(function n(r){"loaded"===r.data&&(e.removeEventListener("message",n),t())}))}))}t.messageManager=new s.MsgManager,(o="undefined"!==typeof Z_STANDALONE&&Z_STANDALONE?n(7567):n(7534)).default&&(o=o.default),t.launchWorker=function(){return i(this,void 0,void 0,r.mark((function e(){var i,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){var e,n=t.messageManager.getOutgoingMessages(),r=a(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;i.postMessage(o.msg,o.transferables)}}catch(s){r.e(s)}finally{r.f()}},(i=new o).postMessage({t:"wasm",url:n(4301).Z}),e.next=5,u(i);case 5:t.messageManager.onOutgoingMessage.bind(s),s(),i.addEventListener("message",(function(e){t.messageManager.postIncomingMessage(e.data)}));case 8:case"end":return e.stop()}}),e)})))}},6874:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(6903)),c=o(n(4519)),l=s(n(936)),f=n(5112),d=u.FaceBufferGeometry;(0,f.extend)({FaceBufferGeometry:d});var h=(0,c.forwardRef)((function(e,t){var n=e.fillMouth,a=void 0!==n&&n,i=e.fillEyeLeft,o=void 0!==i&&i,s=e.fillEyeRight,d=void 0!==s&&s,h=e.fillNeck,p=void 0!==h&&h,v=e.fullHead,m=void 0!==v&&v,g=e.children,y=e.trackerGroup,_=c.default.useRef(),b=(0,c.useState)(),w=r(b,2),x=w[0],A=w[1];return(0,c.useEffect)((function(){A(m?(new u.FaceMeshLoader).loadFullHeadSimplified({fillMouth:a,fillEyeLeft:o,fillEyeRight:d,fillNeck:p}):(new u.FaceMeshLoader).loadFace({fillMouth:a,fillEyeLeft:o,fillEyeRight:d}))}),[a,o,d,p]),(0,f.useFrame)((function(){_.current&&y&&y.current&&_.current.updateFromFaceAnchorGroup(y.current)})),x?c.default.createElement("faceBufferGeometry",Object.assign({args:[x],ref:(0,l.default)([_,t])},e),g):null}));t.default=h},6308:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(6903)),c=o(n(4519)),l=s(n(936)),f=n(5112),d=(0,c.forwardRef)((function(e,t){var n=e.children,a=e.trackerGroup,i=c.default.useRef(),o=(0,c.useState)((new u.HeadMaskMeshLoader).load()),s=r(o,1)[0];return(0,f.useFrame)((function(){i.current&&a&&a.current&&i.current.updateFromFaceAnchorGroup(a.current)})),s?c.default.createElement("primitive",Object.assign({object:s,ref:(0,l.default)([i,t])},e),n):null}));t.default=d},5202:function(e,t,n){"use strict";var r=n(3038).default,a=n(3913).default,i=n(4575).default,o=n(2205).default,s=n(9842).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(6903)),h=l(n(4519)),p=n(2958),v=f(n(936)),m=n(5112),g=f(n(5257)),y=function(e){o(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).updateProjectionMatrix=function(){},e}return a(n)}(d.Camera);(0,m.extend)({ZapparCameraAdditional:y});var _=(0,h.forwardRef)((function(e,t){var n=e.userFacing,a=void 0!==n&&n,i=e.rearCameraMirrorMode,o=e.userCameraMirrorMode,s=e.poseMode,u=e.poseAnchorOrigin,c=e.pipeline,l=e.sources,f=e.makeDefault,y=void 0===f||f,_=e.renderPriority,b=void 0===_?2:_,w=e.environmentMap,x=void 0!==w&&w,A=e.permissionRequest,M=void 0===A||A,E=e.onFirstFrame,C=e.backgroundImageProps,S=(0,m.useThree)((function(e){return e})),T=S.gl,k=S.set,B=(0,h.useState)(!1),P=r(B,2),L=P[0],D=P[1],R=(0,h.useState)(new p.CameraTexture),F=r(R,1)[0],I=(0,h.useMemo)((function(){return x?new d.CameraEnvironmentMap:void 0}),[x]);(0,h.useEffect)((function(){C&&F&&Object.assign(F,C)}),[C,F]);var O=h.default.useRef(),z=(0,h.useState)(!1),Z=r(z,2),U=Z[0],N=Z[1],G={camera:g.default.camera((function(e){return e}))};return(0,h.useEffect)((function(){(c||d).glContextSet(T.getContext())}),[c,T]),(0,h.useEffect)((function(){y&&k((function(){return{camera:O.current}}))}),[y]),(0,h.useEffect)((function(){O.current&&(G.camera.set(O.current),U||!M?O.current.start(a):d.permissionRequestUI().then((function(e){N(e),e?O.current.start(a):d.permissionDeniedUI()})))}),[a,M]),(0,h.useEffect)((function(){if(O.current){switch(i){case"poses":O.current.rearCameraMirrorMode=d.CameraMirrorMode.Poses;break;case"css":O.current.rearCameraMirrorMode=d.CameraMirrorMode.CSS;break;default:O.current.rearCameraMirrorMode=d.CameraMirrorMode.None}switch(o){case"none":O.current.userCameraMirrorMode=d.CameraMirrorMode.None;break;case"css":O.current.userCameraMirrorMode=d.CameraMirrorMode.CSS;break;default:O.current.userCameraMirrorMode=d.CameraMirrorMode.Poses}switch(s){case"anchor-origin":O.current.poseMode=d.CameraPoseMode.AnchorOrigin,O.current.poseAnchorOrigin=u;break;case"attitude":O.current.poseMode=d.CameraPoseMode.Attitude;break;default:O.current.poseMode=d.CameraPoseMode.Default}}}),[i,o,s,u]),(0,m.useFrame)((function(e){var t=e.gl,n=e.scene;O.current&&(E&&!L&&O.current.pipeline.frameNumber()>0&&(D(!0),E()),null===I||void 0===I||I.update(t,O.current),O.current.updateFrame(t),t.render(n,O.current))}),b),O.current&&(O.current.__r3f.primitive=!0),h.default.createElement(h.default.Fragment,null,h.default.createElement("primitive",{object:F,attach:"background"}),x&&h.default.createElement("primitive",{object:I.environmentMap,attach:"environment"}),h.default.createElement("zapparCameraAdditional",Object.assign({args:[{pipeline:c,userCameraSource:null===l||void 0===l?void 0:l.userCamera,rearCameraSource:null===l||void 0===l?void 0:l.rearCamera,backgroundTexture:F}],ref:(0,v.default)([O,t])},e)))}));t.default=_},9040:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(4519)),i=n(5112),o=n(9465);t.default=function(e){var t=e.children;return a.default.createElement(i.Canvas,Object.assign({flat:!0,resize:{polyfill:o.ResizeObserver},linear:!0,dpr:window.devicePixelRatio,id:"zapparCanvas"},e),t)}},7265:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(6903)),u=i(n(4519)),c=n(5112),l=o(n(936)),f=o(n(5257)),d=s.FaceLandmarkGroup;(0,c.extend)({FaceLandmarkGroup:d});var h=(0,u.forwardRef)((function(e,t){var n,r=e.children,a=e.trackerGroup,i=e.camera,o=e.target,c=(0,u.useRef)(),d={camera:f.default.camera((function(e){return e})),faceTracker:f.default.faceTracker((function(e){return e}))},h=(null===(n=null===a||void 0===a?void 0:a.current)||void 0===n?void 0:n.faceTracker)?a.current.faceTracker:d.faceTracker.object,p=(null===i||void 0===i?void 0:i.current)?i.current:d.camera.object;return h&&p?u.default.createElement("faceLandmarkGroup",Object.assign({args:[p,h,s.FaceLandmarkName[o.toUpperCase().replace("-","_")]],ref:(0,l.default)([c,t])},e),r):null}));t.default=h},1006:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(6903)),c=o(n(4519)),l=n(5112),f=s(n(936)),d=s(n(5257)),h=s(n(6930)),p=u.FaceAnchorGroup;(0,l.extend)({FaceAnchorGroup:p});var v=(0,c.forwardRef)((function(e,t){var n=e.camera,a=e.children,i=e.useFaceTracker,o=e.onNotVisible,s=e.onVisible,l=e.onNewAnchor,p=e.pipeline,v=e.model,m=e.enabled,g=(0,c.useState)(),y=r(g,2),_=y[0],b=y[1],w=c.default.useRef(),x={camera:d.default.camera((function(e){return e})),faceTracker:d.default.faceTracker((function(e){return e}))};(0,c.useEffect)((function(){var e=new u.FaceTracker(p);v?e.loadModel(v):e.loadDefaultModel(),b(e),x.faceTracker.set(e)}),[v,p]);var A=(null===n||void 0===n?void 0:n.current)?n.current:x.camera.object;return(0,c.useEffect)((function(){return _&&(i&&i(_),o&&_.onNotVisible.bind(o),s&&_.onVisible.bind(s),l&&_.onVisible.bind(l)),function(){_&&(o&&_.onNotVisible.unbind(o),s&&_.onVisible.unbind(s),l&&_.onVisible.unbind(l))}}),[i,s,o,w,_]),(0,h.default)(_,m),_&&A?c.default.createElement("faceAnchorGroup",Object.assign({ref:(0,f.default)([w,t]),args:[A,_]},e),a):null}));t.default=v},2550:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(6903)),c=o(n(4519)),l=n(5112),f=s(n(936)),d=s(n(5257)),h=s(n(6930)),p=u.ImageAnchorGroup;(0,l.extend)({ImageAnchorGroup:p});var v=(0,c.forwardRef)((function(e,t){var n=e.useImageTracker,a=e.onNotVisible,i=e.onNewAnchor,o=e.onVisible,s=e.targetImage,l=e.camera,p=e.children,v=e.pipeline,m=e.enabled,g=(0,c.useRef)(),y=d.default.camera((function(e){return e})),_=(null===l||void 0===l?void 0:l.current)?l.current:y.object,b=(0,c.useState)(),w=r(b,2),x=w[0],A=w[1];return(0,c.useEffect)((function(){A(new u.ImageTracker(s,v))}),[s,v]),(0,c.useEffect)((function(){return x&&(n&&n(x),a&&x.onNotVisible.bind(a),i&&x.onNewAnchor.bind(i),o&&x.onVisible.bind(o)),function(){a&&(null===x||void 0===x||x.onNotVisible.unbind(a)),i&&(null===x||void 0===x||x.onNewAnchor.unbind(i)),o&&(null===x||void 0===x||x.onVisible.unbind(o))}}),[n,o,i,a,x]),(0,h.default)(x,m),_&&x?c.default.createElement("imageAnchorGroup",Object.assign({ref:(0,f.default)([g,t]),args:[_,x]},e),p):null}));t.default=v},1447:function(e,t,n){"use strict";var r=n(7757),a=n(8926).default,i=n(319).default,o=n(3038).default,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(n(6903)),d=c(n(4519)),h=n(5112),p=l(n(936)),v=l(n(5257)),m=l(n(9027)),g=l(n(6930)),y=f.InstantWorldAnchorGroup;(0,h.extend)({InstantWorldAnchorGroup:y});var _=(0,d.forwardRef)((function(e,t){var n=e.camera,s=e.placementMode,u=e.children,c=e.placementCameraOffset,l=e.pipeline,y=e.placementUI,_=e.useInstantTracker,b=e.enabled,w=(0,d.useRef)(),x=(0,d.useState)(s),A=o(x,2),M=A[0],E=A[1];(0,d.useEffect)((function(){E(s)}),[s,y]);var C=(0,d.useState)(),S=o(C,2),T=S[0],k=S[1];(0,d.useEffect)((function(){k(new f.InstantWorldTracker(l))}),[l]);var B=v.default.camera((function(e){return e})),P=(null===n||void 0===n?void 0:n.current)?n.current:B.object,L=c||{x:0,y:0,z:-5};if((0,d.useEffect)((function(){T&&_&&_(T)}),[_,T]),(0,h.useFrame)((function(){M&&T&&(Array.isArray(L)?T.setAnchorPoseFromCameraOffset.apply(T,i(L)):"number"===typeof L?T.setAnchorPoseFromCameraOffset(0,0,L):L.x&&T.setAnchorPoseFromCameraOffset(L.x,L.y,L.z))})),(0,g.default)(T,b),!P||!T)return null;var D=y?d.default.createElement(m.default,{placementType:y,onInteract:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):void 0;return d.default.createElement(d.default.Fragment,null,D,d.default.createElement("instantWorldAnchorGroup",Object.assign({ref:(0,p.default)([w,t]),args:[P,T]},e),u))}));t.default=_},6319:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(6903)),u=n(4519);t.default=function(e){var t=e.fallback,n=(0,u.useState)(!0),a=r(n,2),i=a[0],o=a[1];return(0,u.useEffect)((function(){o(!s.browserIncompatible()),i||t||s.browserIncompatibleUI()}),[]),t&&!i?t:null}},5119:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4519),s=i(n(6903));t.default=function(e){var t=e.style,n=e.onLoad;return(0,o.useEffect)((function(){var e=new s.DefaultLoaderUI({style:t,onLoad:n});return function(){return e.dispose()}}),[e]),null}},9027:function(e,t,n){"use strict";var r=n(3038).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(4519)),u=n(599),c={position:"absolute",bottom:"5%",width:"200px",left:"calc(50% - 100px)",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",textAlign:"center",fontFamily:"sans-serif",padding:"10px",userSelect:"none",borderRadius:"5px"};t.default=function(e){var t=e.onInteract,n=e.placementType,a=(0,s.useState)(!0),i=r(a,2),o=i[0],l=i[1],f=(0,s.useState)(!1),d=r(f,2),h=d[0],p=d[1];return(0,s.useLayoutEffect)((function(){t(o)}),[o]),(0,s.useEffect)((function(){p(!0)}),[]),h&&("placement-only"!==n||o)?s.default.createElement(u.Html,{fullscreen:!0,style:{left:"0px",top:"0px"}},s.default.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.1)"}},s.default.createElement("div",{id:"ZapparPlacementUIHelper",role:"button",style:c,tabIndex:0,onKeyPress:function(){l((function(e){return!e}))},onClick:function(){l((function(e){return!e}))}},"Tap here to",o?" place ":" pick up ","the object"))):null}},6930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4519);t.default=function(e,t){(0,r.useEffect)((function(){e&&void 0!==t&&(e.enabled=t)}),[e,t])}},5514:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCompatibility=t.Loader=t.ZapparCanvas=t.ZapparCamera=t.InstantTracker=t.ImageTracker=t.HeadMaskMesh=t.FaceTracker=t.FaceLandmark=t.FaceBufferGeometry=t.setLogLevel=t.LogLevel=t.Pipeline=t.browserIncompatible=void 0;var a=r(n(317));console.log("Zappar for React Three v".concat(a.default));var i=n(6903);Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return i.browserIncompatible}}),Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return i.Pipeline}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return i.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return i.setLogLevel}});var o=n(6874);Object.defineProperty(t,"FaceBufferGeometry",{enumerable:!0,get:function(){return r(o).default}});var s=n(7265);Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return r(s).default}});var u=n(1006);Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return r(u).default}});var c=n(6308);Object.defineProperty(t,"HeadMaskMesh",{enumerable:!0,get:function(){return r(c).default}});var l=n(2550);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return r(l).default}});var f=n(1447);Object.defineProperty(t,"InstantTracker",{enumerable:!0,get:function(){return r(f).default}});var d=n(5202);Object.defineProperty(t,"ZapparCamera",{enumerable:!0,get:function(){return r(d).default}});var h=n(9040);Object.defineProperty(t,"ZapparCanvas",{enumerable:!0,get:function(){return r(h).default}});var p=n(5119);Object.defineProperty(t,"Loader",{enumerable:!0,get:function(){return r(p).default}});var v=n(6319);Object.defineProperty(t,"BrowserCompatibility",{enumerable:!0,get:function(){return r(v).default}})},5257:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(5153)),i=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),o=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),s=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),u=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}}));t.default={camera:i,imageTracker:o,instantTracker:s,faceTracker:u}},317:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="1.2.1"},5153:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9439),a=n(4519);function i(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(a!==t){var i=t;t=r?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,subscribe:function(e,r,i){return r||i?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!i(o,n)){var a=o;e(o=n,a)}}return n.add(s),function(){return n.delete(s)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,a,i),i}var o="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a.useEffect:a.useLayoutEffect;function s(e){var t="function"===typeof e?i(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,s=(0,a.useReducer)((function(e){return e+1}),0),u=(0,r.Z)(s,2),c=u[1],l=t.getState(),f=(0,a.useRef)(l),d=(0,a.useRef)(n),h=(0,a.useRef)(i),p=(0,a.useRef)(!1),v=(0,a.useRef)();void 0===v.current&&(v.current=n(l));var m=!1;(f.current!==l||d.current!==n||h.current!==i||p.current)&&(e=n(l),m=!i(v.current,e)),o((function(){m&&(v.current=e),f.current=l,d.current=n,h.current=i,p.current=!1}));var g=(0,a.useRef)(l);o((function(){var e=function(){try{var e=t.getState(),n=d.current(e);h.current(v.current,n)||(f.current=e,v.current=n,c())}catch(r){p.current=!0,c()}},n=t.subscribe(e);return t.getState()!==g.current&&e(),n}),[]);var y=m?e:v.current;return(0,a.useDebugValue)(y),y};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}},4352:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(6525).default,o=n(9754).default,s=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=t.CameraMirrorMode=t.CameraPoseMode=void 0;var c,l,f,d=n(1168),h=n(5483),p=n(8587),v=n(2958);!function(e){e[e.Default=0]="Default",e[e.Attitude=1]="Attitude",e[e.AnchorOrigin=2]="AnchorOrigin"}(c=t.CameraPoseMode||(t.CameraPoseMode={})),function(e){e[e.None=0]="None",e[e.Poses=1]="Poses",e[e.CSS=2]="CSS"}(l=t.CameraMirrorMode||(t.CameraMirrorMode={})),function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Rear=2]="Rear"}(f||(f={}));var m=function(e){s(n,e);var t=u(n);function n(e){var a;return r(this,n),(a=t.call(this)).poseMode=c.Default,a.rearCameraMirrorMode=l.None,a.userCameraMirrorMode=l.Poses,a._currentMirrorMode=l.None,a.isPerspectiveCamera=!0,a.cameraDirection=f.None,a.hasSetCSSScaleX=!1,a.renderWidth=0,a.renderHeight=0,a.pipeline=e instanceof d.Pipeline?e:(null===e||void 0===e?void 0:e.pipeline)||(0,p.getDefaultPipeline)(),a.rawPose=a.pipeline.cameraPoseDefault(),!e||e instanceof d.Pipeline?(a.rearCameraSource=new p.CameraSource(d.cameraDefaultDeviceID(),a.pipeline),a.userCameraSource=new p.CameraSource(d.cameraDefaultDeviceID(!0),a.pipeline),a.backgroundTexture=new v.CameraTexture):(a.zNear=e.zNear?e.zNear:.1,a.zFar=e.zFar?e.zFar:100,a.rearCameraSource=a.cameraSourceFromOpts(e.rearCameraSource),a.userCameraSource=a.cameraSourceFromOpts(e.userCameraSource,!0),a.backgroundTexture=e.backgroundTexture?e.backgroundTexture:new v.CameraTexture),a.matrixAutoUpdate=!1,document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?a.resume():a.pause()})),a}return a(n,[{key:"cameraSourceFromOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof Element?new d.HTMLElementSource(this.pipeline,e):new p.CameraSource(e||d.cameraDefaultDeviceID(t),this.pipeline)}},{key:"pause",value:function(){this.userCameraSource.pause(),this.rearCameraSource.pause()}},{key:"resume",value:function(){switch(this.cameraDirection){case f.User:this.userCameraSource.start();break;case f.Rear:this.rearCameraSource.start()}}},{key:"start",value:function(e){this.cameraDirection=e?f.User:f.Rear,this.resume()}},{key:"stop",value:function(){this.cameraDirection=f.None,this.pause()}},{key:"setPoseModeAnchorOrigin",value:function(e){this.poseAnchorOrigin=e,this.poseMode=c.AnchorOrigin}},{key:"currentMirrorMode",get:function(){return this._currentMirrorMode}},{key:"updateFrame",value:function(e){e.state.reset(),this.pipeline.processGL(),e.state.reset(),this.pipeline.frameUpdate(),this._currentMirrorMode=this.pipeline.cameraFrameUserFacing()?this.userCameraMirrorMode:this.rearCameraMirrorMode;var t=e.domElement;switch(this.currentMirrorMode!==l.CSS&&this.hasSetCSSScaleX?(t.style.transform="",this.hasSetCSSScaleX=!1):this.currentMirrorMode!==l.CSS||this.hasSetCSSScaleX||(t.style.transform="scaleX(-1)",this.hasSetCSSScaleX=!0),this.renderWidth=e.domElement.width,this.renderHeight=e.domElement.height,this._updateProjectionMatrix(),this.poseMode){case c.Default:this.rawPose=this.pipeline.cameraPoseDefault();break;case c.Attitude:this.rawPose=this.pipeline.cameraPoseWithAttitude(this.currentMirrorMode===l.Poses);break;case c.AnchorOrigin:this.rawPose=this.poseAnchorOrigin?this.getOriginPose():this.pipeline.cameraPoseDefault();break;default:this.rawPose=this.pipeline.cameraPoseDefault()}this.backgroundTexture.MirrorMode=this.currentMirrorMode,this.backgroundTexture.update(e,this.pipeline)}},{key:"_updateProjectionMatrix",value:function(){var e=this.pipeline.cameraModel(),t=d.projectionMatrixFromCameraModel(e,this.renderWidth,this.renderHeight,this.zNear,this.zFar);this.projectionMatrix.fromArray(t),"function"===typeof this.projectionMatrixInverse.invert?this.projectionMatrixInverse.copy(this.projectionMatrix).invert():this.projectionMatrixInverse.getInverse(this.projectionMatrix)}},{key:"updateMatrixWorld",value:function(e){this.matrix.fromArray(this.rawPose),this.matrix.decompose(this.position,this.quaternion,this.scale),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"getOriginPose",value:function(){return this.poseAnchorOrigin?this.pipeline.cameraPoseWithOrigin(this.poseAnchorOrigin.poseCameraRelative(this.currentMirrorMode===l.Poses)):this.pipeline.cameraPoseDefault()}},{key:"dispose",value:function(){this.rearCameraSource.destroy(),this.userCameraSource.destroy()}}]),n}(h.THREE.Camera);t.Camera=m},2958:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraTexture=void 0;var s=n(4352),u=n(5483),c=function(e){i(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).MirrorMode=s.CameraMirrorMode.None,e}return a(n,[{key:"update",value:function(e,t){t.cameraFrameUploadGL();var n=t.cameraFrameTextureGL();if(n){this.encoding=e.outputEncoding;var r=e.properties.get(this);r.__webglTexture=n,r.__webglInit=!0;var a=new u.THREE.Matrix4;a.fromArray(t.cameraFrameTextureMatrix(e.domElement.width,e.domElement.height,this.MirrorMode===s.CameraMirrorMode.Poses));var i=new u.THREE.Matrix3;i.setFromMatrix4(a),i.elements[6]=a.elements[12],i.elements[7]=a.elements[13],i.elements[8]=1,this.matrixAutoUpdate=!1,this.matrix=i}}}]),n}(u.THREE.Texture);t.CameraTexture=c},8271:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraEnvironmentMap=void 0;var i=n(5483),o=function(){function e(){r(this,e),this.cubeMapScene=new i.THREE.Scene,this.renderTarget=new i.THREE.WebGLCubeRenderTarget(256,{format:i.THREE.RGBAFormat,generateMipmaps:!0,minFilter:i.THREE.LinearMipmapLinearFilter}),this.cubeCamera=new i.THREE.CubeCamera(.1,1e3,this.renderTarget),this.sphereMaterial=new i.THREE.MeshBasicMaterial({side:i.THREE.DoubleSide}),this.sphereGroup=new i.THREE.Group,this.environmentMap=this.renderTarget.texture,this.cubeMapScene.add(this.cubeCamera);var t=new i.THREE.Mesh(new i.THREE.SphereBufferGeometry(10,16,12),this.sphereMaterial);t.rotation.set(0,-.5*Math.PI,0),this.sphereGroup.add(t),this.cubeMapScene.add(this.sphereGroup)}return a(e,[{key:"dispose",value:function(){this.renderTarget.dispose(),this.sphereMaterial.dispose()}},{key:"update",value:function(e,t){this.environmentMap.encoding=e.outputEncoding,this.sphereMaterial.map=t.backgroundTexture,this.sphereGroup.quaternion.copy(t.quaternion),this.cubeCamera.update(e,this.cubeMapScene)}}]),e}();t.CameraEnvironmentMap=o},8587:function(e,t,n){"use strict";var r=n(3913).default,a=n(4575).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.glContextLost=t.glContextSet=t.HTMLElementSource=t.CameraSource=t.InstantWorldTracker=t.FaceTracker=t.BarcodeFinder=t.ImageTracker=t.getDefaultPipeline=t.onFrameUpdate=void 0;var s,u=n(1168),c=n(6366);function l(){return s||(s=new u.Pipeline).onFrameUpdate.bind((function(){return t.onFrameUpdate.emit()})),s}t.onFrameUpdate=new c.Event,t.getDefaultPipeline=l;var f=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.ImageTracker);t.ImageTracker=f;var d=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.BarcodeFinder);t.BarcodeFinder=d;var h=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.FaceTracker);t.FaceTracker=h;var p=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.InstantWorldTracker);t.InstantWorldTracker=p;var v=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.CameraSource);t.CameraSource=v;var m=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.HTMLElementSource);t.HTMLElementSource=m,t.glContextSet=function(e){l().glContextSet(e)},t.glContextLost=function(){l().glContextLost()}},5134:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceBufferGeometry=void 0;var s,u=n(5483),c=n(1725),l=function(e){i(n,e);var t=o(n);function n(e){var a;return r(this,n),(a=t.call(this)).hasSetIndices=!1,a.hasSetUVs=!1,a.recalculateNormals=!0,a.setIndex([]),a.setAttribute("position",new u.THREE.Float32BufferAttribute([],3)),a.setAttribute("normal",new u.THREE.Float32BufferAttribute([],3)),a.setAttribute("uv",new u.THREE.Float32BufferAttribute([],2)),e||(s||(s=(new c.FaceMeshLoader).load()),e=s),a._faceMesh=e,a}return a(n,[{key:"_updateIndices",value:function(){this.hasSetIndices||0!==this._faceMesh.indices.length&&(this.setIndex(new u.THREE.Uint16BufferAttribute(this._faceMesh.indices,1)),this.hasSetIndices=!0)}},{key:"_updateUVs",value:function(){this.hasSetUVs||0!==this._faceMesh.uvs.length&&(this.setAttribute("uv",new u.THREE.BufferAttribute(this._faceMesh.uvs,2)),this.hasSetUVs=!0)}},{key:"calculateNormals",get:function(){return this.recalculateNormals},set:function(e){this.recalculateNormals=e,this.recalculateNormals||("function"===typeof this.removeAttribute&&this.removeAttribute("normal"),delete this.normals)}},{key:"updateFromFaceAnchorGroup",value:function(e){0!==this._faceMesh.vertices.length&&e.currentAnchor&&this.updateFromFaceAnchor(e.currentAnchor)}},{key:"updateFromFaceAnchor",value:function(e){this.updateFromIdentityExpression(e.identity,e.expression)}},{key:"updateFromIdentityExpression",value:function(e,t){0!==this._faceMesh.vertices.length&&(this._updateIndices(),this._updateUVs(),this._faceMesh.updateFromIdentityExpression(e,t),this.vertices||(this.vertices=new Float32Array(this._faceMesh.vertices.length),this.verticesAttribute=new u.THREE.BufferAttribute(this.vertices,3),this.setAttribute("position",this.verticesAttribute)),this.vertices.set(this._faceMesh.vertices),this.verticesAttribute&&(this.verticesAttribute.needsUpdate=!0),this.computeBoundingSphere(),this.calculateNormals&&(this.normals||(this.normals=new Float32Array(this._faceMesh.normals.length),this.normalsAttribute=new u.THREE.BufferAttribute(this.normals,3),this.setAttribute("normal",this.normalsAttribute)),this.normals.set(this._faceMesh.normals),this.normalsAttribute&&(this.normalsAttribute.needsUpdate=!0)))}}]),n}(u.THREE.BufferGeometry);t.FaceBufferGeometry=l},6903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.permissionRequestUI=t.permissionDeniedUI=t.permissionRequest=t.permissionGranted=t.permissionDenied=t.setLogLevel=t.LogLevel=t.Pipeline=t.FaceLandmarkName=t.FaceLandmark=t.FaceMesh=t.getDefaultPipeline=t.glContextLost=t.glContextSet=t.onFrameUpdate=t.HTMLElementSource=t.CameraSource=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=t.CameraEnvironmentMap=t.DefaultLoaderUI=t.LoadingManager=t.LibraryLoader=t.HeadMaskMeshLoader=t.HeadMaskMesh=t.FaceMeshLoader=t.FaceBufferGeometry=t.FaceTrackerLoader=t.FaceLandmarkGroup=t.FaceAnchorGroup=t.InstantWorldAnchorGroup=t.ImageTrackerLoader=t.ImageAnchorGroup=t.CameraMirrorMode=t.CameraPoseMode=t.Camera=void 0;var r=n(4109);console.log("Zappar for ThreeJS v".concat(r.VERSION));var a=n(4352);Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return a.Camera}}),Object.defineProperty(t,"CameraPoseMode",{enumerable:!0,get:function(){return a.CameraPoseMode}}),Object.defineProperty(t,"CameraMirrorMode",{enumerable:!0,get:function(){return a.CameraMirrorMode}});var i=n(3177);Object.defineProperty(t,"ImageAnchorGroup",{enumerable:!0,get:function(){return i.ImageAnchorGroup}});var o=n(1718);Object.defineProperty(t,"ImageTrackerLoader",{enumerable:!0,get:function(){return o.ImageTrackerLoader}});var s=n(8425);Object.defineProperty(t,"InstantWorldAnchorGroup",{enumerable:!0,get:function(){return s.InstantWorldAnchorGroup}});var u=n(1342);Object.defineProperty(t,"FaceAnchorGroup",{enumerable:!0,get:function(){return u.FaceAnchorGroup}});var c=n(6786);Object.defineProperty(t,"FaceLandmarkGroup",{enumerable:!0,get:function(){return c.FaceLandmarkGroup}});var l=n(7267);Object.defineProperty(t,"FaceTrackerLoader",{enumerable:!0,get:function(){return l.FaceTrackerLoader}});var f=n(5134);Object.defineProperty(t,"FaceBufferGeometry",{enumerable:!0,get:function(){return f.FaceBufferGeometry}});var d=n(1725);Object.defineProperty(t,"FaceMeshLoader",{enumerable:!0,get:function(){return d.FaceMeshLoader}});var h=n(308);Object.defineProperty(t,"HeadMaskMesh",{enumerable:!0,get:function(){return h.HeadMaskMesh}});var p=n(7435);Object.defineProperty(t,"HeadMaskMeshLoader",{enumerable:!0,get:function(){return p.HeadMaskMeshLoader}});var v=n(9205);Object.defineProperty(t,"LibraryLoader",{enumerable:!0,get:function(){return v.LibraryLoader}});var m=n(4892);Object.defineProperty(t,"LoadingManager",{enumerable:!0,get:function(){return m.LoadingManager}}),Object.defineProperty(t,"DefaultLoaderUI",{enumerable:!0,get:function(){return m.DefaultLoaderUI}});var g=n(8271);Object.defineProperty(t,"CameraEnvironmentMap",{enumerable:!0,get:function(){return g.CameraEnvironmentMap}});var y=n(8587);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return y.ImageTracker}}),Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return y.InstantWorldTracker}}),Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return y.BarcodeFinder}}),Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return y.FaceTracker}}),Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return y.CameraSource}}),Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return y.HTMLElementSource}}),Object.defineProperty(t,"onFrameUpdate",{enumerable:!0,get:function(){return y.onFrameUpdate}}),Object.defineProperty(t,"glContextSet",{enumerable:!0,get:function(){return y.glContextSet}}),Object.defineProperty(t,"glContextLost",{enumerable:!0,get:function(){return y.glContextLost}}),Object.defineProperty(t,"getDefaultPipeline",{enumerable:!0,get:function(){return y.getDefaultPipeline}});var _=n(1168);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return _.FaceMesh}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return _.FaceLandmark}}),Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return _.FaceLandmarkName}}),Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return _.Pipeline}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return _.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return _.setLogLevel}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return _.permissionDenied}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return _.permissionGranted}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return _.permissionRequest}}),Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return _.permissionDeniedUI}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return _.permissionRequestUI}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return _.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return _.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return _.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return _.loadedPromise}})},1725:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMeshLoader=void 0;var s=n(1168),u=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_".concat(JSON.stringify(e||"default"));return this.manager.itemStart(o),(e?"string"===typeof e?i.load(e):e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"loadFace",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_face_".concat(JSON.stringify(e||"default"));return(e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"loadFullHeadSimplified",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_full_head_".concat(JSON.stringify(e||"default"));return(e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified(e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"parse",value:function(){}}]),n}(n(5483).THREE.Loader);t.FaceMeshLoader=u},7267:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTrackerLoader=void 0;var s=n(5483),u=n(8587),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new u.FaceTracker,o=e?i.loadModel(e):i.loadDefaultModel(),s="string"===typeof e?e:"__zappar_threejs_face_tracker_default";return o.then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(s)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(s),a.manager.itemEnd(s)})),i}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.FaceTrackerLoader=c},7435:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMeshLoader=void 0;var s=n(5483),u=n(308),c="__zappar_threejs_head_mask_mesh",l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n){var r=this;return this.manager.itemStart(c),new u.HeadMaskMesh((function(){null===e||void 0===e||e(),r.manager.itemEnd(c)}),(function(){null===n||void 0===n||n(),r.manager.itemError(c),r.manager.itemEnd(c)}))}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.HeadMaskMeshLoader=l},1718:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTrackerLoader=void 0;var s=n(5483),u=n(8587),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new u.ImageTracker;return i.loadTarget(e).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(e)})).catch((function(t){null===r||void 0===r||r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),i}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.ImageTrackerLoader=c},9205:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LibraryLoader=void 0;var s=n(6903),u=n(5483),c="__zappar_threejs_library",l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n){var r=this;this.manager.itemStart(c),(0,s.loadedPromise)().then((function(){null===e||void 0===e||e(),r.manager.itemEnd(c)})).catch((function(e){null===n||void 0===n||n(),r.manager.itemError(c),r.manager.itemEnd(c)}))}},{key:"parse",value:function(){}}]),n}(u.THREE.Loader);t.LibraryLoader=l},4892:function(e,t,n){"use strict";var r=n(1506).default,a=n(2205).default,i=n(9842).default,o=n(4575).default,s=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=t.DefaultLoaderUI=void 0;var u=n(5483),c=n(9205),l=function(){function e(t){var n=this;o(this,e),this.lastLoadPercentage=0,this.divs={inner:document.createElement("div"),title:document.createElement("div"),progress:document.createElement("div"),progressValue:document.createElement("div")},this.css={container:{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"10000",backgroundColor:"rgba(0,0,0,0.8)",fontFamily:"sans-serif",color:"rgba(255,255,255,1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"opacity 500ms"},inner:{maxWidth:"400px",textAlign:"center"},title:{fontSize:"20px"},progress:{background:"rgba(255,255,255, 0.1)",justifyContent:"flex-start",borderRadius:"100px",alignItems:"center",position:"relative",padding:"0 5px",display:"flex",height:"15px",width:"250px",margin:"15px"},progressValue:{boxShadow:"0 10px 40px -10px #fff",borderTopLeftRadius:"100px",borderBottomLeftRadius:"100px",background:"rgba(255,255,255,1)",height:"10px",width:"0",transition:"width 500ms"}},this.updateLoader=function(e){if(!(e<n.lastLoadPercentage)){n.lastLoadPercentage=e;var t=document.getElementById("zappar-loader-progressValue");t.style.width="".concat(e,"%"),t.style.borderTopRightRadius="".concat(e,"px"),t.style.borderBottomRightRadius="".concat(e,"px"),t.addEventListener("transitionend",(function(){100===e&&(n.containerDiv.style.opacity="0",n.containerDiv.addEventListener("transitionend",(function(e){"opacity"===e.propertyName&&n.dispose()})))}))}},this.dispose=function(){n.containerDiv.remove()},this.customStyle=t,this.containerDiv=document.createElement("div")}return s(e,[{key:"initialize",value:function(){for(var e in this.divs)this.divs[e].id="zappar-loader-".concat(e);this.refreshStyle(),this.divs.inner.appendChild(this.divs.title),this.divs.inner.appendChild(this.divs.progress),this.divs.progress.appendChild(this.divs.progressValue),this.containerDiv.appendChild(this.divs.inner),this.divs.title.innerHTML="Loading..",document.body.append(this.containerDiv)}},{key:"refreshStyle",value:function(){var e,t,n,r,a;Object.assign(this.css.container,null===(e=this.customStyle)||void 0===e?void 0:e.container),Object.assign(this.css.inner,null===(t=this.customStyle)||void 0===t?void 0:t.inner),Object.assign(this.css.title,null===(n=this.customStyle)||void 0===n?void 0:n.title),Object.assign(this.css.progress,null===(r=this.customStyle)||void 0===r?void 0:r.progress),Object.assign(this.css.progressValue,null===(a=this.customStyle)||void 0===a?void 0:a.progressValue),Object.assign(this.containerDiv.style,this.css.container),Object.assign(this.divs.inner.style,this.css.inner),Object.assign(this.divs.title.style,this.css.title),Object.assign(this.divs.progress.style,this.css.progress),Object.assign(this.divs.progressValue.style,this.css.progressValue)}}]),e}(),f=function(e){a(n,e);var t=i(n);function n(e){var r;return o(this,n),r=t.call(this,null===e||void 0===e?void 0:e.style),u.THREE.DefaultLoadingManager.onStart=function(){r.initialize()},u.THREE.DefaultLoadingManager.onLoad=function(){var t;null===(t=null===e||void 0===e?void 0:e.onLoad)||void 0===t||t.call(e)},u.THREE.DefaultLoadingManager.onProgress=function(e,t,n){r.updateLoader(t/n*100)},r}return s(n)}(l);t.DefaultLoaderUI=f;var d=function(e){a(n,e);var t=i(n);function n(e){var a;return o(this,n),(a=t.call(this,(function(){var t;return null===(t=null===e||void 0===e?void 0:e.onLoad)||void 0===t?void 0:t.call(e)}),(function(t,n,r){var i;a.ui.customStyle=null===e||void 0===e?void 0:e.style,a.ui.refreshStyle(),null===(i=null===e||void 0===e?void 0:e.onProgress)||void 0===i||i.call(e,t,n,r),a.ui.updateLoader(n/r*100)}),null===e||void 0===e?void 0:e.onError)).ui=new l,a.onStartCallback=void 0,a.onStart=function(){a.ui.initialize(),a.onStartCallback&&a.onStartCallback()},a._onStart=function(e){a.onStartCallback=e},a.dispose=function(){a.ui.dispose()},new c.LibraryLoader(r(a)).load(),a}return s(n)}(u.THREE.LoadingManager);t.LoadingManager=d},308:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(1506).default,o=n(2205).default,s=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMesh=void 0;var u=n(1168),c=n(5483),l=n(5134),f=function(e){o(n,e);var t=s(n);function n(e,a){var o;return r(this,n),(o=t.call(this)).onLoad=e,o.onError=a,o.faceMesh=new u.FaceMesh,o.faceBufferGeometry=new l.FaceBufferGeometry(o.faceMesh),o.geometry=o.faceBufferGeometry,o.material=new c.THREE.MeshBasicMaterial({colorWrite:!1}),o.faceMesh.loadDefaultFullHeadSimplified(!0,!0,!0,!0).then((function(){var e;return null===(e=o.onLoad)||void 0===e?void 0:e.call(i(o))})).catch((function(){var e;return null===(e=o.onError)||void 0===e?void 0:e.call(i(o))})),o.renderOrder=Number.MIN_SAFE_INTEGER,o}return a(n,[{key:"updateFromFaceAnchorGroup",value:function(e){this.faceBufferGeometry.updateFromFaceAnchorGroup(e)}},{key:"updateFromFaceAnchor",value:function(e){this.faceBufferGeometry.updateFromFaceAnchor(e)}},{key:"updateFromIdentityExpression",value:function(e,t){this.faceBufferGeometry.updateFromIdentityExpression(e,t)}},{key:"dispose",value:function(){this.faceMesh.destroy(),this.faceBufferGeometry.dispose()}}]),n}(c.THREE.Mesh);t.HeadMaskMesh=f},5483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THREE=void 0;var r=n(4911);t.THREE=r},1342:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(6525).default,o=n(9754).default,s=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceAnchorGroup=void 0;var c=n(5483),l=n(4352),f=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.faceTracker=a,o.anchorId=i,o.isReady=!1,o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.faceTracker.anchors.get(this.anchorId):this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.FaceAnchorGroup=f},6786:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(6525).default,o=n(9754).default,s=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmarkGroup=void 0;var c=n(1168),l=n(2e3),f=n(5483),d=n(4352),h=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.faceTracker=a,o.pose=l.mat4.create(),o.landmark=new c.FaceLandmark(i),o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.landmark.updateFromFaceAnchor(this.currentAnchor,this.camera.currentMirrorMode===d.CameraMirrorMode.Poses),l.mat4.multiply(this.pose,this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===d.CameraMirrorMode.Poses),this.landmark.pose),this.matrix.fromArray(this.pose),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.landmark.destroy()}}]),n}(f.THREE.Group);t.FaceLandmarkGroup=h},3177:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(6525).default,o=n(9754).default,s=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAnchorGroup=void 0;var c=n(5483),l=n(4352),f=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.imageTracker=a,o.anchorId=i,o.isReady=!1,o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.imageTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.imageTracker.anchors.get(this.anchorId):this.currentAnchor=this.imageTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.ImageAnchorGroup=f},8425:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(6525).default,o=n(9754).default,s=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldAnchorGroup=void 0;var c=n(5483),l=n(4352),f=function(e){s(n,e);var t=u(n);function n(e,a){var i;return r(this,n),(i=t.call(this)).camera=e,i.instantTracker=a,i.matrixAutoUpdate=!1,i}return a(n,[{key:"setAnchorPoseFromCameraOffset",value:function(e,t,n,r){this.instantTracker.setAnchorPoseFromCameraOffset(e,t,n,r)}},{key:"updateMatrixWorld",value:function(e){this.matrix.fromArray(this.instantTracker.anchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.InstantWorldAnchorGroup=f},4109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.38"},6081:function(e,t,n){"use strict";var r=n(3269).default,a=n(4575).default,i=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeFinder=void 0;var o=n(6366),s=n(5817),u=n(7057),c=function(){function e(t){var n=this;a(this,e),this._pipeline=t,this.onDetection=new o.Event1,this._lastDetected=[],this._found=[],this._formats=[],this._frameUpdate=function(){n._found=[];for(var e=n._z.barcode_finder_found_number(n._impl),t=0;t<e;t++)n._found.push({text:n._z.barcode_finder_found_text(n._impl,t),format:n._z.barcode_finder_found_format(n._impl,t)});if(0!==n._found.length){var a,i=r(n._found);try{e:for(i.s();!(a=i.n()).done;){var o,s=a.value,u=r(n._lastDetected);try{for(u.s();!(o=u.n()).done;){if(o.value.text===s.text)continue e}}catch(c){u.e(c)}finally{u.f()}n.onDetection.emit(s)}}catch(c){i.e(c)}finally{i.f()}n._lastDetected=n._found}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=u.z(),this._impl=this._z.barcode_finder_create(this._pipeline._getImpl()),this._formats.push.apply(this._formats,[s.barcode_format_t.AZTEC,s.barcode_format_t.CODABAR,s.barcode_format_t.CODE_39,s.barcode_format_t.CODE_93,s.barcode_format_t.CODE_128,s.barcode_format_t.DATA_MATRIX,s.barcode_format_t.EAN_8,s.barcode_format_t.EAN_13,s.barcode_format_t.ITF,s.barcode_format_t.MAXICODE,s.barcode_format_t.PDF_417,s.barcode_format_t.QR_CODE,s.barcode_format_t.RSS_14,s.barcode_format_t.RSS_EXPANDED,s.barcode_format_t.UPC_A,s.barcode_format_t.UPC_E,s.barcode_format_t.UPC_EAN_EXTENSION])}return i(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this._found=[],this._lastDetected=[],this._z.barcode_finder_destroy(this._impl)}},{key:"found",get:function(){return this._found}},{key:"enabled",get:function(){return this._z.barcode_finder_enabled(this._impl)},set:function(e){this._z.barcode_finder_enabled_set(this._impl,e)}},{key:"formats",get:function(){return this._formats},set:function(e){this._formats=e.slice();var t,n=0,a=r(this._formats);try{for(a.s();!(t=a.n()).done;){n|=t.value}}catch(i){a.e(i)}finally{a.f()}this._z.barcode_finder_formats_set(this._impl,n)}}]),e}();t.BarcodeFinder=c},7720:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;var i=n(7057),o=function(){function e(t,n){r(this,e),this._z=i.z(),this._impl=this._z.camera_source_create(t._getImpl(),n)}return a(e,[{key:"destroy",value:function(){this._z.camera_source_destroy(this._impl)}},{key:"start",value:function(){this._z.camera_source_start(this._impl)}},{key:"pause",value:function(){this._z.camera_source_pause(this._impl)}}]),e}();t.CameraSource=o},6366:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o},2692:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.FaceLandmarkName=void 0;var i=n(7057),o=n(2e3),s=n(5817);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return s.face_landmark_name_t}});var u=function(){function e(t){r(this,e),this._name=t,this.pose=o.mat4.create(),this._z=i.z(),this._impl=this._z.face_landmark_create(this._name)}return a(e,[{key:"destroy",value:function(){this._z.face_landmark_destroy(this._impl)}},{key:"updateFromFaceAnchor",value:function(e,t){this._z.face_landmark_update(this._impl,e.identity,e.expression,t||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}},{key:"updateFromIdentityExpression",value:function(e,t,n){this._z.face_landmark_update(this._impl,e,t,n||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}},{key:"_getImpl",value:function(){return this._impl}}]),e}();t.FaceLandmark=u},934:function(e,t,n){"use strict";var r=n(7757),a=n(4575).default,i=n(3913).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=void 0;var s=n(7057),u=function(){function e(){a(this,e),this._z=s.z(),this._impl=this._z.face_mesh_create()}return i(e,[{key:"destroy",value:function(){this._z.face_mesh_destroy(this._impl)}},{key:"load",value:function(e,t,n,a,i){return o(this,void 0,void 0,r.mark((function o(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=5;break}return this.loadDefault(),r.abrupt("return");case 5:if("string"!==typeof e){r.next=11;break}return r.next=8,fetch(e);case 8:return r.next=10,r.sent.arrayBuffer();case 10:e=r.sent;case 11:this._z.face_mesh_load_from_memory(this._impl,e,t||!1,n||!1,a||!1,i||!1);case 12:case"end":return r.stop()}}),o,this)})))}},{key:"loadDefault",value:function(){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._z.face_mesh_load_default(this._impl);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"loadDefaultFace",value:function(e,t,n){return o(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._z.face_mesh_load_default_face(this._impl,e||!1,t||!1,n||!1);case 2:case"end":return r.stop()}}),a,this)})))}},{key:"loadDefaultFullHeadSimplified",value:function(e,t,n,a){return o(this,void 0,void 0,r.mark((function i(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._z.face_mesh_load_default_full_head_simplified(this._impl,e||!1,t||!1,n||!1,a||!1);case 2:case"end":return r.stop()}}),i,this)})))}},{key:"updateFromFaceAnchor",value:function(e,t){this._z.face_mesh_update(this._impl,e.identity,e.expression,t||!1)}},{key:"updateFromIdentityExpression",value:function(e,t,n){this._z.face_mesh_update(this._impl,e,t,n||!1)}},{key:"vertices",get:function(){return this._z.face_mesh_vertices(this._impl)}},{key:"indices",get:function(){return this._z.face_mesh_indices(this._impl)}},{key:"uvs",get:function(){return this._z.face_mesh_uvs(this._impl)}},{key:"normals",get:function(){return this._z.face_mesh_normals(this._impl)}},{key:"_getImpl",value:function(){return this._impl}}]),e}();t.FaceMesh=u},2949:function(e,t,n){"use strict";var r=n(7757),a=n(3269).default,i=n(4575).default,o=n(3913).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTracker=void 0;var u=n(6366),c=n(7057),l=function(){function e(t){var n=this;i(this,e),this._pipeline=t,this.onVisible=new u.Event1,this.onNotVisible=new u.Event1,this.onNewAnchor=new u.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=function(){var e=new Set,t=n.visible;n.visible=n._visibleLastFrame,n._visibleLastFrame=t,n.visible.clear();for(var r=n._z.face_tracker_anchor_count(n._impl),i=function(t){var r=n._z.face_tracker_anchor_id(n._impl,t),a=n.anchors.get(r);a||(a={onVisible:new u.Event,onNotVisible:new u.Event,indx:0,id:r,poseCameraRelative:function(e){return n._z.face_tracker_anchor_pose_camera_relative(n._impl,a.indx,!0===e)},pose:function(e,t){return n._z.face_tracker_anchor_pose(n._impl,a.indx,e,!0===t)},identity:new Float32Array(50),expression:new Float32Array(29),visible:!0},!0,n.anchors.set(r,a),e.add(a)),a.indx=t,a.visible=!0,a.identity=n._z.face_tracker_anchor_identity_coefficients(n._impl,t),a.expression=n._z.face_tracker_anchor_expression_coefficients(n._impl,t),n.visible.add(a)},o=0;o<r;o++)i(o);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;n.onNewAnchor.emit(l)}}catch(g){c.e(g)}finally{c.f()}var f,d=a(n.visible);try{for(d.s();!(f=d.n()).done;){var h=f.value;n._visibleLastFrame.has(h)?n._visibleLastFrame.delete(h):(n.onVisible.emit(h),h.onVisible.emit())}}catch(g){d.e(g)}finally{d.f()}var p,v=a(n._visibleLastFrame);try{for(v.s();!(p=v.n()).done;){var m=p.value;n.onNotVisible.emit(m),m.onNotVisible.emit()}}catch(g){v.e(g)}finally{v.f()}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=c.z(),this._impl=this._z.face_tracker_create(this._pipeline._getImpl())}return o(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.face_tracker_destroy(this._impl)}},{key:"loadModel",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=6;break}return t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:e=t.sent;case 6:this._z.face_tracker_model_load_from_memory(this._impl,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"loadDefaultModel",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._z.face_tracker_model_load_default(this._impl);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"enabled",get:function(){return this._z.face_tracker_enabled(this._impl)},set:function(e){this._z.face_tracker_enabled_set(this._impl,e)}},{key:"maxFaces",get:function(){return this._z.face_tracker_max_faces(this._impl)},set:function(e){this._z.face_tracker_max_faces_set(this._impl,e)}}]),e}();t.FaceTracker=l},1953:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;var i=n(7057),o=function(){function e(t,n){r(this,e),this._z=i.z(),this._impl=this._z.html_element_source_create(t._getImpl(),n)}return a(e,[{key:"destroy",value:function(){this._z.html_element_source_destroy(this._impl)}},{key:"start",value:function(){this._z.html_element_source_start(this._impl)}},{key:"pause",value:function(){this._z.html_element_source_pause(this._impl)}}]),e}();t.HTMLElementSource=o},5912:function(e,t,n){"use strict";var r=n(7757),a=n(3269).default,i=n(4575).default,o=n(3913).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTracker=void 0;var u=n(6366),c=n(7057),l=function(){function e(t,n){var r=this;i(this,e),this._pipeline=t,this.onVisible=new u.Event1,this.onNotVisible=new u.Event1,this.onNewAnchor=new u.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=function(){var e=new Set,t=r.visible;r.visible=r._visibleLastFrame,r._visibleLastFrame=t,r.visible.clear();for(var n=r._z.image_tracker_anchor_count(r._impl),i=function(t){var n=r._z.image_tracker_anchor_id(r._impl,t),a=r.anchors.get(n);a||(a={onVisible:new u.Event,onNotVisible:new u.Event,id:n,poseCameraRelative:function(e){return r._z.image_tracker_anchor_pose_camera_relative(r._impl,t,!0===e)},pose:function(e,n){return r._z.image_tracker_anchor_pose(r._impl,t,e,!0===n)},visible:!0},!0,r.anchors.set(n,a),e.add(a)),a.visible=!0,r.visible.add(a)},o=0;o<n;o++)i(o);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.onNewAnchor.emit(l)}}catch(g){c.e(g)}finally{c.f()}var f,d=a(r.visible);try{for(d.s();!(f=d.n()).done;){var h=f.value;r._visibleLastFrame.has(h)?r._visibleLastFrame.delete(h):(r.onVisible.emit(h),h.onVisible.emit())}}catch(g){d.e(g)}finally{d.f()}var p,v=a(r._visibleLastFrame);try{for(v.s();!(p=v.n()).done;){var m=p.value;r.onNotVisible.emit(m),m.onNotVisible.emit()}}catch(g){v.e(g)}finally{v.f()}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=c.z(),this._impl=this._z.image_tracker_create(this._pipeline._getImpl()),n&&this.loadTarget(n)}return o(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.image_tracker_destroy(this._impl)}},{key:"loadTarget",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=6;break}return t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:e=t.sent;case 6:this._z.image_tracker_target_load_from_memory(this._impl,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"enabled",get:function(){return this._z.image_tracker_enabled(this._impl)},set:function(e){this._z.image_tracker_enabled_set(this._impl,e)}}]),e}();t.ImageTracker=l},1168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.projectionMatrixFromCameraModel=t.drawPlane=t.invert=t.cameraDefaultDeviceID=t.Event1=t.Event=t.logLevel=t.setLogLevel=t.LogLevel=t.Permission=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.permissionDeniedUI=t.FaceLandmark=t.FaceLandmarkName=t.Pipeline=t.HTMLElementSource=t.CameraSource=t.FaceMesh=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=void 0;var r=n(5912);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return r.ImageTracker}});var a=n(5533);Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return a.InstantWorldTracker}});var i=n(6081);Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return i.BarcodeFinder}});var o=n(2949);Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return o.FaceTracker}});var s=n(934);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return s.FaceMesh}});var u=n(7720);Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return u.CameraSource}});var c=n(1953);Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return c.HTMLElementSource}});var l=n(7192);Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return l.Pipeline}});var f=n(2692);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return f.FaceLandmarkName}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return f.FaceLandmark}});var d=n(5007);Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return d.permissionDeniedUI}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return d.permissionGranted}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return d.permissionDenied}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return d.permissionRequest}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return d.permissionRequestUI}}),Object.defineProperty(t,"Permission",{enumerable:!0,get:function(){return d.Permission}});var h=n(9725);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return h.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return h.setLogLevel}}),Object.defineProperty(t,"logLevel",{enumerable:!0,get:function(){return h.logLevel}});var p=n(6366);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return p.Event}}),Object.defineProperty(t,"Event1",{enumerable:!0,get:function(){return p.Event1}});var v=n(7057);Object.defineProperty(t,"cameraDefaultDeviceID",{enumerable:!0,get:function(){return v.cameraDefaultDeviceID}}),Object.defineProperty(t,"invert",{enumerable:!0,get:function(){return v.invert}}),Object.defineProperty(t,"drawPlane",{enumerable:!0,get:function(){return v.drawPlane}}),Object.defineProperty(t,"projectionMatrixFromCameraModel",{enumerable:!0,get:function(){return v.projectionMatrixFromCameraModel}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return v.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return v.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return v.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return v.loadedPromise}})},5533:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldTracker=void 0;var i=n(5817),o=n(7057),s=function(){function e(t){var n=this;r(this,e),this._pipeline=t,this.anchor={poseCameraRelative:function(e){return n._anchorPoseCameraRelative(e)},pose:function(e,t){return n._anchorPose(e,t)}},this._z=o.z(),this._impl=this._z.instant_world_tracker_create(this._pipeline._getImpl())}return a(e,[{key:"destroy",value:function(){this._z.instant_world_tracker_destroy(this._impl)}},{key:"_anchorPoseCameraRelative",value:function(e){return this._z.instant_world_tracker_anchor_pose_camera_relative(this._impl,!0===e)}},{key:"_anchorPose",value:function(e,t){return this._z.instant_world_tracker_anchor_pose(this._impl,e,!0===t)}},{key:"enabled",get:function(){return this._z.instant_world_tracker_enabled(this._impl)},set:function(e){this._z.instant_world_tracker_enabled_set(this._impl,e)}},{key:"setAnchorPoseFromCameraOffset",value:function(e,t,n,r){this._z.instant_world_tracker_anchor_pose_set_from_camera_offset(this._impl,e,t,n,r||i.instant_world_tracker_transform_orientation_t.MINUS_Z_AWAY_FROM_USER)}}]),e}();t.InstantWorldTracker=s},9725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.logLevel=t.LogLevel=void 0;var r=n(7057),a=n(5817);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return a.log_level_t}}),t.logLevel=function(){return r.z().log_level()},t.setLogLevel=function(e){r.z().log_level_set(e)}},5007:function(e,t,n){"use strict";var r=n(7757),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.Permission=void 0;var i,o=n(7057);!function(e){e[e.CAMERA=0]="CAMERA",e[e.MOTION=1]="MOTION"}(i=t.Permission||(t.Permission={})),t.permissionGranted=function(e){switch(e){case i.CAMERA:return o.z().permission_granted_camera();case i.MOTION:return o.z().permission_granted_motion();default:return o.z().permission_granted_all()}},t.permissionDenied=function(e){switch(e){case i.CAMERA:return o.z().permission_denied_camera();case i.MOTION:return o.z().permission_denied_motion();default:return o.z().permission_denied_any()}},t.permissionRequest=function(e){var t=this;switch(e){case i.CAMERA:o.z().permission_request_camera();break;case i.MOTION:o.z().permission_request_motion();break;default:o.z().permission_request_all()}return new Promise((function(n){return a(t,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,new Promise((function(e){return requestAnimationFrame((function(){return e()}))}));case 3:t.t0=e,t.next=t.t0===i.CAMERA?6:t.t0===i.MOTION?13:20;break;case 6:if(!o.z().permission_granted_camera()){t.next=9;break}return n(!0),t.abrupt("return");case 9:if(!o.z().permission_denied_camera()){t.next=12;break}return n(!1),t.abrupt("return");case 12:case 19:case 26:return t.abrupt("break",27);case 13:if(!o.z().permission_granted_motion()){t.next=16;break}return n(!0),t.abrupt("return");case 16:if(!o.z().permission_denied_motion()){t.next=19;break}return n(!1),t.abrupt("return");case 20:if(!o.z().permission_granted_camera()||!o.z().permission_granted_motion()){t.next=23;break}return n(!0),t.abrupt("return");case 23:if(!o.z().permission_denied_camera()&&!o.z().permission_denied_motion()){t.next=26;break}return n(!1),t.abrupt("return");case 27:t.next=0;break;case 29:case"end":return t.stop()}}),t)})))}))},t.permissionRequestUI=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.z().permission_request_ui_promise();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},t.permissionDeniedUI=function(){return o.z().permission_denied_ui()}},7192:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Pipeline=void 0;var i=n(7057),o=n(6366),s=function(){function e(){r(this,e),this.onFrameUpdate=new o.Event,this._onFrameUpdateInternal=new o.Event,this._lastFrameNumber=-1,this._z=i.z(),this._impl=this._z.pipeline_create()}return a(e,[{key:"destroy",value:function(){this._z.pipeline_destroy(this._impl)}},{key:"frameUpdate",value:function(){this._z.pipeline_frame_update(this._impl);var e=this._z.pipeline_frame_number(this._impl);e!==this._lastFrameNumber&&(this._lastFrameNumber=e,this._onFrameUpdateInternal.emit(),this.onFrameUpdate.emit())}},{key:"_getImpl",value:function(){return this._impl}},{key:"glContextSet",value:function(e){this._z.pipeline_gl_context_set(this._impl,e)}},{key:"glContextLost",value:function(){this._z.pipeline_gl_context_lost(this._impl)}},{key:"cameraFrameTextureGL",value:function(){return this._z.pipeline_camera_frame_texture_gl(this._impl)}},{key:"cameraFrameTextureMatrix",value:function(e,t,n){return this._z.pipeline_camera_frame_texture_matrix(this._impl,e,t,!0===n)}},{key:"cameraFrameDrawGL",value:function(e,t,n){this._z.pipeline_camera_frame_draw_gl(this._impl,e,t,n)}},{key:"cameraFrameUploadGL",value:function(){this._z.pipeline_camera_frame_upload_gl(this._impl)}},{key:"processGL",value:function(){this._z.pipeline_process_gl(this._impl)}},{key:"cameraModel",value:function(){return this._z.pipeline_camera_model(this._impl)}},{key:"cameraPoseDefault",value:function(){return this._z.pipeline_camera_pose_default(this._impl)}},{key:"cameraPoseWithAttitude",value:function(e){return this._z.pipeline_camera_pose_with_attitude(this._impl,e||!1)}},{key:"cameraPoseWithOrigin",value:function(e){return this._z.pipeline_camera_pose_with_origin(this._impl,e)}},{key:"cameraFrameUserFacing",value:function(){return this._z.pipeline_camera_frame_user_facing(this._impl)}},{key:"drawFace",value:function(e,t,n,r){this._z.pipeline_draw_face(this._impl,e,t,n,r._getImpl())}},{key:"frameNumber",value:function(){return this._z.pipeline_frame_number(this._impl)}}]),e}();t.Pipeline=s},7727:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.17"},7057:function(e,t,n){"use strict";var r=n(7757),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.drawPlane=t.projectionMatrixFromCameraModel=t.invert=t.cameraDefaultDeviceID=t.z=void 0;var i,o=n(5817),s=n(2e3),u=n(7727);function c(){return i||(console.log("Zappar JS v".concat(u.VERSION)),i=o.initialize()),i}function l(){return c().loaded()}function f(e){return new Promise((function(t){return setTimeout(t,e)}))}t.z=c,t.cameraDefaultDeviceID=function(e){return c().camera_default_device_id(e||!1)},t.invert=function(e){var t=s.mat4.create();return s.mat4.invert(t,e),t},t.projectionMatrixFromCameraModel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return c().projection_matrix_from_camera_model_ext(e,t,n,r,a)},t.drawPlane=function(e,t,n,r,a){c().draw_plane(e,t,n,r,a)},t.browserIncompatible=function(){return c().browser_incompatible()},t.browserIncompatibleUI=function(){c().browser_incompatible_ui()},t.loaded=l,t.loadedPromise=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f(50);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})))}},1870:function(e){function t(e,t,n){var r,a,i,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var c=function(){i=this,a=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(i,a),i=a=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,a),i=a=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},580:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},2e3:function(e,t,n){"use strict";n.r(t),n.d(t,{glMatrix:function(){return r},mat2:function(){return a},mat2d:function(){return i},mat3:function(){return o},mat4:function(){return s},quat:function(){return l},quat2:function(){return f},vec2:function(){return d},vec3:function(){return u},vec4:function(){return c}});var r={};n.r(r),n.d(r,{ARRAY_TYPE:function(){return p},EPSILON:function(){return h},RANDOM:function(){return v},equals:function(){return _},setMatrixArrayType:function(){return m},toRadian:function(){return y}});var a={};n.r(a),n.d(a,{LDU:function(){return O},add:function(){return z},adjoint:function(){return T},clone:function(){return w},copy:function(){return x},create:function(){return b},determinant:function(){return k},equals:function(){return N},exactEquals:function(){return U},frob:function(){return I},fromRotation:function(){return D},fromScaling:function(){return R},fromValues:function(){return M},identity:function(){return A},invert:function(){return S},mul:function(){return V},multiply:function(){return B},multiplyScalar:function(){return G},multiplyScalarAndAdd:function(){return H},rotate:function(){return P},scale:function(){return L},set:function(){return E},str:function(){return F},sub:function(){return j},subtract:function(){return Z},transpose:function(){return C}});var i={};n.r(i),n.d(i,{add:function(){return ce},clone:function(){return X},copy:function(){return q},create:function(){return W},determinant:function(){return $},equals:function(){return pe},exactEquals:function(){return he},frob:function(){return ue},fromRotation:function(){return ae},fromScaling:function(){return ie},fromTranslation:function(){return oe},fromValues:function(){return Q},identity:function(){return Y},invert:function(){return J},mul:function(){return ve},multiply:function(){return ee},multiplyScalar:function(){return fe},multiplyScalarAndAdd:function(){return de},rotate:function(){return te},scale:function(){return ne},set:function(){return K},str:function(){return se},sub:function(){return me},subtract:function(){return le},translate:function(){return re}});var o={};n.r(o),n.d(o,{add:function(){return Ne},adjoint:function(){return Ce},clone:function(){return _e},copy:function(){return be},create:function(){return ge},determinant:function(){return Se},equals:function(){return We},exactEquals:function(){return je},frob:function(){return Ue},fromMat2d:function(){return Fe},fromMat4:function(){return ye},fromQuat:function(){return Ie},fromRotation:function(){return De},fromScaling:function(){return Re},fromTranslation:function(){return Le},fromValues:function(){return we},identity:function(){return Ae},invert:function(){return Ee},mul:function(){return Xe},multiply:function(){return Te},multiplyScalar:function(){return He},multiplyScalarAndAdd:function(){return Ve},normalFromMat4:function(){return Oe},projection:function(){return ze},rotate:function(){return Be},scale:function(){return Pe},set:function(){return xe},str:function(){return Ze},sub:function(){return qe},subtract:function(){return Ge},translate:function(){return ke},transpose:function(){return Me}});var s={};n.r(s),n.d(s,{add:function(){return Rt},adjoint:function(){return rt},clone:function(){return Qe},copy:function(){return Ke},create:function(){return Ye},determinant:function(){return at},equals:function(){return Zt},exactEquals:function(){return zt},frob:function(){return Dt},fromQuat:function(){return Et},fromQuat2:function(){return _t},fromRotation:function(){return pt},fromRotationTranslation:function(){return yt},fromRotationTranslationScale:function(){return At},fromRotationTranslationScaleOrigin:function(){return Mt},fromScaling:function(){return ht},fromTranslation:function(){return dt},fromValues:function(){return Je},fromXRotation:function(){return vt},fromYRotation:function(){return mt},fromZRotation:function(){return gt},frustum:function(){return Ct},getRotation:function(){return xt},getScaling:function(){return wt},getTranslation:function(){return bt},identity:function(){return et},invert:function(){return nt},lookAt:function(){return Bt},mul:function(){return Ut},multiply:function(){return it},multiplyScalar:function(){return It},multiplyScalarAndAdd:function(){return Ot},ortho:function(){return kt},perspective:function(){return St},perspectiveFromFieldOfView:function(){return Tt},rotate:function(){return ut},rotateX:function(){return ct},rotateY:function(){return lt},rotateZ:function(){return ft},scale:function(){return st},set:function(){return $e},str:function(){return Lt},sub:function(){return Nt},subtract:function(){return Ft},targetTo:function(){return Pt},translate:function(){return ot},transpose:function(){return tt}});var u={};n.r(u),n.d(u,{add:function(){return qt},angle:function(){return Mn},bezier:function(){return mn},ceil:function(){return Jt},clone:function(){return Ht},copy:function(){return Wt},create:function(){return Gt},cross:function(){return hn},dist:function(){return Ln},distance:function(){return on},div:function(){return Pn},divide:function(){return Kt},dot:function(){return dn},equals:function(){return Tn},exactEquals:function(){return Sn},floor:function(){return $t},forEach:function(){return In},fromValues:function(){return jt},hermite:function(){return vn},inverse:function(){return ln},len:function(){return Rn},length:function(){return Vt},lerp:function(){return pn},max:function(){return tn},min:function(){return en},mul:function(){return Bn},multiply:function(){return Qt},negate:function(){return cn},normalize:function(){return fn},random:function(){return gn},rotateX:function(){return wn},rotateY:function(){return xn},rotateZ:function(){return An},round:function(){return nn},scale:function(){return rn},scaleAndAdd:function(){return an},set:function(){return Xt},sqrDist:function(){return Dn},sqrLen:function(){return Fn},squaredDistance:function(){return sn},squaredLength:function(){return un},str:function(){return Cn},sub:function(){return kn},subtract:function(){return Yt},transformMat3:function(){return _n},transformMat4:function(){return yn},transformQuat:function(){return bn},zero:function(){return En}});var c={};n.r(c),n.d(c,{add:function(){return Gn},ceil:function(){return Wn},clone:function(){return zn},copy:function(){return Un},create:function(){return On},cross:function(){return sr},dist:function(){return _r},distance:function(){return $n},div:function(){return yr},divide:function(){return jn},dot:function(){return or},equals:function(){return vr},exactEquals:function(){return pr},floor:function(){return Xn},forEach:function(){return Ar},fromValues:function(){return Zn},inverse:function(){return ar},len:function(){return wr},length:function(){return tr},lerp:function(){return ur},max:function(){return Yn},min:function(){return qn},mul:function(){return gr},multiply:function(){return Vn},negate:function(){return rr},normalize:function(){return ir},random:function(){return cr},round:function(){return Qn},scale:function(){return Kn},scaleAndAdd:function(){return Jn},set:function(){return Nn},sqrDist:function(){return br},sqrLen:function(){return xr},squaredDistance:function(){return er},squaredLength:function(){return nr},str:function(){return hr},sub:function(){return mr},subtract:function(){return Hn},transformMat4:function(){return lr},transformQuat:function(){return fr},zero:function(){return dr}});var l={};n.r(l),n.d(l,{add:function(){return qr},calculateW:function(){return Dr},clone:function(){return Vr},conjugate:function(){return Ur},copy:function(){return Wr},create:function(){return Mr},dot:function(){return Kr},equals:function(){return ia},exactEquals:function(){return aa},exp:function(){return Rr},fromEuler:function(){return Gr},fromMat3:function(){return Nr},fromValues:function(){return jr},getAngle:function(){return Tr},getAxisAngle:function(){return Sr},identity:function(){return Er},invert:function(){return Zr},len:function(){return ea},length:function(){return $r},lerp:function(){return Jr},ln:function(){return Fr},mul:function(){return Yr},multiply:function(){return kr},normalize:function(){return ra},pow:function(){return Ir},random:function(){return zr},rotateX:function(){return Br},rotateY:function(){return Pr},rotateZ:function(){return Lr},rotationTo:function(){return oa},scale:function(){return Qr},set:function(){return Xr},setAxes:function(){return ua},setAxisAngle:function(){return Cr},slerp:function(){return Or},sqlerp:function(){return sa},sqrLen:function(){return na},squaredLength:function(){return ta},str:function(){return Hr}});var f={};n.r(f),n.d(f,{add:function(){return La},clone:function(){return la},conjugate:function(){return Za},copy:function(){return ga},create:function(){return ca},dot:function(){return Ia},equals:function(){return Xa},exactEquals:function(){return Wa},fromMat4:function(){return ma},fromRotation:function(){return va},fromRotationTranslation:function(){return ha},fromRotationTranslationValues:function(){return da},fromTranslation:function(){return pa},fromValues:function(){return fa},getDual:function(){return wa},getReal:function(){return ba},getTranslation:function(){return Ma},identity:function(){return ya},invert:function(){return za},len:function(){return Na},length:function(){return Ua},lerp:function(){return Oa},mul:function(){return Ra},multiply:function(){return Da},normalize:function(){return Va},rotateAroundAxis:function(){return Pa},rotateByQuatAppend:function(){return ka},rotateByQuatPrepend:function(){return Ba},rotateX:function(){return Ca},rotateY:function(){return Sa},rotateZ:function(){return Ta},scale:function(){return Fa},set:function(){return _a},setDual:function(){return Aa},setReal:function(){return xa},sqrLen:function(){return Ha},squaredLength:function(){return Ga},str:function(){return ja},translate:function(){return Ea}});var d={};n.r(d),n.d(d,{add:function(){return $a},angle:function(){return Ci},ceil:function(){return ri},clone:function(){return Ya},copy:function(){return Ka},create:function(){return qa},cross:function(){return yi},dist:function(){return Fi},distance:function(){return li},div:function(){return Ri},divide:function(){return ni},dot:function(){return gi},equals:function(){return Bi},exactEquals:function(){return ki},floor:function(){return ai},forEach:function(){return zi},fromValues:function(){return Qa},inverse:function(){return vi},len:function(){return Pi},length:function(){return di},lerp:function(){return _i},max:function(){return oi},min:function(){return ii},mul:function(){return Di},multiply:function(){return ti},negate:function(){return pi},normalize:function(){return mi},random:function(){return bi},rotate:function(){return Ei},round:function(){return si},scale:function(){return ui},scaleAndAdd:function(){return ci},set:function(){return Ja},sqrDist:function(){return Ii},sqrLen:function(){return Oi},squaredDistance:function(){return fi},squaredLength:function(){return hi},str:function(){return Ti},sub:function(){return Li},subtract:function(){return ei},transformMat2:function(){return wi},transformMat2d:function(){return xi},transformMat3:function(){return Ai},transformMat4:function(){return Mi},zero:function(){return Si}});var h=1e-6,p="undefined"!==typeof Float32Array?Float32Array:Array,v=Math.random;function m(e){p=e}var g=Math.PI/180;function y(e){return e*g}function _(e,t){return Math.abs(e-t)<=h*Math.max(1,Math.abs(e),Math.abs(t))}function b(){var e=new p(4);return p!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function x(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function A(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function M(e,t,n,r){var a=new p(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function E(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function C(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function S(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null}function T(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function k(e){return e[0]*e[3]-e[2]*e[1]}function B(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*s+i*u,e[1]=a*s+o*u,e[2]=r*c+i*l,e[3]=a*c+o*l,e}function P(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=a*u+o*s,e[2]=r*-s+i*u,e[3]=a*-s+o*u,e}function L(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function D(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function R(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function F(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function I(e){return Math.hypot(e[0],e[1],e[2],e[3])}function O(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function z(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Z(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function N(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=h*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}function G(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function H(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var V=B,j=Z;function W(){var e=new p(6);return p!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function X(e){var t=new p(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function q(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Q(e,t,n,r,a,i){var o=new p(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function K(e,t,n,r,a,i,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e}function J(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=n*i-r*a;return u?(u=1/u,e[0]=i*u,e[1]=-r*u,e[2]=-a*u,e[3]=n*u,e[4]=(a*s-i*o)*u,e[5]=(r*o-n*s)*u,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return e[0]=r*c+i*l,e[1]=a*c+o*l,e[2]=r*f+i*d,e[3]=a*f+o*d,e[4]=r*h+i*p+s,e[5]=a*h+o*p+u,e}function te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*c,e[1]=a*l+o*c,e[2]=r*-c+i*l,e[3]=a*-c+o*l,e[4]=s,e[5]=u,e}function ne(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r*c,e[1]=a*c,e[2]=i*l,e[3]=o*l,e[4]=s,e[5]=u,e}function re(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*c+i*l+s,e[5]=a*c+o*l+u,e}function ae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function le(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function fe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function de(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function he(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function pe(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],c=t[1],l=t[2],f=t[3],d=t[4],p=t[5];return Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=h*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-l)<=h*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-f)<=h*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-p)<=h*Math.max(1,Math.abs(s),Math.abs(p))}var ve=ee,me=le;function ge(){var e=new p(9);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function _e(e){var t=new p(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,n,r,a,i,o,s,u){var c=new p(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function xe(e,t,n,r,a,i,o,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e}function Ae(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Me(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ee(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*o-s*c,d=-l*i+s*u,h=c*i-o*u,p=n*f+r*d+a*h;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+a*c)*p,e[2]=(s*r-a*o)*p,e[3]=d*p,e[4]=(l*n-a*u)*p,e[5]=(-s*n+a*i)*p,e[6]=h*p,e[7]=(-c*n+r*u)*p,e[8]=(o*n-r*i)*p,e):null}function Ce(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=o*l-s*c,e[1]=a*c-r*l,e[2]=r*s-a*o,e[3]=s*u-i*l,e[4]=n*l-a*u,e[5]=a*i-n*s,e[6]=i*c-o*u,e[7]=r*u-n*c,e[8]=n*o-r*i,e}function Se(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-o*u)+n*(-c*a+o*s)+r*(u*a-i*s)}function Te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1],p=n[2],v=n[3],m=n[4],g=n[5],y=n[6],_=n[7],b=n[8];return e[0]=d*r+h*o+p*c,e[1]=d*a+h*s+p*l,e[2]=d*i+h*u+p*f,e[3]=v*r+m*o+g*c,e[4]=v*a+m*s+g*l,e[5]=v*i+m*u+g*f,e[6]=y*r+_*o+b*c,e[7]=y*a+_*s+b*l,e[8]=y*i+_*u+b*f,e}function ke(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=d*r+h*o+c,e[7]=d*a+h*s+l,e[8]=d*i+h*u+f,e}function Be(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*o,e[1]=h*a+d*s,e[2]=h*i+d*u,e[3]=h*o-d*r,e[4]=h*s-d*a,e[5]=h*u-d*i,e[6]=c,e[7]=l,e[8]=f,e}function Pe(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Le(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function De(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Re(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Fe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Ie(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,c=n*o,l=r*o,f=r*s,d=a*o,h=a*s,p=a*u,v=i*o,m=i*s,g=i*u;return e[0]=1-f-p,e[3]=l-g,e[6]=d+m,e[1]=l+g,e[4]=1-c-p,e[7]=h-v,e[2]=d-m,e[5]=h+v,e[8]=1-c-f,e}function Oe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=n*s-r*o,_=n*u-a*o,b=n*c-i*o,w=r*u-a*s,x=r*c-i*s,A=a*c-i*u,M=l*v-f*p,E=l*m-d*p,C=l*g-h*p,S=f*m-d*v,T=f*g-h*v,k=d*g-h*m,B=y*k-_*T+b*S+w*C-x*E+A*M;return B?(B=1/B,e[0]=(s*k-u*T+c*S)*B,e[1]=(u*C-o*k-c*E)*B,e[2]=(o*T-s*C+c*M)*B,e[3]=(a*T-r*k-i*S)*B,e[4]=(n*k-a*C+i*E)*B,e[5]=(r*C-n*T-i*M)*B,e[6]=(v*A-m*x+g*w)*B,e[7]=(m*b-p*A-g*_)*B,e[8]=(p*x-v*b+g*y)*B,e):null}function ze(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Ze(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function Ne(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ge(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function He(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ve(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function je(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function We(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=t[0],d=t[1],p=t[2],v=t[3],m=t[4],g=t[5],y=t[6],_=t[7],b=t[8];return Math.abs(n-f)<=h*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=h*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-v)<=h*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-g)<=h*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=h*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-_)<=h*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-b)<=h*Math.max(1,Math.abs(l),Math.abs(b))}var Xe=Te,qe=Ge;function Ye(){var e=new p(16);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e){var t=new p(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Je(e,t,n,r,a,i,o,s,u,c,l,f,d,h,v,m){var g=new p(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a,g[5]=i,g[6]=o,g[7]=s,g[8]=u,g[9]=c,g[10]=l,g[11]=f,g[12]=d,g[13]=h,g[14]=v,g[15]=m,g}function $e(e,t,n,r,a,i,o,s,u,c,l,f,d,h,p,v,m){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=v,e[15]=m,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=n*s-r*o,_=n*u-a*o,b=n*c-i*o,w=r*u-a*s,x=r*c-i*s,A=a*c-i*u,M=l*v-f*p,E=l*m-d*p,C=l*g-h*p,S=f*m-d*v,T=f*g-h*v,k=d*g-h*m,B=y*k-_*T+b*S+w*C-x*E+A*M;return B?(B=1/B,e[0]=(s*k-u*T+c*S)*B,e[1]=(a*T-r*k-i*S)*B,e[2]=(v*A-m*x+g*w)*B,e[3]=(d*x-f*A-h*w)*B,e[4]=(u*C-o*k-c*E)*B,e[5]=(n*k-a*C+i*E)*B,e[6]=(m*b-p*A-g*_)*B,e[7]=(l*A-d*b+h*_)*B,e[8]=(o*T-s*C+c*M)*B,e[9]=(r*C-n*T-i*M)*B,e[10]=(p*x-v*b+g*y)*B,e[11]=(f*b-l*x-h*y)*B,e[12]=(s*E-o*S-u*M)*B,e[13]=(n*S-r*E+a*M)*B,e[14]=(v*_-p*w-m*y)*B,e[15]=(l*w-f*_+d*y)*B,e):null}function rt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],m=t[14],g=t[15];return e[0]=s*(d*g-h*m)-f*(u*g-c*m)+v*(u*h-c*d),e[1]=-(r*(d*g-h*m)-f*(a*g-i*m)+v*(a*h-i*d)),e[2]=r*(u*g-c*m)-s*(a*g-i*m)+v*(a*c-i*u),e[3]=-(r*(u*h-c*d)-s*(a*h-i*d)+f*(a*c-i*u)),e[4]=-(o*(d*g-h*m)-l*(u*g-c*m)+p*(u*h-c*d)),e[5]=n*(d*g-h*m)-l*(a*g-i*m)+p*(a*h-i*d),e[6]=-(n*(u*g-c*m)-o*(a*g-i*m)+p*(a*c-i*u)),e[7]=n*(u*h-c*d)-o*(a*h-i*d)+l*(a*c-i*u),e[8]=o*(f*g-h*v)-l*(s*g-c*v)+p*(s*h-c*f),e[9]=-(n*(f*g-h*v)-l*(r*g-i*v)+p*(r*h-i*f)),e[10]=n*(s*g-c*v)-o*(r*g-i*v)+p*(r*c-i*s),e[11]=-(n*(s*h-c*f)-o*(r*h-i*f)+l*(r*c-i*s)),e[12]=-(o*(f*m-d*v)-l*(s*m-u*v)+p*(s*d-u*f)),e[13]=n*(f*m-d*v)-l*(r*m-a*v)+p*(r*d-a*f),e[14]=-(n*(s*m-u*v)-o*(r*m-a*v)+p*(r*u-a*s)),e[15]=n*(s*d-u*f)-o*(r*d-a*f)+l*(r*u-a*s),e}function at(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],m=e[15];return(t*o-n*i)*(f*m-d*v)-(t*s-r*i)*(l*m-d*p)+(t*u-a*i)*(l*v-f*p)+(n*s-r*o)*(c*m-d*h)-(n*u-a*o)*(c*v-f*h)+(r*u-a*s)*(c*p-l*h)}function it(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],m=t[13],g=t[14],y=t[15],_=n[0],b=n[1],w=n[2],x=n[3];return e[0]=_*r+b*s+w*f+x*v,e[1]=_*a+b*u+w*d+x*m,e[2]=_*i+b*c+w*h+x*g,e[3]=_*o+b*l+w*p+x*y,_=n[4],b=n[5],w=n[6],x=n[7],e[4]=_*r+b*s+w*f+x*v,e[5]=_*a+b*u+w*d+x*m,e[6]=_*i+b*c+w*h+x*g,e[7]=_*o+b*l+w*p+x*y,_=n[8],b=n[9],w=n[10],x=n[11],e[8]=_*r+b*s+w*f+x*v,e[9]=_*a+b*u+w*d+x*m,e[10]=_*i+b*c+w*h+x*g,e[11]=_*o+b*l+w*p+x*y,_=n[12],b=n[13],w=n[14],x=n[15],e[12]=_*r+b*s+w*f+x*v,e[13]=_*a+b*u+w*d+x*m,e[14]=_*i+b*c+w*h+x*g,e[15]=_*o+b*l+w*p+x*y,e}function ot(e,t,n){var r,a,i,o,s,u,c,l,f,d,h,p,v=n[0],m=n[1],g=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*g+t[12],e[13]=t[1]*v+t[5]*m+t[9]*g+t[13],e[14]=t[2]*v+t[6]*m+t[10]*g+t[14],e[15]=t[3]*v+t[7]*m+t[11]*g+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*v+s*m+f*g+t[12],e[13]=a*v+u*m+d*g+t[13],e[14]=i*v+c*m+h*g+t[14],e[15]=o*v+l*m+p*g+t[15]),e}function st(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,n,r){var a,i,o,s,u,c,l,f,d,p,v,m,g,y,_,b,w,x,A,M,E,C,S,T,k=r[0],B=r[1],P=r[2],L=Math.hypot(k,B,P);return L<h?null:(k*=L=1/L,B*=L,P*=L,a=Math.sin(n),o=1-(i=Math.cos(n)),s=t[0],u=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],v=t[7],m=t[8],g=t[9],y=t[10],_=t[11],b=k*k*o+i,w=B*k*o+P*a,x=P*k*o-B*a,A=k*B*o-P*a,M=B*B*o+i,E=P*B*o+k*a,C=k*P*o+B*a,S=B*P*o-k*a,T=P*P*o+i,e[0]=s*b+f*w+m*x,e[1]=u*b+d*w+g*x,e[2]=c*b+p*w+y*x,e[3]=l*b+v*w+_*x,e[4]=s*A+f*M+m*E,e[5]=u*A+d*M+g*E,e[6]=c*A+p*M+y*E,e[7]=l*A+v*M+_*E,e[8]=s*C+f*S+m*T,e[9]=u*C+d*S+g*T,e[10]=c*C+p*S+y*T,e[11]=l*C+v*S+_*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+l*r,e[6]=s*a+f*r,e[7]=u*a+d*r,e[8]=c*a-i*r,e[9]=l*a-o*r,e[10]=f*a-s*r,e[11]=d*a-u*r,e}function lt(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*r,e[1]=o*a-l*r,e[2]=s*a-f*r,e[3]=u*a-d*r,e[8]=i*r+c*a,e[9]=o*r+l*a,e[10]=s*r+f*a,e[11]=u*r+d*a,e}function ft(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+l*r,e[2]=s*a+f*r,e[3]=u*a+d*r,e[4]=c*a-i*r,e[5]=l*a-o*r,e[6]=f*a-s*r,e[7]=d*a-u*r,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ht(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t,n){var r,a,i,o=n[0],s=n[1],u=n[2],c=Math.hypot(o,s,u);return c<h?null:(o*=c=1/c,s*=c,u*=c,r=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=s*o*i+u*r,e[2]=u*o*i-s*r,e[3]=0,e[4]=o*s*i-u*r,e[5]=s*s*i+a,e[6]=u*s*i+o*r,e[7]=0,e[8]=o*u*i+s*r,e[9]=s*u*i-o*r,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function vt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,u=a+a,c=i+i,l=r*s,f=r*u,d=r*c,h=a*u,p=a*c,v=i*c,m=o*s,g=o*u,y=o*c;return e[0]=1-(h+v),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(l+v),e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function _t(e,t){var n=new p(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=r*r+a*a+i*i+o*o;return f>0?(n[0]=2*(s*o+l*r+u*i-c*a)/f,n[1]=2*(u*o+l*a+c*r-s*i)/f,n[2]=2*(c*o+l*i+s*a-u*r)/f):(n[0]=2*(s*o+l*r+u*i-c*a),n[1]=2*(u*o+l*a+c*r-s*i),n[2]=2*(c*o+l*i+s*a-u*r)),yt(e,t,n),e}function bt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(u,c,l),e}function xt(e,t){var n=new p(3);wt(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,s=t[1]*a,u=t[2]*i,c=t[4]*r,l=t[5]*a,f=t[6]*i,d=t[8]*r,h=t[9]*a,v=t[10]*i,m=o+l+v,g=0;return m>0?(g=2*Math.sqrt(m+1),e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-u)/g,e[2]=(s-c)/g):o>l&&o>v?(g=2*Math.sqrt(1+o-l-v),e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+u)/g):l>v?(g=2*Math.sqrt(1+l-o-v),e[3]=(d-u)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=2*Math.sqrt(1+v-o-l),e[3]=(s-c)/g,e[0]=(d+u)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function At(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,c=i+i,l=o+o,f=a*u,d=a*c,h=a*l,p=i*c,v=i*l,m=o*l,g=s*u,y=s*c,_=s*l,b=r[0],w=r[1],x=r[2];return e[0]=(1-(p+m))*b,e[1]=(d+_)*b,e[2]=(h-y)*b,e[3]=0,e[4]=(d-_)*w,e[5]=(1-(f+m))*w,e[6]=(v+g)*w,e[7]=0,e[8]=(h+y)*x,e[9]=(v-g)*x,e[10]=(1-(f+p))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Mt(e,t,n,r,a){var i=t[0],o=t[1],s=t[2],u=t[3],c=i+i,l=o+o,f=s+s,d=i*c,h=i*l,p=i*f,v=o*l,m=o*f,g=s*f,y=u*c,_=u*l,b=u*f,w=r[0],x=r[1],A=r[2],M=a[0],E=a[1],C=a[2],S=(1-(v+g))*w,T=(h+b)*w,k=(p-_)*w,B=(h-b)*x,P=(1-(d+g))*x,L=(m+y)*x,D=(p+_)*A,R=(m-y)*A,F=(1-(d+v))*A;return e[0]=S,e[1]=T,e[2]=k,e[3]=0,e[4]=B,e[5]=P,e[6]=L,e[7]=0,e[8]=D,e[9]=R,e[10]=F,e[11]=0,e[12]=n[0]+M-(S*M+B*E+D*C),e[13]=n[1]+E-(T*M+P*E+R*C),e[14]=n[2]+C-(k*M+L*E+F*C),e[15]=1,e}function Et(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,c=n*o,l=r*o,f=r*s,d=a*o,h=a*s,p=a*u,v=i*o,m=i*s,g=i*u;return e[0]=1-f-p,e[1]=l+g,e[2]=d-m,e[3]=0,e[4]=l-g,e[5]=1-c-p,e[6]=h+v,e[7]=0,e[8]=d+m,e[9]=h-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ct(e,t,n,r,a,i,o){var s=1/(n-t),u=1/(a-r),c=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*u,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function St(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e}function Tt(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function kt(e,t,n,r,a,i,o){var s=1/(t-n),u=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(o+i)*c,e[15]=1,e}function Bt(e,t,n,r){var a,i,o,s,u,c,l,f,d,p,v=t[0],m=t[1],g=t[2],y=r[0],_=r[1],b=r[2],w=n[0],x=n[1],A=n[2];return Math.abs(v-w)<h&&Math.abs(m-x)<h&&Math.abs(g-A)<h?et(e):(l=v-w,f=m-x,d=g-A,a=_*(d*=p=1/Math.hypot(l,f,d))-b*(f*=p),i=b*(l*=p)-y*d,o=y*f-_*l,(p=Math.hypot(a,i,o))?(a*=p=1/p,i*=p,o*=p):(a=0,i=0,o=0),s=f*o-d*i,u=d*a-l*o,c=l*i-f*a,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),e[0]=a,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*v+i*m+o*g),e[13]=-(s*v+u*m+c*g),e[14]=-(l*v+f*m+d*g),e[15]=1,e)}function Pt(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=r[0],u=r[1],c=r[2],l=a-n[0],f=i-n[1],d=o-n[2],h=l*l+f*f+d*d;h>0&&(l*=h=1/Math.sqrt(h),f*=h,d*=h);var p=u*d-c*f,v=c*l-s*d,m=s*f-u*l;return(h=p*p+v*v+m*m)>0&&(p*=h=1/Math.sqrt(h),v*=h,m*=h),e[0]=p,e[1]=v,e[2]=m,e[3]=0,e[4]=f*m-d*v,e[5]=d*p-l*m,e[6]=l*v-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function Lt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Dt(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Rt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Ft(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function It(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Ot(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function zt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Zt(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=t[0],b=t[1],w=t[2],x=t[3],A=t[4],M=t[5],E=t[6],C=t[7],S=t[8],T=t[9],k=t[10],B=t[11],P=t[12],L=t[13],D=t[14],R=t[15];return Math.abs(n-_)<=h*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-b)<=h*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-w)<=h*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(i-x)<=h*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-A)<=h*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-M)<=h*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-E)<=h*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-C)<=h*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-S)<=h*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-T)<=h*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-k)<=h*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(p-B)<=h*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(v-P)<=h*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(m-L)<=h*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-D)<=h*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-R)<=h*Math.max(1,Math.abs(y),Math.abs(R))}var Ut=it,Nt=Ft;function Gt(){var e=new p(3);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ht(e){var t=new p(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Vt(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function jt(e,t,n){var r=new p(3);return r[0]=e,r[1]=t,r[2]=n,r}function Wt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function qt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Yt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Qt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Kt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Jt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function en(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function tn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function nn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function an(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function sn(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function un(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function cn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ln(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fn(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function dn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function hn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2];return e[0]=a*u-i*s,e[1]=i*o-r*u,e[2]=r*s-a*o,e}function pn(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function vn(e,t,n,r,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),l=o*(3-2*i);return e[0]=t[0]*s+n[0]*u+r[0]*c+a[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+a[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+a[2]*l,e}function mn(e,t,n,r,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,l=3*i*s,f=3*u*o,d=u*i;return e[0]=t[0]*c+n[0]*l+r[0]*f+a[0]*d,e[1]=t[1]*c+n[1]*l+r[1]*f+a[1]*d,e[2]=t[2]*c+n[2]*l+r[2]*f+a[2]*d,e}function gn(e,t){t=t||1;var n=2*v()*Math.PI,r=2*v()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function yn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function _n(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function bn(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],c=t[2],l=a*c-i*u,f=i*s-r*c,d=r*u-a*s,h=a*d-i*f,p=i*l-r*d,v=r*f-a*l,m=2*o;return l*=m,f*=m,d*=m,h*=2,p*=2,v*=2,e[0]=s+l+h,e[1]=u+f+p,e[2]=c+d+v,e}function wn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function xn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function An(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function Mn(e,t){var n=jt(e[0],e[1],e[2]),r=jt(t[0],t[1],t[2]);fn(n,n),fn(r,r);var a=dn(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function En(e){return e[0]=0,e[1]=0,e[2]=0,e}function Cn(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Sn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tn(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(n-i)<=h*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))}var kn=Yt,Bn=Qt,Pn=Kt,Ln=on,Dn=sn,Rn=Vt,Fn=un,In=function(){var e=Gt();return function(t,n,r,a,i,o){var s,u;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function On(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function zn(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Zn(e,t,n,r){var a=new p(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function Un(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Nn(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function Gn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Hn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Vn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function jn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Wn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Xn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function qn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Yn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Qn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Kn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Jn(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function $n(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(n,r,a,i)}function er(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function tr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.hypot(t,n,r,a)}function nr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function rr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ar(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function ir(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function or(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sr(e,t,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=t[0],f=t[1],d=t[2],h=t[3];return e[0]=f*c-d*u+h*s,e[1]=-l*c+d*o-h*i,e[2]=l*u-f*o+h*a,e[3]=-l*s+f*i-d*a,e}function ur(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function cr(e,t){var n,r,a,i,o,s;t=t||1;do{o=(n=2*v()-1)*n+(r=2*v()-1)*r}while(o>=1);do{s=(a=2*v()-1)*a+(i=2*v()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*a*u,e[3]=t*i*u,e}function lr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function fr(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*i-u*a,f=c*a+u*r-o*i,d=c*i+o*a-s*r,h=-o*r-s*a-u*i;return e[0]=l*c+h*-o+f*-u-d*-s,e[1]=f*c+h*-s+d*-o-l*-u,e[2]=d*c+h*-u+l*-s-f*-o,e[3]=t[3],e}function dr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function pr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function vr(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=h*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}var mr=Hn,gr=Vn,yr=jn,_r=$n,br=er,wr=tr,xr=nr,Ar=function(){var e=On();return function(t,n,r,a,i,o){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function Mr(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Er(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Cr(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Sr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>h?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Tr(e,t){var n=Kr(e,t);return Math.acos(2*n*n-1)}function kr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+a*c-i*u,e[1]=a*l+o*u+i*s-r*c,e[2]=i*l+o*c+r*u-a*s,e[3]=o*l-r*s-a*u-i*c,e}function Br(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-r*s,e}function Pr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-i*s,e[1]=a*u+o*s,e[2]=i*u+r*s,e[3]=o*u-a*s,e}function Lr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=a*u-r*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function Dr(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e}function Rr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return e[0]=n*u,e[1]=r*u,e[2]=a*u,e[3]=s*Math.cos(o),e}function Fr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=n*s,e[1]=r*s,e[2]=a*s,e[3]=.5*Math.log(n*n+r*r+a*a+i*i),e}function Ir(e,t,n){return Fr(e,t),Qr(e,e,n),Rr(e,e),e}function Or(e,t,n,r){var a,i,o,s,u,c=t[0],l=t[1],f=t[2],d=t[3],p=n[0],v=n[1],m=n[2],g=n[3];return(i=c*p+l*v+f*m+d*g)<0&&(i=-i,p=-p,v=-v,m=-m,g=-g),1-i>h?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o):(s=1-r,u=r),e[0]=s*c+u*p,e[1]=s*l+u*v,e[2]=s*f+u*m,e[3]=s*d+u*g,e}function zr(e){var t=v(),n=v(),r=v(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=i*Math.sin(2*Math.PI*r),e[3]=i*Math.cos(2*Math.PI*r),e}function Zr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e}function Ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Nr(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*i+o]-t[3*o+i])*n,e[i]=(t[3*i+a]+t[3*a+i])*n,e[o]=(t[3*o+a]+t[3*a+o])*n}return e}function Gr(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=i*u*l-o*s*c,e[1]=o*s*l+i*u*c,e[2]=o*u*c-i*s*l,e[3]=o*u*l+i*s*c,e}function Hr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Vr=zn,jr=Zn,Wr=Un,Xr=Nn,qr=Gn,Yr=kr,Qr=Kn,Kr=or,Jr=ur,$r=tr,ea=$r,ta=nr,na=ta,ra=ir,aa=pr,ia=vr,oa=function(){var e=Gt(),t=jt(1,0,0),n=jt(0,1,0);return function(r,a,i){var o=dn(a,i);return o<-.999999?(hn(e,t,a),Rn(e)<1e-6&&hn(e,n,a),fn(e,e),Cr(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(hn(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,ra(r,r))}}(),sa=function(){var e=Mr(),t=Mr();return function(n,r,a,i,o,s){return Or(e,r,o,s),Or(t,a,i,s),Or(n,e,t,2*s*(1-s)),n}}(),ua=function(){var e=ge();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],ra(t,Nr(t,e))}}();function ca(){var e=new p(8);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function la(e){var t=new p(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function fa(e,t,n,r,a,i,o,s){var u=new p(8);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function da(e,t,n,r,a,i,o){var s=new p(8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var u=.5*a,c=.5*i,l=.5*o;return s[4]=u*r+c*n-l*t,s[5]=c*r+l*e-u*n,s[6]=l*r+u*t-c*e,s[7]=-u*e-c*t-l*n,s}function ha(e,t,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=t[0],s=t[1],u=t[2],c=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=c,e[4]=r*c+a*u-i*s,e[5]=a*c+i*o-r*u,e[6]=i*c+r*s-a*o,e[7]=-r*o-a*s-i*u,e}function pa(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function va(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ma(e,t){var n=Mr();xt(n,t);var r=new p(3);return bt(r,t),ha(e,n,r),e}function ga(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ya(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function _a(e,t,n,r,a,i,o,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}var ba=Wr;function wa(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var xa=Wr;function Aa(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Ma(e,t){var n=t[4],r=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(n*c+i*o+r*u-a*s),e[1]=2*(r*c+i*s+a*o-n*u),e[2]=2*(a*c+i*u+n*s-r*o),e}function Ea(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],l=t[4],f=t[5],d=t[6],h=t[7];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*c-i*u+l,e[5]=o*u+i*s-r*c+f,e[6]=o*c+r*u-a*s+d,e[7]=-r*s-a*u-i*c+h,e}function Ca(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return Br(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function Sa(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return Pr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function Ta(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return Lr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function ka(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],c=t[2],l=t[3];return e[0]=s*o+l*r+u*i-c*a,e[1]=u*o+l*a+c*r-s*i,e[2]=c*o+l*i+s*a-u*r,e[3]=l*o-s*r-u*a-c*i,s=t[4],u=t[5],c=t[6],l=t[7],e[4]=s*o+l*r+u*i-c*a,e[5]=u*o+l*a+c*r-s*i,e[6]=c*o+l*i+s*a-u*r,e[7]=l*o-s*r-u*a-c*i,e}function Ba(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+a*c-i*u,e[1]=a*l+o*u+i*s-r*c,e[2]=i*l+o*c+r*u-a*s,e[3]=o*l-r*s-a*u-i*c,s=n[4],u=n[5],c=n[6],l=n[7],e[4]=r*l+o*s+a*c-i*u,e[5]=a*l+o*u+i*s-r*c,e[6]=i*l+o*c+r*u-a*s,e[7]=o*l-r*s-a*u-i*c,e}function Pa(e,t,n,r){if(Math.abs(r)<h)return ga(e,t);var a=Math.hypot(n[0],n[1],n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,s=i*n[1]/a,u=i*n[2]/a,c=Math.cos(r),l=t[0],f=t[1],d=t[2],p=t[3];e[0]=l*c+p*o+f*u-d*s,e[1]=f*c+p*s+d*o-l*u,e[2]=d*c+p*u+l*s-f*o,e[3]=p*c-l*o-f*s-d*u;var v=t[4],m=t[5],g=t[6],y=t[7];return e[4]=v*c+y*o+m*u-g*s,e[5]=m*c+y*s+g*o-v*u,e[6]=g*c+y*u+v*s-m*o,e[7]=y*c-v*o-m*s-g*u,e}function La(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Da(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[4],u=n[5],c=n[6],l=n[7],f=t[4],d=t[5],h=t[6],p=t[7],v=n[0],m=n[1],g=n[2],y=n[3];return e[0]=r*y+o*v+a*g-i*m,e[1]=a*y+o*m+i*v-r*g,e[2]=i*y+o*g+r*m-a*v,e[3]=o*y-r*v-a*m-i*g,e[4]=r*l+o*s+a*c-i*u+f*y+p*v+d*g-h*m,e[5]=a*l+o*u+i*s-r*c+d*y+p*m+h*v-f*g,e[6]=i*l+o*c+r*u-a*s+h*y+p*g+f*m-d*v,e[7]=o*l-r*s-a*u-i*c+p*y-f*v-d*m-h*g,e}var Ra=Da;function Fa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Ia=Kr;function Oa(e,t,n,r){var a=1-r;return Ia(t,n)<0&&(r=-r),e[0]=t[0]*a+n[0]*r,e[1]=t[1]*a+n[1]*r,e[2]=t[2]*a+n[2]*r,e[3]=t[3]*a+n[3]*r,e[4]=t[4]*a+n[4]*r,e[5]=t[5]*a+n[5]*r,e[6]=t[6]*a+n[6]*r,e[7]=t[7]*a+n[7]*r,e}function za(e,t){var n=Ga(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Za(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ua=$r,Na=Ua,Ga=ta,Ha=Ga;function Va(e,t){var n=Ga(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,a=t[1]/n,i=t[2]/n,o=t[3]/n,s=t[4],u=t[5],c=t[6],l=t[7],f=r*s+a*u+i*c+o*l;e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-r*f)/n,e[5]=(u-a*f)/n,e[6]=(c-i*f)/n,e[7]=(l-o*f)/n}return e}function ja(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function Wa(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Xa(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=t[0],f=t[1],d=t[2],p=t[3],v=t[4],m=t[5],g=t[6],y=t[7];return Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-d)<=h*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-p)<=h*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=h*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-m)<=h*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-g)<=h*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))}function qa(){var e=new p(2);return p!=Float32Array&&(e[0]=0,e[1]=0),e}function Ya(e){var t=new p(2);return t[0]=e[0],t[1]=e[1],t}function Qa(e,t){var n=new p(2);return n[0]=e,n[1]=t,n}function Ka(e,t){return e[0]=t[0],e[1]=t[1],e}function Ja(e,t,n){return e[0]=t,e[1]=n,e}function $a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ei(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ti(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ni(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function ri(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ai(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ii(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function oi(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function si(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function ui(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function ci(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function li(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function fi(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function di(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function hi(e){var t=e[0],n=e[1];return t*t+n*n}function pi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function vi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function mi(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function gi(e,t){return e[0]*t[0]+e[1]*t[1]}function yi(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function _i(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e}function bi(e,t){t=t||1;var n=2*v()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e}function xi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function Ai(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e}function Mi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}function Ei(e,t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=a*s-i*o+n[0],e[1]=a*o+i*s+n[1],e}function Ci(e,t){var n=e[0],r=e[1],a=t[0],i=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(n*a+r*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Si(e){return e[0]=0,e[1]=0,e}function Ti(e){return"vec2("+e[0]+", "+e[1]+")"}function ki(e,t){return e[0]===t[0]&&e[1]===t[1]}function Bi(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))}var Pi=di,Li=ei,Di=ti,Ri=ni,Fi=li,Ii=fi,Oi=hi,zi=function(){var e=qa();return function(t,n,r,a,i,o){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},537:function(e,t,n){var r="__lodash_hash_undefined__",a=9007199254740991,i="[object Symbol]",o=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var a=e.length,i=n+(r?1:-1);for(;r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}(e,m,n);var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function h(e,t,n){for(var r=-1,a=e?e.length:0;++r<a;)if(n(t,e[r]))return!0;return!1}function p(e,t){for(var n=-1,r=e?e.length:0,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function v(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function m(e){return e!==e}function g(e,t){return e.has(t)}function y(e,t){return function(n){return e(t(n))}}var _=Array.prototype,b=Function.prototype,w=Object.prototype,x=l["__core-js_shared__"],A=function(){var e=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),M=b.toString,E=w.hasOwnProperty,C=w.toString,S=RegExp("^"+M.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=l.Symbol,k=y(Object.getPrototypeOf,Object),B=w.propertyIsEnumerable,P=_.splice,L=T?T.isConcatSpreadable:void 0,D=Object.getOwnPropertySymbols,R=Math.max,F=q(l,"Map"),I=q(Object,"create");function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U(e){var t=-1,n=e?e.length:0;for(this.__data__=new Z;++t<n;)this.add(e[t])}function N(e,t){var n=te(e)||ee(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!E.call(e,i)||a&&("length"==i||J(i,r))||n.push(i);return n}function G(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!==n&&r!==r)return a;return-1}function H(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=K),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?H(s,t-1,n,r,a):v(a,s):r||(a[a.length]=s)}return a}function V(e){if(!ae(e)||(t=e,A&&A in t))return!1;var t,n=re(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?S:o;return n.test(function(e){if(null!=e){try{return M.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function j(e){if(!ae(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||w;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function W(e){return function(e,t,n){var r=t(e);return te(e)?r:v(r,n(e))}(e,oe,Q)}function X(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V(n)?n:void 0}O.prototype.clear=function(){this.__data__=I?I(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(I){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:E.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=I&&void 0===t?r:t,this},z.prototype.clear=function(){this.__data__=[]},z.prototype.delete=function(e){var t=this.__data__,n=G(t,e);return!(n<0)&&(n==t.length-1?t.pop():P.call(t,n,1),!0)},z.prototype.get=function(e){var t=this.__data__,n=G(t,e);return n<0?void 0:t[n][1]},z.prototype.has=function(e){return G(this.__data__,e)>-1},z.prototype.set=function(e,t){var n=this.__data__,r=G(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Z.prototype.clear=function(){this.__data__={hash:new O,map:new(F||z),string:new O}},Z.prototype.delete=function(e){return X(this,e).delete(e)},Z.prototype.get=function(e){return X(this,e).get(e)},Z.prototype.has=function(e){return X(this,e).has(e)},Z.prototype.set=function(e,t){return X(this,e).set(e,t),this},U.prototype.add=U.prototype.push=function(e){return this.__data__.set(e,r),this},U.prototype.has=function(e){return this.__data__.has(e)};var Y=D?y(D,Object):le,Q=D?function(e){for(var t=[];e;)v(t,Y(e)),e=k(e);return t}:le;function K(e){return te(e)||ee(e)||!!(L&&e&&e[L])}function J(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function $(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ie(e)&&C.call(e)==i}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ee(e){return function(e){return ie(e)&&ne(e)}(e)&&E.call(e,"callee")&&(!B.call(e,"callee")||"[object Arguments]"==C.call(e))}var te=Array.isArray;function ne(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!re(e)}function re(e){var t=ae(e)?C.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ie(e){return!!e&&"object"==typeof e}function oe(e){return ne(e)?N(e,!0):j(e)}var se,ue,ce=(se=function(e,t){return null==e?{}:(t=p(H(t,1),$),function(e,t){return function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=e[o];n(s,o)&&(i[o]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var a,i=-1,o=d,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=p(t,(a=n,function(e){return a(e)}))),r?(o=h,s=!1):t.length>=200&&(o=g,s=!1,t=new U(t));e:for(;++i<u;){var f=e[i],v=n?n(f):f;if(f=r||0!==f?f:0,s&&v===v){for(var m=l;m--;)if(t[m]===v)continue e;c.push(f)}else o(t,v,r)||c.push(f)}return c}(W(e),t)))},ue=R(void 0===ue?se.length-1:ue,0),function(){for(var e=arguments,t=-1,n=R(e.length-ue,0),r=Array(n);++t<n;)r[t]=e[ue+t];t=-1;for(var a=Array(ue+1);++t<ue;)a[t]=e[t];return a[ue]=r,f(se,this,a)});function le(){return[]}e.exports=ce},103:function(e,t,n){var r=9007199254740991,a="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var h=Object.prototype,p=h.hasOwnProperty,v=h.toString,m=l.Symbol,g=h.propertyIsEnumerable,y=m?m.isConcatSpreadable:void 0,_=Math.max;function b(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=w),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?b(s,t-1,n,r,a):d(a,s):r||(a[a.length]=s)}return a}function w(e){return A(e)||function(e){return function(e){return M(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?v.call(e):"";return t==i||t==o}(e)}(e)}(e)&&p.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==a)}(e)||!!(y&&e&&e[y])}function x(e){if("string"==typeof e||function(e){return"symbol"==typeof e||M(e)&&v.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var A=Array.isArray;function M(e){return!!e&&"object"==typeof e}var E,C,S=(E=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=e[o];n(s,o)&&(i[o]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}(b(t,1),x))},C=_(void 0===C?E.length-1:C,0),function(){for(var e=arguments,t=-1,n=_(e.length-C,0),r=Array(n);++t<n;)r[t]=e[C+t];t=-1;for(var a=Array(C+1);++t<C;)a[t]=e[t];return a[C]=r,f(E,this,a)});e.exports=S},8105:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,i){for(var o,s,u=a(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},5583:function(e,t,n){"use strict";var r=n(1704);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1386:function(e,t,n){e.exports=n(5583)()},1704:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1571:function(e,t,n){"use strict";var r=n(4519),a=n(8105),i=n(8514);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,A=60106,M=60107,E=60108,C=60114,S=60109,T=60110,k=60112,B=60113,P=60120,L=60115,D=60116,R=60121,F=60128,I=60129,O=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var Z=Symbol.for;x=Z("react.element"),A=Z("react.portal"),M=Z("react.fragment"),E=Z("react.strict_mode"),C=Z("react.profiler"),S=Z("react.provider"),T=Z("react.context"),k=Z("react.forward_ref"),B=Z("react.suspense"),P=Z("react.suspense_list"),L=Z("react.memo"),D=Z("react.lazy"),R=Z("react.block"),Z("react.scope"),F=Z("react.opaque.id"),I=Z("react.debug_trace_mode"),O=Z("react.offscreen"),z=Z("react.legacy_hidden")}var U,N="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}function H(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function W(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 22:return e=j(e.type._render,!1);case 1:return e=j(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case A:return"Portal";case C:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return X(e.type);case R:return X(e._render);case D:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ce(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(_e).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var Ae=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,ke=null;function Be(e){if(e=ra(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ia(t),Se(e.stateNode,e.type,t))}}function Pe(e){Te?ke?ke.push(e):ke=[e]:Te=e}function Le(){if(Te){var e=Te,t=ke;if(ke=Te=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,a){return e(t,n,r,a)}function Fe(){}var Ie=De,Oe=!1,ze=!1;function Ze(){null===Te&&null===ke||(Fe(),Le())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ia(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(f)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(me){Ne=!1}function He(e,t,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ve=!1,je=null,We=!1,Xe=null,qe={onError:function(e){Ve=!0,je=e}};function Ye(e,t,n,r,a,i,o,s,u){Ve=!1,je=null,He.apply(qe,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Je(a),e;if(i===r)return Je(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=na(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){yt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(_t),ft.forEach(_t)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function At(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:At("Animation","AnimationEnd"),animationiteration:At("Animation","AnimationIteration"),animationstart:At("Animation","AnimationStart"),transitionend:At("Transition","TransitionEnd")},Et={},Ct={};function St(e){if(Et[e])return Et[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return Et[e]=n[t];return e}f&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var Tt=St("animationend"),kt=St("animationiteration"),Bt=St("animationstart"),Pt=St("transitionend"),Lt=new Map,Dt=new Map,Rt=["abort","abort",Tt,"animationEnd",kt,"animationIteration",Bt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Dt.set(r,t),Lt.set(r,a),c(a,[r])}}(0,i.unstable_now)();var It=8;function Ot(e){if(0!==(1&e))return It=15,1;if(0!==(2&e))return It=14,2;if(0!==(4&e))return It=13,4;var t=24&e;return 0!==t?(It=12,t):0!==(32&e)?(It=11,32):0!==(t=192&e)?(It=10,t):0!==(256&e)?(It=9,256):0!==(t=3584&e)?(It=8,t):0!==(4096&e)?(It=7,4096):0!==(t=4186112&e)?(It=6,t):0!==(t=62914560&e)?(It=5,t):67108864&e?(It=4,67108864):0!==(134217728&e)?(It=3,134217728):0!==(t=805306368&e)?(It=2,t):0!==(1073741824&e)?(It=1,1073741824):(It=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return It=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,a=It=15;else if(0!==(i=134217727&n)){var u=i&~o;0!==u?(r=Ot(u),a=It):0!==(s&=i)&&(r=Ot(s),a=It)}else 0!==(i=n&~o)?(r=Ot(i),a=It):0!==s&&(r=Ot(s),a=It);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ot(t),a<=It)return t;It=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Vt(t)),r|=e[n],t&=~a;return r}function Zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Nt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Nt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Nt(3584&~t))&&(0===(e=Nt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Nt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Nt(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(jt(e)/Wt|0)|0},jt=Math.log,Wt=Math.LN2;var Xt=i.unstable_UserBlockingPriority,qt=i.unstable_runWithPriority,Yt=!0;function Qt(e,t,n,r){Oe||Fe();var a=Jt,i=Oe;Oe=!0;try{Re(a,e,t,n,r)}finally{(Oe=i)||Ze()}}function Kt(e,t,n,r){qt(Xt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var a;if(Yt)if((a=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var i=$t(e,t,n,r);if(null===i)a&&vt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return st=mt(st,e,t,n,r,a),!0;case"dragenter":return ut=mt(ut,e,t,n,r,a),!0;case"mouseover":return ct=mt(ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ft.set(i,mt(ft.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;vt(e,r)}Fr(e,t,r,null,n)}}}function $t(e,t,n,r){var a=Ce(r);if(null!==(a=na(a))){var i=Qe(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Ke(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Fr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=a({},dn,{view:0,detail:0}),vn=un(pn),mn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(a({},mn,{dataTransfer:0})),_n=un(a({},pn,{relatedTarget:0})),bn=un(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),An=un(a({},dn,{data:0})),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Tn(){return Sn}var kn=a({},pn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Bn=un(kn),Pn=un(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=un(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=un(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=un(Rn),In=[9,13,27,32],On=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var Zn=f&&"TextEvent"in window&&!zn,Un=f&&(!On||zn&&8<zn&&11>=zn),Nn=String.fromCharCode(32),Gn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Pe(r),0<(t=Or(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Qn=null;function Kn(e){kr(e,0)}function Jn(e){if(K(aa(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){Yn&&(Yn.detachEvent("onpropertychange",ir),Qn=Yn=null)}function ir(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(qn(t,Qn,e,Ce(e)),e=Kn,Oe)e(t);else{Oe=!0;try{De(e,t)}finally{Oe=!1,Ze()}}}}function or(e,t,n){"focusin"===e?(ar(),Qn=n,(Yn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&ar()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,wr=null,xr=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==_r||_r!==J(r)||("selectionStart"in(r=_r)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Or(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Rt,2);for(var Mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Mr.length;Er++)Dt.set(Mr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,c){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var l=je;Ve=!1,je=null,We||(We=!0,Xe=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;Tr(a,s,c),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;Tr(a,s,c),i=u}}}if(We)throw e=Xe,We=!1,Xe=null,e}function Br(e,t){var n=oa(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=oa(i),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(a|=4),Rr(i,e,a,t),o.add(s))}function Rr(e,t,n,r){var a=Dt.get(t);switch(void 0===a?2:a){case 0:a=Qt;break;case 1:a=Kt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=na(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{Ie(e,t,n)}finally{ze=!1,Ze()}}((function(){var r=i,a=Ce(n),o=[];e:{var s=Lt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Bn;break;case"focusin":c="focus",u=_n;break;case"focusout":c="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ln;break;case Tt:case kt:case Bt:u=bn;break;case Pt:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Fn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ue(p,d))&&l.push(Ir(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!na(c)&&!c[ea])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?na(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:aa(u),h=null==c?s:aa(c),(s=new l(v,p+"leave",u,n,a)).target=f,s.relatedTarget=h,v=null,na(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=zr(h))p++;for(h=0,v=d;v;v=zr(v))h++;for(;0<p-h;)l=zr(l),p--;for(;0<h-p;)d=zr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=zr(l),d=zr(d)}l=null}else l=null;null!==u&&Zr(o,s,u,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(u=(s=r?aa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Xn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?qn(o,m,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=r?aa(r):window,e){case"focusin":(Xn(g)||"true"===g.contentEditable)&&(_r=g,br=r,wr=null);break;case"focusout":wr=br=_r=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Ar(o,n,a);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Ar(o,n,a)}var y;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jn?Hn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&jn&&(y=rn()):(tn="value"in(en=a)?en.value:en.textContent,jn=!0)),0<(g=Or(r,_)).length&&(_=new An(_,e,null,n,a),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Hn(e,t)?(e=rn(),nn=tn=en=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Or(r,"onBeforeInput")).length&&(a=new An("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}kr(o,t)}))}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ue(e,n))&&r.unshift(Ir(e,i,a)),null!=(i=Ue(e,t))&&r.push(Ir(e,i,a))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Ue(n,i))&&o.unshift(Ir(n,u,s)):a||null!=(u=Ue(n,i))&&o.push(Ir(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Nr=null,Gr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var jr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Kr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Kr,$r="__reactProps$"+Kr,ea="__reactContainer$"+Kr,ta="__reactEvents$"+Kr;function na(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[Jr]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ia(e){return e[$r]||null}function oa(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ua=-1;function ca(e){return{current:e}}function la(e){0>ua||(e.current=sa[ua],sa[ua]=null,ua--)}function fa(e,t){ua++,sa[ua]=e.current,e.current=t}var da={},ha=ca(da),pa=ca(!1),va=da;function ma(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ya(){la(pa),la(ha)}function _a(e,t,n){if(ha.current!==da)throw Error(o(168));fa(ha,t),fa(pa,n)}function ba(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,X(t)||"Unknown",i));return a({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,va=ha.current,fa(ha,e),fa(pa,pa.current),!0}function xa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ba(e,t,va),r.__reactInternalMemoizedMergedChildContext=e,la(pa),la(ha),fa(ha,e)):la(pa),fa(pa,n)}var Aa=null,Ma=null,Ea=i.unstable_runWithPriority,Ca=i.unstable_scheduleCallback,Sa=i.unstable_cancelCallback,Ta=i.unstable_shouldYield,ka=i.unstable_requestPaint,Ba=i.unstable_now,Pa=i.unstable_getCurrentPriorityLevel,La=i.unstable_ImmediatePriority,Da=i.unstable_UserBlockingPriority,Ra=i.unstable_NormalPriority,Fa=i.unstable_LowPriority,Ia=i.unstable_IdlePriority,Oa={},za=void 0!==ka?ka:function(){},Za=null,Ua=null,Na=!1,Ga=Ba(),Ha=1e4>Ga?Ba:function(){return Ba()-Ga};function Va(){switch(Pa()){case La:return 99;case Da:return 98;case Ra:return 97;case Fa:return 96;case Ia:return 95;default:throw Error(o(332))}}function ja(e){switch(e){case 99:return La;case 98:return Da;case 97:return Ra;case 96:return Fa;case 95:return Ia;default:throw Error(o(332))}}function Wa(e,t){return e=ja(e),Ea(e,t)}function Xa(e,t,n){return e=ja(e),Ca(e,t,n)}function qa(){if(null!==Ua){var e=Ua;Ua=null,Sa(e)}Ya()}function Ya(){if(!Na&&null!==Za){Na=!0;var e=0;try{var t=Za;Wa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Za=null}catch(n){throw null!==Za&&(Za=Za.slice(e+1)),Ca(La,qa),n}finally{Na=!1}}}var Qa=w.ReactCurrentBatchConfig;function Ka(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ja=ca(null),$a=null,ei=null,ti=null;function ni(){ti=ei=$a=null}function ri(e){var t=Ja.current;la(Ja),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ii(e,t){$a=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oo=!0),e.firstContext=null)}function oi(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===$a)throw Error(o(308));ei=t,$a.dependencies={lanes:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var si=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var i=e.updateQueue;si=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,s=0,f=l=c=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break e;d=a({},d,u);break e;case 2:si=!0}}null!==o.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Ns|=s,e.lanes=s,e.memoizedState=d}}function pi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var vi=(new r.Component).refs;function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),a=hu(e),i=li(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),a=hu(e),i=li(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),a=li(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),fi(e,a),pu(e,r,n)}};function yi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,i))}function _i(e,t,n){var r=!1,a=da,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(a=ga(t)?va:ha.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ma(e,a):da),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=vi,ui(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=oi(i):(i=ga(t)?va:ha.current,a.context=ma(e,i)),hi(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&gi.enqueueReplaceState(a,a.state,null),hi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var xi=Array.isArray;function Ai(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===vi&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Mi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ei(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Ai(e,t,n),r.return=e,r):((r=Xu(n.type,n.key,n.props,null,e.mode,r)).ref=Ai(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=qu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Xu(t.type,t.key,t.props,null,e.mode,n)).ref=Ai(e,null,t),n.return=e,n;case A:return(t=Ku(t,e.mode,n)).return=e,t}if(xi(t)||G(t))return(t=qu(t,e.mode,n,null)).return=e,t;Mi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?n.type===M?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case A:return n.key===a?l(e,t,n,r):null}if(xi(n)||G(n))return null!==a?null:f(e,t,n,r,null);Mi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===M?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(xi(r)||G(r))return f(t,e=e.get(n)||null,r,a,null);Mi(t,r)}return null}function v(a,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(a,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(a,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(a,s[v],u))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);v<s.length;v++)null!==(m=p(f,a,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,s,u,c){var l=G(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=h(a,v,y.value,c);if(null===_){null===v&&(v=g);break}e&&v&&null===_.alternate&&t(a,v),s=i(_,s,m),null===f?l=_:f.sibling=_,f=_,v=g}if(y.done)return n(a,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(a,y.value,c))&&(s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(a,v);!y.done;m++,y=u.next())null!==(y=p(v,a,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===M&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case x:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===M){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=Ai(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===M?((r=qu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Xu(i.type,i.key,i.props,null,e.mode,u)).ref=Ai(e,r,i),u.return=e,e=u)}return s(e);case A:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Qu(i,e.mode,u)).return=e,e=r),s(e);if(xi(i))return v(e,r,i,u);if(G(i))return m(e,r,i,u);if(l&&Mi(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(e.type)||"Component"))}return n(e,r)}}var Ci=Ei(!0),Si=Ei(!1),Ti={},ki=ca(Ti),Bi=ca(Ti),Pi=ca(Ti);function Li(e){if(e===Ti)throw Error(o(174));return e}function Di(e,t){switch(fa(Pi,t),fa(Bi,e),fa(ki,Ti),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}la(ki),fa(ki,t)}function Ri(){la(ki),la(Bi),la(Pi)}function Fi(e){Li(Pi.current);var t=Li(ki.current),n=pe(t,e.type);t!==n&&(fa(Bi,e),fa(ki,n))}function Ii(e){Bi.current===e&&(la(ki),la(Bi))}var Oi=ca(0);function zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=null,Ui=null,Ni=!1;function Gi(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Hi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vi(e){if(Ni){var t=Ui;if(t){var n=t;if(!Hi(e,t)){if(!(t=qr(n.nextSibling))||!Hi(e,t))return e.flags=-1025&e.flags|2,Ni=!1,void(Zi=e);Gi(Zi,n)}Zi=e,Ui=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ni=!1,Zi=e}}function ji(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function Wi(e){if(e!==Zi)return!1;if(!Ni)return ji(e),Ni=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Ui;t;)Gi(e,t),t=qr(t.nextSibling);if(ji(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ui=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ui=null}}else Ui=Zi?qr(e.stateNode.nextSibling):null;return!0}function Xi(){Ui=Zi=null,Ni=!1}var qi=[];function Yi(){for(var e=0;e<qi.length;e++)qi[e]._workInProgressVersionPrimary=null;qi.length=0}var Qi=w.ReactCurrentDispatcher,Ki=w.ReactCurrentBatchConfig,Ji=0,$i=null,eo=null,to=null,no=!1,ro=!1;function ao(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,a,i){if(Ji=i,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,a),ro){i=0;do{if(ro=!1,!(25>i))throw Error(o(301));i+=1,to=eo=null,t.updateQueue=null,Qi.current=Fo,e=n(r,a)}while(ro)}if(Qi.current=Lo,t=null!==eo&&null!==eo.next,Ji=0,to=eo=$i=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$i.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$i.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$i.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=i=null,c=a;do{var l=c.lane;if((Ji&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,$i.lanes|=l,Ns|=l}c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=s,lr(r,t.memoizedState)||(Oo=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);lr(i,t.memoizedState)||(Oo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Ji&e)===e)&&(t._workInProgressVersionPrimary=r,qi.push(t))),e)return n(t._source);throw qi.push(t),Error(o(350))}function po(e,t,n,r){var a=Ds;if(null===a)throw Error(o(349));var i=t._getVersion,s=i(t._source),u=Qi.current,c=u.useState((function(){return ho(a,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=$i;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=hu(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var u=31-Vt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,$i,e),c.queue=e,c.baseQueue=null,f=ho(a,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,$i,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$i.updateQueue)?(t={lastEffect:null},$i.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function _o(){return uo().memoizedState}function bo(e,t,n,r){var a=so();$i.flags|=e,a.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var a=uo();r=void 0===r?null:r;var i=void 0;if(null!==eo){var o=eo.memoizedState;if(i=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,i,r)}$i.flags|=e,a.memoizedState=go(1|t,n,i,r)}function xo(e,t){return bo(516,4,e,t)}function Ao(e,t){return wo(516,4,e,t)}function Mo(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function So(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ko(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bo(e,t){var n=Va();Wa(98>n?98:n,(function(){e(!0)})),Wa(97<n?97:n,(function(){var n=Ki.transition;Ki.transition=1;try{e(!1),t()}finally{Ki.transition=n}}))}function Po(e,t,n){var r=du(),a=hu(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===$i||null!==o&&o===$i)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,lr(u,s))return}catch(c){}pu(e,a,r)}}var Lo={readContext:oi,useCallback:ao,useContext:ao,useEffect:ao,useImperativeHandle:ao,useLayoutEffect:ao,useMemo:ao,useReducer:ao,useRef:ao,useState:ao,useDebugValue:ao,useDeferredValue:ao,useTransition:ao,useMutableSource:ao,useOpaqueIdentifier:ao,unstable_isNewReconciler:!1},Do={readContext:oi,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oi,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,$i,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Bo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ni){var e=!1,t=function(e){return{$$typeof:F,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$i.mode)&&($i.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oi,useCallback:To,useContext:oi,useEffect:Ao,useImperativeHandle:Co,useLayoutEffect:Mo,useMemo:ko,useReducer:lo,useRef:_o,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Ao((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[_o().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Fo={readContext:oi,useCallback:To,useContext:oi,useEffect:Ao,useImperativeHandle:Co,useLayoutEffect:Mo,useMemo:ko,useReducer:fo,useRef:_o,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Ao((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[_o().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Io=w.ReactCurrentOwner,Oo=!1;function zo(e,t,n,r){t.child=null===e?Si(t,null,n,r):Ci(t,e.child,n,r)}function Zo(e,t,n,r,a){n=n.render;var i=t.ref;return ii(t,a),r=oo(e,t,n,r,i,a),null===e||Oo?(t.flags|=1,zo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Uo(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,No(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function No(e,t,n,r,a,i){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Oo=!1,0===(i&a))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(Oo=!0)}return Vo(e,t,n,r,i)}function Go(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return zo(e,t,a,n),t.child}function Ho(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,a){var i=ga(n)?va:ha.current;return i=ma(t,i),ii(t,a),n=oo(e,t,n,r,i,a),null===e||Oo?(t.flags|=1,zo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function jo(e,t,n,r,a){if(ga(n)){var i=!0;wa(t)}else i=!1;if(ii(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_i(t,n,r),wi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oi(c):c=ma(t,c=ga(n)?va:ha.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&bi(t,o,r,c),si=!1;var d=t.memoizedState;o.state=d,hi(t,r,o,a),u=t.memoizedState,s!==r||d!==u||pa.current||si?("function"===typeof l&&(mi(t,n,l,r),u=t.memoizedState),(s=si||yi(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ci(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ka(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oi(u):u=ma(t,u=ga(n)?va:ha.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&bi(t,o,r,u),si=!1,d=t.memoizedState,o.state=d,hi(t,r,o,a);var p=t.memoizedState;s!==f||d!==p||pa.current||si?("function"===typeof h&&(mi(t,n,h,r),p=t.memoizedState),(c=si||yi(t,n,c,r,d,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,i,a)}function Wo(e,t,n,r,a,i){Ho(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&xa(t,n,!1),is(e,t,i);r=t.stateNode,Io.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):zo(e,t,s,i),t.memoizedState=r.state,a&&xa(t,n,!0),t.child}function Xo(e){var t=e.stateNode;t.pendingContext?_a(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_a(0,t.context,!1),Di(e,t.containerInfo)}var qo,Yo,Qo,Ko={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,a=t.pendingProps,i=Oi.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),fa(Oi,1&i),null===e?(void 0!==a.fallback&&Vi(t),e=a.children,i=a.fallback,o?(e=$o(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,e):"number"===typeof a.unstable_expectedLoadTime?(e=$o(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=ts(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Ko,a):(n=es(e,t,a.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Yu(t,a,0,null),n=qu(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function es(e,t,n,r){var a=e.child;return e=a.sibling,n=Wu(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=qu(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ai(e.return,t)}function rs(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function as(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(zo(e,t,r.children,n),0!==(2&(r=Oi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fa(Oi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===zi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rs(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===zi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ns|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ni)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ya(),null;case 3:return Ri(),la(pa),la(ha),Yi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ii(t);var i=Li(Pi.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Li(ki.current),Wi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[$r]=s,n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)Br(Cr[e],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":ee(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ue(r,s),Br("invalid",r)}for(var c in Me(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Br("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[$r]=r,qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cr.length;i++)Br(Cr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":ee(e,r),i=$(e,r),Br("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Br("invalid",e);break;default:i=r}Me(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Br("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Ur)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Li(Pi.current),Li(ki.current),Wi(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return la(Oi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Oi.current)?0===zs&&(zs=3):(0!==zs&&3!==zs||(zs=4),null===Ds||0===(134217727&Ns)&&0===(134217727&Gs)||yu(Ds,Fs))),(r||n)&&(t.flags|=4),null);case 4:return Ri(),null===e&&Lr(t.stateNode.containerInfo),null;case 10:return ri(t),null;case 19:if(la(Oi),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zi(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fa(Oi,1&Oi.current|2),t.child}e=e.sibling}null!==r.tail&&Ha()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=zi(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ni)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ha()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ha(),n.sibling=null,t=Oi.current,fa(Oi,s?1&t|2:1&t),n):null;case 23:case 24:return Au(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:ga(e.type)&&ya();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ri(),la(pa),la(ha),Yi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ii(e),null;case 13:return la(Oi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return la(Oi),null;case 4:return Ri(),null;case 10:return ri(e),null;case 23:case 24:return Au(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Li(ki.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Me(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Br("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===F?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Ks=r),ls(0,t)},n}function hs(e,t,n){(n=li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ls(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ka(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ou(n,e),Iu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ka(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(Ma&&"function"===typeof Ma.onCommitFiberUnmount)try{Ma.onCommitFiberUnmount(Aa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ou(t,n);else{r=t;try{a()}catch(i){Uu(r,i)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Uu(t,i)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?As(e,n,t):Ms(e,n,t)}function As(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(As(e,t,n),e=e.sibling;null!==e;)As(e,t,n),e=e.sibling}function Ms(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=u;;)if(_s(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(_s(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,a),t=Ee(e,r),a=0;a<i.length;a+=2){var s=i[a],u=i[a+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(js=Ha(),ys(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,Bs=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Ls=0,Ds=null,Rs=null,Fs=0,Is=0,Os=ca(0),zs=0,Zs=null,Us=0,Ns=0,Gs=0,Hs=0,Vs=null,js=0,Ws=1/0;function Xs(){Ws=Ha()+500}var qs,Ys=null,Qs=!1,Ks=null,Js=null,$s=!1,eu=null,tu=90,nu=[],ru=[],au=null,iu=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Ls)?Ha():-1!==su?su:su=Ha()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Va()?1:2;if(0===uu&&(uu=Us),0!==Qa.transition){0!==cu&&(cu=null!==Vs?Vs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Va(),0!==(4&Ls)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<iu)throw iu=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Ht(e,t,n),e===Ds&&(Gs|=t,4===zs&&yu(e,Fs));var r=Va();1===t?0!==(8&Ls)&&0===(48&Ls)?_u(e):(mu(e,n),0===Ls&&(Xs(),qa())):(0===(4&Ls)||98!==r&&99!==r||(null===au?au=new Set([e]):au.add(e)),mu(e,n)),Vs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Ot(c);var f=It;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=zt(e,e===Ds?Fs:0),t=It,0===r)null!==n&&(n!==Oa&&Sa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oa&&Sa(n)}15===t?(n=_u.bind(null,e),null===Za?(Za=[n],Ua=Ca(La,Ya)):Za.push(n),n=Oa):14===t?n=Xa(99,_u.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Xa(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ls))throw Error(o(327));var t=e.callbackNode;if(Fu()&&e.callbackNode!==t)return null;var n=zt(e,e===Ds?Fs:0);if(0===n)return null;var r=n,a=Ls;Ls|=16;var i=Cu();for(Ds===e&&Fs===r||(Xs(),Mu(e,r));;)try{ku();break}catch(u){Eu(e,u)}if(ni(),Bs.current=i,Ls=a,null!==Rs?r=0:(Ds=null,Fs=0,r=zs),0!==(Us&Gs))Mu(e,0);else if(0!==r){if(2===r&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(n=Zt(e))&&(r=Su(e,n))),1===r)throw t=Zs,Mu(e,0),yu(e,n),mu(e,Ha()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Lu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=js+500-Ha())){if(0!==zt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jr(Lu.bind(null,e),r);break}Lu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Vt(n);i=1<<s,(s=r[s])>a&&(a=s),n&=~i}if(n=a,10<(n=(120>(n=Ha()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=jr(Lu.bind(null,e),n);break}Lu(e);break;default:throw Error(o(329))}}return mu(e,Ha()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Hs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(0!==(48&Ls))throw Error(o(327));if(Fu(),e===Ds&&0!==(e.expiredLanes&Fs)){var t=Fs,n=Su(e,t);0!==(Us&Gs)&&(n=Su(e,t=zt(e,t)))}else n=Su(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(t=Zt(e))&&(n=Su(e,t))),1===n)throw n=Zs,Mu(e,0),yu(e,t),mu(e,Ha()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lu(e),mu(e,Ha()),null}function bu(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(Xs(),qa())}}function wu(e,t){var n=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=n)&&(Xs(),qa())}}function xu(e,t){fa(Os,Is),Is|=t,Us|=t}function Au(){Is=Os.current,la(Os)}function Mu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ya();break;case 3:Ri(),la(pa),la(ha),Yi();break;case 5:Ii(r);break;case 4:Ri();break;case 13:case 19:la(Oi);break;case 10:ri(r);break;case 23:case 24:Au()}n=n.return}Ds=e,Rs=Wu(e.current,null),Fs=Is=Us=t,zs=0,Zs=null,Hs=Gs=Ns=0}function Eu(e,t){for(;;){var n=Rs;try{if(ni(),Qi.current=Lo,no){for(var r=$i.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}no=!1}if(Ji=0,to=eo=$i=null,ro=!1,Ps.current=null,null===n||null===n.return){zs=1,Zs=t,Rs=null;break}e:{var i=e,o=n.return,s=n,u=t;if(t=Fs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Oi.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=li(-1,1);y.tag=2,fi(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=i.pingCache;if(null===_?(_=i.pingCache=new fs,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=Nu.bind(null,i,c,s);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==zs&&(zs=2),u=cs(u,s),d=o;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,di(d,ds(0,i,t));break e;case 1:i=u;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,di(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Pu(n)}catch(A){t=A,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Cu(){var e=Bs.current;return Bs.current=Lo,null===e?Lo:e}function Su(e,t){var n=Ls;Ls|=16;var r=Cu();for(Ds===e&&Fs===t||Mu(e,t);;)try{Tu();break}catch(a){Eu(e,a)}if(ni(),Ls=n,Bs.current=r,null!==Rs)throw Error(o(261));return Ds=null,Fs=0,zs}function Tu(){for(;null!==Rs;)Bu(Rs)}function ku(){for(;null!==Rs&&!Ta();)Bu(Rs)}function Bu(e){var t=qs(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Is)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Is)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===zs&&(zs=5)}function Lu(e){var t=Va();return Wa(99,Du.bind(null,e,t)),null}function Du(e,t){do{Fu()}while(null!==eu);if(0!==(48&Ls))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Vt(i),l=1<<c;a[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==au&&0===(24&r)&&au.has(e)&&au.delete(e),e===Ds&&(Rs=Ds=null,Fs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ls,Ls|=32,Ps.current=null,Nr=Yt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==i&&3!==m.nodeType||(d=f+i),m!==c||0!==l&&3!==m.nodeType||(h=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===i&&(d=f),g===c&&++v===l&&(h=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Gr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Ru()}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var _=Ys.flags;if(16&_&&ye(Ys.stateNode,""),128&_){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Cs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Cs(Ys.alternate,Ys);break;case 4:Cs(Ys.alternate,Ys);break;case 8:Es(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Gr,b=mr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&vr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(_,x),i=pr(_,s),u&&i&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(i.node,i.offset)):(b.setEnd(i.node,i.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Nr,Gr=Nr=null,e.current=n,Ys=r;do{try{for(_=e;null!==Ys;){var A=Ys.flags;if(36&A&&gs(_,Ys.alternate,Ys),128&A){b=void 0;var M=Ys.ref;if(null!==M){var E=Ys.stateNode;Ys.tag,b=E,"function"===typeof M?M(b):M.current=b}}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,za(),Ls=a}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((A=Ys).sibling=null,A.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?iu++:(iu=0,ou=e):iu=0,n=n.stateNode,Ma&&"function"===typeof Ma.onCommitFiberRoot)try{Ma.onCommitFiberRoot(Aa,n,void 0,64===(64&n.current.flags))}catch(C){}if(mu(e,Ha()),Qs)throw Qs=!1,e=Ks,Ks=null,e;return 0!==(8&Ls)||qa(),null}function Ru(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Ts(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||$s||($s=!0,Xa(97,(function(){return Fu(),null}))),Ys=Ys.nextEffect}}function Fu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wa(e,zu)}return!1}function Iu(e,t){nu.push(t,e),$s||($s=!0,Xa(97,(function(){return Fu(),null})))}function Ou(e,t){ru.push(t,e),$s||($s=!0,Xa(97,(function(){return Fu(),null})))}function zu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ls))throw Error(o(331));var t=Ls;Ls|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(o(330));Uu(i,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===i)throw Error(o(330));Uu(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ls=t,qa(),!0}function Zu(e,t,n){fi(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=vu(e,1))&&(Ht(e,1,t),mu(e,t))}function Uu(e,t){if(3===e.tag)Zu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Zu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var a=hs(n,e=cs(t,e),1);if(fi(n,a),a=du(),null!==(n=vu(n,1)))Ht(n,1,a),mu(n,a);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Fs&n)===n&&(4===zs||3===zs&&(62914560&Fs)===Fs&&500>Ha()-js?Mu(e,0):Hs|=n),mu(e,t)}function Gu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Va()?1:2:(0===uu&&(uu=Us),0===(t=Nt(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=vu(e,t))&&(Ht(e,t,n),mu(e,n))}function Hu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,r){return new Hu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xu(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case M:return qu(n.children,a,i,t);case I:s=8,a|=16;break;case E:s=8,a|=1;break;case C:return(e=Vu(12,n,t,8|a)).elementType=C,e.type=C,e.lanes=i,e;case B:return(e=Vu(13,n,t,a)).type=B,e.elementType=B,e.lanes=i,e;case P:return(e=Vu(19,n,t,a)).elementType=P,e.lanes=i,e;case O:return Yu(n,a,i,t);case z:return(e=Vu(24,n,t,a)).elementType=z,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case k:s=11;break e;case L:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Vu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function qu(e,t,n,r){return(e=Vu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Vu(23,e,r,t)).elementType=O,e.lanes=n,e}function Qu(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var a=t.current,i=du(),s=hu(a);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ga(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ga(c)){n=ba(n,c,u);break e}}n=u}else n=da;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(a,t),pu(a,s,i),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Vu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ui(t),e[ea]=n.current,Lr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=tc(o);s.call(e)}}ec(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var u=a;a=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,a)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return $u(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pa.current)Oo=!0;else{if(0===(n&r)){switch(Oo=!1,t.tag){case 3:Xo(t),Xi();break;case 5:Fi(t);break;case 1:ga(t.type)&&wa(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;fa(Ja,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fa(Oi,1&Oi.current),null!==(t=is(e,t,n))?t.sibling:null);fa(Oi,1&Oi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return as(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),fa(Oi,Oi.current),r)break;return null;case 23:case 24:return t.lanes=0,Go(e,t,n)}return is(e,t,n)}Oo=0!==(16384&e.flags)}else Oo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ma(t,ha.current),ii(t,n),a=oo(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var i=!0;wa(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ui(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mi(t,r,s,e),a.updater=gi,t.stateNode=a,a._reactInternals=t,wi(t,r,e,n),t=Wo(null,t,r,!0,i,n)}else t.tag=0,zo(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===L)return 14}return 2}(a),e=Ka(a,e),i){case 0:t=Vo(null,t,a,e,n);break e;case 1:t=jo(null,t,a,e,n);break e;case 11:t=Zo(null,t,a,e,n);break e;case 14:t=Uo(null,t,a,Ka(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Vo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 1:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 3:if(Xo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ci(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===a)Xi(),t=is(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Ui=qr(t.stateNode.containerInfo.firstChild),Zi=t,i=Ni=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],qi.push(i);for(n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else zo(e,t,r,n),Xi();t=t.child}return t;case 5:return Fi(t),null===e&&Vi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,Vr(r,a)?s=null:null!==i&&Vr(r,i)&&(t.flags|=16),Ho(e,t),zo(e,t,s,n),t.child;case 6:return null===e&&Vi(t),null;case 13:return Jo(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):zo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Zo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 7:return zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value;var u=t.type._context;if(fa(Ja,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=lr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===a.children&&!pa.current){t=is(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=li(-1,n&-n)).tag=2,fi(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ai(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}zo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ii(t,n),r=r(a=oi(a,i.unstable_observedBits)),t.flags|=1,zo(e,t,r,n),t.child;case 14:return i=Ka(a=t.type,t.pendingProps),Uo(e,t,a,i=Ka(a.type,i),r,n);case 15:return No(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,wa(t)):e=!1,ii(t,n),_i(t,r,a),wi(t,r,a,n),Wo(null,t,r,!0,e,n);case 19:return as(e,t,n);case 23:case 24:return Go(e,t,n)}throw Error(o(156,t.tag))},ac.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rc(e,n)}},at=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ia(r);if(!a)throw Error(o(90));K(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bu,Re=function(e,t,n,r,a){var i=Ls;Ls|=4;try{return Wa(98,e.bind(null,t,n,r,a))}finally{0===(Ls=i)&&(Xs(),qa())}},Fe=function(){0===(49&Ls)&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Ha())}))}qa()}(),Fu())},Ie=function(e,t){var n=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=n)&&(Xs(),qa())}};var uc={Events:[ra,aa,ia,Pe,Le,Fu,{current:!1}]},cc={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Aa=fc.inject(lc),Ma=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ls;if(0!==(48&n))return e(t);Ls|=1;try{if(e)return Wa(99,e.bind(null,t))}finally{Ls=n,qa()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4453:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1571)},936:function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},1614:function(e,t,n){(e=n.nmd(e)).exports=function(t){var r={},a=n(8105),i=n(4519),o=n(8514);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,l=60106,f=60107,d=60108,h=60114,p=60109,v=60110,m=60112,g=60113,y=60120,_=60115,b=60116,w=60121,x=60129,A=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;c=E("react.element"),l=E("react.portal"),f=E("react.fragment"),d=E("react.strict_mode"),h=E("react.profiler"),p=E("react.provider"),v=E("react.context"),m=E("react.forward_ref"),g=E("react.suspense"),y=E("react.suspense_list"),_=E("react.memo"),b=E("react.lazy"),w=E("react.block"),E("react.scope"),x=E("react.debug_trace_mode"),A=E("react.offscreen"),M=E("react.legacy_hidden")}var C="function"===typeof Symbol&&Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}function T(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case f:return"Fragment";case l:return"Portal";case h:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case v:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return T(e.type);case w:return T(e._render);case b:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function B(e){if(k(e)!==e)throw Error(s(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return B(a),e;if(i===r)return B(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function L(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function D(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var R,F=t.getPublicInstance,I=t.getRootHostContext,O=t.getChildHostContext,z=t.prepareForCommit,Z=t.resetAfterCommit,U=t.createInstance,N=t.appendInitialChild,G=t.finalizeInitialChildren,H=t.prepareUpdate,V=t.shouldSetTextContent,j=t.createTextInstance,W=t.scheduleTimeout,X=t.cancelTimeout,q=t.noTimeout,Y=t.isPrimaryRenderer,Q=t.supportsMutation,K=t.supportsPersistence,J=t.supportsHydration,$=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ae=t.preparePortalMount,ie=t.supportsTestSelectors,oe=t.findFiberRoot,se=t.getBoundingRect,ue=t.getTextContent,ce=t.isHiddenSubtree,le=t.matchAccessibilityRole,fe=t.setFocusIfFocusable,de=t.setupIntersectionObserver,he=t.appendChild,pe=t.appendChildToContainer,ve=t.commitTextUpdate,me=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,_e=t.insertInContainerBefore,be=t.removeChild,we=t.removeChildFromContainer,xe=t.resetTextContent,Ae=t.hideInstance,Me=t.hideTextInstance,Ee=t.unhideInstance,Ce=t.unhideTextInstance,Se=t.clearContainer,Te=t.cloneInstance,ke=t.createContainerChildSet,Be=t.appendChildToContainerChildSet,Pe=t.finalizeContainerChildren,Le=t.replaceContainerChildren,De=t.cloneHiddenInstance,Re=t.cloneHiddenTextInstance,Fe=t.canHydrateInstance,Ie=t.canHydrateTextInstance,Oe=t.isSuspenseInstancePending,ze=t.isSuspenseInstanceFallback,Ze=t.getNextHydratableSibling,Ue=t.getFirstHydratableChild,Ne=t.hydrateInstance,Ge=t.hydrateTextInstance,He=t.getNextHydratableInstanceAfterSuspenseInstance,Ve=t.commitHydratedContainer,je=t.commitHydratedSuspenseInstance;function We(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var Xe=!1;function qe(e,t){if(!e||Xe)return"";Xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{Xe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?We(e):""}var Ye=[],Qe=-1;function Ke(e){return{current:e}}function Je(e){0>Qe||(e.current=Ye[Qe],Ye[Qe]=null,Qe--)}function $e(e,t){Qe++,Ye[Qe]=e.current,e.current=t}var et={},tt=Ke(et),nt=Ke(!1),rt=et;function at(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function it(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ot(){Je(nt),Je(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));$e(tt,t),$e(nt,n)}function ut(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,T(t)||"Unknown",i));return a({},n,r)}function ct(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,$e(tt,e),$e(nt,nt.current),!0}function lt(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ut(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,Je(nt),Je(tt),$e(tt,e)):Je(nt),$e(nt,n)}var ft=null,dt=null;(0,o.unstable_now)();var ht=0,pt=8;function vt(e){if(0!==(1&e))return pt=15,1;if(0!==(2&e))return pt=14,2;if(0!==(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!==(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!==(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!==(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!==(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!==(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function mt(e,t){var n=e.pendingLanes;if(0===n)return pt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,a=pt=15;else if(0!==(i=134217727&n)){var u=i&~o;0!==u?(r=vt(u),a=pt):0!==(s&=i)&&(r=vt(s),a=pt)}else 0!==(i=n&~o)?(r=vt(i),a=pt):0!==s&&(r=vt(s),a=pt);if(0===r)return 0;if(r=n&((0>(r=31-xt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(vt(t),a<=pt)return t;pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-xt(t)),r|=e[n],t&=~a;return r}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_t(24&~t))?yt(10,t):e;case 10:return 0===(e=_t(192&~t))?yt(8,t):e;case 8:return 0===(e=_t(3584&~t))&&(0===(e=_t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_t(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function _t(e){return e&-e}function bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-xt(t)]=n}var xt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(At(e)/Mt|0)|0},At=Math.log,Mt=Math.LN2;var Et=o.unstable_runWithPriority,Ct=o.unstable_scheduleCallback,St=o.unstable_cancelCallback,Tt=o.unstable_shouldYield,kt=o.unstable_requestPaint,Bt=o.unstable_now,Pt=o.unstable_getCurrentPriorityLevel,Lt=o.unstable_ImmediatePriority,Dt=o.unstable_UserBlockingPriority,Rt=o.unstable_NormalPriority,Ft=o.unstable_LowPriority,It=o.unstable_IdlePriority,Ot={},zt=void 0!==kt?kt:function(){},Zt=null,Ut=null,Nt=!1,Gt=Bt(),Ht=1e4>Gt?Bt:function(){return Bt()-Gt};function Vt(){switch(Pt()){case Lt:return 99;case Dt:return 98;case Rt:return 97;case Ft:return 96;case It:return 95;default:throw Error(s(332))}}function jt(e){switch(e){case 99:return Lt;case 98:return Dt;case 97:return Rt;case 96:return Ft;case 95:return It;default:throw Error(s(332))}}function Wt(e,t){return e=jt(e),Et(e,t)}function Xt(e,t,n){return e=jt(e),Ct(e,t,n)}function qt(){if(null!==Ut){var e=Ut;Ut=null,St(e)}Yt()}function Yt(){if(!Nt&&null!==Zt){Nt=!0;var e=0;try{var t=Zt;Wt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Zt=null}catch(n){throw null!==Zt&&(Zt=Zt.slice(e+1)),Ct(Lt,qt),n}finally{Nt=!1}}}var Qt=u.ReactCurrentBatchConfig;var Kt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Jt=Object.prototype.hasOwnProperty;function $t(e,t){if(Kt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jt.call(t,n[r])||!Kt(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return We(e.type);case 16:return We("Lazy");case 13:return We("Suspense");case 19:return We("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 22:return e=qe(e.type._render,!1);case 1:return e=qe(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=Ke(null),rn=null,an=null,on=null;function sn(){on=an=rn=null}function un(e,t){e=e.type._context,Y?($e(nn,e._currentValue),e._currentValue=t):($e(nn,e._currentValue2),e._currentValue2=t)}function cn(e){var t=nn.current;Je(nn),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function ln(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function fn(e,t){rn=e,on=an=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Gr=!0),e.firstContext=null)}function dn(e,t){if(on!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(on=e,t=1073741823),t={context:e,observedBits:t,next:null},null===an){if(null===rn)throw Error(s(308));an=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else an=an.next=t;return Y?e._currentValue:e._currentValue2}var hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _n(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,s=0,f=l=c=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break e;d=a({},d,u);break e;case 2:hn=!0}}null!==o.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,fi|=s,e.lanes=s,e.memoizedState=d}}function bn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var wn=(new i.Component).refs;function xn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var An={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ii(),a=Oi(e),i=mn(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),zi(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ii(),a=Oi(e),i=mn(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),zi(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ii(),r=Oi(e),a=mn(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),gn(e,a),zi(e,r,n)}};function Mn(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(a,i))}function En(e,t,n){var r=!1,a=et,i=t.contextType;return"object"===typeof i&&null!==i?i=dn(i):(a=it(t)?rt:tt.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?at(e,a):et),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=An,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&An.enqueueReplaceState(t,t.state,null)}function Sn(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=wn,pn(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=dn(i):(i=it(t)?rt:tt.current,a.context=at(e,i)),_n(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(xn(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&An.enqueueReplaceState(a,a.state,null),_n(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var Tn=Array.isArray;function kn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Bn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Pn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mo(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=To(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=kn(e,t,n),r.return=e,r):((r=Eo(n.type,n.key,n.props,null,e.mode,r)).ref=kn(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ko(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Co(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=To(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return(n=Eo(t.type,t.key,t.props,null,e.mode,n)).ref=kn(e,null,t),n.return=e,n;case l:return(t=ko(t,e.mode,n)).return=e,t}if(Tn(t)||S(t))return(t=Co(t,e.mode,n,null)).return=e,t;Bn(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===a?n.type===f?p(e,t,n.props.children,r,a):d(e,t,n,r):null;case l:return n.key===a?h(e,t,n,r):null}if(Tn(n)||S(n))return null!==a?null:p(e,t,n,r,null);Bn(e,n)}return null}function g(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return e=e.get(null===r.key?n:r.key)||null,r.type===f?p(t,e,r.props.children,a,r.key):d(t,e,r,a);case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Tn(r)||S(r))return p(t,e=e.get(n)||null,r,a,null);Bn(t,r)}return null}function y(a,o,s,u){for(var c=null,l=null,f=o,d=o=0,h=null;null!==f&&d<s.length;d++){f.index>d?(h=f,f=null):h=f.sibling;var p=m(a,f,s[d],u);if(null===p){null===f&&(f=h);break}e&&f&&null===p.alternate&&t(a,f),o=i(p,o,d),null===l?c=p:l.sibling=p,l=p,f=h}if(d===s.length)return n(a,f),c;if(null===f){for(;d<s.length;d++)null!==(f=v(a,s[d],u))&&(o=i(f,o,d),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);d<s.length;d++)null!==(h=g(f,a,d,s[d],u))&&(e&&null!==h.alternate&&f.delete(null===h.key?d:h.key),o=i(h,o,d),null===l?c=h:l.sibling=h,l=h);return e&&f.forEach((function(e){return t(a,e)})),c}function _(a,o,u,c){var l=S(u);if("function"!==typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var f=l=null,d=o,h=o=0,p=null,y=u.next();null!==d&&!y.done;h++,y=u.next()){d.index>h?(p=d,d=null):p=d.sibling;var _=m(a,d,y.value,c);if(null===_){null===d&&(d=p);break}e&&d&&null===_.alternate&&t(a,d),o=i(_,o,h),null===f?l=_:f.sibling=_,f=_,d=p}if(y.done)return n(a,d),l;if(null===d){for(;!y.done;h++,y=u.next())null!==(y=v(a,y.value,c))&&(o=i(y,o,h),null===f?l=y:f.sibling=y,f=y);return l}for(d=r(a,d);!y.done;h++,y=u.next())null!==(y=g(d,a,h,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?h:y.key),o=i(y,o,h),null===f?l=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(a,e)})),l}return function(e,r,i,u){var d="object"===typeof i&&null!==i&&i.type===f&&null===i.key;d&&(i=i.props.children);var h="object"===typeof i&&null!==i;if(h)switch(i.$$typeof){case c:e:{for(h=i.key,d=r;null!==d;){if(d.key===h){if(7===d.tag){if(i.type===f){n(e,d.sibling),(r=a(d,i.props.children)).return=e,e=r;break e}}else if(d.elementType===i.type){n(e,d.sibling),(r=a(d,i.props)).ref=kn(e,d,i),r.return=e,e=r;break e}n(e,d);break}t(e,d),d=d.sibling}i.type===f?((r=Co(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Eo(i.type,i.key,i.props,null,e.mode,u)).ref=kn(e,r,i),u.return=e,e=u)}return o(e);case l:e:{for(d=i.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ko(i,e.mode,u)).return=e,e=r}return o(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=To(i,e.mode,u)).return=e,e=r),o(e);if(Tn(i))return y(e,r,i,u);if(S(i))return _(e,r,i,u);if(h&&Bn(e,i),"undefined"===typeof i&&!d)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,T(e.type)||"Component"))}return n(e,r)}}var Ln=Pn(!0),Dn=Pn(!1),Rn={},Fn=Ke(Rn),In=Ke(Rn),On=Ke(Rn);function zn(e){if(e===Rn)throw Error(s(174));return e}function Zn(e,t){$e(On,t),$e(In,e),$e(Fn,Rn),e=I(t),Je(Fn),$e(Fn,e)}function Un(){Je(Fn),Je(In),Je(On)}function Nn(e){var t=zn(On.current),n=zn(Fn.current);n!==(t=O(n,e.type,t))&&($e(In,e),$e(Fn,t))}function Gn(e){In.current===e&&(Je(Fn),Je(In))}var Hn=Ke(0);function Vn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Oe(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=null,Wn=null,Xn=!1;function qn(e,t){var n=xo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Fe(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Ie(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Qn(e){if(Xn){var t=Wn;if(t){var n=t;if(!Yn(e,t)){if(!(t=Ze(n))||!Yn(e,t))return e.flags=-1025&e.flags|2,Xn=!1,void(jn=e);qn(jn,n)}jn=e,Wn=Ue(t)}else e.flags=-1025&e.flags|2,Xn=!1,jn=e}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jn=e}function Jn(e){if(!J||e!==jn)return!1;if(!Xn)return Kn(e),Xn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!V(t,e.memoizedProps))for(t=Wn;t;)qn(e,t),t=Ze(t);if(Kn(e),13===e.tag){if(!J)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Wn=He(e)}else Wn=jn?Ze(e.stateNode):null;return!0}function $n(){J&&(Wn=jn=null,Xn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=u.ReactCurrentDispatcher,rr=u.ReactCurrentBatchConfig,ar=0,ir=null,or=null,sr=null,ur=!1,cr=!1;function lr(){throw Error(s(321))}function fr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function dr(e,t,n,r,a,i){if(ar=i,ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?zr:Zr,e=n(r,a),cr){i=0;do{if(cr=!1,!(25>i))throw Error(s(301));i+=1,sr=or=null,t.updateQueue=null,nr.current=Ur,e=n(r,a)}while(cr)}if(nr.current=Or,t=null!==or&&null!==or.next,ar=0,sr=or=ir=null,ur=!1,t)throw Error(s(300));return e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?ir.memoizedState=sr=e:sr=sr.next=e,sr}function pr(){if(null===or){var e=ir.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===sr?ir.memoizedState:sr.next;if(null!==t)sr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===sr?ir.memoizedState=sr=e:sr=sr.next=e}return sr}function vr(e,t){return"function"===typeof t?t(e):t}function mr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=or,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=o=i=null,c=a;do{var l=c.lane;if((ar&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(o=u=f,i=r):u=u.next=f,ir.lanes|=l,fi|=l}c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=o,Kt(r,t.memoizedState)||(Gr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Kt(i,t.memoizedState)||(Gr=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yr(e,t,n){var r=t._getVersion;r=r(t._source);var a=Y?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(ar&e)===e)&&(Y?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function _r(e,t,n,r){var a=ri;if(null===a)throw Error(s(349));var i=t._getVersion,o=i(t._source),u=nr.current,c=u.useState((function(){return yr(a,t,n)})),l=c[1],f=c[0];c=sr;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=ir;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!Kt(o,e)){e=n(t._source),Kt(f,e)||(l(e),e=Oi(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,s=e;0<s;){var u=31-xt(s),c=1<<u;r[u]|=e,s&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Oi(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),Kt(p,n)&&Kt(v,t)&&Kt(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:vr,lastRenderedState:f}).dispatch=l=Ir.bind(null,ir,e),c.queue=e,c.baseQueue=null,f=yr(a,t,n),c.memoizedState=c.baseState=f),f}function br(e,t,n){return _r(pr(),e,t,n)}function wr(e){var t=hr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e}).dispatch=Ir.bind(null,ir,e),[t.memoizedState,e]}function xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ir.updateQueue)?(t={lastEffect:null},ir.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ar(e){return e={current:e},hr().memoizedState=e}function Mr(){return pr().memoizedState}function Er(e,t,n,r){var a=hr();ir.flags|=e,a.memoizedState=xr(1|t,n,void 0,void 0===r?null:r)}function Cr(e,t,n,r){var a=pr();r=void 0===r?null:r;var i=void 0;if(null!==or){var o=or.memoizedState;if(i=o.destroy,null!==r&&fr(r,o.deps))return void xr(t,n,i,r)}ir.flags|=e,a.memoizedState=xr(1|t,n,i,r)}function Sr(e,t){return Er(516,4,e,t)}function Tr(e,t){return Cr(516,4,e,t)}function kr(e,t){return Cr(4,2,e,t)}function Br(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Cr(4,2,Br.bind(null,t,e),n)}function Lr(){}function Dr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fr(e,t){var n=Vt();Wt(98>n?98:n,(function(){e(!0)})),Wt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function Ir(e,t,n){var r=Ii(),a=Oi(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===ir||null!==o&&o===ir)cr=ur=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,Kt(u,s))return}catch(c){}zi(e,a,r)}}var Or={readContext:dn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useOpaqueIdentifier:lr,unstable_isNewReconciler:!1},zr={readContext:dn,useCallback:function(e,t){return hr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Sr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Er(4,2,Br.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Er(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ir.bind(null,ir,e),[r.memoizedState,e]},useRef:Ar,useState:wr,useDebugValue:Lr,useDeferredValue:function(e){var t=wr(e),n=t[0],r=t[1];return Sr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=wr(!1),t=e[0];return Ar(e=Fr.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=hr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},_r(r,e,t,n)},useOpaqueIdentifier:function(){if(Xn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=wr(t)[1];return 0===(2&ir.mode)&&(ir.flags|=516,xr(5,(function(){n(te())}),void 0,null)),t}return wr(t=te()),t},unstable_isNewReconciler:!1},Zr={readContext:dn,useCallback:Dr,useContext:dn,useEffect:Tr,useImperativeHandle:Pr,useLayoutEffect:kr,useMemo:Rr,useReducer:mr,useRef:Mr,useState:function(){return mr(vr)},useDebugValue:Lr,useDeferredValue:function(e){var t=mr(vr),n=t[0],r=t[1];return Tr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=mr(vr)[0];return[Mr().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return mr(vr)[0]},unstable_isNewReconciler:!1},Ur={readContext:dn,useCallback:Dr,useContext:dn,useEffect:Tr,useImperativeHandle:Pr,useLayoutEffect:kr,useMemo:Rr,useReducer:gr,useRef:Mr,useState:function(){return gr(vr)},useDebugValue:Lr,useDeferredValue:function(e){var t=gr(vr),n=t[0],r=t[1];return Tr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=gr(vr)[0];return[Mr().current,e]},useMutableSource:br,useOpaqueIdentifier:function(){return gr(vr)[0]},unstable_isNewReconciler:!1},Nr=u.ReactCurrentOwner,Gr=!1;function Hr(e,t,n,r){t.child=null===e?Dn(t,null,n,r):Ln(t,e.child,n,r)}function Vr(e,t,n,r,a){n=n.render;var i=t.ref;return fn(t,a),r=dr(e,t,n,r,i,a),null===e||Gr?(t.flags|=1,Hr(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,fa(e,t,a))}function jr(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Ao(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Eo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Wr(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:$t)(a,r)&&e.ref===t.ref)?fa(e,t,i):(t.flags|=1,(e=Mo(o,r)).ref=t.ref,e.return=t,t.child=e)}function Wr(e,t,n,r,a,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Gr=!1,0===(i&a))return t.lanes=e.lanes,fa(e,t,i);0!==(16384&e.flags)&&(Gr=!0)}return Yr(e,t,n,r,i)}function Xr(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Wi(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Wi(t,e),null;t.memoizedState={baseLanes:0},Wi(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Wi(t,r);return Hr(e,t,a,n),t.child}function qr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Yr(e,t,n,r,a){var i=it(n)?rt:tt.current;return i=at(t,i),fn(t,a),n=dr(e,t,n,r,i,a),null===e||Gr?(t.flags|=1,Hr(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,fa(e,t,a))}function Qr(e,t,n,r,a){if(it(n)){var i=!0;ct(t)}else i=!1;if(fn(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),En(t,n,r),Sn(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=dn(c):c=at(t,c=it(n)?rt:tt.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Cn(t,o,r,c),hn=!1;var d=t.memoizedState;o.state=d,_n(t,r,o,a),u=t.memoizedState,s!==r||d!==u||nt.current||hn?("function"===typeof l&&(xn(t,n,l,r),u=t.memoizedState),(s=hn||Mn(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:tn(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=dn(u):u=at(t,u=it(n)?rt:tt.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Cn(t,o,r,u),hn=!1,d=t.memoizedState,o.state=d,_n(t,r,o,a);var p=t.memoizedState;s!==f||d!==p||nt.current||hn?("function"===typeof h&&(xn(t,n,h,r),p=t.memoizedState),(c=hn||Mn(t,n,c,r,d,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Kr(e,t,n,r,i,a)}function Kr(e,t,n,r,a,i){qr(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&lt(t,n,!1),fa(e,t,i);r=t.stateNode,Nr.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ln(t,e.child,null,i),t.child=Ln(t,null,s,i)):Hr(e,t,s,i),t.memoizedState=r.state,a&&lt(t,n,!0),t.child}function Jr(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Zn(e,t.containerInfo)}var $r,ea,ta,na,ra={dehydrated:null,retryLane:0};function aa(e,t,n){var r,a=t.pendingProps,i=Hn.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),$e(Hn,1&i),null===e?(void 0!==a.fallback&&Qn(t),e=a.children,i=a.fallback,o?(e=ia(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ra,e):"number"===typeof a.unstable_expectedLoadTime?(e=ia(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ra,t.lanes=33554432,e):((n=So({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=sa(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=ra,a):(n=oa(e,t,a.children,n),t.memoizedState=null,n))}function ia(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=So(t,a,0,null),n=Co(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function oa(e,t,n,r){var a=e.child;return e=a.sibling,n=Mo(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function sa(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Mo(o,s),null!==e?r=Mo(e,r):(r=Co(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ua(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ln(e.return,t)}function ca(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function la(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Hr(e,t,r.children,n),0!==(2&(r=Hn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ua(e,n);else if(19===e.tag)ua(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Hn,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Vn(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ca(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Vn(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ca(t,!0,n,null,i,t.lastEffect);break;case"together":ca(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function fa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fi|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function da(e){e.flags|=4}if(Q)$r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)N(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ea=function(){},ta=function(e,t,n,r,a){if((e=e.memoizedProps)!==r){var i=t.stateNode,o=zn(Fn.current);n=H(i,n,e,r,a,o),(t.updateQueue=n)&&da(t)}},na=function(e,t,n,r){n!==r&&da(t)};else if(K){$r=function(e,t,n,r){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;n&&r&&(i=De(i,a.type,a.memoizedProps,a)),N(e,i)}else if(6===a.tag)i=a.stateNode,n&&r&&(i=Re(i,a.memoizedProps,a)),N(e,i);else if(4!==a.tag){if(13===a.tag&&0!==(4&a.flags)&&(i=null!==a.memoizedState)){var o=a.child;if(null!==o&&(null!==o.child&&(o.child.return=o,$r(e,o,!0,i)),null!==(i=o.sibling))){i.return=a,a=i;continue}}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var ha=function e(t,n,r,a){for(var i=n.child;null!==i;){if(5===i.tag){var o=i.stateNode;r&&a&&(o=De(o,i.type,i.memoizedProps,i)),Be(t,o)}else if(6===i.tag)o=i.stateNode,r&&a&&(o=Re(o,i.memoizedProps,i)),Be(t,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var s=i.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,o)),null!==(o=s.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ea=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=ke(n);ha(r,e,!1,!1),t.pendingChildren=r,da(e),Pe(n,r)}},ta=function(e,t,n,r,a){var i=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===r)t.stateNode=i;else{var s=t.stateNode,u=zn(Fn.current),c=null;o!==r&&(c=H(s,n,o,r,a,u)),e&&null===c?t.stateNode=i:(i=Te(i,c,n,o,r,t,e,s),G(i,n,r,a,u)&&da(t),t.stateNode=i,e?da(t):$r(i,t,!1,!1))}},na=function(e,t,n,r){n!==r?(e=zn(On.current),n=zn(Fn.current),t.stateNode=j(r,e,n,t),da(t)):t.stateNode=e.stateNode}}else ea=function(){},ta=function(){},na=function(){};function pa(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function va(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return it(t.type)&&ot(),null;case 3:return Un(),Je(nt),Je(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?da(t):r.hydrate||(t.flags|=256)),ea(t),null;case 5:Gn(t);var a=zn(On.current);if(n=t.type,null!==e&&null!=t.stateNode)ta(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=zn(Fn.current),Jn(t)){if(!J)throw Error(s(175));e=Ne(t.stateNode,t.type,t.memoizedProps,a,e,t),t.updateQueue=e,null!==e&&da(t)}else{var i=U(n,r,a,e,t);$r(i,t,!1,!1),t.stateNode=i,G(i,n,r,a,e)&&da(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=zn(On.current),a=zn(Fn.current),Jn(t)){if(!J)throw Error(s(176));Ge(t.stateNode,t.memoizedProps,t)&&da(t)}else t.stateNode=j(r,e,a,t)}return null;case 13:return Je(Hn),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,a=!1,null===e?void 0!==t.memoizedProps.fallback&&Jn(t):a=null!==e.memoizedState,r&&!a&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Hn.current)?0===ui&&(ui=3):(0!==ui&&3!==ui||(ui=4),null===ri||0===(134217727&fi)&&0===(134217727&di)||Gi(ri,ii))),K&&r&&(t.flags|=4),Q&&(r||a)&&(t.flags|=4),null);case 4:return Un(),ea(t),null===e&&ae(t.stateNode.containerInfo),null;case 10:return cn(t),null;case 19:if(Je(Hn),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(i=r.rendering))if(a)pa(r,!1);else{if(0!==ui||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(i=Vn(e))){for(t.flags|=64,pa(r,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(a=r).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(i=a.alternate)?(a.childLanes=0,a.lanes=n,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,n=i.dependencies,a.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return $e(Hn,1&Hn.current|2),t.child}e=e.sibling}null!==r.tail&&Ht()>mi&&(t.flags|=64,a=!0,pa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Vn(i))){if(t.flags|=64,a=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!Xn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-r.renderingStartTime>mi&&1073741824!==n&&(t.flags|=64,a=!0,pa(r,!1),t.lanes=33554432);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ht(),e.sibling=null,t=Hn.current,$e(Hn,a?1&t|2:1&t),e):null;case 23:case 24:return Xi(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ma(e){switch(e.tag){case 1:it(e.type)&&ot();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Un(),Je(nt),Je(tt),tr(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Gn(e),null;case 13:return Je(Hn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Je(Hn),null;case 4:return Un(),null;case 10:return cn(e),null;case 23:case 24:return Xi(),null;default:return null}}function ga(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var _a="function"===typeof WeakMap?WeakMap:Map;function ba(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bi||(bi=!0,wi=r),ya(0,t)},n}function wa(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ya(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===xi?xi=new Set([this]):xi.add(this),ya(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var xa="function"===typeof WeakSet?WeakSet:Set;function Aa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){lo(e,n)}else t.current=null}function Ma(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(Q&&256&t.flags&&Se(t.stateNode.containerInfo))}throw Error(s(163))}function Ea(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ca(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(so(n,e),oo(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&bn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=F(n.child.stateNode);break;case 1:e=n.child.stateNode}bn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&me(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(J&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&je(n)))))}throw Error(s(163))}function Sa(e,t){if(Q)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Ae(r):Ee(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?Me(r):Ce(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ta(e,t){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ft,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))so(t,n);else{r=t;try{a()}catch(i){lo(r,i)}}n=n.next}while(n!==e)}break;case 1:if(Aa(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){lo(t,i)}break;case 5:Aa(t);break;case 4:Q?Fa(e,t):K&&K&&(t=t.stateNode.containerInfo,e=ke(t),Le(t,e))}}function ka(e,t){for(var n=t;;)if(Ta(e,n),null===n.child||Q&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Ba(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Pa(e){return 5===e.tag||3===e.tag||4===e.tag}function La(e){if(Q){e:{for(var t=e.return;null!==t;){if(Pa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(xe(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Da(e,n,t):Ra(e,n,t)}}function Da(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?_e(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(Da(e,t,n),e=e.sibling;null!==e;)Da(e,t,n),e=e.sibling}function Ra(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Ra(e,t,n),e=e.sibling;null!==e;)Ra(e,t,n),e=e.sibling}function Fa(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(s(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag)ka(e,a),r?we(n,a.stateNode):be(n,a.stateNode);else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(Ta(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Ia(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ea(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&ge(n,i,a,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void ve(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(J&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ve(t.containerInfo))));case 13:return Oa(t),void za(t);case 19:return void za(t);case 23:case 24:return void Sa(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ea(3,t);case 12:case 23:case 24:return;case 13:return Oa(t),void za(t);case 19:return void za(t);case 3:J&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ve(n.containerInfo)))}e:if(K){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Le(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Oa(e){null!==e.memoizedState&&(vi=Ht(),Q&&Sa(e.child,!0))}function za(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xa),t.forEach((function(t){var r=ho.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Za(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ua=0,Na=1,Ga=2,Ha=3,Va=4;if("function"===typeof Symbol&&Symbol.for){var ja=Symbol.for;Ua=ja("selector.component"),Na=ja("selector.has_pseudo_class"),Ga=ja("selector.role"),Ha=ja("selector.test_id"),Va=ja("selector.text")}function Wa(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=oe(e)))throw Error(s(362));return e.stateNode.current}function Xa(e,t){switch(t.$$typeof){case Ua:if(e.type===t.value)return!0;break;case Na:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],a=e[n++],i=t[a];if(5!==r.tag||!ce(r)){for(;null!=i&&Xa(r,i);)i=t[++a];if(a===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}t=!1}return t;case Ga:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Va:if((5===e.tag||6===e.tag)&&(null!==(e=ue(e))&&0<=e.indexOf(t.value)))return!0;break;case Ha:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function qa(e){switch(e.$$typeof){case Ua:return"<"+(T(e.value)||"Unknown")+">";case Na:return":has("+(qa(e)||"")+")";case Ga:return'[role="'+e.value+'"]';case Va:return'"'+e.value+'"';case Ha:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Ya(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var a=e[r++],i=e[r++],o=t[i];if(5!==a.tag||!ce(a)){for(;null!=o&&Xa(a,o);)o=t[++i];if(i===t.length)n.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return n}function Qa(e,t){if(!ie)throw Error(s(363));e=Ya(e=Wa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ce(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ka=null;var Ja=Math.ceil,$a=u.ReactCurrentDispatcher,ei=u.ReactCurrentOwner,ti=u.IsSomeRendererActing,ni=0,ri=null,ai=null,ii=0,oi=0,si=Ke(0),ui=0,ci=null,li=0,fi=0,di=0,hi=0,pi=null,vi=0,mi=1/0;function gi(){mi=Ht()+500}var yi,_i=null,bi=!1,wi=null,xi=null,Ai=!1,Mi=null,Ei=90,Ci=[],Si=[],Ti=null,ki=0,Bi=null,Pi=-1,Li=0,Di=0,Ri=null,Fi=!1;function Ii(){return 0!==(48&ni)?Ht():-1!==Pi?Pi:Pi=Ht()}function Oi(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vt()?1:2;if(0===Li&&(Li=li),0!==Qt.transition){0!==Di&&(Di=null!==pi?pi.pendingLanes:0),e=Li;var t=4186112&~Di;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vt(),0!==(4&ni)&&98===e?e=yt(12,Li):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Li),e}function zi(e,t,n){if(50<ki)throw ki=0,Bi=null,Error(s(185));if(null===(e=Zi(e,t)))return null;wt(e,t,n),e===ri&&(di|=t,4===ui&&Gi(e,ii));var r=Vt();1===t?0!==(8&ni)&&0===(48&ni)?Hi(e):(Ui(e,n),0===ni&&(gi(),qt())):(0===(4&ni)||98!==r&&99!==r||(null===Ti?Ti=new Set([e]):Ti.add(e)),Ui(e,n)),pi=e}function Zi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ui(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-xt(o),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,vt(c);var f=pt;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);o&=~c}if(r=mt(e,e===ri?ii:0),t=pt,0===r)null!==n&&(n!==Ot&&St(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ot&&St(n)}15===t?(n=Hi.bind(null,e),null===Zt?(Zt=[n],Ut=Ct(Lt,Yt)):Zt.push(n),n=Ot):14===t?n=Xt(99,Hi.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Xt(n,Ni.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ni(e){if(Pi=-1,Di=Li=0,0!==(48&ni))throw Error(s(327));var t=e.callbackNode;if(io()&&e.callbackNode!==t)return null;var n=mt(e,e===ri?ii:0);if(0===n)return null;var r=n,a=ni;ni|=16;var i=Qi();for(ri===e&&ii===r||(gi(),qi(e,r));;)try{$i();break}catch(u){Yi(e,u)}if(sn(),$a.current=i,ni=a,null!==ai?r=0:(ri=null,ii=0,r=ui),0!==(li&di))qi(e,0);else if(0!==r){if(2===r&&(ni|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(n=gt(e))&&(r=Ki(e,n))),1===r)throw t=ci,qi(e,0),Gi(e,n),Ui(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:no(e);break;case 3:if(Gi(e,n),(62914560&n)===n&&10<(r=vi+500-Ht())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Ii(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=W(no.bind(null,e),r);break}no(e);break;case 4:if(Gi(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var o=31-xt(n);i=1<<o,(o=r[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=Ht()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ja(n/1960))-n)){e.timeoutHandle=W(no.bind(null,e),n);break}no(e);break;default:throw Error(s(329))}}return Ui(e,Ht()),e.callbackNode===t?Ni.bind(null,e):null}function Gi(e,t){for(t&=~hi,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Hi(e){if(0!==(48&ni))throw Error(s(327));if(io(),e===ri&&0!==(e.expiredLanes&ii)){var t=ii,n=Ki(e,t);0!==(li&di)&&(n=Ki(e,t=mt(e,t)))}else n=Ki(e,t=mt(e,0));if(0!==e.tag&&2===n&&(ni|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(t=gt(e))&&(n=Ki(e,t))),1===n)throw n=ci,qi(e,0),Gi(e,t),Ui(e,Ht()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e),Ui(e,Ht()),null}function Vi(e,t){var n=ni;ni|=1;try{return e(t)}finally{0===(ni=n)&&(gi(),qt())}}function ji(e,t){var n=ni;if(0!==(48&n))return e(t);ni|=1;try{if(e)return Wt(99,e.bind(null,t))}finally{ni=n,qt()}}function Wi(e,t){$e(si,oi),oi|=t,li|=t}function Xi(){oi=si.current,Je(si)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,X(n)),null!==ai)for(n=ai.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ot();break;case 3:Un(),Je(nt),Je(tt),tr();break;case 5:Gn(r);break;case 4:Un();break;case 13:case 19:Je(Hn);break;case 10:cn(r);break;case 23:case 24:Xi()}n=n.return}ri=e,ai=Mo(e.current,null),ii=oi=li=t,ui=0,ci=null,hi=di=fi=0}function Yi(e,t){for(;;){var n=ai;try{if(sn(),nr.current=Or,ur){for(var r=ir.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ur=!1}if(ar=0,sr=or=ir=null,cr=!1,ei.current=null,null===n||null===n.return){ui=1,ci=t,ai=null;break}e:{var i=e,o=n.return,s=n,u=t;if(t=ii,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Hn.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=mn(-1,1);y.tag=2,gn(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=i.pingCache;if(null===_?(_=i.pingCache=new _a,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=fo.bind(null,i,c,s);c.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((T(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ui&&(ui=2),u=ga(u,s),d=o;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,yn(d,ba(0,i,t));break e;case 1:i=u;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===xi||!xi.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,yn(d,wa(d,i,t));break e}}d=d.return}while(null!==d)}to(n)}catch(A){t=A,ai===n&&null!==n&&(ai=n=n.return);continue}break}}function Qi(){var e=$a.current;return $a.current=Or,null===e?Or:e}function Ki(e,t){var n=ni;ni|=16;var r=Qi();for(ri===e&&ii===t||qi(e,t);;)try{Ji();break}catch(a){Yi(e,a)}if(sn(),ni=n,$a.current=r,null!==ai)throw Error(s(261));return ri=null,ii=0,ui}function Ji(){for(;null!==ai;)eo(ai)}function $i(){for(;null!==ai&&!Tt();)eo(ai)}function eo(e){var t=yi(e.alternate,e,oi);e.memoizedProps=e.pendingProps,null===t?to(e):ai=t,ei.current=null}function to(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=va(n,t,oi)))return void(ai=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&oi)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ma(t)))return n.flags&=2047,void(ai=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ai=t);ai=t=e}while(null!==t);0===ui&&(ui=5)}function no(e){var t=Vt();return Wt(99,ro.bind(null,e,t)),null}function ro(e,t){do{io()}while(null!==Mi);if(0!==(48&ni))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var o=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-xt(i),l=1<<c;a[c]=0,o[c]=-1,u[c]=-1,i&=~l}if(null!==Ti&&0===(24&r)&&Ti.has(e)&&Ti.delete(e),e===ri&&(ai=ri=null,ii=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){a=ni,ni|=32,ei.current=null,Ri=z(e.containerInfo),Fi=!1,_i=r;do{try{ao()}catch(y){if(null===_i)throw Error(s(330));lo(_i,y),_i=_i.nextEffect}}while(null!==_i);Ri=null,_i=r;do{try{for(o=e;null!==_i;){var f=_i.flags;if(16&f&&Q&&xe(_i.stateNode),128&f){var d=_i.alternate;if(null!==d){var h=d.ref;null!==h&&("function"===typeof h?h(null):h.current=null)}}switch(1038&f){case 2:La(_i),_i.flags&=-3;break;case 6:La(_i),_i.flags&=-3,Ia(_i.alternate,_i);break;case 1024:_i.flags&=-1025;break;case 1028:_i.flags&=-1025,Ia(_i.alternate,_i);break;case 4:Ia(_i.alternate,_i);break;case 8:u=o,i=_i,Q?Fa(u,i):ka(u,i);var p=i.alternate;Ba(i),null!==p&&Ba(p)}_i=_i.nextEffect}}catch(y){if(null===_i)throw Error(s(330));lo(_i,y),_i=_i.nextEffect}}while(null!==_i);Fi&&re(),Z(e.containerInfo),e.current=n,_i=r;do{try{for(f=e;null!==_i;){var v=_i.flags;if(36&v&&Ca(f,_i.alternate,_i),128&v){d=void 0;var m=_i.ref;if(null!==m){var g=_i.stateNode;if(5===_i.tag)d=F(g);else d=g;"function"===typeof m?m(d):m.current=d}}_i=_i.nextEffect}}catch(y){if(null===_i)throw Error(s(330));lo(_i,y),_i=_i.nextEffect}}while(null!==_i);_i=null,zt(),ni=a}else e.current=n;if(Ai)Ai=!1,Mi=e,Ei=t;else for(_i=r;null!==_i;)t=_i.nextEffect,_i.nextEffect=null,8&_i.flags&&((v=_i).sibling=null,v.stateNode=null),_i=t;if(0===(r=e.pendingLanes)&&(xi=null),1===r?e===Bi?ki++:(ki=0,Bi=e):ki=0,n=n.stateNode,dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ft,n,void 0,64===(64&n.current.flags))}catch(y){}if(Ui(e,Ht()),bi)throw bi=!1,e=wi,wi=null,e;return 0!==(8&ni)||qt(),null}function ao(){for(;null!==_i;){var e=_i.alternate;Fi||null===Ri||(0!==(8&_i.flags)?D(_i,Ri)&&(Fi=!0,ne()):13===_i.tag&&Za(e,_i)&&D(_i,Ri)&&(Fi=!0,ne()));var t=_i.flags;0!==(256&t)&&Ma(e,_i),0===(512&t)||Ai||(Ai=!0,Xt(97,(function(){return io(),null}))),_i=_i.nextEffect}}function io(){if(90!==Ei){var e=97<Ei?97:Ei;return Ei=90,Wt(e,uo)}return!1}function oo(e,t){Ci.push(t,e),Ai||(Ai=!0,Xt(97,(function(){return io(),null})))}function so(e,t){Si.push(t,e),Ai||(Ai=!0,Xt(97,(function(){return io(),null})))}function uo(){if(null===Mi)return!1;var e=Mi;if(Mi=null,0!==(48&ni))throw Error(s(331));var t=ni;ni|=32;var n=Si;Si=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],o=a.destroy;if(a.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===i)throw Error(s(330));lo(i,c)}}for(n=Ci,Ci=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===i)throw Error(s(330));lo(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ni=t,qt(),!0}function co(e,t,n){gn(e,t=ba(0,t=ga(n,t),1)),t=Ii(),null!==(e=Zi(e,1))&&(wt(e,1,t),Ui(e,t))}function lo(e,t){if(3===e.tag)co(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){co(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===xi||!xi.has(r))){var a=wa(n,e=ga(t,e),1);if(gn(n,a),a=Ii(),null!==(n=Zi(n,1)))wt(n,1,a),Ui(n,a);else if("function"===typeof r.componentDidCatch&&(null===xi||!xi.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function fo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ii(),e.pingedLanes|=e.suspendedLanes&n,ri===e&&(ii&n)===n&&(4===ui||3===ui&&(62914560&ii)===ii&&500>Ht()-vi?qi(e,0):hi|=n),Ui(e,t)}function ho(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vt()?1:2:(0===Li&&(Li=li),0===(t=_t(62914560&~Li))&&(t=4194304))),n=Ii(),null!==(e=Zi(e,t))&&(wt(e,t,n),Ui(e,n))}yi=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Gr=!0;else{if(0===(n&r)){switch(Gr=!1,t.tag){case 3:Jr(t),$n();break;case 5:Nn(t);break;case 1:it(t.type)&&ct(t);break;case 4:Zn(t,t.stateNode.containerInfo);break;case 10:un(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?aa(e,t,n):($e(Hn,1&Hn.current),null!==(t=fa(e,t,n))?t.sibling:null);$e(Hn,1&Hn.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return la(e,t,n);t.flags|=64}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Hn,Hn.current),r)break;return null;case 23:case 24:return t.lanes=0,Xr(e,t,n)}return fa(e,t,n)}Gr=0!==(16384&e.flags)}else Gr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=at(t,tt.current),fn(t,n),a=dr(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)){var i=!0;ct(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,pn(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&xn(t,r,o,e),a.updater=An,t.stateNode=a,a._reactInternals=t,Sn(t,r,e,n),t=Kr(null,t,r,!0,i,n)}else t.tag=0,Hr(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Ao(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===_)return 14}return 2}(a),e=tn(a,e),i){case 0:t=Yr(null,t,a,e,n);break e;case 1:t=Qr(null,t,a,e,n);break e;case 11:t=Vr(null,t,a,e,n);break e;case 14:t=jr(null,t,a,tn(a.type,e),r,n);break e}throw Error(s(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Yr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 1:return r=t.type,a=t.pendingProps,Qr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 3:if(Jr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,vn(e,t),_n(t,r,null,n),(r=t.memoizedState.element)===a)$n(),t=fa(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(J?(Wn=Ue(t.stateNode.containerInfo),jn=t,i=Xn=!0):i=!1),i){if(J&&null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)i=e[a],o=e[a+1],Y?i._workInProgressVersionPrimary=o:i._workInProgressVersionSecondary=o,er.push(i);for(n=Dn(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Hr(e,t,r,n),$n();t=t.child}return t;case 5:return Nn(t),null===e&&Qn(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,V(r,a)?o=null:null!==i&&V(r,i)&&(t.flags|=16),qr(e,t),Hr(e,t,o,n),t.child;case 6:return null===e&&Qn(t),null;case 13:return aa(e,t,n);case 4:return Zn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ln(t,null,r,n):Hr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Vr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 7:return Hr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,un(t,i=a.value),null!==o){var u=o.value;if(0===(i=Kt(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(o.children===a.children&&!nt.current){t=fa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){o=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=mn(-1,n&-n)).tag=2,gn(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ln(u.return,n),c.lanes|=n;break}l=l.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}}Hr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,fn(t,n),r=r(a=dn(a,i.unstable_observedBits)),t.flags|=1,Hr(e,t,r,n),t.child;case 14:return i=tn(a=t.type,t.pendingProps),jr(e,t,a,i=tn(a.type,i),r,n);case 15:return Wr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:tn(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,it(r)?(e=!0,ct(t)):e=!1,fn(t,n),En(t,r,a),Sn(t,r,a,n),Kr(null,t,r,!0,e,n);case 19:return la(e,t,n);case 23:case 24:return Xr(e,t,n)}throw Error(s(156,t.tag))};var po={current:!1},vo=o.unstable_flushAllWithoutAsserting,mo="function"===typeof vo;function go(){if(void 0!==vo)return vo();for(var e=!1;io();)e=!0;return e}function yo(t){try{go(),function(t){if(null===Ka)try{var n=("require"+Math.random()).slice(0,7);Ka=(e&&e[n]).call(e,"timers").setImmediate}catch(r){Ka=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Ka(t)}((function(){go()?yo(t):t()}))}catch(n){t(n)}}var _o=0,bo=!1;function wo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(e,t,n,r){return new wo(e,t,n,r)}function Ao(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mo(e,t){var n=e.alternate;return null===n?((n=xo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Ao(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case f:return Co(n.children,a,i,t);case x:o=8,a|=16;break;case d:o=8,a|=1;break;case h:return(e=xo(12,n,t,8|a)).elementType=h,e.type=h,e.lanes=i,e;case g:return(e=xo(13,n,t,a)).type=g,e.elementType=g,e.lanes=i,e;case y:return(e=xo(19,n,t,a)).elementType=y,e.lanes=i,e;case A:return So(n,a,i,t);case M:return(e=xo(24,n,t,a)).elementType=M,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:o=10;break e;case v:o=9;break e;case m:o=11;break e;case _:o=14;break e;case b:o=16,r=null;break e;case w:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=xo(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Co(e,t,n,r){return(e=xo(7,e,r,t)).lanes=n,e}function So(e,t,n,r){return(e=xo(23,e,r,t)).elementType=A,e.lanes=n,e}function To(e,t,n){return(e=xo(6,e,null,t)).lanes=n,e}function ko(e,t,n){return(t=xo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bo(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=bt(0),this.expirationTimes=bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),J&&(this.mutableSourceEagerHydrationData=null)}function Po(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=L(t))?null:e.stateNode}function Lo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Do(e,t){Lo(e,t),(e=e.alternate)&&Lo(e,t)}function Ro(e){return null===(e=L(e))?null:e.stateNode}function Fo(){return null}return r.IsThisRendererActing=po,r.act=function(e){function t(){_o--,ti.current=n,po.current=r}!1===bo&&(bo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_o++;var n=ti.current,r=po.current;ti.current=!0,po.current=!0;try{var a=Vi(e)}catch(i){throw t(),i}if(null!==a&&"object"===typeof a&&"function"===typeof a.then)return{then:function(e,r){a.then((function(){1<_o||!0===mo&&!0===n?(t(),e()):yo((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==_o||!1!==mo&&!1!==n||go(),t()}catch(i){throw t(),i}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(zi(e,67108864,Ii()),Do(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Ii(),n=Oi(e);zi(e,n,t),Do(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=vt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Ui(t,Ht()),0===(48&ni)&&(gi(),qt())}break;case 13:var r=Ii();ji((function(){return zi(e,1,r)})),Do(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(zi(e,4,Ii()),Do(e,4))},r.batchedEventUpdates=function(e,t){var n=ni;ni|=2;try{return e(t)}finally{0===(ni=n)&&(gi(),qt())}},r.batchedUpdates=Vi,r.createComponentSelector=function(e){return{$$typeof:Ua,value:e}},r.createContainer=function(e,t,n){return e=new Bo(e,t,n),t=xo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Na,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Ga,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Ha,value:e}},r.createTextSelector=function(e){return{$$typeof:Va,value:e}},r.deferredUpdates=function(e){return Wt(97,e)},r.discreteUpdates=function(e,t,n,r,a){var i=ni;ni|=4;try{return Wt(98,e.bind(null,t,n,r,a))}finally{0===(ni=i)&&(gi(),qt())}},r.findAllNodes=Qa,r.findBoundingRects=function(e,t){if(!ie)throw Error(s(363));t=Qa(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,a=r+n.width,i=n.y,o=i+n.height,u=t-1;0<=u;u--)if(t!==u){var c=e[u],l=c.x,f=l+c.width,d=c.y,h=d+c.height;if(r>=l&&i>=d&&a<=f&&o<=h){e.splice(t,1);break}if(!(r!==l||n.width!==c.width||h<i||d>o)){d>i&&(c.height+=d-i,c.y=i),h<o&&(c.height=o-d),e.splice(t,1);break}if(!(i!==d||n.height!==c.height||f<r||l>a)){l>r&&(c.width+=l-r,c.x=r),f<a&&(c.width=a-l),e.splice(t,1);break}}return e},r.findHostInstance=Po,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Po(e)},r.flushControlled=function(e){var t=ni;ni|=1;try{Wt(99,e)}finally{0===(ni=t)&&(gi(),qt())}},r.flushDiscreteUpdates=function(){0===(49&ni)&&(function(){if(null!==Ti){var e=Ti;Ti=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ui(e,Ht())}))}qt()}(),io())},r.flushPassiveEffects=io,r.flushSync=ji,r.focusWithin=function(e,t){if(!ie)throw Error(s(363));for(t=Ya(e=Wa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ce(n)){if(5===n.tag&&fe(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ht},r.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(s(363));var n=0,r=[];e=[Wa(e),0];for(var a=0;a<e.length;){var i=e[a++],o=e[a++],u=t[o];if((5!==i.tag||!ce(i))&&(Xa(i,u)&&(r.push(qa(u)),++o>n&&(n=o)),o<t.length))for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(qa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?F(e.child.stateNode):e.child.stateNode:null},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Ro,findFiberByHostInstance:e.findFiberByHostInstance||Fo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ft=t.inject(e),dt=t}catch(n){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!ie)throw Error(s(363));e=Qa(e,t);var a=de(e,n,r).disconnect;return{disconnect:function(){a()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=ni;ni&=-2,ni|=8;try{return e(t)}finally{0===(ni=n)&&(gi(),qt())}},r.updateContainer=function(e,t,n,r){var a=t.current,i=Ii(),o=Oi(a);e:if(n){t:{if(k(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(it(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(it(c)){n=ut(n,c,u);break e}}n=u}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=mn(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(a,t),zi(a,o,i),o},r}},438:function(e,t,n){"use strict";e.exports=n(1614)},3238:function(e,t,n){"use strict";n(8105);var r=n(4519),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},3149:function(e,t,n){"use strict";var r=n(8105),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var _=y.prototype=new g;_.constructor=y,r(_,m.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:b.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case i:u=!0}}if(u)return o=o(u=e),e=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+C(s,c++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],a=0;return S(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var B={current:null};function P(){var e=B.current;if(null===e)throw Error(h(321));return e}var L={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},4519:function(e,t,n){"use strict";e.exports=n(3149)},2556:function(e,t,n){"use strict";e.exports=n(3238)},9780:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new T(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return B()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=y.prototype=m.prototype=Object.create(_);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(a,i,o,s){var u=l(e[a],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:B}}function B(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},A(M.prototype),u(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new M(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(x),u(x,s,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7154:function(e,t){"use strict";var n,r,a,i;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();_=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){h(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function A(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],s=i+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],S=[],T=1,k=null,B=3,P=!1,L=!1,D=!1;function R(e){for(var t=A(S);null!==t;){if(null===t.callback)M(S);else{if(!(t.startTime<=e))break;M(S),t.sortIndex=t.expirationTime,x(C,t)}t=A(S)}}function F(e){if(D=!1,R(e),!L)if(null!==A(C))L=!0,n(I);else{var t=A(S);null!==t&&r(F,t.startTime-e)}}function I(e,n){L=!1,D&&(D=!1,a()),P=!0;var i=B;try{for(R(n),k=A(C);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=k.callback;if("function"===typeof o){k.callback=null,B=k.priorityLevel;var s=o(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?k.callback=s:k===A(C)&&M(C),R(n)}else M(C);k=A(C)}if(null!==k)var u=!0;else{var c=A(S);null!==c&&r(F,c.startTime-n),u=!1}return u}finally{k=null,B=i,P=!1}}var O=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||P||(L=!0,n(I))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return A(C)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=O,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:i,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===A(C)&&e===A(S)&&(D?a():D=!0,r(F,o-s))):(e.sortIndex=u,x(C,e),L||P||(L=!0,n(I))),e},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},8514:function(e,t,n){"use strict";e.exports=n(7154)},4911:function(e,t,n){"use strict";n.r(t),n.d(t,{ACESFilmicToneMapping:function(){return ge},AddEquation:function(){return U},AddOperation:function(){return de},AdditiveAnimationBlendMode:function(){return un},AdditiveBlending:function(){return I},AlphaFormat:function(){return Ke},AlwaysDepth:function(){return re},AlwaysStencilFunc:function(){return Zn},AmbientLight:function(){return Yf},AmbientLightProbe:function(){return yd},AnimationClip:function(){return Yl},AnimationLoader:function(){return rf},AnimationMixer:function(){return Kd},AnimationObjectGroup:function(){return Yd},AnimationUtils:function(){return Il},ArcCurve:function(){return df},ArrayCamera:function(){return cu},ArrowHelper:function(){return Nh},Audio:function(){return kd},AudioAnalyser:function(){return Fd},AudioContext:function(){return vd},AudioListener:function(){return Td},AudioLoader:function(){return md},AxesHelper:function(){return Gh},AxisHelper:function(){return Np},BackSide:function(){return B},BasicDepthPacking:function(){return bn},BasicShadowMap:function(){return E},BinaryTextureLoader:function(){return Wp},Bone:function(){return qu},BooleanKeyframeTrack:function(){return Gl},BoundingBoxHelper:function(){return Gp},Box2:function(){return sh},Box3:function(){return Er},Box3Helper:function(){return zh},BoxBufferGeometry:function(){return Zi},BoxGeometry:function(){return Zi},BoxHelper:function(){return Oh},BufferAttribute:function(){return Ja},BufferGeometry:function(){return _i},BufferGeometryLoader:function(){return rd},ByteType:function(){return Ue},Cache:function(){return Kl},Camera:function(){return Vi},CameraHelper:function(){return Lh},CanvasRenderer:function(){return qp},CanvasTexture:function(){return Ac},CatmullRomCurve3:function(){return yf},CineonToneMapping:function(){return me},CircleBufferGeometry:function(){return Ec},CircleGeometry:function(){return Ec},ClampToEdgeWrapping:function(){return Se},Clock:function(){return xd},Color:function(){return qa},ColorKeyframeTrack:function(){return Hl},CompressedTexture:function(){return xc},CompressedTextureLoader:function(){return af},ConeBufferGeometry:function(){return Sc},ConeGeometry:function(){return Sc},CubeCamera:function(){return Xi},CubeReflectionMapping:function(){return be},CubeRefractionMapping:function(){return we},CubeTexture:function(){return qi},CubeTextureLoader:function(){return sf},CubeUVReflectionMapping:function(){return Me},CubeUVRefractionMapping:function(){return Ee},CubicBezierCurve:function(){return xf},CubicBezierCurve3:function(){return Af},CubicInterpolant:function(){return zl},CullFaceBack:function(){return x},CullFaceFront:function(){return A},CullFaceFrontBack:function(){return M},CullFaceNone:function(){return w},Curve:function(){return lf},CurvePath:function(){return Bf},CustomBlending:function(){return Z},CustomToneMapping:function(){return ye},CylinderBufferGeometry:function(){return Cc},CylinderGeometry:function(){return Cc},Cylindrical:function(){return ih},DataTexture:function(){return Qi},DataTexture2DArray:function(){return wo},DataTexture3D:function(){return xo},DataTextureLoader:function(){return uf},DataUtils:function(){return jh},DecrementStencilOp:function(){return Tn},DecrementWrapStencilOp:function(){return Bn},DefaultLoadingManager:function(){return $l},DepthFormat:function(){return rt},DepthStencilFormat:function(){return at},DepthTexture:function(){return Mc},DirectionalLight:function(){return qf},DirectionalLightHelper:function(){return kh},DiscreteInterpolant:function(){return Ul},DodecahedronBufferGeometry:function(){return kc},DodecahedronGeometry:function(){return kc},DoubleSide:function(){return P},DstAlphaFactor:function(){return K},DstColorFactor:function(){return $},DynamicBufferAttribute:function(){return Pp},DynamicCopyUsage:function(){return Xn},DynamicDrawUsage:function(){return Nn},DynamicReadUsage:function(){return Vn},EdgesGeometry:function(){return Rc},EdgesHelper:function(){return Hp},EllipseCurve:function(){return ff},EqualDepth:function(){return oe},EqualStencilFunc:function(){return Rn},EquirectangularReflectionMapping:function(){return xe},EquirectangularRefractionMapping:function(){return Ae},Euler:function(){return ca},EventDispatcher:function(){return Kn},ExtrudeBufferGeometry:function(){return cl},ExtrudeGeometry:function(){return cl},FaceColors:function(){return bp},FileLoader:function(){return nf},FlatShading:function(){return L},Float16BufferAttribute:function(){return oi},Float32Attribute:function(){return Zp},Float32BufferAttribute:function(){return si},Float64Attribute:function(){return Up},Float64BufferAttribute:function(){return ui},FloatType:function(){return je},Fog:function(){return yu},FogExp2:function(){return gu},Font:function(){return ld},FontLoader:function(){return pd},FrontSide:function(){return k},Frustum:function(){return $i},GLBufferAttribute:function(){return eh},GLSL1:function(){return Yn},GLSL3:function(){return Qn},GammaEncoding:function(){return pn},GreaterDepth:function(){return ue},GreaterEqualDepth:function(){return se},GreaterEqualStencilFunc:function(){return zn},GreaterStencilFunc:function(){return In},GridHelper:function(){return Mh},Group:function(){return lu},HalfFloatType:function(){return We},HemisphereLight:function(){return Rf},HemisphereLightHelper:function(){return Ah},HemisphereLightProbe:function(){return gd},IcosahedronBufferGeometry:function(){return fl},IcosahedronGeometry:function(){return fl},ImageBitmapLoader:function(){return ud},ImageLoader:function(){return of},ImageUtils:function(){return pr},ImmediateRenderObject:function(){return fh},IncrementStencilOp:function(){return Sn},IncrementWrapStencilOp:function(){return kn},InstancedBufferAttribute:function(){return nd},InstancedBufferGeometry:function(){return td},InstancedInterleavedBuffer:function(){return $d},InstancedMesh:function(){return nc},Int16Attribute:function(){return Fp},Int16BufferAttribute:function(){return ni},Int32Attribute:function(){return Op},Int32BufferAttribute:function(){return ai},Int8Attribute:function(){return Lp},Int8BufferAttribute:function(){return $a},IntType:function(){return He},InterleavedBuffer:function(){return bu},InterleavedBufferAttribute:function(){return xu},Interpolant:function(){return Ol},InterpolateDiscrete:function(){return en},InterpolateLinear:function(){return tn},InterpolateSmooth:function(){return nn},InvertStencilOp:function(){return Pn},JSONLoader:function(){return Yp},KeepStencilOp:function(){return En},KeyframeTrack:function(){return Nl},LOD:function(){return Nu},LatheBufferGeometry:function(){return dl},LatheGeometry:function(){return dl},Layers:function(){return la},LensFlare:function(){return Kp},LessDepth:function(){return ae},LessEqualDepth:function(){return ie},LessEqualStencilFunc:function(){return Fn},LessStencilFunc:function(){return Dn},Light:function(){return Df},LightProbe:function(){return Jf},Line:function(){return cc},Line3:function(){return lh},LineBasicMaterial:function(){return rc},LineCurve:function(){return Mf},LineCurve3:function(){return Ef},LineDashedMaterial:function(){return Rl},LineLoop:function(){return hc},LinePieces:function(){return yp},LineSegments:function(){return dc},LineStrip:function(){return gp},LinearEncoding:function(){return dn},LinearFilter:function(){return Re},LinearInterpolant:function(){return Zl},LinearMipMapLinearFilter:function(){return ze},LinearMipMapNearestFilter:function(){return Ie},LinearMipmapLinearFilter:function(){return Oe},LinearMipmapNearestFilter:function(){return Fe},LinearToneMapping:function(){return pe},Loader:function(){return ef},LoaderUtils:function(){return ed},LoadingManager:function(){return Jl},LogLuvEncoding:function(){return mn},LoopOnce:function(){return Kt},LoopPingPong:function(){return $t},LoopRepeat:function(){return Jt},LuminanceAlphaFormat:function(){return tt},LuminanceFormat:function(){return et},MOUSE:function(){return _},Material:function(){return Na},MaterialLoader:function(){return $f},Math:function(){return lr},MathUtils:function(){return lr},Matrix3:function(){return hr},Matrix4:function(){return $r},MaxEquation:function(){return V},Mesh:function(){return Oi},MeshBasicMaterial:function(){return Ya},MeshDepthMaterial:function(){return ru},MeshDistanceMaterial:function(){return au},MeshFaceMaterial:function(){return xp},MeshLambertMaterial:function(){return Ll},MeshMatcapMaterial:function(){return Dl},MeshNormalMaterial:function(){return Pl},MeshPhongMaterial:function(){return kl},MeshPhysicalMaterial:function(){return Tl},MeshStandardMaterial:function(){return Sl},MeshToonMaterial:function(){return Bl},MinEquation:function(){return H},MirroredRepeatWrapping:function(){return Te},MixOperation:function(){return fe},MultiMaterial:function(){return Ap},MultiplyBlending:function(){return z},MultiplyOperation:function(){return le},NearestFilter:function(){return ke},NearestMipMapLinearFilter:function(){return De},NearestMipMapNearestFilter:function(){return Pe},NearestMipmapLinearFilter:function(){return Le},NearestMipmapNearestFilter:function(){return Be},NeverDepth:function(){return ne},NeverStencilFunc:function(){return Ln},NoBlending:function(){return R},NoColors:function(){return _p},NoToneMapping:function(){return he},NormalAnimationBlendMode:function(){return sn},NormalBlending:function(){return F},NotEqualDepth:function(){return ce},NotEqualStencilFunc:function(){return On},NumberKeyframeTrack:function(){return Vl},Object3D:function(){return Ma},ObjectLoader:function(){return ad},ObjectSpaceNormalMap:function(){return An},OctahedronBufferGeometry:function(){return hl},OctahedronGeometry:function(){return hl},OneFactor:function(){return W},OneMinusDstAlphaFactor:function(){return J},OneMinusDstColorFactor:function(){return ee},OneMinusSrcAlphaFactor:function(){return Q},OneMinusSrcColorFactor:function(){return q},OrthographicCamera:function(){return Wf},PCFShadowMap:function(){return C},PCFSoftShadowMap:function(){return S},PMREMGenerator:function(){return lp},ParametricBufferGeometry:function(){return pl},ParametricGeometry:function(){return pl},Particle:function(){return Ep},ParticleBasicMaterial:function(){return Tp},ParticleSystem:function(){return Cp},ParticleSystemMaterial:function(){return kp},Path:function(){return Pf},PerspectiveCamera:function(){return ji},Plane:function(){return Ta},PlaneBufferGeometry:function(){return no},PlaneGeometry:function(){return no},PlaneHelper:function(){return Zh},PointCloud:function(){return Mp},PointCloudMaterial:function(){return Sp},PointLight:function(){return jf},PointLightHelper:function(){return _h},Points:function(){return _c},PointsMaterial:function(){return pc},PolarGridHelper:function(){return Eh},PolyhedronBufferGeometry:function(){return Tc},PolyhedronGeometry:function(){return Tc},PositionalAudio:function(){return Rd},PropertyBinding:function(){return qd},PropertyMixer:function(){return Id},QuadraticBezierCurve:function(){return Cf},QuadraticBezierCurve3:function(){return Sf},Quaternion:function(){return wr},QuaternionKeyframeTrack:function(){return Wl},QuaternionLinearInterpolant:function(){return jl},REVISION:function(){return y},RGBADepthPacking:function(){return wn},RGBAFormat:function(){return $e},RGBAIntegerFormat:function(){return lt},RGBA_ASTC_10x10_Format:function(){return Dt},RGBA_ASTC_10x5_Format:function(){return Bt},RGBA_ASTC_10x6_Format:function(){return Pt},RGBA_ASTC_10x8_Format:function(){return Lt},RGBA_ASTC_12x10_Format:function(){return Rt},RGBA_ASTC_12x12_Format:function(){return Ft},RGBA_ASTC_4x4_Format:function(){return xt},RGBA_ASTC_5x4_Format:function(){return At},RGBA_ASTC_5x5_Format:function(){return Mt},RGBA_ASTC_6x5_Format:function(){return Et},RGBA_ASTC_6x6_Format:function(){return Ct},RGBA_ASTC_8x5_Format:function(){return St},RGBA_ASTC_8x6_Format:function(){return Tt},RGBA_ASTC_8x8_Format:function(){return kt},RGBA_BPTC_Format:function(){return It},RGBA_ETC2_EAC_Format:function(){return wt},RGBA_PVRTC_2BPPV1_Format:function(){return yt},RGBA_PVRTC_4BPPV1_Format:function(){return gt},RGBA_S3TC_DXT1_Format:function(){return dt},RGBA_S3TC_DXT3_Format:function(){return ht},RGBA_S3TC_DXT5_Format:function(){return pt},RGBDEncoding:function(){return _n},RGBEEncoding:function(){return vn},RGBEFormat:function(){return nt},RGBFormat:function(){return Je},RGBIntegerFormat:function(){return ct},RGBM16Encoding:function(){return yn},RGBM7Encoding:function(){return gn},RGB_ETC1_Format:function(){return _t},RGB_ETC2_Format:function(){return bt},RGB_PVRTC_2BPPV1_Format:function(){return mt},RGB_PVRTC_4BPPV1_Format:function(){return vt},RGB_S3TC_DXT1_Format:function(){return ft},RGFormat:function(){return st},RGIntegerFormat:function(){return ut},RawShaderMaterial:function(){return Cl},Ray:function(){return Jr},Raycaster:function(){return th},RectAreaLight:function(){return Qf},RedFormat:function(){return it},RedIntegerFormat:function(){return ot},ReinhardToneMapping:function(){return ve},RepeatWrapping:function(){return Ce},ReplaceStencilOp:function(){return Cn},ReverseSubtractEquation:function(){return G},RingBufferGeometry:function(){return vl},RingGeometry:function(){return vl},SRGB8_ALPHA8_ASTC_10x10_Format:function(){return qt},SRGB8_ALPHA8_ASTC_10x5_Format:function(){return jt},SRGB8_ALPHA8_ASTC_10x6_Format:function(){return Wt},SRGB8_ALPHA8_ASTC_10x8_Format:function(){return Xt},SRGB8_ALPHA8_ASTC_12x10_Format:function(){return Yt},SRGB8_ALPHA8_ASTC_12x12_Format:function(){return Qt},SRGB8_ALPHA8_ASTC_4x4_Format:function(){return Ot},SRGB8_ALPHA8_ASTC_5x4_Format:function(){return zt},SRGB8_ALPHA8_ASTC_5x5_Format:function(){return Zt},SRGB8_ALPHA8_ASTC_6x5_Format:function(){return Ut},SRGB8_ALPHA8_ASTC_6x6_Format:function(){return Nt},SRGB8_ALPHA8_ASTC_8x5_Format:function(){return Gt},SRGB8_ALPHA8_ASTC_8x6_Format:function(){return Ht},SRGB8_ALPHA8_ASTC_8x8_Format:function(){return Vt},Scene:function(){return _u},SceneUtils:function(){return Qp},ShaderChunk:function(){return ro},ShaderLib:function(){return io},ShaderMaterial:function(){return Hi},ShadowMaterial:function(){return El},Shape:function(){return Lf},ShapeBufferGeometry:function(){return ml},ShapeGeometry:function(){return ml},ShapePath:function(){return cd},ShapeUtils:function(){return ol},ShortType:function(){return Ne},Skeleton:function(){return Ku},SkeletonHelper:function(){return gh},SkinnedMesh:function(){return Xu},SmoothShading:function(){return D},Sphere:function(){return Vr},SphereBufferGeometry:function(){return gl},SphereGeometry:function(){return gl},Spherical:function(){return ah},SphericalHarmonics3:function(){return Kf},SplineCurve:function(){return Tf},SpotLight:function(){return Uf},SpotLightHelper:function(){return hh},Sprite:function(){return Ou},SpriteMaterial:function(){return Mu},SrcAlphaFactor:function(){return Y},SrcAlphaSaturateFactor:function(){return te},SrcColorFactor:function(){return X},StaticCopyUsage:function(){return Wn},StaticDrawUsage:function(){return Un},StaticReadUsage:function(){return Hn},StereoCamera:function(){return wd},StreamCopyUsage:function(){return qn},StreamDrawUsage:function(){return Gn},StreamReadUsage:function(){return jn},StringKeyframeTrack:function(){return Xl},SubtractEquation:function(){return N},SubtractiveBlending:function(){return O},TOUCH:function(){return b},TangentSpaceNormalMap:function(){return xn},TetrahedronBufferGeometry:function(){return yl},TetrahedronGeometry:function(){return yl},TextBufferGeometry:function(){return _l},TextGeometry:function(){return _l},Texture:function(){return mr},TextureLoader:function(){return cf},TorusBufferGeometry:function(){return bl},TorusGeometry:function(){return bl},TorusKnotBufferGeometry:function(){return wl},TorusKnotGeometry:function(){return wl},Triangle:function(){return Za},TriangleFanDrawMode:function(){return fn},TriangleStripDrawMode:function(){return ln},TrianglesDrawMode:function(){return cn},TubeBufferGeometry:function(){return xl},TubeGeometry:function(){return xl},UVMapping:function(){return _e},Uint16Attribute:function(){return Ip},Uint16BufferAttribute:function(){return ri},Uint32Attribute:function(){return zp},Uint32BufferAttribute:function(){return ii},Uint8Attribute:function(){return Dp},Uint8BufferAttribute:function(){return ei},Uint8ClampedAttribute:function(){return Rp},Uint8ClampedBufferAttribute:function(){return ti},Uniform:function(){return Jd},UniformsLib:function(){return ao},UniformsUtils:function(){return Gi},UnsignedByteType:function(){return Ze},UnsignedInt248Type:function(){return Qe},UnsignedIntType:function(){return Ve},UnsignedShort4444Type:function(){return Xe},UnsignedShort5551Type:function(){return qe},UnsignedShort565Type:function(){return Ye},UnsignedShortType:function(){return Ge},VSMShadowMap:function(){return T},Vector2:function(){return fr},Vector3:function(){return xr},Vector4:function(){return yr},VectorKeyframeTrack:function(){return ql},Vertex:function(){return Bp},VertexColors:function(){return wp},VideoTexture:function(){return wc},WebGL1Renderer:function(){return mu},WebGLCubeRenderTarget:function(){return Yi},WebGLMultisampleRenderTarget:function(){return br},WebGLRenderTarget:function(){return _r},WebGLRenderTargetCube:function(){return Xp},WebGLRenderer:function(){return vu},WebGLUtils:function(){return uu},WireframeGeometry:function(){return Al},WireframeHelper:function(){return Vp},WrapAroundEnding:function(){return on},XHRLoader:function(){return jp},ZeroCurvatureEnding:function(){return rn},ZeroFactor:function(){return j},ZeroSlopeEnding:function(){return an},ZeroStencilOp:function(){return Mn},sRGBEncoding:function(){return hn}});for(var r,a=n(5861),i=n(7762),o=n(4942),s=n(9439),u=n(6215),c=n(1752),l=n(1120),f=n(7326),d=n(136),h=n(9388),p=n(5671),v=n(3144),m=n(7757),g=n.n(m),y="128",_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},b={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},w=0,x=1,A=2,M=3,E=0,C=1,S=2,T=3,k=0,B=1,P=2,L=1,D=2,R=0,F=1,I=2,O=3,z=4,Z=5,U=100,N=101,G=102,H=103,V=104,j=200,W=201,X=202,q=203,Y=204,Q=205,K=206,J=207,$=208,ee=209,te=210,ne=0,re=1,ae=2,ie=3,oe=4,se=5,ue=6,ce=7,le=0,fe=1,de=2,he=0,pe=1,ve=2,me=3,ge=4,ye=5,_e=300,be=301,we=302,xe=303,Ae=304,Me=306,Ee=307,Ce=1e3,Se=1001,Te=1002,ke=1003,Be=1004,Pe=1004,Le=1005,De=1005,Re=1006,Fe=1007,Ie=1007,Oe=1008,ze=1008,Ze=1009,Ue=1010,Ne=1011,Ge=1012,He=1013,Ve=1014,je=1015,We=1016,Xe=1017,qe=1018,Ye=1019,Qe=1020,Ke=1021,Je=1022,$e=1023,et=1024,tt=1025,nt=$e,rt=1026,at=1027,it=1028,ot=1029,st=1030,ut=1031,ct=1032,lt=1033,ft=33776,dt=33777,ht=33778,pt=33779,vt=35840,mt=35841,gt=35842,yt=35843,_t=36196,bt=37492,wt=37496,xt=37808,At=37809,Mt=37810,Et=37811,Ct=37812,St=37813,Tt=37814,kt=37815,Bt=37816,Pt=37817,Lt=37818,Dt=37819,Rt=37820,Ft=37821,It=36492,Ot=37840,zt=37841,Zt=37842,Ut=37843,Nt=37844,Gt=37845,Ht=37846,Vt=37847,jt=37848,Wt=37849,Xt=37850,qt=37851,Yt=37852,Qt=37853,Kt=2200,Jt=2201,$t=2202,en=2300,tn=2301,nn=2302,rn=2400,an=2401,on=2402,sn=2500,un=2501,cn=0,ln=1,fn=2,dn=3e3,hn=3001,pn=3007,vn=3002,mn=3003,gn=3004,yn=3005,_n=3006,bn=3200,wn=3201,xn=0,An=1,Mn=0,En=7680,Cn=7681,Sn=7682,Tn=7683,kn=34055,Bn=34056,Pn=5386,Ln=512,Dn=513,Rn=514,Fn=515,In=516,On=517,zn=518,Zn=519,Un=35044,Nn=35048,Gn=35040,Hn=35045,Vn=35049,jn=35041,Wn=35046,Xn=35050,qn=35042,Yn="100",Qn="300 es",Kn=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Jn=[],$n=0;$n<256;$n++)Jn[$n]=($n<16?"0":"")+$n.toString(16);var er=1234567,tr=Math.PI/180,nr=180/Math.PI;function rr(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Jn[255&e]+Jn[e>>8&255]+Jn[e>>16&255]+Jn[e>>24&255]+"-"+Jn[255&t]+Jn[t>>8&255]+"-"+Jn[t>>16&15|64]+Jn[t>>24&255]+"-"+Jn[63&n|128]+Jn[n>>8&255]+"-"+Jn[n>>16&255]+Jn[n>>24&255]+Jn[255&r]+Jn[r>>8&255]+Jn[r>>16&255]+Jn[r>>24&255]).toUpperCase()}function ar(e,t,n){return Math.max(t,Math.min(n,e))}function ir(e,t){return(e%t+t)%t}function or(e,t,n){return(1-n)*e+n*t}function sr(e){return 0===(e&e-1)&&0!==e}function ur(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function cr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var lr=Object.freeze({__proto__:null,DEG2RAD:tr,RAD2DEG:nr,generateUUID:rr,clamp:ar,euclideanModulo:ir,mapLinear:function(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:or,damp:function(e,t,n,r){return or(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(ir(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(er=e%2147483647),((er=16807*er%2147483647)-1)/2147483646},degToRad:function(e){return e*tr},radToDeg:function(e){return e*nr},isPowerOfTwo:sr,ceilPowerOfTwo:ur,floorPowerOfTwo:cr,setQuaternionFromProperEuler:function(e,t,n,r,a){var i=Math.cos,o=Math.sin,s=i(n/2),u=o(n/2),c=i((t+r)/2),l=o((t+r)/2),f=i((t-r)/2),d=o((t-r)/2),h=i((r-t)/2),p=o((r-t)/2);switch(a){case"XYX":e.set(s*l,u*f,u*d,s*c);break;case"YZY":e.set(u*d,s*l,u*f,s*c);break;case"ZXZ":e.set(u*f,u*d,s*l,s*c);break;case"XZX":e.set(s*l,u*p,u*h,s*c);break;case"YXY":e.set(u*h,s*l,u*p,s*c);break;case"ZYZ":e.set(u*p,u*h,s*l,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}}),fr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,e),this.x=t,this.y=n}return(0,v.Z)(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,i=this.y-e.y;return this.x=a*n-i*r+e.x,this.y=a*r+i*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}();fr.prototype.isVector2=!0;var dr,hr=function(){function e(){(0,p.Z)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=a,c[5]=s,c[6]=n,c[7]=i,c[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[3],s=n[6],u=n[1],c=n[4],l=n[7],f=n[2],d=n[5],h=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],_=r[7],b=r[2],w=r[5],x=r[8];return a[0]=i*p+o*g+s*b,a[3]=i*v+o*y+s*w,a[6]=i*m+o*_+s*x,a[1]=u*p+c*g+l*b,a[4]=u*v+c*y+l*w,a[7]=u*m+c*_+l*x,a[2]=f*p+d*g+h*b,a[5]=f*v+d*y+h*w,a[8]=f*m+d*_+h*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*i*c-t*o*u-n*a*c+n*o*s+r*a*u-r*i*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=c*i-o*u,f=o*s-c*a,d=u*a-i*s,h=t*l+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=l*p,e[1]=(r*u-c*n)*p,e[2]=(o*n-r*i)*p,e[3]=f*p,e[4]=(c*t-r*s)*p,e[5]=(r*a-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(i*t-n*a)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,a,i,o){var s=Math.cos(a),u=Math.sin(a);return this.set(n*s,n*u,-n*(s*i+u*o)+i+e,-r*u,r*s,-r*(-u*i+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,a=r[0],i=r[3],o=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*a+n*s,r[3]=t*i+n*u,r[6]=t*o+n*c,r[1]=-n*a+t*s,r[4]=-n*i+t*u,r[7]=-n*o+t*c,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();hr.prototype.isMatrix3=!0;var pr=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===dr&&(dr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),dr.width=e.width,dr.height=e.height;var n=dr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=dr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),vr=0,mr=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Se,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Re,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Oe,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$e,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ze,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:dn;return(0,p.Z)(this,n),e=t.call(this),Object.defineProperty((0,f.Z)(e),"id",{value:vr++}),e.uuid=rr(),e.name="",e.image=r,e.mipmaps=[],e.mapping=a,e.wrapS=i,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=l,e.offset=new fr(0,0),e.repeat=new fr(1,1),e.center=new fr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new hr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.version=0,e.onUpdate=null,e}return(0,v.Z)(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=rr()),!t&&void 0===e.images[r.uuid]){var a;if(Array.isArray(r)){a=[];for(var i=0,o=r.length;i<o;i++)r[i].isDataTexture?a.push(gr(r[i].image)):a.push(gr(r[i]))}else a=gr(r);e.images[r.uuid]={uuid:r.uuid,url:a}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==_e)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ce:e.x=e.x-Math.floor(e.x);break;case Se:e.x=e.x<0?0:1;break;case Te:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ce:e.y=e.y-Math.floor(e.y);break;case Se:e.y=e.y<0?0:1;break;case Te:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Kn);function gr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?pr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}mr.DEFAULT_IMAGE=void 0,mr.DEFAULT_MAPPING=_e,mr.prototype.isTexture=!0;var yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,e),this.x=t,this.y=n,this.z=r,this.w=a}return(0,v.Z)(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*a,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*a,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*a,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*a,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,a,i=.01,o=.1,s=e.elements,u=s[0],c=s[4],l=s[8],f=s[1],d=s[5],h=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(c-f)<i&&Math.abs(l-p)<i&&Math.abs(h-v)<i){if(Math.abs(c+f)<o&&Math.abs(l+p)<o&&Math.abs(h+v)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,_=(m+1)/2,b=(c+f)/4,w=(l+p)/4,x=(h+v)/4;return g>y&&g>_?g<i?(n=0,r=.707106781,a=.707106781):(r=b/(n=Math.sqrt(g)),a=w/n):y>_?y<i?(n=.707106781,r=0,a=.707106781):(n=b/(r=Math.sqrt(y)),a=x/r):_<i?(n=.707106781,r=.707106781,a=0):(n=w/(a=Math.sqrt(_)),r=x/a),this.set(n,r,a,t),this}var A=Math.sqrt((v-h)*(v-h)+(l-p)*(l-p)+(f-c)*(f-c));return Math.abs(A)<.001&&(A=1),this.x=(v-h)/A,this.y=(l-p)/A,this.z=(f-c)/A,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();yr.prototype.isVector4=!0;var _r=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,p.Z)(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new yr(0,0,e,r),i.scissorTest=!1,i.viewport=new yr(0,0,e,r),a=a||{},i.texture=new mr(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.image={},i.texture.image.width=e,i.texture.image.height=r,i.texture.image.depth=1,i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:Re,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i}return(0,v.Z)(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Kn);_r.prototype.isWebGLRenderTarget=!0;var br=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r,a)).samples=4,i}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(_r);br.prototype.isWebGLMultisampleRenderTarget=!0;var wr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,e),this._x=t,this._y=n,this._z=r,this._w=a}return(0,v.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,a=e._z,i=e._order,o=Math.cos,s=Math.sin,u=o(n/2),c=o(r/2),l=o(a/2),f=s(n/2),d=s(r/2),h=s(a/2);switch(i){case"XYZ":this._x=f*c*l+u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l-f*d*h;break;case"YXZ":this._x=f*c*l+u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l+f*d*h;break;case"ZXY":this._x=f*c*l-u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l-f*d*h;break;case"ZYX":this._x=f*c*l-u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l+f*d*h;break;case"YZX":this._x=f*c*l+u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l-f*d*h;break;case"XZY":this._x=f*c*l-u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],i=t[1],o=t[5],s=t[9],u=t[2],c=t[6],l=t[10],f=n+o+l;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(c-s)*d,this._y=(a-u)*d,this._z=(i-r)*d}else if(n>o&&n>l){var h=2*Math.sqrt(1+n-o-l);this._w=(c-s)/h,this._x=.25*h,this._y=(r+i)/h,this._z=(a+u)/h}else if(o>l){var p=2*Math.sqrt(1+o-n-l);this._w=(a-u)/p,this._x=(r+i)/p,this._y=.25*p,this._z=(s+c)/p}else{var v=2*Math.sqrt(1+l-n-o);this._w=(i-r)/v,this._x=(a+u)/v,this._y=(s+c)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(ar(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,a=e._z,i=e._w,o=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+i*o+r*u-a*s,this._y=r*c+i*s+a*o-n*u,this._z=a*c+i*u+n*s-r*o,this._w=i*c-n*o-r*s-a*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,a=this._z,i=this._w,o=i*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=n,this._y=r,this._z=a,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*i+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*a+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),l=Math.atan2(c,o),f=Math.sin((1-t)*l)/c,d=Math.sin(t*l)/c;return this._w=i*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=a*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,a,i,o){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],f=a[i+0],d=a[i+1],h=a[i+2],p=a[i+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=c,void(e[t+3]=l);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(l!==p||s!==f||u!==d||c!==h){var v=1-o,m=s*f+u*d+c*h+l*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,m*g);v=Math.sin(v*b)/_,o=Math.sin(o*b)/_}var w=o*g;if(s=s*v+f*w,u=u*v+d*w,c=c*v+h*w,l=l*v+p*w,v===1-o){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,a,i){var o=n[r],s=n[r+1],u=n[r+2],c=n[r+3],l=a[i],f=a[i+1],d=a[i+2],h=a[i+3];return e[t]=o*h+c*l+s*d-u*f,e[t+1]=s*h+c*f+u*l-o*d,e[t+2]=u*h+c*d+o*f-s*l,e[t+3]=c*h-o*l-s*f-u*d,e}}]),e}();wr.prototype.isQuaternion=!0;var xr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,p.Z)(this,e),this.x=t,this.y=n,this.z=r}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Mr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Mr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements,i=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*i,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*i,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*i,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,u=s*t+i*r-o*n,c=s*n+o*t-a*r,l=s*r+a*n-i*t,f=-a*t-i*n-o*r;return this.x=u*s+f*-a+c*-o-l*-i,this.y=c*s+f*-i+l*-a-u*-o,this.z=l*s+f*-o+u*-i-c*-a,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Ar.copy(this).projectOnVector(e),this.sub(Ar)}},{key:"reflect",value:function(e){return this.sub(Ar.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(ar(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}();xr.prototype.isVector3=!0;var Ar=new xr,Mr=new wr,Er=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr(-1/0,-1/0,-1/0);(0,p.Z)(this,e),this.min=t,this.max=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],f=e[s+2];c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>a&&(a=c),l>i&&(i=l),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),f=e.getZ(s);c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>a&&(a=c),l>i&&(i=l),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Sr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new xr),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new xr),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Tr.copy(t.boundingBox),Tr.applyMatrix4(e.matrixWorld),this.union(Tr));for(var n=e.children,r=0,a=n.length;r<a;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new xr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Sr),Sr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Fr),Ir.subVectors(this.max,Fr),kr.subVectors(e.a,Fr),Br.subVectors(e.b,Fr),Pr.subVectors(e.c,Fr),Lr.subVectors(Br,kr),Dr.subVectors(Pr,Br),Rr.subVectors(kr,Pr);var t=[0,-Lr.z,Lr.y,0,-Dr.z,Dr.y,0,-Rr.z,Rr.y,Lr.z,0,-Lr.x,Dr.z,0,-Dr.x,Rr.z,0,-Rr.x,-Lr.y,Lr.x,0,-Dr.y,Dr.x,0,-Rr.y,Rr.x,0];return!!Zr(t,kr,Br,Pr,Ir)&&(!!Zr(t=[1,0,0,0,1,0,0,0,1],kr,Br,Pr,Ir)&&(Or.crossVectors(Lr,Dr),Zr(t=[Or.x,Or.y,Or.z],kr,Br,Pr,Ir)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new xr),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Sr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Sr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Cr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Er.prototype.isBox3=!0;var Cr=[new xr,new xr,new xr,new xr,new xr,new xr,new xr,new xr],Sr=new xr,Tr=new Er,kr=new xr,Br=new xr,Pr=new xr,Lr=new xr,Dr=new xr,Rr=new xr,Fr=new xr,Ir=new xr,Or=new xr,zr=new xr;function Zr(e,t,n,r,a){for(var i=0,o=e.length-3;i<=o;i+=3){zr.fromArray(e,i);var s=a.x*Math.abs(zr.x)+a.y*Math.abs(zr.y)+a.z*Math.abs(zr.z),u=t.dot(zr),c=n.dot(zr),l=r.dot(zr);if(Math.max(-Math.max(u,c,l),Math.min(u,c,l))>s)return!1}return!0}var Ur=new Er,Nr=new xr,Gr=new xr,Hr=new xr,Vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,p.Z)(this,e),this.center=t,this.radius=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Ur.setFromPoints(e).getCenter(n);for(var r=0,a=0,i=e.length;a<i;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new xr),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Er),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Hr.subVectors(e,this.center);var t=Hr.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Hr.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return Gr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Nr.copy(e.center).add(Gr)),this.expandByPoint(Nr.copy(e.center).sub(Gr)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),jr=new xr,Wr=new xr,Xr=new xr,qr=new xr,Yr=new xr,Qr=new xr,Kr=new xr,Jr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr(0,0,-1);(0,p.Z)(this,e),this.origin=t,this.direction=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new xr),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,jr)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new xr),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=jr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(jr.copy(this.direction).multiplyScalar(t).add(this.origin),jr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Wr.copy(e).add(t).multiplyScalar(.5),Xr.copy(t).sub(e).normalize(),qr.copy(this.origin).sub(Wr);var a,i,o,s,u=.5*e.distanceTo(t),c=-this.direction.dot(Xr),l=qr.dot(this.direction),f=-qr.dot(Xr),d=qr.lengthSq(),h=Math.abs(1-c*c);if(h>0)if(i=c*l-f,s=u*h,(a=c*f-l)>=0)if(i>=-s)if(i<=s){var p=1/h;o=(a*=p)*(a+c*(i*=p)+2*l)+i*(c*a+i+2*f)+d}else i=u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;else i=-u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;else i<=-s?o=-(a=Math.max(0,-(-c*u+l)))*a+(i=a>0?-u:Math.min(Math.max(-u,-f),u))*(i+2*f)+d:i<=s?(a=0,o=(i=Math.min(Math.max(-u,-f),u))*(i+2*f)+d):o=-(a=Math.max(0,-(c*u+l)))*a+(i=a>0?u:Math.min(Math.max(-u,-f),u))*(i+2*f)+d;else i=c>0?-u:u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(a).add(this.origin),r&&r.copy(Xr).multiplyScalar(i).add(Wr),o}},{key:"intersectSphere",value:function(e,t){jr.subVectors(e.center,this.origin);var n=jr.dot(this.direction),r=jr.dot(jr)-n*n,a=e.radius*e.radius;if(r>a)return null;var i=Math.sqrt(a-r),o=n-i,s=n+i;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,a,i,o,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),c>=0?(a=(e.min.y-f.y)*c,i=(e.max.y-f.y)*c):(a=(e.max.y-f.y)*c,i=(e.min.y-f.y)*c),n>i||a>r?null:((a>n||n!==n)&&(n=a),(i<r||r!==r)&&(r=i),l>=0?(o=(e.min.z-f.z)*l,s=(e.max.z-f.z)*l):(o=(e.max.z-f.z)*l,s=(e.min.z-f.z)*l),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,jr)}},{key:"intersectTriangle",value:function(e,t,n,r,a){Yr.subVectors(t,e),Qr.subVectors(n,e),Kr.crossVectors(Yr,Qr);var i,o=this.direction.dot(Kr);if(o>0){if(r)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}qr.subVectors(this.origin,e);var s=i*this.direction.dot(Qr.crossVectors(qr,Qr));if(s<0)return null;var u=i*this.direction.dot(Yr.cross(qr));if(u<0)return null;if(s+u>o)return null;var c=-i*qr.dot(Kr);return c<0?null:this.at(c/o,a)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$r=function(){function e(){(0,p.Z)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,u,c,l,f,d,h,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=a,m[5]=i,m[9]=o,m[13]=s,m[2]=u,m[6]=c,m[10]=l,m[14]=f,m[3]=d,m[7]=h,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/ea.setFromMatrixColumn(e,0).length(),a=1/ea.setFromMatrixColumn(e,1).length(),i=1/ea.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,a=e.z,i=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(a),l=Math.sin(a);if("XYZ"===e.order){var f=i*c,d=i*l,h=o*c,p=o*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=d+h*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=h+d*u,t[10]=i*s}else if("YXZ"===e.order){var v=s*c,m=s*l,g=u*c,y=u*l;t[0]=v+y*o,t[4]=g*o-m,t[8]=i*u,t[1]=i*l,t[5]=i*c,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=i*s}else if("ZXY"===e.order){var _=s*c,b=s*l,w=u*c,x=u*l;t[0]=_-x*o,t[4]=-i*l,t[8]=w+b*o,t[1]=b+w*o,t[5]=i*c,t[9]=x-_*o,t[2]=-i*u,t[6]=o,t[10]=i*s}else if("ZYX"===e.order){var A=i*c,M=i*l,E=o*c,C=o*l;t[0]=s*c,t[4]=E*u-M,t[8]=A*u+C,t[1]=s*l,t[5]=C*u+A,t[9]=M*u-E,t[2]=-u,t[6]=o*s,t[10]=i*s}else if("YZX"===e.order){var S=i*s,T=i*u,k=o*s,B=o*u;t[0]=s*c,t[4]=B-S*l,t[8]=k*l+T,t[1]=l,t[5]=i*c,t[9]=-o*c,t[2]=-u*c,t[6]=T*l+k,t[10]=S-B*l}else if("XZY"===e.order){var P=i*s,L=i*u,D=o*s,R=o*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=P*l+R,t[5]=i*c,t[9]=L*l-D,t[2]=D*l-L,t[6]=o*c,t[10]=R*l+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(na,e,ra)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return oa.subVectors(e,t),0===oa.lengthSq()&&(oa.z=1),oa.normalize(),aa.crossVectors(n,oa),0===aa.lengthSq()&&(1===Math.abs(n.z)?oa.x+=1e-4:oa.z+=1e-4,oa.normalize(),aa.crossVectors(n,oa)),aa.normalize(),ia.crossVectors(oa,aa),r[0]=aa.x,r[4]=ia.x,r[8]=oa.x,r[1]=aa.y,r[5]=ia.y,r[9]=oa.y,r[2]=aa.z,r[6]=ia.z,r[10]=oa.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[4],s=n[8],u=n[12],c=n[1],l=n[5],f=n[9],d=n[13],h=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],x=r[4],A=r[8],M=r[12],E=r[1],C=r[5],S=r[9],T=r[13],k=r[2],B=r[6],P=r[10],L=r[14],D=r[3],R=r[7],F=r[11],I=r[15];return a[0]=i*w+o*E+s*k+u*D,a[4]=i*x+o*C+s*B+u*R,a[8]=i*A+o*S+s*P+u*F,a[12]=i*M+o*T+s*L+u*I,a[1]=c*w+l*E+f*k+d*D,a[5]=c*x+l*C+f*B+d*R,a[9]=c*A+l*S+f*P+d*F,a[13]=c*M+l*T+f*L+d*I,a[2]=h*w+p*E+v*k+m*D,a[6]=h*x+p*C+v*B+m*R,a[10]=h*A+p*S+v*P+m*F,a[14]=h*M+p*T+v*L+m*I,a[3]=g*w+y*E+_*k+b*D,a[7]=g*x+y*C+_*B+b*R,a[11]=g*A+y*S+_*P+b*F,a[15]=g*M+y*T+_*L+b*I,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],i=e[1],o=e[5],s=e[9],u=e[13],c=e[2],l=e[6],f=e[10],d=e[14];return e[3]*(+a*s*l-r*u*l-a*o*f+n*u*f+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*f+a*i*f-r*i*d+r*u*c-a*s*c)+e[11]*(+t*u*l-t*o*d-a*i*l+n*i*d+a*o*c-n*u*c)+e[15]*(-r*o*c-t*s*l+t*o*f+r*i*l-n*i*f+n*s*c)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],m=e[15],g=l*v*u-p*f*u+p*s*d-o*v*d-l*s*m+o*f*m,y=h*f*u-c*v*u-h*s*d+i*v*d+c*s*m-i*f*m,_=c*p*u-h*l*u+h*o*d-i*p*d-c*o*m+i*l*m,b=h*l*s-c*p*s-h*o*f+i*p*f+c*o*v-i*l*v,w=t*g+n*y+r*_+a*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/w;return e[0]=g*x,e[1]=(p*f*a-l*v*a-p*r*d+n*v*d+l*r*m-n*f*m)*x,e[2]=(o*v*a-p*s*a+p*r*u-n*v*u-o*r*m+n*s*m)*x,e[3]=(l*s*a-o*f*a-l*r*u+n*f*u+o*r*d-n*s*d)*x,e[4]=y*x,e[5]=(c*v*a-h*f*a+h*r*d-t*v*d-c*r*m+t*f*m)*x,e[6]=(h*s*a-i*v*a-h*r*u+t*v*u+i*r*m-t*s*m)*x,e[7]=(i*f*a-c*s*a+c*r*u-t*f*u-i*r*d+t*s*d)*x,e[8]=_*x,e[9]=(h*l*a-c*p*a-h*n*d+t*p*d+c*n*m-t*l*m)*x,e[10]=(i*p*a-h*o*a+h*n*u-t*p*u-i*n*m+t*o*m)*x,e[11]=(c*o*a-i*l*a-c*n*u+t*l*u+i*n*d-t*o*d)*x,e[12]=b*x,e[13]=(c*p*r-h*l*r+h*n*f-t*p*f-c*n*v+t*l*v)*x,e[14]=(h*o*r-i*p*r-h*n*s+t*p*s+i*n*v-t*o*v)*x,e[15]=(i*l*r-c*o*r+c*n*s-t*l*s-i*n*f+t*o*f)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=1-n,i=e.x,o=e.y,s=e.z,u=a*i,c=a*o;return this.set(u*i+n,u*o-r*s,u*s+r*o,0,u*o+r*s,c*o+n,c*s-r*i,0,u*s-r*o,c*s+r*i,a*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,a=t._x,i=t._y,o=t._z,s=t._w,u=a+a,c=i+i,l=o+o,f=a*u,d=a*c,h=a*l,p=i*c,v=i*l,m=o*l,g=s*u,y=s*c,_=s*l,b=n.x,w=n.y,x=n.z;return r[0]=(1-(p+m))*b,r[1]=(d+_)*b,r[2]=(h-y)*b,r[3]=0,r[4]=(d-_)*w,r[5]=(1-(f+m))*w,r[6]=(v+g)*w,r[7]=0,r[8]=(h+y)*x,r[9]=(v-g)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,a=ea.set(r[0],r[1],r[2]).length(),i=ea.set(r[4],r[5],r[6]).length(),o=ea.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ta.copy(this);var s=1/a,u=1/i,c=1/o;return ta.elements[0]*=s,ta.elements[1]*=s,ta.elements[2]*=s,ta.elements[4]*=u,ta.elements[5]*=u,ta.elements[6]*=u,ta.elements[8]*=c,ta.elements[9]*=c,ta.elements[10]*=c,t.setFromRotationMatrix(ta),n.x=a,n.y=i,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,a,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*a/(t-e),u=2*a/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),f=-(i+a)/(i-a),d=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=u,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,a,i){var o=this.elements,s=1/(t-e),u=1/(n-r),c=1/(i-a),l=(t+e)*s,f=(n+r)*u,d=(i+a)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();$r.prototype.isMatrix4=!0;var ea=new xr,ta=new $r,na=new xr(0,0,0),ra=new xr(1,1,1),aa=new xr,ia=new xr,oa=new xr,sa=new $r,ua=new wr,ca=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;(0,p.Z)(this,e),this._x=t,this._y=n,this._z=r,this._order=a}return(0,v.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var r=e.elements,a=r[0],i=r[4],o=r[8],s=r[1],u=r[5],c=r[9],l=r[2],f=r[6],d=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(ar(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-i,a)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ar(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-l,a),this._z=0);break;case"ZXY":this._x=Math.asin(ar(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-l,d),this._z=Math.atan2(-i,u)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-ar(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-i,u));break;case"YZX":this._z=Math.asin(ar(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-ar(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return sa.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sa,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return ua.setFromEuler(this),this.setFromQuaternion(ua,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new xr(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();ca.prototype.isEuler=!0,ca.DefaultOrder="XYZ",ca.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var la=function(){function e(){(0,p.Z)(this,e),this.mask=1}return(0,v.Z)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),fa=0,da=new xr,ha=new wr,pa=new $r,va=new xr,ma=new xr,ga=new xr,ya=new wr,_a=new xr(1,0,0),ba=new xr(0,1,0),wa=new xr(0,0,1),xa={type:"added"},Aa={type:"removed"},Ma=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,p.Z)(this,n),e=t.call(this),Object.defineProperty((0,f.Z)(e),"id",{value:fa++}),e.uuid=rr(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new xr,a=new ca,i=new wr,o=new xr(1,1,1);return a._onChange((function(){i.setFromEuler(a,!1)})),i._onChange((function(){a.setFromQuaternion(i,void 0,!1)})),Object.defineProperties((0,f.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new $r},normalMatrix:{value:new hr}}),e.matrix=new $r,e.matrixWorld=new $r,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new la,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,v.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return ha.setFromAxisAngle(e,t),this.quaternion.multiply(ha),this}},{key:"rotateOnWorldAxis",value:function(e,t){return ha.setFromAxisAngle(e,t),this.quaternion.premultiply(ha),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(_a,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(ba,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(wa,e)}},{key:"translateOnAxis",value:function(e,t){return da.copy(e).applyQuaternion(this.quaternion),this.position.add(da.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(_a,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(ba,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(wa,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(pa.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?va.copy(e):va.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ma.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pa.lookAt(ma,va,this.up):pa.lookAt(va,ma,this.up),this.quaternion.setFromRotationMatrix(pa),r&&(pa.extractRotation(r.matrixWorld),ha.setFromRotationMatrix(pa),this.quaternion.premultiply(ha.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xa)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Aa)),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Aa)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),pa.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),pa.multiply(e.parent.matrixWorld)),e.applyMatrix4(pa),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n].getObjectByProperty(e,t);if(void 0!==a)return a}}},{key:"getWorldPosition",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new xr),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new wr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ma,e,ga),e}},{key:"getWorldScale",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new xr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ma,ya,e),e}},{key:"getWorldDirection",value:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new xr),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,a=0,i=r.length;a<i;a++)r[a].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function a(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);var i=this.geometry.parameters;if(void 0!==i&&void 0!==i.shapes){var o=i.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var c=o[s];a(e.shapes,c)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],f=0,d=this.material.length;f<d;f++)l.push(a(e.materials,this.material[f]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(a(e.animations,v))}}if(t){var m=A(e.geometries),g=A(e.materials),y=A(e.textures),_=A(e.images),b=A(e.shapes),w=A(e.skeletons),x=A(e.animations);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),_.length>0&&(n.images=_),b.length>0&&(n.shapes=b),w.length>0&&(n.skeletons=w),x.length>0&&(n.animations=x)}return n.object=r,n;function A(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Kn);Ma.DefaultUp=new xr(0,1,0),Ma.DefaultMatrixAutoUpdate=!0,Ma.prototype.isObject3D=!0;var Ea=new xr,Ca=new xr,Sa=new hr,Ta=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,e),this.normal=t,this.constant=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Ea.subVectors(n,t).cross(Ca.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new xr),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new xr);var n=e.delta(Ea),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new xr),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Sa.getNormalMatrix(e),r=this.coplanarPoint(Ea).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Ta.prototype.isPlane=!0;var ka=new xr,Ba=new xr,Pa=new xr,La=new xr,Da=new xr,Ra=new xr,Fa=new xr,Ia=new xr,Oa=new xr,za=new xr,Za=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xr;(0,p.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return ka.subVectors(this.c,this.b),Ba.subVectors(this.a,this.b),.5*ka.cross(Ba).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new xr),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ta),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,a,i){return e.getUV(t,this.a,this.b,this.c,n,r,a,i)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new xr);var n,r,a=this.a,i=this.b,o=this.c;Da.subVectors(i,a),Ra.subVectors(o,a),Ia.subVectors(e,a);var s=Da.dot(Ia),u=Ra.dot(Ia);if(s<=0&&u<=0)return t.copy(a);Oa.subVectors(e,i);var c=Da.dot(Oa),l=Ra.dot(Oa);if(c>=0&&l<=c)return t.copy(i);var f=s*l-c*u;if(f<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(a).addScaledVector(Da,n);za.subVectors(e,o);var d=Da.dot(za),h=Ra.dot(za);if(h>=0&&d<=h)return t.copy(o);var p=d*u-s*h;if(p<=0&&u>=0&&h<=0)return r=u/(u-h),t.copy(a).addScaledVector(Ra,r);var v=c*h-d*l;if(v<=0&&l-c>=0&&d-h>=0)return Fa.subVectors(o,i),r=(l-c)/(l-c+(d-h)),t.copy(i).addScaledVector(Fa,r);var m=1/(v+p+f);return n=p*m,r=f*m,t.copy(a).addScaledVector(Da,n).addScaledVector(Ra,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new xr),r.subVectors(n,t),ka.subVectors(e,t),r.cross(ka);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,a){ka.subVectors(r,t),Ba.subVectors(n,t),Pa.subVectors(e,t);var i=ka.dot(ka),o=ka.dot(Ba),s=ka.dot(Pa),u=Ba.dot(Ba),c=Ba.dot(Pa),l=i*u-o*o;if(void 0===a&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),a=new xr),0===l)return a.set(-2,-1,-1);var f=1/l,d=(u*s-o*c)*f,h=(i*c-o*s)*f;return a.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,La),La.x>=0&&La.y>=0&&La.x+La.y<=1}},{key:"getUV",value:function(e,t,n,r,a,i,o,s){return this.getBarycoord(e,t,n,r,La),s.set(0,0),s.addScaledVector(a,La.x),s.addScaledVector(i,La.y),s.addScaledVector(o,La.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return ka.subVectors(n,t),Ba.subVectors(e,t),ka.cross(Ba).dot(r)<0}}]),e}(),Ua=0;function Na(){Object.defineProperty(this,"id",{value:Ua++}),this.uuid=rr(),this.name="",this.type="Material",this.fog=!0,this.blending=F,this.side=k,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Y,this.blendDst=Q,this.blendEquation=U,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ie,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Zn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=En,this.stencilZFail=En,this.stencilZPass=En,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Na.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Na,isMaterial:!0,onBuild:function(){},onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===L;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==F&&(n.blending=this.blending),this.side!==k&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var a=r(e.textures),i=r(e.images);a.length>0&&(n.textures=a),i.length>0&&(n.images=i)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Na.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var Ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ha={h:0,s:0,l:0},Va={h:0,s:0,l:0};function ja(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Wa(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Xa(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var qa=function(){function e(t,n,r){return(0,p.Z)(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return(0,v.Z)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=ir(e,1),t=ar(t,0,1),n=ar(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=ja(a,r,e+1/3),this.g=ja(a,r,e),this.b=ja(a,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,a=n[1],i=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Ga[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Wa(e.r),this.g=Wa(e.g),this.b=Wa(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Xa(e.r),this.g=Xa(e.g),this.b=Xa(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,a=this.g,i=this.b,o=Math.max(r,a,i),s=Math.min(r,a,i),u=(s+o)/2;if(s===o)t=0,n=0;else{var c=o-s;switch(n=u<=.5?c/(o+s):c/(2-o-s),o){case r:t=(a-i)/c+(a<i?6:0);break;case a:t=(i-r)/c+2;break;case i:t=(r-a)/c+4}t/=6}return e.h=t,e.s=n,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Ha),Ha.h+=e,Ha.s+=t,Ha.l+=n,this.setHSL(Ha.h,Ha.s,Ha.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Ha),e.getHSL(Va);var n=or(Ha.h,Va.h,t),r=or(Ha.s,Va.s,t),a=or(Ha.l,Va.l,t);return this.setHSL(n,r,a),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();qa.NAMES=Ga,qa.prototype.isColor=!0,qa.prototype.r=1,qa.prototype.g=1,qa.prototype.b=1;var Ya=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new qa(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=le,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.skinning=!1,r.morphTargets=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}]),n}(Na);Ya.prototype.isMeshBasicMaterial=!0;var Qa=new xr,Ka=new fr,Ja=function(){function e(t,n,r){if((0,p.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Un,this.updateRange={offset:0,count:-1},this.version=0,this.onUploadCallback=function(){}}return(0,v.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new qa),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new fr),t[n++]=i.x,t[n++]=i.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new xr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new yr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix3(e),this.setXY(t,Ka.x,Ka.y);else if(3===this.itemSize)for(var r=0,a=this.count;r<a;r++)Qa.fromBufferAttribute(this,r),Qa.applyMatrix3(e),this.setXYZ(r,Qa.x,Qa.y,Qa.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.applyMatrix4(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.applyNormalMatrix(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.transformDirection(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Un&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();Ja.prototype.isBufferAttribute=!0;var $a=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Int8Array(e),r,a)}return(0,v.Z)(n)}(Ja),ei=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Uint8Array(e),r,a)}return(0,v.Z)(n)}(Ja),ti=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Uint8ClampedArray(e),r,a)}return(0,v.Z)(n)}(Ja),ni=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Int16Array(e),r,a)}return(0,v.Z)(n)}(Ja),ri=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Uint16Array(e),r,a)}return(0,v.Z)(n)}(Ja),ai=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Int32Array(e),r,a)}return(0,v.Z)(n)}(Ja),ii=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Uint32Array(e),r,a)}return(0,v.Z)(n)}(Ja),oi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Uint16Array(e),r,a)}return(0,v.Z)(n)}(Ja);oi.prototype.isFloat16BufferAttribute=!0;var si=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Float32Array(e),r,a)}return(0,v.Z)(n)}(Ja),ui=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){return(0,p.Z)(this,n),t.call(this,new Float64Array(e),r,a)}return(0,v.Z)(n)}(Ja);function ci(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var li={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fi(e,t){return new li[e](t)}var di=0,hi=new $r,pi=new Ma,vi=new xr,mi=new Er,gi=new Er,yi=new xr,_i=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),e=t.call(this),Object.defineProperty((0,f.Z)(e),"id",{value:di++}),e.uuid=rr(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,v.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(ci(e)>65535?ii:ri)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new hr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(e),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"rotateX",value:function(e){return hi.makeRotationX(e),this.applyMatrix4(hi),this}},{key:"rotateY",value:function(e){return hi.makeRotationY(e),this.applyMatrix4(hi),this}},{key:"rotateZ",value:function(e){return hi.makeRotationZ(e),this.applyMatrix4(hi),this}},{key:"translate",value:function(e,t,n){return hi.makeTranslation(e,t,n),this.applyMatrix4(hi),this}},{key:"scale",value:function(e,t,n){return hi.makeScale(e,t,n),this.applyMatrix4(hi),this}},{key:"lookAt",value:function(e){return pi.lookAt(e),pi.updateMatrix(),this.applyMatrix4(pi.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(vi).negate(),this.translate(vi.x,vi.y,vi.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new si(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Er);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new xr(-1/0,-1/0,-1/0),new xr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var a=t[n];mi.setFromBufferAttribute(a),this.morphTargetsRelative?(yi.addVectors(this.boundingBox.min,mi.min),this.boundingBox.expandByPoint(yi),yi.addVectors(this.boundingBox.max,mi.max),this.boundingBox.expandByPoint(yi)):(this.boundingBox.expandByPoint(mi.min),this.boundingBox.expandByPoint(mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Vr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new xr,1/0);if(e){var n=this.boundingSphere.center;if(mi.setFromBufferAttribute(e),t)for(var r=0,a=t.length;r<a;r++){var i=t[r];gi.setFromBufferAttribute(i),this.morphTargetsRelative?(yi.addVectors(mi.min,gi.min),mi.expandByPoint(yi),yi.addVectors(mi.max,gi.max),mi.expandByPoint(yi)):(mi.expandByPoint(gi.min),mi.expandByPoint(gi.max))}mi.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)yi.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(yi));if(t)for(var c=0,l=t.length;c<l;c++)for(var f=t[c],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)yi.fromBufferAttribute(f,h),d&&(vi.fromBufferAttribute(e,h),yi.add(vi)),o=Math.max(o,n.distanceToSquared(yi));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeFaceNormals",value:function(){}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,a=t.normal.array,i=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Ja(new Float32Array(4*o),4));for(var s=t.tangent.array,u=[],c=[],l=0;l<o;l++)u[l]=new xr,c[l]=new xr;var f=new xr,d=new xr,h=new xr,p=new fr,v=new fr,m=new fr,g=new xr,y=new xr,_=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(var b=0,w=_.length;b<w;++b)for(var x=_[b],A=x.start,M=A,E=A+x.count;M<E;M+=3)I(n[M+0],n[M+1],n[M+2]);for(var C=new xr,S=new xr,T=new xr,k=new xr,B=0,P=_.length;B<P;++B)for(var L=_[B],D=L.start,R=D,F=D+L.count;R<F;R+=3)O(n[R+0]),O(n[R+1]),O(n[R+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(i,2*e),v.fromArray(i,2*t),m.fromArray(i,2*n),d.sub(f),h.sub(f),v.sub(p),m.sub(p);var a=1/(v.x*m.y-m.x*v.y);isFinite(a)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-v.y).multiplyScalar(a),y.copy(h).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(a),u[e].add(g),u[t].add(g),u[n].add(g),c[e].add(y),c[t].add(y),c[n].add(y))}function O(e){T.fromArray(a,3*e),k.copy(T);var t=u[e];C.copy(t),C.sub(T.multiplyScalar(T.dot(t))).normalize(),S.crossVectors(k,t);var n=S.dot(c[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Ja(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,a=n.count;r<a;r++)n.setXYZ(r,0,0,0);var i=new xr,o=new xr,s=new xr,u=new xr,c=new xr,l=new xr,f=new xr,d=new xr;if(e)for(var h=0,p=e.count;h<p;h+=3){var v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);i.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),f.subVectors(s,o),d.subVectors(i,o),f.cross(d),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),l.fromBufferAttribute(n,g),u.add(f),c.add(f),l.add(f),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,c.x,c.y,c.z),n.setXYZ(g,l.x,l.y,l.z)}else for(var y=0,_=t.count;y<_;y+=3)i.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,o),d.subVectors(i,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var a=n[r].array,i=e.attributes[r],o=i.array,s=i.itemSize*t,u=Math.min(o.length,a.length-s),c=0,l=s;c<u;c++,l++)a[l]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)yi.fromBufferAttribute(e,t),yi.normalize(),e.setXYZ(t,yi.x,yi.y,yi.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,a=e.normalized,i=new n.constructor(t.length*r),o=0,s=0,u=0,c=t.length;u<c;u++){o=t[u]*r;for(var l=0;l<r;l++)i[s++]=n[o++]}return new Ja(i,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,a=this.attributes;for(var i in a){var o=e(a[i],r);t.setAttribute(i,o)}var s=this.morphAttributes;for(var u in s){for(var c=[],l=s[u],f=0,d=l.length;f<d;f++){var h=e(l[f],r);c.push(h)}t.morphAttributes[u]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(var i in a){var o=a[i];e.data.attributes[i]=o.toJSON(e.data)}var s={},u=!1;for(var c in this.morphAttributes){for(var l=this.morphAttributes[c],f=[],d=0,h=l.length;d<h;d++){var p=l[d];f.push(p.toJSON(e.data))}f.length>0&&(s[c]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var a in r){var i=r[a];this.setAttribute(a,i.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],c=o[s],l=0,f=c.length;l<f;l++)u.push(c[l].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var v=d[h];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Kn);_i.prototype.isBufferGeometry=!0;var bi=new $r,wi=new Jr,xi=new Vr,Ai=new xr,Mi=new xr,Ei=new xr,Ci=new xr,Si=new xr,Ti=new xr,ki=new xr,Bi=new xr,Pi=new xr,Li=new fr,Di=new fr,Ri=new fr,Fi=new xr,Ii=new xr,Oi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ya;return(0,p.Z)(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,a=this.material,i=this.matrixWorld;if(void 0!==a&&(null===r.boundingSphere&&r.computeBoundingSphere(),xi.copy(r.boundingSphere),xi.applyMatrix4(i),!1!==e.ray.intersectsSphere(xi)&&(bi.copy(i).invert(),wi.copy(e.ray).applyMatrix4(bi),null===r.boundingBox||!1!==wi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,l=r.attributes.uv,f=r.attributes.uv2,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(a))for(var p=0,v=d.length;p<v;p++)for(var m=d[p],g=a[m.materialIndex],y=Math.max(m.start,h.start),_=Math.min(m.start+m.count,h.start+h.count);y<_;y+=3){var b=o.getX(y),w=o.getX(y+1),x=o.getX(y+2);(n=zi(this,g,e,wi,s,u,c,l,f,b,w,x))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var A=Math.max(0,h.start),M=Math.min(o.count,h.start+h.count);A<M;A+=3){var E=o.getX(A),C=o.getX(A+1),S=o.getX(A+2);(n=zi(this,a,e,wi,s,u,c,l,f,E,C,S))&&(n.faceIndex=Math.floor(A/3),t.push(n))}else if(void 0!==s)if(Array.isArray(a))for(var T=0,k=d.length;T<k;T++)for(var B=d[T],P=a[B.materialIndex],L=Math.max(B.start,h.start),D=Math.min(B.start+B.count,h.start+h.count);L<D;L+=3){(n=zi(this,P,e,wi,s,u,c,l,f,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),n.face.materialIndex=B.materialIndex,t.push(n))}else for(var R=Math.max(0,h.start),F=Math.min(s.count,h.start+h.count);R<F;R+=3){(n=zi(this,a,e,wi,s,u,c,l,f,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(Ma);function zi(e,t,n,r,a,i,o,s,u,c,l,f){Ai.fromBufferAttribute(a,c),Mi.fromBufferAttribute(a,l),Ei.fromBufferAttribute(a,f);var d=e.morphTargetInfluences;if(t.morphTargets&&i&&d){ki.set(0,0,0),Bi.set(0,0,0),Pi.set(0,0,0);for(var h=0,p=i.length;h<p;h++){var v=d[h],m=i[h];0!==v&&(Ci.fromBufferAttribute(m,c),Si.fromBufferAttribute(m,l),Ti.fromBufferAttribute(m,f),o?(ki.addScaledVector(Ci,v),Bi.addScaledVector(Si,v),Pi.addScaledVector(Ti,v)):(ki.addScaledVector(Ci.sub(Ai),v),Bi.addScaledVector(Si.sub(Mi),v),Pi.addScaledVector(Ti.sub(Ei),v)))}Ai.add(ki),Mi.add(Bi),Ei.add(Pi)}e.isSkinnedMesh&&t.skinning&&(e.boneTransform(c,Ai),e.boneTransform(l,Mi),e.boneTransform(f,Ei));var g=function(e,t,n,r,a,i,o,s){if(null===(t.side===B?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,t.side!==P,s)))return null;Ii.copy(s),Ii.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(Ii);return u<n.near||u>n.far?null:{distance:u,point:Ii.clone(),object:e}}(e,t,n,r,Ai,Mi,Ei,Fi);if(g){s&&(Li.fromBufferAttribute(s,c),Di.fromBufferAttribute(s,l),Ri.fromBufferAttribute(s,f),g.uv=Za.getUV(Fi,Ai,Mi,Ei,Li,Di,Ri,new fr)),u&&(Li.fromBufferAttribute(u,c),Di.fromBufferAttribute(u,l),Ri.fromBufferAttribute(u,f),g.uv2=Za.getUV(Fi,Ai,Mi,Ei,Li,Di,Ri,new fr));var y={a:c,b:l,c:f,normal:new xr,materialIndex:0};Za.getNormal(Ai,Mi,Ei,y.normal),g.face=y}return g}Oi.prototype.isMesh=!0;var Zi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,p.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:a,depth:i,widthSegments:o,heightSegments:s,depthSegments:u};var c=(0,f.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var l=[],d=[],h=[],v=[],m=0,g=0;function y(e,t,n,r,a,i,o,s,u,f,p){for(var y=i/u,_=o/f,b=i/2,w=o/2,x=s/2,A=u+1,M=f+1,E=0,C=0,S=new xr,T=0;T<M;T++)for(var k=T*_-w,B=0;B<A;B++){var P=B*y-b;S[e]=P*r,S[t]=k*a,S[n]=x,d.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=s>0?1:-1,h.push(S.x,S.y,S.z),v.push(B/u),v.push(1-T/f),E+=1}for(var L=0;L<f;L++)for(var D=0;D<u;D++){var R=m+D+A*L,F=m+D+A*(L+1),I=m+(D+1)+A*(L+1),O=m+(D+1)+A*L;l.push(R,F,O),l.push(F,I,O),C+=6}c.addGroup(g,C,p),g+=C,m+=E}return y("z","y","x",-1,-1,i,a,r,u,s,0),y("z","y","x",1,-1,i,a,-r,u,s,1),y("x","z","y",1,1,r,i,a,o,u,2),y("x","z","y",1,-1,r,i,-a,o,u,3),y("x","y","z",1,-1,r,a,i,o,s,4),y("x","y","z",-1,-1,r,a,-i,o,s,5),e.setIndex(l),e.setAttribute("position",new si(d,3)),e.setAttribute("normal",new si(h,3)),e.setAttribute("uv",new si(v,2)),e}return(0,v.Z)(n)}(_i);function Ui(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}return t}function Ni(e){for(var t={},n=0;n<e.length;n++){var r=Ui(e[n]);for(var a in r)t[a]=r[a]}return t}var Gi={clone:Ui,merge:Ni},Hi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ui(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}]),n}(Na);Hi.prototype.isShaderMaterial=!0;var Vi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new $r,e.projectionMatrix=new $r,e.projectionMatrixInverse=new $r,e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new xr),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,c.Z)((0,l.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Ma);Vi.prototype.isCamera=!0;var ji=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,p.Z)(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=i,e.far=o,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*nr*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*tr*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*nr*Math.atan(Math.tan(.5*tr*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,a,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*tr*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,i=this.view;if(null!==this.view&&this.view.enabled){var o=i.fullWidth,s=i.fullHeight;a+=i.offsetX*r/o,t-=i.offsetY*n/s,r*=i.width/o,n*=i.height/s}var u=this.filmOffset;0!==u&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Vi);ji.prototype.isPerspectiveCamera=!0;var Wi=90,Xi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;if((0,p.Z)(this,n),(i=t.call(this)).type="CubeCamera",!0!==a.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),(0,u.Z)(i);i.renderTarget=a;var o=new ji(Wi,1,e,r);o.layers=i.layers,o.up.set(0,-1,0),o.lookAt(new xr(1,0,0)),i.add(o);var s=new ji(Wi,1,e,r);s.layers=i.layers,s.up.set(0,-1,0),s.lookAt(new xr(-1,0,0)),i.add(s);var c=new ji(Wi,1,e,r);c.layers=i.layers,c.up.set(0,0,1),c.lookAt(new xr(0,1,0)),i.add(c);var l=new ji(Wi,1,e,r);l.layers=i.layers,l.up.set(0,0,-1),l.lookAt(new xr(0,-1,0)),i.add(l);var f=new ji(Wi,1,e,r);f.layers=i.layers,f.up.set(0,-1,0),f.lookAt(new xr(0,0,1)),i.add(f);var d=new ji(Wi,1,e,r);return d.layers=i.layers,d.up.set(0,-1,0),d.lookAt(new xr(0,0,-1)),i.add(d),i}return(0,v.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,s.Z)(this.children,6),a=r[0],i=r[1],o=r[2],u=r[3],c=r[4],l=r[5],f=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,a),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,u),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(d),e.xr.enabled=f}}]),n}(Ma),qi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l,f){var d;return(0,p.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:be,u=void 0!==u?u:Je,(d=t.call(this,e,r,a,i,o,s,u,c,l,f))._needsFlipEnvMap=!0,d.flipY=!1,d}return(0,v.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(mr);qi.prototype.isCubeTexture=!0;var Yi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,p.Z)(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=a),i=t.call(this,e,e,r),r=r||{},i.texture=new qi(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,i.texture.minFilter=void 0!==r.minFilter?r.minFilter:Re,i.texture._needsFlipEnvMap=!1,i}return(0,v.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=$e,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new Zi(5,5,5),o=new Hi({name:"CubemapFromEquirect",uniforms:Ui(n),vertexShader:r,fragmentShader:a,side:B,blending:R});o.uniforms.tEquirect.value=t;var s=new Oi(i,o),u=t.minFilter;return t.minFilter===Oe&&(t.minFilter=Re),new Xi(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var a=e.getRenderTarget(),i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(a)}}]),n}(_r);Yi.prototype.isWebGLCubeRenderTarget=!0;var Qi=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l,f,d,h){var v;return(0,p.Z)(this,n),(v=t.call(this,null,s,u,c,l,f,i,o,d,h)).image={data:e||null,width:r||1,height:a||1},v.magFilter=void 0!==l?l:ke,v.minFilter=void 0!==f?f:ke,v.generateMipmaps=!1,v.flipY=!1,v.unpackAlignment=1,v.needsUpdate=!0,v}return(0,v.Z)(n)}(mr);Qi.prototype.isDataTexture=!0;var Ki=new Vr,Ji=new xr,$i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ta,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ta,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ta,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ta,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ta,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ta;(0,p.Z)(this,e),this.planes=[t,n,r,a,i,o]}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,a,i){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(i),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],f=n[8],d=n[9],h=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,l-s,p-f,y-v).normalize(),t[1].setComponents(o+r,l+s,p+f,y+v).normalize(),t[2].setComponents(o+a,l+u,p+d,y+m).normalize(),t[3].setComponents(o-a,l-u,p-d,y-m).normalize(),t[4].setComponents(o-i,l-c,p-h,y-g).normalize(),t[5].setComponents(o+i,l+c,p+h,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ki.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ki)}},{key:"intersectsSprite",value:function(e){return Ki.center.set(0,0,0),Ki.radius=.7071067811865476,Ki.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ki)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,a=0;a<6;a++){if(t[a].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Ji.x=r.normal.x>0?e.max.x:e.min.x,Ji.y=r.normal.y>0?e.max.y:e.min.y,Ji.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ji)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function eo(){var e=null,t=!1,n=null,r=null;function a(t,i){n(t,i),r=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function to(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,a){if(t.isGLBufferAttribute){var i=r.get(t);(!i||i.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var a=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,a,i),t.onUploadCallback();var s=5126;return a instanceof Float32Array?s=5126:a instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):a instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:a instanceof Int16Array?s=5122:a instanceof Uint32Array?s=5125:a instanceof Int32Array?s=5124:a instanceof Int8Array?s=5120:a instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,a)):o.version<t.version&&(!function(t,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,t),-1===o.count?e.bufferSubData(a,0,i):(n?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,a),o.version=t.version)}}}}var no=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,p.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:a,widthSegments:i,heightSegments:o};for(var s=r/2,u=a/2,c=Math.floor(i),l=Math.floor(o),f=c+1,d=l+1,h=r/c,v=a/l,m=[],g=[],y=[],_=[],b=0;b<d;b++)for(var w=b*v-u,x=0;x<f;x++){var A=x*h-s;g.push(A,-w,0),y.push(0,0,1),_.push(x/c),_.push(1-b/l)}for(var M=0;M<l;M++)for(var E=0;E<c;E++){var C=E+f*M,S=E+f*(M+1),T=E+1+f*(M+1),k=E+1+f*M;m.push(C,S,k),m.push(S,T,k)}return e.setIndex(m),e.setAttribute("position",new si(g,3)),e.setAttribute("normal",new si(y,3)),e.setAttribute("uv",new si(_,2)),e}return(0,v.Z)(n)}(_i),ro={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ao={common:{diffuse:{value:new qa(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new hr},uv2Transform:{value:new hr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new fr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qa(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qa(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new hr}},sprite:{diffuse:{value:new qa(15658734)},opacity:{value:1},center:{value:new fr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new hr}}},io={basic:{uniforms:Ni([ao.common,ao.specularmap,ao.envmap,ao.aomap,ao.lightmap,ao.fog]),vertexShader:ro.meshbasic_vert,fragmentShader:ro.meshbasic_frag},lambert:{uniforms:Ni([ao.common,ao.specularmap,ao.envmap,ao.aomap,ao.lightmap,ao.emissivemap,ao.fog,ao.lights,{emissive:{value:new qa(0)}}]),vertexShader:ro.meshlambert_vert,fragmentShader:ro.meshlambert_frag},phong:{uniforms:Ni([ao.common,ao.specularmap,ao.envmap,ao.aomap,ao.lightmap,ao.emissivemap,ao.bumpmap,ao.normalmap,ao.displacementmap,ao.fog,ao.lights,{emissive:{value:new qa(0)},specular:{value:new qa(1118481)},shininess:{value:30}}]),vertexShader:ro.meshphong_vert,fragmentShader:ro.meshphong_frag},standard:{uniforms:Ni([ao.common,ao.envmap,ao.aomap,ao.lightmap,ao.emissivemap,ao.bumpmap,ao.normalmap,ao.displacementmap,ao.roughnessmap,ao.metalnessmap,ao.fog,ao.lights,{emissive:{value:new qa(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ro.meshphysical_vert,fragmentShader:ro.meshphysical_frag},toon:{uniforms:Ni([ao.common,ao.aomap,ao.lightmap,ao.emissivemap,ao.bumpmap,ao.normalmap,ao.displacementmap,ao.gradientmap,ao.fog,ao.lights,{emissive:{value:new qa(0)}}]),vertexShader:ro.meshtoon_vert,fragmentShader:ro.meshtoon_frag},matcap:{uniforms:Ni([ao.common,ao.bumpmap,ao.normalmap,ao.displacementmap,ao.fog,{matcap:{value:null}}]),vertexShader:ro.meshmatcap_vert,fragmentShader:ro.meshmatcap_frag},points:{uniforms:Ni([ao.points,ao.fog]),vertexShader:ro.points_vert,fragmentShader:ro.points_frag},dashed:{uniforms:Ni([ao.common,ao.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ro.linedashed_vert,fragmentShader:ro.linedashed_frag},depth:{uniforms:Ni([ao.common,ao.displacementmap]),vertexShader:ro.depth_vert,fragmentShader:ro.depth_frag},normal:{uniforms:Ni([ao.common,ao.bumpmap,ao.normalmap,ao.displacementmap,{opacity:{value:1}}]),vertexShader:ro.normal_vert,fragmentShader:ro.normal_frag},sprite:{uniforms:Ni([ao.sprite,ao.fog]),vertexShader:ro.sprite_vert,fragmentShader:ro.sprite_frag},background:{uniforms:{uvTransform:{value:new hr},t2D:{value:null}},vertexShader:ro.background_vert,fragmentShader:ro.background_frag},cube:{uniforms:Ni([ao.envmap,{opacity:{value:1}}]),vertexShader:ro.cube_vert,fragmentShader:ro.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ro.equirect_vert,fragmentShader:ro.equirect_frag},distanceRGBA:{uniforms:Ni([ao.common,ao.displacementmap,{referencePosition:{value:new xr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ro.distanceRGBA_vert,fragmentShader:ro.distanceRGBA_frag},shadow:{uniforms:Ni([ao.lights,ao.fog,{color:{value:new qa(0)},opacity:{value:1}}]),vertexShader:ro.shadow_vert,fragmentShader:ro.shadow_frag}};function oo(e,t,n,r,a){var i,o,s=new qa(0),u=0,c=null,l=0,f=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){d(s,u=e)},render:function(n,a,h,p){var v=!0===a.isScene?a.background:null;v&&v.isTexture&&(v=t.get(v));var m=e.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?d(s,u):v&&v.isColor&&(d(v,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===Me)?(void 0===o&&((o=new Oi(new Zi(1,1,1),new Hi({name:"BackgroundCubeMaterial",uniforms:Ui(io.cube.uniforms),vertexShader:io.cube.vertexShader,fragmentShader:io.cube.fragmentShader,side:B,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),o.material.uniforms.envMap.value=v,o.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v._needsFlipEnvMap?-1:1,c===v&&l===v.version&&f===e.toneMapping||(o.material.needsUpdate=!0,c=v,l=v.version,f=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):v&&v.isTexture&&(void 0===i&&((i=new Oi(new no(2,2),new Hi({name:"BackgroundMaterial",uniforms:Ui(io.background.uniforms),vertexShader:io.background.vertexShader,fragmentShader:io.background.fragmentShader,side:k,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),i.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&l===v.version&&f===e.toneMapping||(i.material.needsUpdate=!0,c=v,l=v.version,f=e.toneMapping),n.unshift(i,i.geometry,i.material,0,0,null))}}}function so(e,t,n,r){var a=e.getParameter(34921),i=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==i,s={},u=d(null),c=u;function l(t){return r.isWebGL2?e.bindVertexArray(t):i.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):i.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],i=0;i<a;i++)t[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){v(e,0)}function v(n,a){var i=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;(i[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==a)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,a),s[n]=a)}function m(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,a=n.length;r<a;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,a,i,o,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,n,a,i,o,s):e.vertexAttribIPointer(t,n,a,o,s)}function y(){_(),c!==u&&l((c=u).object)}function _(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(a,u,f,y,_){var b=!1;if(o){var w=function(t,n,a){var o=!0===a.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var c=u[n.id];void 0===c&&(c={},u[n.id]=c);var l=c[o];void 0===l&&(l=d(r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),c[o]=l);return l}(y,f,u);c!==w&&l((c=w).object),b=function(e,t){var n=c.attributes,r=e.attributes,a=0;for(var i in r){var o=n[i],s=r[i];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;a++}return c.attributesNum!==a||c.index!==t}(y,_),b&&function(e,t){var n={},r=e.attributes,a=0;for(var i in r){var o=r[i],s={};s.attribute=o,o.data&&(s.data=o.data),n[i]=s,a++}c.attributes=n,c.attributesNum=a,c.index=t}(y,_)}else{var x=!0===u.wireframe;c.geometry===y.id&&c.program===f.id&&c.wireframe===x||(c.geometry=y.id,c.program=f.id,c.wireframe=x,b=!0)}!0===a.isInstancedMesh&&(b=!0),null!==_&&n.update(_,34963),b&&(!function(a,i,o,s){if(!1===r.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,c=o.getAttributes(),l=i.defaultAttributeValues;for(var f in c){var d=c[f];if(d>=0){var y=u[f];if(void 0!==y){var _=y.normalized,b=y.itemSize,w=n.get(y);if(void 0===w)continue;var x=w.buffer,A=w.type,M=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,C=E.stride,S=y.offset;E&&E.isInstancedInterleavedBuffer?(v(d,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(d),e.bindBuffer(34962,x),g(d,b,A,_,C*M,S*M)}else y.isInstancedBufferAttribute?(v(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,x),g(d,b,A,_,0,0)}else if("instanceMatrix"===f){var T=n.get(a.instanceMatrix);if(void 0===T)continue;var k=T.buffer,B=T.type;v(d+0,1),v(d+1,1),v(d+2,1),v(d+3,1),e.bindBuffer(34962,k),e.vertexAttribPointer(d+0,4,B,!1,64,0),e.vertexAttribPointer(d+1,4,B,!1,64,16),e.vertexAttribPointer(d+2,4,B,!1,64,32),e.vertexAttribPointer(d+3,4,B,!1,64,48)}else if("instanceColor"===f){var P=n.get(a.instanceColor);if(void 0===P)continue;var L=P.buffer,D=P.type;v(d,1),e.bindBuffer(34962,L),e.vertexAttribPointer(d,3,D,!1,12,0)}else if(void 0!==l){var R=l[f];if(void 0!==R)switch(R.length){case 2:e.vertexAttrib2fv(d,R);break;case 3:e.vertexAttrib3fv(d,R);break;case 4:e.vertexAttrib4fv(d,R);break;default:e.vertexAttrib1fv(d,R)}}}}m()}(a,u,f,y),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:y,resetDefaultState:_,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var a in r)f(r[a].object),delete r[a];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var a in r)f(r[a].object),delete r[a];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var a in r)f(r[a].object),delete r[a];delete n[e.id]}}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:m}}function uo(e,t,n,r){var a,i=r.isWebGL2;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,c;if(i)u=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](a,r,o,s),n.update(o,a,s)}}}function co(e,t,n){var r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var i="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),l=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),h=e.getParameter(34921),p=e.getParameter(36347),v=e.getParameter(36348),m=e.getParameter(36349),g=l>0,y=i||t.has("OES_texture_float");return{isWebGL2:i,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:f,maxCubemapSize:d,maxAttributes:h,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:i?e.getParameter(36183):0}}function lo(e){var t=this,n=null,r=0,a=!1,i=!1,o=new Ta,s=new hr,u={value:null,needsUpdate:!1};function c(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function l(e,n,r,a){var i=null!==e?e.length:0,c=null;if(0!==i){if(c=u.value,!0!==a||null===c){var l=r+4*i,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===c||c.length<l)&&(c=new Float32Array(l));for(var d=0,h=r;d!==i;++d,h+=4)o.copy(e[d]).applyMatrix4(f,s),o.normal.toArray(c,h),c[h+3]=o.constant}u.value=c,u.needsUpdate=!0}return t.numPlanes=i,t.numIntersection=0,c}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,i){var o=0!==e.length||t||0!==r||a;return a=t,n=l(e,i,0),r=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,s){var f=t.clippingPlanes,d=t.clipIntersection,h=t.clipShadows,p=e.get(t);if(!a||null===f||0===f.length||i&&!h)i?l(null):c();else{var v=i?0:r,m=4*v,g=p.clippingState||null;u.value=g,g=l(f,o,m,s);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function fo(e){var t=new WeakMap;function n(e,t){return t===xe?e.mapping=be:t===Ae&&(e.mapping=we),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture){var i=a.mapping;if(i===xe||i===Ae){if(t.has(a))return n(t.get(a).texture,a.mapping);var o=a.image;if(o&&o.height>0){var s=e.getRenderTarget(),u=new Yi(o.height/2);return u.fromEquirectangularTexture(e,a),t.set(a,u),e.setRenderTarget(s),a.addEventListener("dispose",r),n(u.texture,a.mapping)}return null}}return a},dispose:function(){t=new WeakMap}}}function ho(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function po(e,t,n,r){var a={},i=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete a[s.id];var c=i.get(s);c&&(t.remove(c),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,c=s.length;u<c;u+=3){var l=s[u+0],f=s[u+1],d=s[u+2];n.push(l,f,f,d,d,l)}}else{var h=a.array;o=a.version;for(var p=0,v=h.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var _=new(ci(n)>65535?ii:ri)(n,1);_.version=o;var b=i.get(e);b&&t.remove(b),i.set(e,_)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",o),a[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return i.get(e)}}}function vo(e,t,n,r){var a,i,o,s=r.isWebGL2;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,i,t*o),n.update(r,a,1)},this.renderInstances=function(r,u,c){if(0!==c){var l,f;if(s)l=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[f](a,u,i,r*o,c),n.update(u,a,c)}}}function mo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function go(e,t){return e[0]-t[0]}function yo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function _o(e){for(var t={},n=new Float32Array(8),r=[],a=0;a<8;a++)r[a]=[a,0];return{update:function(a,i,o,s){var u=a.morphTargetInfluences,c=void 0===u?0:u.length,l=t[i.id];if(void 0===l){l=[];for(var f=0;f<c;f++)l[f]=[f,0];t[i.id]=l}for(var d=0;d<c;d++){var h=l[d];h[0]=d,h[1]=u[d]}l.sort(yo);for(var p=0;p<8;p++)p<c&&l[p][1]?(r[p][0]=l[p][0],r[p][1]=l[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(go);for(var v=o.morphTargets&&i.morphAttributes.position,m=o.morphNormals&&i.morphAttributes.normal,g=0,y=0;y<8;y++){var _=r[y],b=_[0],w=_[1];b!==Number.MAX_SAFE_INTEGER&&w?(v&&i.getAttribute("morphTarget"+y)!==v[b]&&i.setAttribute("morphTarget"+y,v[b]),m&&i.getAttribute("morphNormal"+y)!==m[b]&&i.setAttribute("morphNormal"+y,m[b]),n[y]=w,g+=w):(v&&!0===i.hasAttribute("morphTarget"+y)&&i.deleteAttribute("morphTarget"+y),m&&!0===i.hasAttribute("morphNormal"+y)&&i.deleteAttribute("morphNormal"+y),n[y]=0)}var x=i.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",x),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function bo(e,t,n,r){var a=new WeakMap;function i(e){var t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,u=t.get(e,s);return a.get(u)!==o&&(t.update(u),a.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",i)&&e.addEventListener("dispose",i),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){a=new WeakMap}}}io.physical={uniforms:Ni([io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new fr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new qa(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ro.meshphysical_vert,fragmentShader:ro.meshphysical_frag};var wo=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=ke,e.minFilter=ke,e.wrapR=Se,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return(0,v.Z)(n)}(mr);wo.prototype.isDataTexture2DArray=!0;var xo=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=ke,e.minFilter=ke,e.wrapR=Se,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return(0,v.Z)(n)}(mr);xo.prototype.isDataTexture3D=!0;var Ao=new mr,Mo=new wo,Eo=new xo,Co=new qi,So=[],To=[],ko=new Float32Array(16),Bo=new Float32Array(9),Po=new Float32Array(4);function Lo(e,t,n){var r=e[0];if(r<=0||r>0)return e;var a=t*n,i=So[a];if(void 0===i&&(i=new Float32Array(a),So[a]=i),0!==t){r.toArray(i,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(i,s)}return i}function Do(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ro(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Fo(e,t){var n=To[t];void 0===n&&(n=new Int32Array(t),To[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Io(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Oo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Do(n,t))return;e.uniform2fv(this.addr,t),Ro(n,t)}}function zo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Do(n,t))return;e.uniform3fv(this.addr,t),Ro(n,t)}}function Zo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Do(n,t))return;e.uniform4fv(this.addr,t),Ro(n,t)}}function Uo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ro(n,t)}else{if(Do(n,r))return;Po.set(r),e.uniformMatrix2fv(this.addr,!1,Po),Ro(n,r)}}function No(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ro(n,t)}else{if(Do(n,r))return;Bo.set(r),e.uniformMatrix3fv(this.addr,!1,Bo),Ro(n,r)}}function Go(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ro(n,t)}else{if(Do(n,r))return;ko.set(r),e.uniformMatrix4fv(this.addr,!1,ko),Ro(n,r)}}function Ho(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Vo(e,t){var n=this.cache;Do(n,t)||(e.uniform2iv(this.addr,t),Ro(n,t))}function jo(e,t){var n=this.cache;Do(n,t)||(e.uniform3iv(this.addr,t),Ro(n,t))}function Wo(e,t){var n=this.cache;Do(n,t)||(e.uniform4iv(this.addr,t),Ro(n,t))}function Xo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function qo(e,t){var n=this.cache;Do(n,t)||(e.uniform2uiv(this.addr,t),Ro(n,t))}function Yo(e,t){var n=this.cache;Do(n,t)||(e.uniform3uiv(this.addr,t),Ro(n,t))}function Qo(e,t){var n=this.cache;Do(n,t)||(e.uniform4uiv(this.addr,t),Ro(n,t))}function Ko(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTexture2D(t||Ao,a)}function Jo(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||Eo,a)}function $o(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTextureCube(t||Co,a)}function es(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||Mo,a)}function ts(e,t){e.uniform1fv(this.addr,t)}function ns(e,t){var n=Lo(t,this.size,2);e.uniform2fv(this.addr,n)}function rs(e,t){var n=Lo(t,this.size,3);e.uniform3fv(this.addr,n)}function as(e,t){var n=Lo(t,this.size,4);e.uniform4fv(this.addr,n)}function is(e,t){var n=Lo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function os(e,t){var n=Lo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ss(e,t){var n=Lo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function us(e,t){e.uniform1iv(this.addr,t)}function cs(e,t){e.uniform2iv(this.addr,t)}function ls(e,t){e.uniform3iv(this.addr,t)}function fs(e,t){e.uniform4iv(this.addr,t)}function ds(e,t){e.uniform1uiv(this.addr,t)}function hs(e,t){e.uniform2uiv(this.addr,t)}function ps(e,t){e.uniform3uiv(this.addr,t)}function vs(e,t){e.uniform4uiv(this.addr,t)}function ms(e,t,n){var r=t.length,a=Fo(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTexture2D(t[i]||Ao,a[i])}function gs(e,t,n){var r=t.length,a=Fo(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTextureCube(t[i]||Co,a[i])}function ys(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Io;case 35664:return Oo;case 35665:return zo;case 35666:return Zo;case 35674:return Uo;case 35675:return No;case 35676:return Go;case 5124:case 35670:return Ho;case 35667:case 35671:return Vo;case 35668:case 35672:return jo;case 35669:case 35673:return Wo;case 5125:return Xo;case 36294:return qo;case 36295:return Yo;case 36296:return Qo;case 35678:case 36198:case 36298:case 36306:case 35682:return Ko;case 35679:case 36299:case 36307:return Jo;case 35680:case 36300:case 36308:case 36293:return $o;case 36289:case 36303:case 36311:case 36292:return es}}(t.type)}function _s(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ts;case 35664:return ns;case 35665:return rs;case 35666:return as;case 35674:return is;case 35675:return os;case 35676:return ss;case 5124:case 35670:return us;case 35667:case 35671:return cs;case 35668:case 35672:return ls;case 35669:case 35673:return fs;case 5125:return ds;case 36294:return hs;case 36295:return ps;case 36296:return vs;case 35678:case 36198:case 36298:case 36306:case 35682:return ms;case 35680:case 36300:case 36308:case 36293:return gs}}(t.type)}function bs(e){this.id=e,this.seq=[],this.map={}}_s.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ro(t,e)},bs.prototype.setValue=function(e,t,n){for(var r=this.seq,a=0,i=r.length;a!==i;++a){var o=r[a];o.setValue(e,t[o.id],n)}};var ws=/(\w+)(\])?(\[|\.)?/g;function xs(e,t){e.seq.push(t),e.map[t.id]=t}function As(e,t,n){var r=e.name,a=r.length;for(ws.lastIndex=0;;){var i=ws.exec(r),o=ws.lastIndex,s=i[1],u="]"===i[2],c=i[3];if(u&&(s|=0),void 0===c||"["===c&&o+2===a){xs(n,void 0===c?new ys(s,e,t):new _s(s,e,t));break}var l=n.map[s];void 0===l&&xs(n,l=new bs(s)),n=l}}function Ms(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var a=e.getActiveUniform(t,r);As(a,e.getUniformLocation(t,a.name),this)}}function Es(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Ms.prototype.setValue=function(e,t,n,r){var a=this.map[t];void 0!==a&&a.setValue(e,n,r)},Ms.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Ms.upload=function(e,t,n,r){for(var a=0,i=t.length;a!==i;++a){var o=t[a],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Ms.seqWithValue=function(e,t){for(var n=[],r=0,a=e.length;r!==a;++r){var i=e[r];i.id in t&&n.push(i)}return n};var Cs=0;function Ss(e){switch(e){case dn:return["Linear","( value )"];case hn:return["sRGB","( value )"];case vn:return["RGBE","( value )"];case gn:return["RGBM","( value, 7.0 )"];case yn:return["RGBM","( value, 16.0 )"];case _n:return["RGBD","( value, 256.0 )"];case pn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case mn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Ts(e,t,n){var r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();return r&&""===a?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+a+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function ks(e,t){var n=Ss(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Bs(e,t){var n=Ss(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ps(e,t){var n;switch(t){case pe:n="Linear";break;case ve:n="Reinhard";break;case me:n="OptimizedCineon";break;case ge:n="ACESFilmic";break;case ye:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ls(e){return""!==e}function Ds(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Rs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Fs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Is(e){return e.replace(Fs,Os)}function Os(e,t){var n=ro[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Is(n)}var zs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Zs=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Us(e){return e.replace(Zs,Gs).replace(zs,Ns)}function Ns(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Gs(e,t,n,r)}function Gs(e,t,n,r){for(var a="",i=parseInt(t);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function Hs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Vs(e,t,n,r){var a,i,o=e.getContext(),s=n.defines,u=n.vertexShader,c=n.fragmentShader,l=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===C?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===S?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===T&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case be:case we:t="ENVMAP_TYPE_CUBE";break;case Me:case Ee:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case we:case Ee:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case le:t="ENVMAP_BLENDING_MULTIPLY";break;case fe:t="ENVMAP_BLENDING_MIX";break;case de:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ls).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((a=[m].filter(Ls).join("\n")).length>0&&(a+="\n"),(i=[v,m].filter(Ls).join("\n")).length>0&&(i+="\n")):(a=[Hs(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ls).join("\n"),i=[v,Hs(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==he?"#define TONE_MAPPING":"",n.toneMapping!==he?ro.tonemapping_pars_fragment:"",n.toneMapping!==he?Ps("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ro.encodings_pars_fragment,n.map?ks("mapTexelToLinear",n.mapEncoding):"",n.matcap?ks("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ks("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ks("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ks("lightMapTexelToLinear",n.lightMapEncoding):"",Bs("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ls).join("\n")),u=Rs(u=Ds(u=Is(u),n),n),c=Rs(c=Ds(c=Is(c),n),n),u=Us(u),c=Us(c),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",a=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,i=["#define varying in",n.glslVersion===Qn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Qn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i);var _,b,w=y+i+c,x=Es(o,35633,y+a+u),A=Es(o,35632,w);if(o.attachShader(g,x),o.attachShader(g,A),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(g).trim(),E=o.getShaderInfoLog(x).trim(),k=o.getShaderInfoLog(A).trim(),B=!0,P=!0;if(!1===o.getProgramParameter(g,35714)){B=!1;var L=Ts(o,x,"vertex"),D=Ts(o,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",M,L,D)}else""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==k||(P=!1);P&&(this.diagnostics={runnable:B,programLog:M,vertexShader:{log:E,prefix:a},fragmentShader:{log:k,prefix:i}})}return o.deleteShader(x),o.deleteShader(A),this.getUniforms=function(){return void 0===_&&(_=new Ms(o,g)),_},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),a=0;a<r;a++){var i=e.getActiveAttrib(t,a).name;n[i]=e.getAttribLocation(t,i)}return n}(o,g)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Cs++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=A,this}function js(e,t,n,r,a,i){var o=[],s=r.isWebGL2,u=r.logarithmicDepthBuffer,c=r.floatVertexTextures,l=r.maxVertexUniforms,f=r.vertexTextures,d=r.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function v(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=dn,t}return{getParameters:function(a,o,p,m,g){var y,_,b=m.fog,w=a.isMeshStandardMaterial?m.environment:null,x=t.get(a.envMap||w),A=h[a.type],M=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(c)return 1024;var n=l,r=Math.floor((n-20)/4),a=Math.min(r,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(g):0;if(null!==a.precision&&(d=r.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead."),A){var E=io[A];y=E.vertexShader,_=E.fragmentShader}else y=a.vertexShader,_=a.fragmentShader;var C=e.getRenderTarget();return{isWebGL2:s,shaderID:A,shaderName:a.type,vertexShader:y,fragmentShader:_,defines:a.defines,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:f,outputEncoding:null!==C?v(C.texture):e.outputEncoding,map:!!a.map,mapEncoding:v(a.map),matcap:!!a.matcap,matcapEncoding:v(a.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:v(x),envMapCubeUV:!!x&&(x.mapping===Me||x.mapping===Ee),lightMap:!!a.lightMap,lightMapEncoding:v(a.lightMap),aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,emissiveMapEncoding:v(a.emissiveMap),bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===An,tangentSpaceNormalMap:a.normalMapType===xn,clearcoatMap:!!a.clearcoatMap,clearcoatRoughnessMap:!!a.clearcoatRoughnessMap,clearcoatNormalMap:!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,alphaMap:!!a.alphaMap,gradientMap:!!a.gradientMap,sheen:!!a.sheen,transmissionMap:!!a.transmissionMap,combine:a.combine,vertexTangents:a.normalMap&&a.vertexTangents,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&g.geometry&&g.geometry.attributes.color&&4===g.geometry.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.displacementMap||!!a.transmissionMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.transmissionMap)&&!!a.displacementMap,fog:!!b,useFog:a.fog,fogExp2:b&&b.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:u,skinning:a.skinning&&M>0,maxBones:M,useVertexTexture:c,morphTargets:a.morphTargets,morphNormals:a.morphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:i.numPlanes,numClipIntersection:i.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:he,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,alphaTest:a.alphaTest,doubleSided:a.side===P,flipSided:a.side===B,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var a=0;a<p.length;a++)n.push(t[p[a]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=io[n];t=Gi.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,s=o.length;i<s;i++){var u=o[i];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new Vs(e,n,t,a),o.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function Ws(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Xs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function qs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ys(e){var t=[],n=0,r=[],a=[],i={id:-1};function o(r,a,o,s,u,c){var l=t[n],f=e.get(o);return void 0===l?(l={id:r.id,object:r,geometry:a,material:o,program:f.program||i,groupOrder:s,renderOrder:r.renderOrder,z:u,group:c},t[n]=l):(l.id=r.id,l.object=r,l.geometry=a,l.material=o,l.program=f.program||i,l.groupOrder=s,l.renderOrder=r.renderOrder,l.z=u,l.group=c),n++,l}return{opaque:r,transparent:a,init:function(){n=0,r.length=0,a.length=0},push:function(e,t,n,i,s,u){var c=o(e,t,n,i,s,u);(!0===n.transparent?a:r).push(c)},unshift:function(e,t,n,i,s,u){var c=o(e,t,n,i,s,u);(!0===n.transparent?a:r).unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var a=t[e];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.program=null,a.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Xs),a.length>1&&a.sort(t||qs)}}}function Qs(e){var t=new WeakMap;return{get:function(n,r){var a;return!1===t.has(n)?(a=new Ys(e),t.set(n,[a])):r>=t.get(n).length?(a=new Ys(e),t.get(n).push(a)):a=t.get(n)[r],a},dispose:function(){t=new WeakMap}}}function Ks(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new xr,color:new qa};break;case"SpotLight":n={position:new xr,direction:new xr,color:new qa,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new xr,color:new qa,distance:0,decay:0};break;case"HemisphereLight":n={direction:new xr,skyColor:new qa,groundColor:new qa};break;case"RectAreaLight":n={color:new qa,position:new xr,halfWidth:new xr,halfHeight:new xr}}return e[t.id]=n,n}}}var Js=0;function $s(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function eu(e,t){for(var n=new Ks,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)a.probe.push(new xr);var o=new xr,s=new $r,u=new $r;return{setup:function(i){for(var o=0,s=0,u=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var l=0,f=0,d=0,h=0,p=0,v=0,m=0,g=0;i.sort($s);for(var y=0,_=i.length;y<_;y++){var b=i[y],w=b.color,x=b.intensity,A=b.distance,M=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=w.r*x,s+=w.g*x,u+=w.b*x;else if(b.isLightProbe)for(var E=0;E<9;E++)a.probe[E].addScaledVector(b.sh.coefficients[E],x);else if(b.isDirectionalLight){var C=n.get(b);if(C.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){var S=b.shadow,T=r.get(b);T.shadowBias=S.bias,T.shadowNormalBias=S.normalBias,T.shadowRadius=S.radius,T.shadowMapSize=S.mapSize,a.directionalShadow[l]=T,a.directionalShadowMap[l]=M,a.directionalShadowMatrix[l]=b.shadow.matrix,v++}a.directional[l]=C,l++}else if(b.isSpotLight){var k=n.get(b);if(k.position.setFromMatrixPosition(b.matrixWorld),k.color.copy(w).multiplyScalar(x),k.distance=A,k.coneCos=Math.cos(b.angle),k.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),k.decay=b.decay,b.castShadow){var B=b.shadow,P=r.get(b);P.shadowBias=B.bias,P.shadowNormalBias=B.normalBias,P.shadowRadius=B.radius,P.shadowMapSize=B.mapSize,a.spotShadow[d]=P,a.spotShadowMap[d]=M,a.spotShadowMatrix[d]=b.shadow.matrix,g++}a.spot[d]=k,d++}else if(b.isRectAreaLight){var L=n.get(b);L.color.copy(w).multiplyScalar(x),L.halfWidth.set(.5*b.width,0,0),L.halfHeight.set(0,.5*b.height,0),a.rectArea[h]=L,h++}else if(b.isPointLight){var D=n.get(b);if(D.color.copy(b.color).multiplyScalar(b.intensity),D.distance=b.distance,D.decay=b.decay,b.castShadow){var R=b.shadow,F=r.get(b);F.shadowBias=R.bias,F.shadowNormalBias=R.normalBias,F.shadowRadius=R.radius,F.shadowMapSize=R.mapSize,F.shadowCameraNear=R.camera.near,F.shadowCameraFar=R.camera.far,a.pointShadow[f]=F,a.pointShadowMap[f]=M,a.pointShadowMatrix[f]=b.shadow.matrix,m++}a.point[f]=D,f++}else if(b.isHemisphereLight){var I=n.get(b);I.skyColor.copy(b.color).multiplyScalar(x),I.groundColor.copy(b.groundColor).multiplyScalar(x),a.hemi[p]=I,p++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=ao.LTC_FLOAT_1,a.rectAreaLTC2=ao.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=ao.LTC_HALF_1,a.rectAreaLTC2=ao.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=o,a.ambient[1]=s,a.ambient[2]=u;var O=a.hash;O.directionalLength===l&&O.pointLength===f&&O.spotLength===d&&O.rectAreaLength===h&&O.hemiLength===p&&O.numDirectionalShadows===v&&O.numPointShadows===m&&O.numSpotShadows===g||(a.directional.length=l,a.spot.length=d,a.rectArea.length=h,a.point.length=f,a.hemi.length=p,a.directionalShadow.length=v,a.directionalShadowMap.length=v,a.pointShadow.length=m,a.pointShadowMap.length=m,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=v,a.pointShadowMatrix.length=m,a.spotShadowMatrix.length=g,O.directionalLength=l,O.pointLength=f,O.spotLength=d,O.rectAreaLength=h,O.hemiLength=p,O.numDirectionalShadows=v,O.numPointShadows=m,O.numSpotShadows=g,a.version=Js++)},setupView:function(e,t){for(var n=0,r=0,i=0,c=0,l=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var v=a.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(p.isSpotLight){var m=a.spot[i];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),i++}else if(p.isRectAreaLight){var g=a.rectArea[c];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),u.identity(),s.copy(p.matrixWorld),s.premultiply(f),u.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),c++}else if(p.isPointLight){var y=a.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var _=a.hemi[l];_.direction.setFromMatrixPosition(p.matrixWorld),_.direction.transformDirection(f),_.direction.normalize(),l++}}},state:a}}function tu(e,t){var n=new eu(e,t),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function nu(e,t){var n=new WeakMap;return{get:function(r){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(a=new tu(e,t),n.set(r,[a])):i>=n.get(r).length?(a=new tu(e,t),n.get(r).push(a)):a=n.get(r)[i],a},dispose:function(){n=new WeakMap}}}var ru=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=bn,r.skinning=!1,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Na);ru.prototype.isMeshDepthMaterial=!0;var au=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new xr,r.nearDistance=1,r.farDistance=1e3,r.skinning=!1,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Na);au.prototype.isMeshDistanceMaterial=!0;function iu(e,t,n){var r=new $i,a=new fr,i=new fr,o=new yr,s=[],u=[],c={},l=n.maxTextureSize,f={0:B,1:k,2:P},d=new Hi({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new fr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var p=new _i;p.setAttribute("position",new Ja(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Oi(p,d),m=this;function g(n,r){var a=t.update(v);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,v,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,h,v,null)}function y(e,t,n){var r=e<<0|t<<1|n<<2,a=s[r];return void 0===a&&(a=new ru({depthPacking:wn,morphTargets:e,skinning:t}),s[r]=a),a}function _(e,t,n){var r=e<<0|t<<1|n<<2,a=u[r];return void 0===a&&(a=new au({morphTargets:e,skinning:t}),u[r]=a),a}function b(t,n,r,a,i,o,s){var u=null,l=y,d=t.customDepthMaterial;if(!0===a.isPointLight&&(l=_,d=t.customDistanceMaterial),void 0===d){var h=!1;!0===r.morphTargets&&(h=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),u=l(h,p,!0===t.isInstancedMesh)}else u=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var v=u.uuid,m=r.uuid,g=c[v];void 0===g&&(g={},c[v]=g);var b=g[m];void 0===b&&(b=u.clone(),g[m]=b),u=b}return u.visible=r.visible,u.wireframe=r.wireframe,u.side=s===T?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:f[r.side],u.clipShadows=r.clipShadows,u.clippingPlanes=r.clippingPlanes,u.clipIntersection=r.clipIntersection,u.wireframeLinewidth=r.wireframeLinewidth,u.linewidth=r.linewidth,!0===a.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(a.matrixWorld),u.nearDistance=i,u.farDistance=o),u}function w(n,a,i,o,s){if(!1!==n.visible){if(n.layers.test(a.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===T)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var u=t.update(n),c=n.material;if(Array.isArray(c))for(var l=u.groups,f=0,d=l.length;f<d;f++){var h=l[f],p=c[h.materialIndex];if(p&&p.visible){var v=b(n,u,p,o,i.near,i.far,s);e.renderBufferDirect(i,null,u,v,n,h)}}else if(c.visible){var m=b(n,u,c,o,i.near,i.far,s);e.renderBufferDirect(i,null,u,m,n,null)}}for(var g=n.children,y=0,_=g.length;y<_;y++)w(g[y],a,i,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),c=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.state;d.setBlending(R),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=0,p=t.length;h<p;h++){var v=t[h],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){a.copy(y.mapSize);var _=y.getFrameExtents();if(a.multiply(_),i.copy(y.mapSize),(a.x>l||a.y>l)&&(a.x>l&&(i.x=Math.floor(l/_.x),a.x=i.x*_.x,y.mapSize.x=i.x),a.y>l&&(i.y=Math.floor(l/_.y),a.y=i.y*_.y,y.mapSize.y=i.y)),null===y.map&&!y.isPointLightShadow&&this.type===T){var b={minFilter:Re,magFilter:Re,format:$e};y.map=new _r(a.x,a.y,b),y.map.texture.name=v.name+".shadowMap",y.mapPass=new _r(a.x,a.y,b),y.camera.updateProjectionMatrix()}if(null===y.map){var x={minFilter:ke,magFilter:ke,format:$e};y.map=new _r(a.x,a.y,x),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var A=y.getViewportCount(),M=0;M<A;M++){var E=y.getViewport(M);o.set(i.x*E.x,i.y*E.y,i.x*E.z,i.y*E.w),d.viewport(o),y.updateMatrices(v,M),r=y.getFrustum(),w(n,s,y.camera,v,this.type)}y.isPointLightShadow||this.type!==T||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,c,f)}}}function ou(e,t,n){var r,a,i=n.isWebGL2;var s=new function(){var t=!1,n=new yr,r=null,a=new yr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,o,s){!0===s&&(t*=o,r*=o,i*=o),n.set(t,r,i,o),!1===a.equals(n)&&(e.clearColor(t,r,i,o),a.copy(n))},reset:function(){t=!1,r=null,a.set(-1,0,0,0)}}},u=new function(){var t=!1,n=null,r=null,a=null;return{setTest:function(e){e?_e(2929):be(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case ne:e.depthFunc(512);break;case re:e.depthFunc(519);break;case ae:e.depthFunc(513);break;case ie:e.depthFunc(515);break;case oe:e.depthFunc(514);break;case se:e.depthFunc(518);break;case ue:e.depthFunc(516);break;case ce:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,n=null,r=null,a=null}}},c=new function(){var t=!1,n=null,r=null,a=null,i=null,o=null,s=null,u=null,c=null;return{setTest:function(e){t||(e?_e(2960):be(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&a===n&&i===o||(e.stencilFunc(t,n,o),r=t,a=n,i=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,a=null,i=null,o=null,s=null,u=null,c=null}}},l={},f=null,d={},h=null,p=!1,v=null,m=null,g=null,y=null,_=null,b=null,M=null,E=!1,C=null,S=null,T=null,k=null,L=null,D=e.getParameter(35661),le=!1,fe=0,de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(fe=parseFloat(/^WebGL (\d)/.exec(de)[1]),le=fe>=1):-1!==de.indexOf("OpenGL ES")&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),le=fe>=2);var he=null,pe={},ve=new yr(0,0,e.canvas.width,e.canvas.height),me=new yr(0,0,e.canvas.width,e.canvas.height);function ge(t,n,r){var a=new Uint8Array(4),i=e.createTexture();e.bindTexture(t,i),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,a);return i}var ye={};function _e(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function be(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}ye[3553]=ge(3553,3553,1),ye[34067]=ge(34067,34069,6),s.setClear(0,0,0,1),u.setClear(1),c.setClear(0),_e(2929),u.setFunc(ie),Ee(!1),Ce(x),_e(2884),Me(R);var we=(r={},(0,o.Z)(r,U,32774),(0,o.Z)(r,N,32778),(0,o.Z)(r,G,32779),r);if(i)we[H]=32775,we[V]=32776;else{var xe=t.get("EXT_blend_minmax");null!==xe&&(we[H]=xe.MIN_EXT,we[V]=xe.MAX_EXT)}var Ae=(a={},(0,o.Z)(a,j,0),(0,o.Z)(a,W,1),(0,o.Z)(a,X,768),(0,o.Z)(a,Y,770),(0,o.Z)(a,te,776),(0,o.Z)(a,$,774),(0,o.Z)(a,K,772),(0,o.Z)(a,q,769),(0,o.Z)(a,Q,771),(0,o.Z)(a,ee,775),(0,o.Z)(a,J,773),a);function Me(t,n,r,a,i,o,s,u){if(t!==R){if(!1===p&&(_e(3042),p=!0),t===Z)i=i||n,o=o||r,s=s||a,n===m&&i===_||(e.blendEquationSeparate(we[n],we[i]),m=n,_=i),r===g&&a===y&&o===b&&s===M||(e.blendFuncSeparate(Ae[r],Ae[a],Ae[o],Ae[s]),g=r,y=a,b=o,M=s),v=t,E=null;else if(t!==v||u!==E){if(m===U&&_===U||(e.blendEquation(32774),m=U,_=U),u)switch(t){case F:e.blendFuncSeparate(1,771,1,771);break;case I:e.blendFunc(1,1);break;case O:e.blendFuncSeparate(0,0,769,771);break;case z:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case F:e.blendFuncSeparate(770,771,1,771);break;case I:e.blendFunc(770,1);break;case O:e.blendFunc(0,769);break;case z:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,b=null,M=null,v=t,E=u}}else!0===p&&(be(3042),p=!1)}function Ee(t){C!==t&&(t?e.frontFace(2304):e.frontFace(2305),C=t)}function Ce(t){t!==w?(_e(2884),t!==S&&(t===x?e.cullFace(1029):t===A?e.cullFace(1028):e.cullFace(1032))):be(2884),S=t}function Se(t,n,r){t?(_e(32823),k===n&&L===r||(e.polygonOffset(n,r),k=n,L=r)):be(32823)}function Te(t){void 0===t&&(t=33984+D-1),he!==t&&(e.activeTexture(t),he=t)}return{buffers:{color:s,depth:u,stencil:c},enable:_e,disable:be,bindFramebuffer:function(t,n){null===n&&null!==f&&(n=f),d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,i&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)))},bindXRFramebuffer:function(t){t!==f&&(e.bindFramebuffer(36160,t),f=t)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:Me,setMaterial:function(e,t){e.side===P?be(2884):_e(2884);var n=e.side===B;t&&(n=!n),Ee(n),e.blending===F&&!1===e.transparent?Me(R):Me(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;c.setTest(r),r&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Se(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?_e(32926):be(32926)},setFlipSided:Ee,setCullFace:Ce,setLineWidth:function(t){t!==T&&(le&&e.lineWidth(t),T=t)},setPolygonOffset:Se,setScissorTest:function(e){e?_e(3089):be(3089)},activeTexture:Te,bindTexture:function(t,n){null===he&&Te();var r=pe[he];void 0===r&&(r={type:void 0,texture:void 0},pe[he]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ye[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=pe[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ve.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ve.copy(t))},viewport:function(t){!1===me.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),me.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},he=null,pe={},f=null,d={},h=null,p=!1,v=null,m=null,g=null,y=null,_=null,b=null,M=null,E=!1,C=null,S=null,T=null,k=null,L=null,ve.set(0,0,e.canvas.width,e.canvas.height),me.set(0,0,e.canvas.width,e.canvas.height),s.reset(),u.reset(),c.reset()}}}function su(e,t,n,r,a,i,s){var u,c,l,f=a.isWebGL2,d=a.maxTextures,h=a.maxCubemapSize,p=a.maxTextureSize,v=a.maxSamples,m=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(N){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(e,t,n,r){var a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var i=t?cr:Math.floor,o=i(a*e.width),s=i(a*e.height);void 0===l&&(l=y(o,s));var u=n?y(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return sr(e.width)&&sr(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==ke&&e.minFilter!==Re}function x(t,n,a,i){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log2(Math.max(a,i))}function A(n,r,a){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var i=r;return 6403===r&&(5126===a&&(i=33326),5131===a&&(i=33325),5121===a&&(i=33321)),6407===r&&(5126===a&&(i=34837),5131===a&&(i=34843),5121===a&&(i=32849)),6408===r&&(5126===a&&(i=34836),5131===a&&(i=34842),5121===a&&(i=32856)),33325!==i&&33326!==i&&34842!==i&&34836!==i||t.get("EXT_color_buffer_float"),i}function M(e){return e===ke||e===Be||e===Le?9728:9729}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&m.delete(n),s.memory.textures--}function C(t){var n=t.target;n.removeEventListener("dispose",C),function(t){var n=t.texture,a=r.get(t),i=r.get(n);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(a.__webglFramebuffer[o]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[o]);else e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&e.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer&&e.deleteRenderbuffer(a.__webglColorRenderbuffer),a.__webglDepthRenderbuffer&&e.deleteRenderbuffer(a.__webglDepthRenderbuffer);r.remove(n),r.remove(t)}(n),s.memory.textures--}var S=0;function T(e,t){var a=r.get(e);if(e.isVideoTexture&&function(e){var t=s.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(e),e.version>0&&a.__version!==e.version){var i=e.image;if(void 0===i)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==i.complete)return void R(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,a.__webglTexture)}function k(t,a){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,a){if(6!==r.image.length)return;D(t,r),n.activeTexture(33984+a),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,u=[],c=0;c<6;c++)u[c]=o||s?s?r.image[c].image:r.image[c]:_(r.image[c],!1,!0,h);var l,d=u[0],p=b(d)||f,v=i.convert(r.format),m=i.convert(r.type),g=A(r.internalFormat,v,m);if(L(34067,r,p),o){for(var y=0;y<6;y++){l=u[y].mipmaps;for(var M=0;M<l.length;M++){var E=l[M];r.format!==$e&&r.format!==Je?null!==v?n.compressedTexImage2D(34069+y,M,g,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,M,g,E.width,E.height,0,v,m,E.data)}}t.__maxMipLevel=l.length-1}else{l=r.mipmaps;for(var C=0;C<6;C++)if(s){n.texImage2D(34069+C,0,g,u[C].width,u[C].height,0,v,m,u[C].data);for(var S=0;S<l.length;S++){var T=l[S].image[C].image;n.texImage2D(34069+C,S+1,g,T.width,T.height,0,v,m,T.data)}}else{n.texImage2D(34069+C,0,g,v,m,u[C]);for(var k=0;k<l.length;k++){var B=l[k];n.texImage2D(34069+C,k+1,g,v,m,B.image[C])}}t.__maxMipLevel=l.length}w(r,p)&&x(34067,r,d.width,d.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,t,a):(n.activeTexture(33984+a),n.bindTexture(34067,o.__webglTexture))}var B=(u={},(0,o.Z)(u,Ce,10497),(0,o.Z)(u,Se,33071),(0,o.Z)(u,Te,33648),u),P=(c={},(0,o.Z)(c,ke,9728),(0,o.Z)(c,Be,9984),(0,o.Z)(c,Le,9986),(0,o.Z)(c,Re,9729),(0,o.Z)(c,Fe,9985),(0,o.Z)(c,Oe,9987),c);function L(n,i,o){if(o?(e.texParameteri(n,10242,B[i.wrapS]),e.texParameteri(n,10243,B[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,B[i.wrapR]),e.texParameteri(n,10240,P[i.magFilter]),e.texParameteri(n,10241,P[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),i.wrapS===Se&&i.wrapT===Se||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,M(i.magFilter)),e.texParameteri(n,10241,M(i.minFilter)),i.minFilter!==ke&&i.minFilter!==Re&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(i.type===je&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&i.type===We&&!1===t.has("OES_texture_half_float_linear"))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,a.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),s.memory.textures++)}function R(t,r,a){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),D(t,r),n.activeTexture(33984+a),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,u=function(e){return!f&&(e.wrapS!==Se||e.wrapT!==Se||e.minFilter!==ke&&e.minFilter!==Re)}(r)&&!1===b(r.image),c=_(r.image,u,!1,p),l=b(c)||f,d=i.convert(r.format),h=i.convert(r.type),v=A(r.internalFormat,d,h);L(o,r,l);var m=r.mipmaps;if(r.isDepthTexture)v=6402,f?v=r.type===je?36012:r.type===Ve?33190:r.type===Qe?35056:33189:r.type===je&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===rt&&6402===v&&r.type!==Ge&&r.type!==Ve&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ge,h=i.convert(r.type)),r.format===at&&6402===v&&(v=34041,r.type!==Qe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Qe,h=i.convert(r.type))),n.texImage2D(3553,0,v,c.width,c.height,0,d,h,null);else if(r.isDataTexture)if(m.length>0&&l){for(var g=0,y=m.length;g<y;g++)s=m[g],n.texImage2D(3553,g,v,s.width,s.height,0,d,h,s.data);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,c.width,c.height,0,d,h,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var M=0,E=m.length;M<E;M++)s=m[M],r.format!==$e&&r.format!==Je?null!==d?n.compressedTexImage2D(3553,M,v,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,v,s.width,s.height,0,d,h,s.data);t.__maxMipLevel=m.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,v,c.width,c.height,c.depth,0,d,h,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,v,c.width,c.height,c.depth,0,d,h,c.data),t.__maxMipLevel=0;else if(m.length>0&&l){for(var C=0,S=m.length;C<S;C++)s=m[C],n.texImage2D(3553,C,v,d,h,s);r.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else n.texImage2D(3553,0,v,d,h,c),t.__maxMipLevel=0;w(r,l)&&x(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function F(t,a,o,s){var u=a.texture,c=i.convert(u.format),l=i.convert(u.type),f=A(u.internalFormat,c,l);32879===s||35866===s?n.texImage3D(s,0,f,a.width,a.height,a.depth,0,c,l,null):n.texImage2D(s,0,f,a.width,a.height,0,c,l,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(u).__webglTexture,0),n.bindFramebuffer(36160,null)}function I(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var a=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===je?a=36012:o.type===Ve&&(a=33190));var s=z(n);e.renderbufferStorageMultisample(36161,s,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var u=z(n);e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=n.texture,l=i.convert(c.format),f=i.convert(c.type),d=A(c.internalFormat,l,f);if(r){var h=z(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function O(t){var a=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,a){if(a&&a.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),T(a.depthTexture,0);var i=r.get(a.depthTexture).__webglTexture;if(a.depthTexture.format===rt)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(a.depthTexture.format!==at)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(a.__webglFramebuffer,t)}else if(i){a.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,a.__webglFramebuffer[o]),a.__webglDepthbuffer[o]=e.createRenderbuffer(),I(a.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),I(a.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function z(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(v,e.samples):0}var Z=!1,U=!1;this.allocateTextureUnit=function(){var e=S;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?R(a,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,a.__webglTexture))},this.setTexture3D=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?R(a,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,a.__webglTexture))},this.setTextureCube=k,this.setupRenderTarget=function(t){var a=t.texture,o=r.get(t),u=r.get(a);t.addEventListener("dispose",C),u.__webglTexture=e.createTexture(),u.__version=a.version,s.memory.textures++;var c=!0===t.isWebGLCubeRenderTarget,l=!0===t.isWebGLMultisampleRenderTarget,d=a.isDataTexture3D||a.isDataTexture2DArray,h=b(t)||f;if(!f||a.format!==Je||a.type!==je&&a.type!==We||(a.format=$e,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){o.__webglFramebuffer=[];for(var p=0;p<6;p++)o.__webglFramebuffer[p]=e.createFramebuffer()}else if(o.__webglFramebuffer=e.createFramebuffer(),l)if(f){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,o.__webglColorRenderbuffer);var v=i.convert(a.format),m=i.convert(a.type),g=A(a.internalFormat,v,m),y=z(t);e.renderbufferStorageMultisample(36161,y,g,t.width,t.height),n.bindFramebuffer(36160,o.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,o.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),I(o.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,u.__webglTexture),L(34067,a,h);for(var _=0;_<6;_++)F(o.__webglFramebuffer[_],t,36064,34069+_);w(a,h)&&x(34067,a,t.width,t.height),n.bindTexture(34067,null)}else{var M=3553;if(d)if(f)M=a.isDataTexture3D?32879:35866;else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");n.bindTexture(M,u.__webglTexture),L(M,a,h),F(o.__webglFramebuffer,t,36064,M),w(a,h)&&x(3553,a,t.width,t.height),n.bindTexture(3553,null)}t.depthBuffer&&O(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(w(t,b(e)||f)){var a=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(t).__webglTexture;n.bindTexture(a,i),x(a,t,e.width,e.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var a=t.width,i=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024);var s=r.get(t);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),e.blitFramebuffer(0,0,a,i,0,0,a,i,o,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Z=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),k(e,t)}}function uu(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===Ze)return 5121;if(e===Xe)return 32819;if(e===qe)return 32820;if(e===Ye)return 33635;if(e===Ue)return 5120;if(e===Ne)return 5122;if(e===Ge)return 5123;if(e===He)return 5124;if(e===Ve)return 5125;if(e===je)return 5126;if(e===We)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Ke)return 6406;if(e===Je)return 6407;if(e===$e)return 6408;if(e===et)return 6409;if(e===tt)return 6410;if(e===rt)return 6402;if(e===at)return 34041;if(e===it)return 6403;if(e===ot)return 36244;if(e===st)return 33319;if(e===ut)return 33320;if(e===ct)return 36248;if(e===lt)return 36249;if(e===ft||e===dt||e===ht||e===pt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===ft)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===dt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ht)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===pt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===vt||e===mt||e===gt||e===yt){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===vt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===mt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===gt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===yt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===_t)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===bt||e===wt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===bt)return n.COMPRESSED_RGB8_ETC2;if(e===wt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===xt||e===At||e===Mt||e===Et||e===Ct||e===St||e===Tt||e===kt||e===Bt||e===Pt||e===Lt||e===Dt||e===Rt||e===Ft||e===Ot||e===zt||e===Zt||e===Ut||e===Nt||e===Gt||e===Ht||e===Vt||e===jt||e===Wt||e===Xt||e===qt||e===Yt||e===Qt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===It?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Qe?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var cu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,p.Z)(this,n),(e=t.call(this)).cameras=r,e}return(0,v.Z)(n)}(ji);cu.prototype.isArrayCamera=!0;var lu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="Group",e}return(0,v.Z)(n)}(Ma);lu.prototype.isGroup=!0;var fu={type:"move"},du=function(){function e(){(0,p.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,v.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new lu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new lu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new xr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new xr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new lu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new xr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new xr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,a=null,o=null,s=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==s&&null!==(r=t.getPose(e.targetRaySpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(fu)),c&&e.hand){o=!0;var l,f=(0,i.Z)(e.hand.values());try{for(f.s();!(l=f.n()).done;){var d=l.value,h=t.getJointPose(d,n);if(void 0===c.joints[d.jointName]){var p=new lu;p.matrixAutoUpdate=!1,p.visible=!1,c.joints[d.jointName]=p,c.add(p)}var v=c.joints[d.jointName];null!==h&&(v.matrix.fromArray(h.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=h.radius),v.visible=null!==h}}catch(_){f.e(_)}finally{f.f()}var m=c.joints["index-finger-tip"],g=c.joints["thumb-tip"],y=m.position.distanceTo(g.position);c.inputState.pinching&&y>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&y<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&null!==(a=t.getPose(e.gripSpace,n))&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1);return null!==s&&(s.visible=null!==r),null!==u&&(u.visible=null!==a),null!==c&&(c.visible=null!==o),this}}]),e}(),hu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;(0,p.Z)(this,n),i=t.call(this);var o=(0,f.Z)(i),s=e.state,u=null,c=1,l=null,d="local-floor",h=null,v=[],m=new Map,y=new ji;y.layers.enable(1),y.viewport=new yr;var _=new ji;_.layers.enable(2),_.viewport=new yr;var b=[y,_],w=new cu;w.layers.enable(1),w.layers.enable(2);var x=null,A=null;function M(e){var t=m.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function E(){m.forEach((function(e,t){e.disconnect(t)})),m.clear(),x=null,A=null,s.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),P.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function C(e){for(var t=u.inputSources,n=0;n<v.length;n++)m.set(t[n],v[n]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],i=m.get(a);i&&(i.dispatchEvent({type:"disconnected",data:a}),m.delete(a))}for(var o=0;o<e.added.length;o++){var s=e.added[o],c=m.get(s);c&&c.dispatchEvent({type:"connected",data:s})}}i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=v[e];return void 0===t&&(t=new du,v[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=v[e];return void 0===t&&(t=new du,v[e]=t),t.getGripSpace()},i.getHand=function(e){var t=v[e];return void 0===t&&(t=new du,v[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){c=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){d=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return l},i.getSession=function(){return u},i.setSession=function(){var e=(0,a.Z)(g().mark((function e(t){var n,a,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(u=t)){e.next=24;break}if(u.addEventListener("select",M),u.addEventListener("selectstart",M),u.addEventListener("selectend",M),u.addEventListener("squeeze",M),u.addEventListener("squeezestart",M),u.addEventListener("squeezeend",M),u.addEventListener("end",E),u.addEventListener("inputsourceschange",C),!0===(n=r.getContextAttributes()).xrCompatible){e.next=14;break}return e.next=14,r.makeXRCompatible();case 14:return a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:c},i=new XRWebGLLayer(u,r,a),u.updateRenderState({baseLayer:i}),e.next=19,u.requestReferenceSpace(d);case 19:l=e.sent,P.setContext(u),P.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var S=new xr,T=new xr;function k(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.getCamera=function(e){w.near=_.near=y.near=e.near,w.far=_.far=y.far=e.far,x===w.near&&A===w.far||(u.updateRenderState({depthNear:w.near,depthFar:w.far}),x=w.near,A=w.far);var t=e.parent,n=w.cameras;k(w,t);for(var r=0;r<n.length;r++)k(n[r],t);e.matrixWorld.copy(w.matrixWorld),e.matrix.copy(w.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var a=e.children,i=0,o=a.length;i<o;i++)a[i].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){S.setFromMatrixPosition(t.matrixWorld),T.setFromMatrixPosition(n.matrixWorld);var r=S.distanceTo(T),a=t.projectionMatrix.elements,i=n.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),u=(a[9]+1)/a[5],c=(a[9]-1)/a[5],l=(a[8]-1)/a[0],f=(i[8]+1)/i[0],d=o*l,h=o*f,p=r/(-l+f),v=p*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=d-v,_=h+(r-v),b=u*s/g*m,w=c*s/g*m;e.projectionMatrix.makePerspective(y,_,b,w,m,g)}(w,y,_):w.projectionMatrix.copy(y.projectionMatrix),w};var B=null;var P=new eo;return P.setAnimationLoop((function(e,t){if(null!==(h=t.getViewerPose(l))){var n=h.views,r=u.renderState.baseLayer;s.bindXRFramebuffer(r.framebuffer);var a=!1;n.length!==w.cameras.length&&(w.cameras.length=0,a=!0);for(var i=0;i<n.length;i++){var o=n[i],c=r.getViewport(o),f=b[i];f.matrix.fromArray(o.transform.matrix),f.projectionMatrix.fromArray(o.projectionMatrix),f.viewport.set(c.x,c.y,c.width,c.height),0===i&&w.matrix.copy(f.matrix),!0===a&&w.cameras.push(f)}}for(var d=u.inputSources,p=0;p<v.length;p++){var m=v[p],g=d[p];m.update(g,t,l)}B&&B(e,t)})),i.setAnimationLoop=function(e){B=e},i.dispose=function(){},i}return(0,v.Z)(n)}(Kn);function pu(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,a,i=e.get(n).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(i).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===B&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===B&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,a,i){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===B&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var a;t.map?a=t.map:t.alphaMap&&(a=t.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,i):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function vu(e){var t=void 0!==(e=e||{}).canvas?e.canvas:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",l=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,d=null,h=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=dn,this.physicallyCorrectLights=!1,this.toneMapping=he,this.toneMappingExposure=1;var v=this,m=!1,g=0,y=0,_=null,b=-1,w=null,x=new yr,A=new yr,M=null,E=t.width,C=t.height,S=1,T=null,k=null,B=new yr(0,0,E,C),P=new yr(0,0,E,C),L=!1,D=new $i,R=!1,F=!1,I=new $r,O=new xr,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return null===_?S:1}var U,N,G,H,V,j,W,X,q,Y,Q,K,J,$,ee,te,ne,re,ae,ie,oe,se,ue=n;function ce(e,n){for(var r=0;r<e.length;r++){var a=e[r],i=t.getContext(a,n);if(null!==i)return i}return null}try{var le={alpha:r,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:l};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",me,!1),null===ue){var fe=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&fe.shift(),null===(ue=ce(fe,le)))throw ce(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}function de(){U=new ho(ue),N=new co(ue,U,e),U.init(N),oe=new uu(ue,U,N),G=new ou(ue,U,N),H=new mo(ue),V=new Ws,j=new su(ue,U,G,V,N,oe,H),W=new fo(v),X=new to(ue,N),se=new so(ue,U,X,N),q=new po(ue,X,H,se),Y=new bo(ue,q,X,H),re=new _o(ue),ee=new lo(V),Q=new js(v,W,U,N,se,ee),K=new pu(V),J=new Qs(V),$=new nu(U,N),ne=new oo(v,W,G,Y,s),te=new iu(v,Y,N),ae=new uo(ue,U,H,N),ie=new vo(ue,U,H,N),H.programs=Q.programs,v.capabilities=N,v.extensions=U,v.properties=V,v.renderLists=J,v.shadowMap=te,v.state=G,v.info=H}de();var pe=new hu(v,ue);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=H.autoReset,t=te.enabled,n=te.autoUpdate,r=te.needsUpdate,a=te.type;de(),H.autoReset=e,te.enabled=t,te.autoUpdate=n,te.needsUpdate=r,te.type=a}function ge(e){var t=e.target;t.removeEventListener("dispose",ge),function(e){(function(e){var t=V.get(e).programs;void 0!==t&&t.forEach((function(e){Q.releaseProgram(e)}))})(e),V.remove(e)}(t)}this.xr=pe,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return S},this.setPixelRatio=function(e){void 0!==e&&(S=e,this.setSize(E,C,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new fr),e.set(E,C)},this.setSize=function(e,n,r){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,C=n,t.width=Math.floor(e*S),t.height=Math.floor(n*S),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new fr),e.set(E*S,C*S).floor()},this.setDrawingBufferSize=function(e,n,r){E=e,C=n,S=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new yr),e.copy(x)},this.getViewport=function(e){return e.copy(B)},this.setViewport=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),G.viewport(x.copy(B).multiplyScalar(S).floor())},this.getScissor=function(e){return e.copy(P)},this.setScissor=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),G.scissor(A.copy(P).multiplyScalar(S).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){G.setScissorTest(L=e)},this.setOpaqueSort=function(e){T=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new qa),e.copy(ne.getClearColor())},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ue.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",me,!1),J.dispose(),$.dispose(),V.dispose(),W.dispose(),Y.dispose(),se.dispose(),pe.dispose(),pe.removeEventListener("sessionstart",_e),pe.removeEventListener("sessionend",be),we.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=V.get(e);e.hasPositions&&!n.position&&(n.position=ue.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ue.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ue.createBuffer()),e.hasColors&&!n.color&&(n.color=ue.createBuffer());var r=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,n.position),ue.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),ue.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,n.normal),ue.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),ue.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,n.uv),ue.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),ue.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,n.color),ue.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),ue.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,a,i){null===t&&(t=z);var o=a.isMesh&&a.matrixWorld.determinant()<0,s=Se(e,t,r,a);G.setMaterial(r,o);var u=n.index,c=n.attributes.position;if(null===u){if(void 0===c||0===c.count)return}else if(0===u.count)return;var l,f=1;!0===r.wireframe&&(u=q.getWireframeAttribute(n),f=2),(r.morphTargets||r.morphNormals)&&re.update(a,n,r,s),se.setup(a,r,s,n,u);var d=ae;null!==u&&(l=X.get(u),(d=ie).setIndex(l));var h=null!==u?u.count:c.count,p=n.drawRange.start*f,v=n.drawRange.count*f,m=null!==i?i.start*f:0,g=null!==i?i.count*f:1/0,y=Math.max(p,m),_=Math.min(h,p+v,m+g)-1,b=Math.max(0,_-y+1);if(0!==b){if(a.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*Z()),d.setMode(1)):d.setMode(4);else if(a.isLine){var w=r.linewidth;void 0===w&&(w=1),G.setLineWidth(w*Z()),a.isLineSegments?d.setMode(1):a.isLineLoop?d.setMode(2):d.setMode(3)}else a.isPoints?d.setMode(0):a.isSprite&&d.setMode(4);if(a.isInstancedMesh)d.renderInstances(y,b,a.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,b,x)}else d.render(y,b)}},this.compile=function(e,t){(d=$.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){Ee(n[r],e,t)}else Ee(n,e,t)}))};var ye=null;function _e(){we.stop()}function be(){we.start()}var we=new eo;function xe(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);var a=Y.update(e),i=e.material;i.visible&&f.push(e,a,i,n,O.z,null)}}else if(e.isImmediateRenderObject)r&&O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I),f.push(e,null,e.material,n,O.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&O.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);var o=Y.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,c=0,l=u.length;c<l;c++){var h=u[c],p=s[h.materialIndex];p&&p.visible&&f.push(e,o,p,n,O.z,h)}else s.visible&&f.push(e,o,s,n,O.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)xe(v[m],t,n,r)}}function Ae(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,a=0,i=e.length;a<i;a++){var o=e[a],s=o.object,u=o.geometry,c=null===r?o.material:r,l=o.group;if(n.isArrayCamera)for(var f=n.cameras,h=0,p=f.length;h<p;h++){var v=f[h];s.layers.test(v.layers)&&(G.viewport(x.copy(v.viewport)),d.setupLightsView(v),Me(s,t,v,u,c,l))}else Me(s,t,n,u,c,l)}}function Me(e,t,n,r,a,i){if(e.onBeforeRender(v,t,n,r,a,i),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Se(n,t,a,e);G.setMaterial(a),se.reset(),function(e,t){e.render((function(e){v.renderBufferImmediate(e,t)}))}(e,o)}else v.renderBufferDirect(n,t,r,a,e,i);e.onAfterRender(v,t,n,r,a,i)}function Ee(e,t,n){!0!==t.isScene&&(t=z);var r=V.get(e),a=d.state.lights,i=d.state.shadowsArray,o=a.state.version,s=Q.getParameters(e,a.state,i,t,n),u=Q.getProgramCacheKey(s),c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=W.get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",ge),c=new Map,r.programs=c);var l=c.get(u);if(void 0!==l){if(r.currentProgram===l&&r.lightsStateVersion===o)return Ce(e,s),l}else s.uniforms=Q.getUniforms(e),e.onBuild(s,v),e.onBeforeCompile(s,v),l=Q.acquireProgram(s,u),c.set(u,l),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ee.uniform),Ce(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=a.state.ambient,f.lightProbe.value=a.state.probe,f.directionalLights.value=a.state.directional,f.directionalLightShadows.value=a.state.directionalShadow,f.spotLights.value=a.state.spot,f.spotLightShadows.value=a.state.spotShadow,f.rectAreaLights.value=a.state.rectArea,f.ltc_1.value=a.state.rectAreaLTC1,f.ltc_2.value=a.state.rectAreaLTC2,f.pointLights.value=a.state.point,f.pointLightShadows.value=a.state.pointShadow,f.hemisphereLights.value=a.state.hemi,f.directionalShadowMap.value=a.state.directionalShadowMap,f.directionalShadowMatrix.value=a.state.directionalShadowMatrix,f.spotShadowMap.value=a.state.spotShadowMap,f.spotShadowMatrix.value=a.state.spotShadowMatrix,f.pointShadowMap.value=a.state.pointShadowMap,f.pointShadowMatrix.value=a.state.pointShadowMatrix);var h=l.getUniforms(),p=Ms.seqWithValue(h.seq,f);return r.currentProgram=l,r.uniformsList=p,l}function Ce(e,t){var n=V.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas}function Se(e,t,n,r){!0!==t.isScene&&(t=z),j.resetTextureUnits();var a=t.fog,i=n.isMeshStandardMaterial?t.environment:null,o=null===_?v.outputEncoding:_.texture.encoding,s=W.get(n.envMap||i),u=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,c=V.get(n),l=d.state.lights;if(!0===R&&(!0===F||e!==w)){var f=e===w&&n.id===b;ee.setState(n,e,f)}var h=!1;n.version===c.__version?c.needsLights&&c.lightsStateVersion!==l.state.version||c.outputEncoding!==o||r.isInstancedMesh&&!1===c.instancing?h=!0:r.isInstancedMesh||!0!==c.instancing?c.envMap!==s||n.fog&&c.fog!==a?h=!0:void 0===c.numClippingPlanes||c.numClippingPlanes===ee.numPlanes&&c.numIntersection===ee.numIntersection?c.vertexAlphas!==u&&(h=!0):h=!0:h=!0:(h=!0,c.__version=n.version);var p=c.currentProgram;!0===h&&(p=Ee(n,t,r));var m,g,y=!1,x=!1,A=!1,M=p.getUniforms(),E=c.uniforms;if(G.useProgram(p.program)&&(y=!0,x=!0,A=!0),n.id!==b&&(b=n.id,x=!0),y||w!==e){if(M.setValue(ue,"projectionMatrix",e.projectionMatrix),N.logarithmicDepthBuffer&&M.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,x=!0,A=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var T=M.map.cameraPosition;void 0!==T&&T.setValue(ue,O.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&M.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&M.setValue(ue,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){M.setOptional(ue,r,"bindMatrix"),M.setOptional(ue,r,"bindMatrixInverse");var k=r.skeleton;if(k){var B=k.bones;if(N.floatVertexTextures){if(null===k.boneTexture){var P=Math.sqrt(4*B.length);P=ur(P),P=Math.max(P,4);var L=new Float32Array(P*P*4);L.set(k.boneMatrices);var D=new Qi(L,P,P,$e,je);k.boneMatrices=L,k.boneTexture=D,k.boneTextureSize=P}M.setValue(ue,"boneTexture",k.boneTexture,j),M.setValue(ue,"boneTextureSize",k.boneTextureSize)}else M.setOptional(ue,k,"boneMatrices")}}return(x||c.receiveShadow!==r.receiveShadow)&&(c.receiveShadow=r.receiveShadow,M.setValue(ue,"receiveShadow",r.receiveShadow)),x&&(M.setValue(ue,"toneMappingExposure",v.toneMappingExposure),c.needsLights&&(g=A,(m=E).ambientLightColor.needsUpdate=g,m.lightProbe.needsUpdate=g,m.directionalLights.needsUpdate=g,m.directionalLightShadows.needsUpdate=g,m.pointLights.needsUpdate=g,m.pointLightShadows.needsUpdate=g,m.spotLights.needsUpdate=g,m.spotLightShadows.needsUpdate=g,m.rectAreaLights.needsUpdate=g,m.hemisphereLights.needsUpdate=g),a&&n.fog&&K.refreshFogUniforms(E,a),K.refreshMaterialUniforms(E,n,S,C),Ms.upload(ue,c.uniformsList,E,j)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ms.upload(ue,c.uniformsList,E,j),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(ue,"center",r.center),M.setValue(ue,"modelViewMatrix",r.modelViewMatrix),M.setValue(ue,"normalMatrix",r.normalMatrix),M.setValue(ue,"modelMatrix",r.matrixWorld),p}we.setAnimationLoop((function(e){ye&&ye(e)})),"undefined"!==typeof window&&we.setContext(window),this.setAnimationLoop=function(e){ye=e,pe.setAnimationLoop(e),null===e?we.stop():we.start()},pe.addEventListener("sessionstart",_e),pe.addEventListener("sessionend",be),this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===pe.enabled&&!0===pe.isPresenting&&(t=pe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(v,e,t,n||_),(d=$.get(e,p.length)).init(),p.push(d),I.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(I),F=this.localClippingEnabled,R=ee.init(this.clippingPlanes,F,t),(f=J.get(e,h.length)).init(),h.push(f),xe(e,t,0,v.sortObjects),f.finish(),!0===v.sortObjects&&f.sort(T,k),!0===R&&ee.beginShadows();var a=d.state.shadowsArray;te.render(a,e,t),d.setupLights(),d.setupLightsView(t),!0===R&&ee.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(f,e,t,r);var i=f.opaque,o=f.transparent;i.length>0&&Ae(i,e,t),o.length>0&&Ae(o,e,t),null!==_&&(j.updateRenderTargetMipmap(_),j.updateMultisampleRenderTarget(_)),!0===e.isScene&&e.onAfterRender(v,e,t),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),se.resetDefaultState(),b=-1,w=null,p.pop(),d=p.length>0?p[p.length-1]:null,h.pop(),f=h.length>0?h[h.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return _},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_=e,g=t,y=n,e&&void 0===V.get(e).__webglFramebuffer&&j.setupRenderTarget(e);var r=null,a=!1,i=!1;if(e){var o=e.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(i=!0);var s=V.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],a=!0):r=e.isWebGLMultisampleRenderTarget?V.get(e).__webglMultisampledFramebuffer:s,x.copy(e.viewport),A.copy(e.scissor),M=e.scissorTest}else x.copy(B).multiplyScalar(S).floor(),A.copy(P).multiplyScalar(S).floor(),M=L;if(G.bindFramebuffer(36160,r),G.viewport(x),G.scissor(A),G.setScissorTest(M),a){var u=V.get(e.texture);ue.framebufferTexture2D(36160,36064,34069+t,u.__webglTexture,n)}else if(i){var c=V.get(e.texture),l=t||0;ue.framebufferTextureLayer(36160,36064,c.__webglTexture,n||0,l)}},this.readRenderTargetPixels=function(e,t,n,r,a,i,o){if(e&&e.isWebGLRenderTarget){var s=V.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var u=e.texture,c=u.format,l=u.type;if(c!==$e&&oe.convert(c)!==ue.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=l===We&&(U.has("EXT_color_buffer_half_float")||N.isWebGL2&&U.has("EXT_color_buffer_float"));if(l!==Ze&&oe.convert(l)!==ue.getParameter(35738)&&(l!==je||!(N.isWebGL2||U.has("OES_texture_float")||U.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ue.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-a&&ue.readPixels(t,n,r,a,oe.convert(c),oe.convert(l),i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var d=null!==_?V.get(_).__webglFramebuffer:null;G.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),a=Math.floor(t.image.width*r),i=Math.floor(t.image.height*r),o=oe.convert(t.format);j.setTexture2D(t,0),ue.copyTexImage2D(3553,n,o,e.x,e.y,a,i,0),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.image.width,i=t.image.height,o=oe.convert(n.format),s=oe.convert(n.type);j.setTexture2D(n,0),ue.pixelStorei(37440,n.flipY),ue.pixelStorei(37441,n.premultiplyAlpha),ue.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,r,e.x,e.y,a,i,o,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ue.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ue.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var i,o=n.image,s=o.width,u=o.height,c=o.data,l=oe.convert(r.format),f=oe.convert(r.type);if(r.isDataTexture3D)j.setTexture3D(r,0),i=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");j.setTexture2DArray(r,0),i=35866}ue.pixelStorei(37440,r.flipY),ue.pixelStorei(37441,r.premultiplyAlpha),ue.pixelStorei(3317,r.unpackAlignment);var d=ue.getParameter(3314),h=ue.getParameter(32878),p=ue.getParameter(3316),m=ue.getParameter(3315),g=ue.getParameter(32877);ue.pixelStorei(3314,s),ue.pixelStorei(32878,u),ue.pixelStorei(3316,e.min.x),ue.pixelStorei(3315,e.min.y),ue.pixelStorei(32877,e.min.z),ue.texSubImage3D(i,a,t.x,t.y,t.z,e.max.x-e.min.x+1,e.max.y-e.min.y+1,e.max.z-e.min.z+1,l,f,c),ue.pixelStorei(3314,d),ue.pixelStorei(32878,h),ue.pixelStorei(3316,p),ue.pixelStorei(3315,m),ue.pixelStorei(32877,g),0===a&&r.generateMipmaps&&ue.generateMipmap(i),G.unbindTexture()}},this.initTexture=function(e){j.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){g=0,y=0,_=null,G.reset(),se.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var mu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(vu);mu.prototype.isWebGL1Renderer=!0;var gu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,p.Z)(this,e),this.name="",this.color=new qa(t),this.density=n}return(0,v.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();gu.prototype.isFogExp2=!0;var yu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,p.Z)(this,e),this.name="",this.color=new qa(t),this.near=n,this.far=r}return(0,v.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();yu.prototype.isFog=!0;var _u=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,f.Z)(e)})),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(Ma);_u.prototype.isScene=!0;var bu=function(){function e(t,n){(0,p.Z)(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Un,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=rr(),this.onUploadCallback=function(){}}return(0,v.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rr()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var n=new e(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=rr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();bu.prototype.isInterleavedBuffer=!0;var wu=new xr,xu=function(){function e(t,n,r,a){(0,p.Z)(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===a}return(0,v.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)wu.x=this.getX(t),wu.y=this.getY(t),wu.z=this.getZ(t),wu.applyMatrix4(e),this.setXYZ(t,wu.x,wu.y,wu.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)wu.x=this.getX(t),wu.y=this.getY(t),wu.z=this.getZ(t),wu.applyNormalMatrix(e),this.setXYZ(t,wu.x,wu.y,wu.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)wu.x=this.getX(t),wu.y=this.getY(t),wu.z=this.getZ(t),wu.transformDirection(e),this.setXYZ(t,wu.x,wu.y,wu.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)n.push(this.data.array[a+i]);return new Ja(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,a=0;a<this.itemSize;a++)t.push(this.data.array[r+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();xu.prototype.isInterleavedBufferAttribute=!0;var Au,Mu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new qa(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(Na);Mu.prototype.isSpriteMaterial=!0;var Eu=new xr,Cu=new xr,Su=new xr,Tu=new fr,ku=new fr,Bu=new $r,Pu=new xr,Lu=new xr,Du=new xr,Ru=new fr,Fu=new fr,Iu=new fr,Ou=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;if((0,p.Z)(this,n),(r=t.call(this)).type="Sprite",void 0===Au){Au=new _i;var a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new bu(a,5);Au.setIndex([0,1,2,0,2,3]),Au.setAttribute("position",new xu(i,3,0,!1)),Au.setAttribute("uv",new xu(i,2,3,!1))}return r.geometry=Au,r.material=void 0!==e?e:new Mu,r.center=new fr(.5,.5),r}return(0,v.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Cu.setFromMatrixScale(this.matrixWorld),Bu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Su.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Cu.multiplyScalar(-Su.z);var n,r,a=this.material.rotation;0!==a&&(r=Math.cos(a),n=Math.sin(a));var i=this.center;zu(Pu.set(-.5,-.5,0),Su,i,Cu,n,r),zu(Lu.set(.5,-.5,0),Su,i,Cu,n,r),zu(Du.set(.5,.5,0),Su,i,Cu,n,r),Ru.set(0,0),Fu.set(1,0),Iu.set(1,1);var o=e.ray.intersectTriangle(Pu,Lu,Du,!1,Eu);if(null!==o||(zu(Lu.set(-.5,.5,0),Su,i,Cu,n,r),Fu.set(0,1),null!==(o=e.ray.intersectTriangle(Pu,Du,Lu,!1,Eu)))){var s=e.ray.origin.distanceTo(Eu);s<e.near||s>e.far||t.push({distance:s,point:Eu.clone(),uv:Za.getUV(Eu,Pu,Lu,Du,Ru,Fu,Iu,new fr),face:null,object:this})}}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Ma);function zu(e,t,n,r,a,i){Tu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==a?(ku.x=i*Tu.x-a*Tu.y,ku.y=a*Tu.x+i*Tu.y):ku.copy(Tu),e.copy(t),e.x+=ku.x,e.y+=ku.y,e.applyMatrix4(Bu)}Ou.prototype.isSprite=!0;var Zu=new xr,Uu=new xr,Nu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties((0,f.Z)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return(0,v.Z)(n,[{key:"copy",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,a=t.length;r<a;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Zu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Zu);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Zu.setFromMatrixPosition(e.matrixWorld),Uu.setFromMatrixPosition(this.matrixWorld);var n,r,a=Zu.distanceTo(Uu)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&a>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,a=0,i=r.length;a<i;a++){var o=r[a];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Ma),Gu=new xr,Hu=new yr,Vu=new yr,ju=new xr,Wu=new $r,Xu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="SkinnedMesh",a.bindMode="attached",a.bindMatrix=new $r,a.bindMatrixInverse=new $r,a}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new yr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Hu.fromBufferAttribute(r.attributes.skinIndex,e),Vu.fromBufferAttribute(r.attributes.skinWeight,e),Gu.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var a=0;a<4;a++){var i=Vu.getComponent(a);if(0!==i){var o=Hu.getComponent(a);Wu.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(ju.copy(Gu).applyMatrix4(Wu),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Oi);Xu.prototype.isSkinnedMesh=!0;var qu=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="Bone",e}return(0,v.Z)(n)}(Ma);qu.prototype.isBone=!0;var Yu=new $r,Qu=new $r,Ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,p.Z)(this,e),this.uuid=rr(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,v.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new $r)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new $r;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,a=this.bones.length;r<a;r++){var i=this.bones[r];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,a=0,i=e.length;a<i;a++){var o=e[a]?e[a].matrixWorld:Qu;Yu.multiplyMatrices(o,t[a]),Yu.toArray(n,16*a)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var a=e.bones[n],i=t[a];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),i=new qu),this.bones.push(i),this.boneInverses.push((new $r).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,a=t.length;r<a;r++){var i=t[r];e.bones.push(i.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),Ju=new $r,$u=new $r,ec=[],tc=new Oi,nc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,p.Z)(this,n),(i=t.call(this,e,r)).instanceMatrix=new Ja(new Float32Array(16*a),16),i.instanceColor=null,i.count=a,i.frustumCulled=!1,i}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(tc.geometry=this.geometry,tc.material=this.material,void 0!==tc.material)for(var a=0;a<r;a++){this.getMatrixAt(a,Ju),$u.multiplyMatrices(n,Ju),tc.matrixWorld=$u,tc.raycast(e,ec);for(var i=0,o=ec.length;i<o;i++){var s=ec[i];s.instanceId=a,s.object=this,t.push(s)}ec.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ja(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Oi);nc.prototype.isInstancedMesh=!0;var rc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new qa(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.morphTargets=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}]),n}(Na);rc.prototype.isLineBasicMaterial=!0;var ac=new xr,ic=new xr,oc=new $r,sc=new Jr,uc=new Vr,cc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rc;return(0,p.Z)(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,a=t.count;r<a;r++)ac.fromBufferAttribute(t,r-1),ic.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=ac.distanceTo(ic);e.setAttribute("lineDistance",new si(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),uc.copy(n.boundingSphere),uc.applyMatrix4(r),uc.radius+=a,!1!==e.ray.intersectsSphere(uc)){oc.copy(r).invert(),sc.copy(e.ray).applyMatrix4(oc);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new xr,c=new xr,l=new xr,f=new xr,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,p=n.attributes.position;if(null!==h)for(var v=Math.max(0,i.start),m=Math.min(h.count,i.start+i.count)-1;v<m;v+=d){var g=h.getX(v),y=h.getX(v+1);if(u.fromBufferAttribute(p,g),c.fromBufferAttribute(p,y),!(sc.distanceSqToSegment(u,c,f,l)>s)){f.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,i.start),w=Math.min(p.count,i.start+i.count)-1;b<w;b+=d){if(u.fromBufferAttribute(p,b),c.fromBufferAttribute(p,b+1),!(sc.distanceSqToSegment(u,c,f,l)>s)){f.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(f);x<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Ma);cc.prototype.isLine=!0;var lc=new xr,fc=new xr,dc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="LineSegments",a}return(0,v.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,a=t.count;r<a;r+=2)lc.fromBufferAttribute(t,r),fc.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+lc.distanceTo(fc);e.setAttribute("lineDistance",new si(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(cc);dc.prototype.isLineSegments=!0;var hc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="LineLoop",a}return(0,v.Z)(n)}(cc);hc.prototype.isLineLoop=!0;var pc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new qa(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.morphTargets=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}]),n}(Na);pc.prototype.isPointsMaterial=!0;var vc=new $r,mc=new Jr,gc=new Vr,yc=new xr,_c=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pc;return(0,p.Z)(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),gc.copy(n.boundingSphere),gc.applyMatrix4(r),gc.radius+=a,!1!==e.ray.intersectsSphere(gc)){vc.copy(r).invert(),mc.copy(e.ray).applyMatrix4(vc);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var u=n.index,c=n.attributes.position;if(null!==u)for(var l=Math.max(0,i.start),f=Math.min(u.count,i.start+i.count);l<f;l++){var d=u.getX(l);yc.fromBufferAttribute(c,d),bc(yc,d,s,r,e,t,this)}else for(var h=Math.max(0,i.start),p=Math.min(c.count,i.start+i.count);h<p;h++)yc.fromBufferAttribute(c,h),bc(yc,h,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Ma);function bc(e,t,n,r,a,i,o){var s=mc.distanceSqToPoint(e);if(s<n){var u=new xr;mc.closestPointToPoint(e,u),u.applyMatrix4(r);var c=a.ray.origin.distanceTo(u);if(c<a.near||c>a.far)return;i.push({distance:c,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}_c.prototype.isPoints=!0;var wc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l){var d;(0,p.Z)(this,n),(d=t.call(this,e,r,a,i,o,s,u,c,l)).format=void 0!==u?u:Je,d.minFilter=void 0!==s?s:Re,d.magFilter=void 0!==o?o:Re,d.generateMipmaps=!1;var h=(0,f.Z)(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return(0,v.Z)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(mr);wc.prototype.isVideoTexture=!0;var xc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l,f,d,h){var v;return(0,p.Z)(this,n),(v=t.call(this,null,s,u,c,l,f,i,o,d,h)).image={width:r,height:a},v.mipmaps=e,v.flipY=!1,v.generateMipmaps=!1,v}return(0,v.Z)(n)}(mr);xc.prototype.isCompressedTexture=!0;var Ac=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l){var f;return(0,p.Z)(this,n),(f=t.call(this,e,r,a,i,o,s,u,c,l)).needsUpdate=!0,f}return(0,v.Z)(n)}(mr);Ac.prototype.isCanvasTexture=!0;var Mc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s,u,c,l,f){var d;if((0,p.Z)(this,n),(f=void 0!==f?f:rt)!==rt&&f!==at)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===a&&f===rt&&(a=Ge),void 0===a&&f===at&&(a=Qe),(d=t.call(this,null,i,o,s,u,c,f,a,l)).image={width:e,height:r},d.magFilter=void 0!==u?u:ke,d.minFilter=void 0!==c?c:ke,d.flipY=!1,d.generateMipmaps=!1,d}return(0,v.Z)(n)}(mr);Mc.prototype.isDepthTexture=!0;var Ec=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,p.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:a,thetaStart:i,thetaLength:o},a=Math.max(3,a);var s=[],u=[],c=[],l=[],f=new xr,d=new fr;u.push(0,0,0),c.push(0,0,1),l.push(.5,.5);for(var h=0,v=3;h<=a;h++,v+=3){var m=i+h/a*o;f.x=r*Math.cos(m),f.y=r*Math.sin(m),u.push(f.x,f.y,f.z),c.push(0,0,1),d.x=(u[v]/r+1)/2,d.y=(u[v+1]/r+1)/2,l.push(d.x,d.y)}for(var g=1;g<=a;g++)s.push(g,g+1,0);return e.setIndex(s),e.setAttribute("position",new si(u,3)),e.setAttribute("normal",new si(c,3)),e.setAttribute("uv",new si(l,2)),e}return(0,v.Z)(n)}(_i),Cc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,p.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:a,height:i,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:c,thetaLength:l};var d=(0,f.Z)(e);o=Math.floor(o),s=Math.floor(s);var h=[],v=[],m=[],g=[],y=0,_=[],b=i/2,w=0;function x(){for(var e=new xr,t=new xr,n=0,u=(a-r)/i,f=0;f<=s;f++){for(var p=[],x=f/s,A=x*(a-r)+r,M=0;M<=o;M++){var E=M/o,C=E*l+c,S=Math.sin(C),T=Math.cos(C);t.x=A*S,t.y=-x*i+b,t.z=A*T,v.push(t.x,t.y,t.z),e.set(S,u,T).normalize(),m.push(e.x,e.y,e.z),g.push(E,1-x),p.push(y++)}_.push(p)}for(var k=0;k<o;k++)for(var B=0;B<s;B++){var P=_[B][k],L=_[B+1][k],D=_[B+1][k+1],R=_[B][k+1];h.push(P,L,R),h.push(L,D,R),n+=6}d.addGroup(w,n,0),w+=n}function A(e){for(var t=y,n=new fr,i=new xr,s=0,u=!0===e?r:a,f=!0===e?1:-1,p=1;p<=o;p++)v.push(0,b*f,0),m.push(0,f,0),g.push(.5,.5),y++;for(var _=y,x=0;x<=o;x++){var A=x/o*l+c,M=Math.cos(A),E=Math.sin(A);i.x=u*E,i.y=b*f,i.z=u*M,v.push(i.x,i.y,i.z),m.push(0,f,0),n.x=.5*M+.5,n.y=.5*E*f+.5,g.push(n.x,n.y),y++}for(var C=0;C<o;C++){var S=t+C,T=_+C;!0===e?h.push(T,T+1,S):h.push(T+1,T,S),s+=3}d.addGroup(w,s,!0===e?1:2),w+=s}return x(),!1===u&&(r>0&&A(!0),a>0&&A(!1)),e.setIndex(h),e.setAttribute("position",new si(v,3)),e.setAttribute("normal",new si(m,3)),e.setAttribute("uv",new si(g,2)),e}return(0,v.Z)(n)}(_i),Sc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,p.Z)(this,n),(e=t.call(this,0,r,a,i,o,s,u,c)).type="ConeGeometry",e.parameters={radius:r,height:a,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:c},e}return(0,v.Z)(n)}(Cc),Tc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,p.Z)(this,n),(a=t.call(this)).type="PolyhedronGeometry",a.parameters={vertices:e,indices:r,radius:i,detail:o};var s=[],u=[];function c(e){for(var t=new xr,n=new xr,a=new xr,i=0;i<r.length;i+=3)m(r[i+0],t),m(r[i+1],n),m(r[i+2],a),l(t,n,a,e)}function l(e,t,n,r){for(var a=r+1,i=[],o=0;o<=a;o++){i[o]=[];for(var s=e.clone().lerp(n,o/a),u=t.clone().lerp(n,o/a),c=a-o,l=0;l<=c;l++)i[o][l]=0===l&&o===a?s:s.clone().lerp(u,l/c)}for(var f=0;f<a;f++)for(var d=0;d<2*(a-f)-1;d++){var h=Math.floor(d/2);d%2===0?(v(i[f][h+1]),v(i[f+1][h]),v(i[f][h])):(v(i[f][h+1]),v(i[f+1][h+1]),v(i[f+1][h]))}}function f(e){for(var t=new xr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new xr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=_(e)/2/Math.PI+.5,r=b(e)/Math.PI+.5;u.push(n,1-r)}g(),h()}function h(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],a=Math.max(t,n,r),i=Math.min(t,n,r);a>.9&&i<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}function v(e){s.push(e.x,e.y,e.z)}function m(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function g(){for(var e=new xr,t=new xr,n=new xr,r=new xr,a=new fr,i=new fr,o=new fr,c=0,l=0;c<s.length;c+=9,l+=6){e.set(s[c+0],s[c+1],s[c+2]),t.set(s[c+3],s[c+4],s[c+5]),n.set(s[c+6],s[c+7],s[c+8]),a.set(u[l+0],u[l+1]),i.set(u[l+2],u[l+3]),o.set(u[l+4],u[l+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=_(r);y(a,l+0,e,f),y(i,l+2,t,f),y(o,l+4,n,f)}}function y(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function _(e){return Math.atan2(e.z,-e.x)}function b(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return c(o),f(i),d(),a.setAttribute("position",new si(s,3)),a.setAttribute("normal",new si(s.slice(),3)),a.setAttribute("uv",new si(u,2)),0===o?a.computeVertexNormals():a.normalizeNormals(),a}return(0,v.Z)(n)}(_i),kc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,n);var i=(1+Math.sqrt(5))/2,o=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,u,r,a)).type="DodecahedronGeometry",e.parameters={radius:r,detail:a},e}return(0,v.Z)(n)}(Tc),Bc=new xr,Pc=new xr,Lc=new xr,Dc=new Za,Rc=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;if((0,p.Z)(this,n),(a=t.call(this)).type="EdgesGeometry",a.parameters={thresholdAngle:r},r=void 0!==r?r:1,!0===e.isGeometry)return console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),(0,u.Z)(a);for(var i=Math.pow(10,4),o=Math.cos(tr*r),s=e.getIndex(),c=e.getAttribute("position"),l=s?s.count:c.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),v={},m=[],g=0;g<l;g+=3){s?(f[0]=s.getX(g),f[1]=s.getX(g+1),f[2]=s.getX(g+2)):(f[0]=g,f[1]=g+1,f[2]=g+2);var y=Dc.a,_=Dc.b,b=Dc.c;if(y.fromBufferAttribute(c,f[0]),_.fromBufferAttribute(c,f[1]),b.fromBufferAttribute(c,f[2]),Dc.getNormal(Lc),h[0]="".concat(Math.round(y.x*i),",").concat(Math.round(y.y*i),",").concat(Math.round(y.z*i)),h[1]="".concat(Math.round(_.x*i),",").concat(Math.round(_.y*i),",").concat(Math.round(_.z*i)),h[2]="".concat(Math.round(b.x*i),",").concat(Math.round(b.y*i),",").concat(Math.round(b.z*i)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var w=0;w<3;w++){var x=(w+1)%3,A=h[w],M=h[x],E=Dc[d[w]],C=Dc[d[x]],S="".concat(A,"_").concat(M),T="".concat(M,"_").concat(A);T in v&&v[T]?(Lc.dot(v[T].normal)<=o&&(m.push(E.x,E.y,E.z),m.push(C.x,C.y,C.z)),v[T]=null):S in v||(v[S]={index0:f[w],index1:f[x],normal:Lc.clone()})}}for(var k in v)if(v[k]){var B=v[k],P=B.index0,L=B.index1;Bc.fromBufferAttribute(c,P),Pc.fromBufferAttribute(c,L),m.push(Bc.x,Bc.y,Bc.z),m.push(Pc.x,Pc.y,Pc.z)}return a.setAttribute("position",new si(m,3)),a}return(0,v.Z)(n)}(_i),Fc=function(e,t,n){n=n||2;var r,a,i,o,s,u,c,l=t&&t.length,f=l?t[0]*n:e.length,d=Ic(e,0,f,n,!0),h=[];if(!d||d.next===d.prev)return h;if(l&&(d=function(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=Ic(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Xc(o));for(s.sort(Hc),a=0;a<s.length;a++)Vc(s[a],n),n=Oc(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=i=e[0],a=o=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<a&&(a=u),s>i&&(i=s),u>o&&(o=u);c=0!==(c=Math.max(i-r,o-a))?1/c:0}return zc(d,h,n,r,a,c),h};function Ic(e,t,n,r,a){var i,o;if(a===function(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,t,n,r)>0)for(i=t;i<n;i+=r)o=rl(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=rl(i,e[i],e[i+1],o);return o&&Kc(o,o.next)&&(al(o),o=o.next),o}function Oc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Kc(r,r.next)&&0!==Qc(r.prev,r,r.next))r=r.next;else{if(al(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function zc(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{null===a.z&&(a.z=Wc(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,u,c=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,u--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,c*=2}while(o>1)}(a)}(e,r,a,i);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,i?Uc(e,r,a,i):Zc(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),al(e),e=u.next,c=u.next;else if((e=u)===c){o?1===o?zc(e=Nc(Oc(e),t,n),t,n,r,a,i,2):2===o&&Gc(e,t,n,r,a,i):zc(Oc(e),t,n,r,a,i,1);break}}}function Zc(e){var t=e.prev,n=e,r=e.next;if(Qc(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(qc(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&Qc(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function Uc(e,t,n,r){var a=e.prev,i=e,o=e.next;if(Qc(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,u=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,c=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,l=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,f=Wc(s,u,t,n,r),d=Wc(c,l,t,n,r),h=e.prevZ,p=e.nextZ;h&&h.z>=f&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&qc(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Qc(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&qc(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&Qc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&qc(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Qc(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&qc(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&Qc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Nc(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!Kc(a,i)&&Jc(a,r,r.next,i)&&tl(a,i)&&tl(i,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(i.i/n),al(r),al(r.next),r=e=i),r=r.next}while(r!==e);return Oc(r)}function Gc(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yc(o,s)){var u=nl(o,s);return o=Oc(o,o.next),u=Oc(u,u.next),zc(o,t,n,r,a,i),void zc(u,t,n,r,a,i)}s=s.next}o=o.next}while(o!==e)}function Hc(e,t){return e.x-t.x}function Vc(e,t){if(t=function(e,t){var n,r=t,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===o)return n;var u,c=n,l=n.x,f=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&qc(i<f?a:o,i,l,f,i<f?o:a,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(a-r.x),tl(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&jc(n,r)))&&(n=r,d=u)),r=r.next}while(r!==c);return n}(e,t),t){var n=nl(t,e);Oc(t,t.next),Oc(n,n.next)}}function jc(e,t){return Qc(e.prev,e,t.prev)<0&&Qc(t.next,e,e.next)<0}function Wc(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Xc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function qc(e,t,n,r,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(i-s)-(a-o)*(r-s)>=0}function Yc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Jc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(tl(e,t)&&tl(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!==n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Qc(e.prev,e,t.prev)||Qc(e,t.prev,t))||Kc(e,t)&&Qc(e.prev,e,e.next)>0&&Qc(t.prev,t,t.next)>0)}function Qc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Kc(e,t){return e.x===t.x&&e.y===t.y}function Jc(e,t,n,r){var a=el(Qc(e,t,n)),i=el(Qc(e,t,r)),o=el(Qc(n,r,e)),s=el(Qc(n,r,t));return a!==i&&o!==s||(!(0!==a||!$c(e,n,t))||(!(0!==i||!$c(e,r,t))||(!(0!==o||!$c(n,e,r))||!(0!==s||!$c(n,t,r)))))}function $c(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function el(e){return e>0?1:e<0?-1:0}function tl(e,t){return Qc(e.prev,e,e.next)<0?Qc(e,t,e.next)>=0&&Qc(e,e.prev,t)>=0:Qc(e,t,e.prev)<0||Qc(e,e.next,t)<0}function nl(e,t){var n=new il(e.i,e.x,e.y),r=new il(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function rl(e,t,n,r){var a=new il(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function al(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function il(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ol=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],a=[];sl(e),ul(n,e);var i=e.length;t.forEach(sl);for(var o=0;o<t.length;o++)r.push(i),i+=t[o].length,ul(n,t[o]);for(var s=Fc(n,r),u=0;u<s.length;u+=3)a.push(s.slice(u,u+3));return a}}]),e}();function sl(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ul(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var cl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;(0,p.Z)(this,n),(a=t.call(this)).type="ExtrudeGeometry",a.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var i=(0,f.Z)(a),o=[],s=[],u=0,c=e.length;u<c;u++){l(e[u])}function l(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,a=void 0!==r.steps?r.steps:1,u=void 0!==r.depth?r.depth:100,c=void 0===r.bevelEnabled||r.bevelEnabled,l=void 0!==r.bevelThickness?r.bevelThickness:6,f=void 0!==r.bevelSize?r.bevelSize:l-2,d=void 0!==r.bevelOffset?r.bevelOffset:0,h=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,v=void 0!==r.UVGenerator?r.UVGenerator:ll;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=r.amount);var m,g,y,_,b,w=!1;p&&(m=p.getSpacedPoints(a),w=!0,c=!1,g=p.computeFrenetFrames(a,!1),y=new xr,_=new xr,b=new xr),c||(h=0,l=0,f=0,d=0);var x=e.extractPoints(n),A=x.shape,M=x.holes;if(!ol.isClockWise(A)){A=A.reverse();for(var E=0,C=M.length;E<C;E++){var S=M[E];ol.isClockWise(S)&&(M[E]=S.reverse())}}for(var T=ol.triangulateShape(A,M),k=A,B=0,P=M.length;B<P;B++){var L=M[B];A=A.concat(L)}function D(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var R=A.length,F=T.length;function I(e,t,n){var r,a,i,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=o*o+s*s,f=o*c-s*u;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(l),h=Math.sqrt(u*u+c*c),p=t.x-s/d,v=t.y+o/d,m=((n.x-c/h-p)*c-(n.y+u/h-v)*u)/(o*c-s*u),g=(r=p+o*m-e.x)*r+(a=v+s*m-e.y)*a;if(g<=2)return new fr(r,a);i=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,a=o,i=Math.sqrt(l)):(r=o,a=s,i=Math.sqrt(l/2))}return new fr(r/i,a/i)}for(var O=[],z=0,Z=k.length,U=Z-1,N=z+1;z<Z;z++,U++,N++)U===Z&&(U=0),N===Z&&(N=0),O[z]=I(k[z],k[U],k[N]);for(var G,H=[],V=O.concat(),j=0,W=M.length;j<W;j++){var X=M[j];G=[];for(var q=0,Y=X.length,Q=Y-1,K=q+1;q<Y;q++,Q++,K++)Q===Y&&(Q=0),K===Y&&(K=0),G[q]=I(X[q],X[Q],X[K]);H.push(G),V=V.concat(G)}for(var J=0;J<h;J++){for(var $=J/h,ee=l*Math.cos($*Math.PI/2),te=f*Math.sin($*Math.PI/2)+d,ne=0,re=k.length;ne<re;ne++){var ae=D(k[ne],O[ne],te);Pe(ae.x,ae.y,-ee)}for(var ie=0,oe=M.length;ie<oe;ie++){var se=M[ie];G=H[ie];for(var ue=0,ce=se.length;ue<ce;ue++){var le=D(se[ue],G[ue],te);Pe(le.x,le.y,-ee)}}}for(var fe=f+d,de=0;de<R;de++){var he=c?D(A[de],V[de],fe):A[de];w?(_.copy(g.normals[0]).multiplyScalar(he.x),y.copy(g.binormals[0]).multiplyScalar(he.y),b.copy(m[0]).add(_).add(y),Pe(b.x,b.y,b.z)):Pe(he.x,he.y,0)}for(var pe=1;pe<=a;pe++)for(var ve=0;ve<R;ve++){var me=c?D(A[ve],V[ve],fe):A[ve];w?(_.copy(g.normals[pe]).multiplyScalar(me.x),y.copy(g.binormals[pe]).multiplyScalar(me.y),b.copy(m[pe]).add(_).add(y),Pe(b.x,b.y,b.z)):Pe(me.x,me.y,u/a*pe)}for(var ge=h-1;ge>=0;ge--){for(var ye=ge/h,_e=l*Math.cos(ye*Math.PI/2),be=f*Math.sin(ye*Math.PI/2)+d,we=0,xe=k.length;we<xe;we++){var Ae=D(k[we],O[we],be);Pe(Ae.x,Ae.y,u+_e)}for(var Me=0,Ee=M.length;Me<Ee;Me++){var Ce=M[Me];G=H[Me];for(var Se=0,Te=Ce.length;Se<Te;Se++){var ke=D(Ce[Se],G[Se],be);w?Pe(ke.x,ke.y+m[a-1].y,m[a-1].x+_e):Pe(ke.x,ke.y,u+_e)}}}function Be(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,s=a+2*h;o<s;o++){var u=R*o,c=R*(o+1);De(t+r+u,t+i+u,t+i+c,t+r+c)}}}function Pe(e,n,r){t.push(e),t.push(n),t.push(r)}function Le(e,t,n){Re(e),Re(t),Re(n);var r=o.length/3,a=v.generateTopUV(i,o,r-3,r-2,r-1);Fe(a[0]),Fe(a[1]),Fe(a[2])}function De(e,t,n,r){Re(e),Re(t),Re(r),Re(t),Re(n),Re(r);var a=o.length/3,s=v.generateSideWallUV(i,o,a-6,a-3,a-2,a-1);Fe(s[0]),Fe(s[1]),Fe(s[3]),Fe(s[1]),Fe(s[2]),Fe(s[3])}function Re(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Fe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(c){for(var t=0,n=R*t,r=0;r<F;r++){var s=T[r];Le(s[2]+n,s[1]+n,s[0]+n)}n=R*(t=a+2*h);for(var u=0;u<F;u++){var l=T[u];Le(l[0]+n,l[1]+n,l[2]+n)}}else{for(var f=0;f<F;f++){var d=T[f];Le(d[2],d[1],d[0])}for(var p=0;p<F;p++){var v=T[p];Le(v[0]+R*a,v[1]+R*a,v[2]+R*a)}}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Be(k,t),t+=k.length;for(var n=0,r=M.length;n<r;n++){var a=M[n];Be(a,t),t+=a.length}i.addGroup(e,o.length/3-e,1)}()}return a.setAttribute("position",new si(o,3)),a.setAttribute("uv",new si(s,2)),a.computeVertexNormals(),a}return(0,v.Z)(n,[{key:"toJSON",value:function(){var e=_i.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,a=e.length;r<a;r++){var i=e[r];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(_i),ll={generateTopUV:function(e,t,n,r,a){var i=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],c=t[3*a],l=t[3*a+1];return[new fr(i,o),new fr(s,u),new fr(c,l)]},generateSideWallUV:function(e,t,n,r,a,i){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],c=t[3*r],l=t[3*r+1],f=t[3*r+2],d=t[3*a],h=t[3*a+1],p=t[3*a+2],v=t[3*i],m=t[3*i+1],g=t[3*i+2];return Math.abs(s-l)<.01?[new fr(o,1-u),new fr(c,1-f),new fr(d,1-p),new fr(v,1-g)]:[new fr(s,1-u),new fr(l,1-f),new fr(h,1-p),new fr(m,1-g)]}};var fl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,n);var i=(1+Math.sqrt(5))/2,o=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,a)).type="IcosahedronGeometry",e.parameters={radius:r,detail:a},e}return(0,v.Z)(n)}(Tc),dl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,p.Z)(this,n),(r=t.call(this)).type="LatheGeometry",r.parameters={points:e,segments:a,phiStart:i,phiLength:o},a=Math.floor(a),o=ar(o,0,2*Math.PI);for(var s=[],u=[],c=[],l=1/a,f=new xr,d=new fr,h=0;h<=a;h++)for(var v=i+h*l*o,m=Math.sin(v),g=Math.cos(v),y=0;y<=e.length-1;y++)f.x=e[y].x*m,f.y=e[y].y,f.z=e[y].x*g,u.push(f.x,f.y,f.z),d.x=h/a,d.y=y/(e.length-1),c.push(d.x,d.y);for(var _=0;_<a;_++)for(var b=0;b<e.length-1;b++){var w=b+_*e.length,x=w,A=w+e.length,M=w+e.length+1,E=w+1;s.push(x,A,E),s.push(A,M,E)}if(r.setIndex(s),r.setAttribute("position",new si(u,3)),r.setAttribute("uv",new si(c,2)),r.computeVertexNormals(),o===2*Math.PI)for(var C=r.attributes.normal.array,S=new xr,T=new xr,k=new xr,B=a*e.length*3,P=0,L=0;P<e.length;P++,L+=3)S.x=C[L+0],S.y=C[L+1],S.z=C[L+2],T.x=C[B+L+0],T.y=C[B+L+1],T.z=C[B+L+2],k.addVectors(S,T).normalize(),C[L+0]=C[B+L+0]=k.x,C[L+1]=C[B+L+1]=k.y,C[L+2]=C[B+L+2]=k.z;return r}return(0,v.Z)(n)}(_i),hl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,n);var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,i,o,r,a)).type="OctahedronGeometry",e.parameters={radius:r,detail:a},e}return(0,v.Z)(n)}(Tc),pl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;(0,p.Z)(this,n),(i=t.call(this)).type="ParametricGeometry",i.parameters={func:e,slices:r,stacks:a};var o=[],s=[],u=[],c=[],l=1e-5,f=new xr,d=new xr,h=new xr,v=new xr,m=new xr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var g=r+1,y=0;y<=a;y++)for(var _=y/a,b=0;b<=r;b++){var w=b/r;e(w,_,d),s.push(d.x,d.y,d.z),w-l>=0?(e(w-l,_,h),v.subVectors(d,h)):(e(w+l,_,h),v.subVectors(h,d)),_-l>=0?(e(w,_-l,h),m.subVectors(d,h)):(e(w,_+l,h),m.subVectors(h,d)),f.crossVectors(v,m).normalize(),u.push(f.x,f.y,f.z),c.push(w,_)}for(var x=0;x<a;x++)for(var A=0;A<r;A++){var M=x*g+A,E=x*g+A+1,C=(x+1)*g+A+1,S=(x+1)*g+A;o.push(M,E,S),o.push(E,C,S)}return i.setIndex(o),i.setAttribute("position",new si(s,3)),i.setAttribute("normal",new si(u,3)),i.setAttribute("uv",new si(c,2)),i}return(0,v.Z)(n)}(_i),vl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,p.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:a,thetaSegments:i,phiSegments:o,thetaStart:s,thetaLength:u},i=Math.max(3,i);for(var c=[],l=[],f=[],d=[],h=r,v=(a-r)/(o=Math.max(1,o)),m=new xr,g=new fr,y=0;y<=o;y++){for(var _=0;_<=i;_++){var b=s+_/i*u;m.x=h*Math.cos(b),m.y=h*Math.sin(b),l.push(m.x,m.y,m.z),f.push(0,0,1),g.x=(m.x/a+1)/2,g.y=(m.y/a+1)/2,d.push(g.x,g.y)}h+=v}for(var w=0;w<o;w++)for(var x=w*(i+1),A=0;A<i;A++){var M=A+x,E=M,C=M+i+1,S=M+i+2,T=M+1;c.push(E,C,T),c.push(C,S,T)}return e.setIndex(c),e.setAttribute("position",new si(l,3)),e.setAttribute("normal",new si(f,3)),e.setAttribute("uv",new si(d,2)),e}return(0,v.Z)(n)}(_i),ml=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,p.Z)(this,n),(r=t.call(this)).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:a};var i=[],o=[],s=[],u=[],c=0,l=0;if(!1===Array.isArray(e))d(e);else for(var f=0;f<e.length;f++)d(e[f]),r.addGroup(c,l,f),c+=l,l=0;function d(e){var t=o.length/3,n=e.extractPoints(a),r=n.shape,c=n.holes;!1===ol.isClockWise(r)&&(r=r.reverse());for(var f=0,d=c.length;f<d;f++){var h=c[f];!0===ol.isClockWise(h)&&(c[f]=h.reverse())}for(var p=ol.triangulateShape(r,c),v=0,m=c.length;v<m;v++){var g=c[v];r=r.concat(g)}for(var y=0,_=r.length;y<_;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),u.push(b.x,b.y)}for(var w=0,x=p.length;w<x;w++){var A=p[w],M=A[0]+t,E=A[1]+t,C=A[2]+t;i.push(M,E,C),l+=3}}return r.setIndex(i),r.setAttribute("position",new si(o,3)),r.setAttribute("normal",new si(s,3)),r.setAttribute("uv",new si(u,2)),r}return(0,v.Z)(n,[{key:"toJSON",value:function(){var e=_i.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(_i);var gl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,p.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:a,heightSegments:i,phiStart:o,phiLength:s,thetaStart:u,thetaLength:c},a=Math.max(3,Math.floor(a)),i=Math.max(2,Math.floor(i));for(var l=Math.min(u+c,Math.PI),f=0,d=[],h=new xr,v=new xr,m=[],g=[],y=[],_=[],b=0;b<=i;b++){var w=[],x=b/i,A=0;0==b&&0==u?A=.5/a:b==i&&l==Math.PI&&(A=-.5/a);for(var M=0;M<=a;M++){var E=M/a;h.x=-r*Math.cos(o+E*s)*Math.sin(u+x*c),h.y=r*Math.cos(u+x*c),h.z=r*Math.sin(o+E*s)*Math.sin(u+x*c),g.push(h.x,h.y,h.z),v.copy(h).normalize(),y.push(v.x,v.y,v.z),_.push(E+A,1-x),w.push(f++)}d.push(w)}for(var C=0;C<i;C++)for(var S=0;S<a;S++){var T=d[C][S+1],k=d[C][S],B=d[C+1][S],P=d[C+1][S+1];(0!==C||u>0)&&m.push(T,k,P),(C!==i-1||l<Math.PI)&&m.push(k,B,P)}return e.setIndex(m),e.setAttribute("position",new si(g,3)),e.setAttribute("normal",new si(y,3)),e.setAttribute("uv",new si(_,2)),e}return(0,v.Z)(n)}(_i),yl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,p.Z)(this,n);var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,i,o,r,a)).type="TetrahedronGeometry",e.parameters={radius:r,detail:a},e}return(0,v.Z)(n)}(Tc),_l=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Z)(this,n);var i=a.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),(0,u.Z)(r,new _i);var o=i.generateShapes(e,a.size);return a.depth=void 0!==a.height?a.height:50,void 0===a.bevelThickness&&(a.bevelThickness=10),void 0===a.bevelSize&&(a.bevelSize=8),void 0===a.bevelEnabled&&(a.bevelEnabled=!1),(r=t.call(this,o,a)).type="TextGeometry",r}return(0,v.Z)(n)}(cl),bl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,p.Z)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:a,radialSegments:i,tubularSegments:o,arc:s},i=Math.floor(i),o=Math.floor(o);for(var u=[],c=[],l=[],f=[],d=new xr,h=new xr,v=new xr,m=0;m<=i;m++)for(var g=0;g<=o;g++){var y=g/o*s,_=m/i*Math.PI*2;h.x=(r+a*Math.cos(_))*Math.cos(y),h.y=(r+a*Math.cos(_))*Math.sin(y),h.z=a*Math.sin(_),c.push(h.x,h.y,h.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),v.subVectors(h,d).normalize(),l.push(v.x,v.y,v.z),f.push(g/o),f.push(m/i)}for(var b=1;b<=i;b++)for(var w=1;w<=o;w++){var x=(o+1)*b+w-1,A=(o+1)*(b-1)+w-1,M=(o+1)*(b-1)+w,E=(o+1)*b+w;u.push(x,A,E),u.push(A,M,E)}return e.setIndex(u),e.setAttribute("position",new si(c,3)),e.setAttribute("normal",new si(l,3)),e.setAttribute("uv",new si(f,2)),e}return(0,v.Z)(n)}(_i),wl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,p.Z)(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:a,tubularSegments:i,radialSegments:o,p:s,q:u},i=Math.floor(i),o=Math.floor(o);for(var c=[],l=[],f=[],d=[],h=new xr,v=new xr,m=new xr,g=new xr,y=new xr,_=new xr,b=new xr,w=0;w<=i;++w){var x=w/i*s*Math.PI*2;D(x,s,u,r,m),D(x+.01,s,u,r,g),_.subVectors(g,m),b.addVectors(g,m),y.crossVectors(_,b),b.crossVectors(y,_),y.normalize(),b.normalize();for(var A=0;A<=o;++A){var M=A/o*Math.PI*2,E=-a*Math.cos(M),C=a*Math.sin(M);h.x=m.x+(E*b.x+C*y.x),h.y=m.y+(E*b.y+C*y.y),h.z=m.z+(E*b.z+C*y.z),l.push(h.x,h.y,h.z),v.subVectors(h,m).normalize(),f.push(v.x,v.y,v.z),d.push(w/i),d.push(A/o)}}for(var S=1;S<=i;S++)for(var T=1;T<=o;T++){var k=(o+1)*(S-1)+(T-1),B=(o+1)*S+(T-1),P=(o+1)*S+T,L=(o+1)*(S-1)+T;c.push(k,B,L),c.push(B,P,L)}function D(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);a.x=r*(2+u)*.5*i,a.y=r*(2+u)*o*.5,a.z=r*Math.sin(s)*.5}return e.setIndex(c),e.setAttribute("position",new si(l,3)),e.setAttribute("normal",new si(f,3)),e.setAttribute("uv",new si(d,2)),e}return(0,v.Z)(n)}(_i),xl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,n),(r=t.call(this)).type="TubeGeometry",r.parameters={path:e,tubularSegments:a,radius:i,radialSegments:o,closed:s};var u=e.computeFrenetFrames(a,s);r.tangents=u.tangents,r.normals=u.normals,r.binormals=u.binormals;var c=new xr,l=new xr,f=new fr,d=new xr,h=[],v=[],m=[],g=[];function y(){for(var e=0;e<a;e++)_(e);_(!1===s?a:0),w(),b()}function _(t){d=e.getPointAt(t/a,d);for(var n=u.normals[t],r=u.binormals[t],s=0;s<=o;s++){var f=s/o*Math.PI*2,p=Math.sin(f),m=-Math.cos(f);l.x=m*n.x+p*r.x,l.y=m*n.y+p*r.y,l.z=m*n.z+p*r.z,l.normalize(),v.push(l.x,l.y,l.z),c.x=d.x+i*l.x,c.y=d.y+i*l.y,c.z=d.z+i*l.z,h.push(c.x,c.y,c.z)}}function b(){for(var e=1;e<=a;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),i=(o+1)*e+t,s=(o+1)*(e-1)+t;g.push(n,r,s),g.push(r,i,s)}}function w(){for(var e=0;e<=a;e++)for(var t=0;t<=o;t++)f.x=e/a,f.y=t/o,m.push(f.x,f.y)}return y(),r.setIndex(g),r.setAttribute("position",new si(h,3)),r.setAttribute("normal",new si(v,3)),r.setAttribute("uv",new si(m,2)),r}return(0,v.Z)(n,[{key:"toJSON",value:function(){var e=_i.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}]),n}(_i),Al=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;if((0,p.Z)(this,n),(r=t.call(this)).type="WireframeGeometry",!0===e.isGeometry)return console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),(0,u.Z)(r);var a=[],i=[0,0],o={},s=new xr;if(null!==e.index){var c=e.attributes.position,l=e.index,f=e.groups;0===f.length&&(f=[{start:0,count:l.count,materialIndex:0}]);for(var d=0,h=f.length;d<h;++d)for(var v=f[d],m=v.start,g=m,y=m+v.count;g<y;g+=3)for(var _=0;_<3;_++){var b=l.getX(g+_),w=l.getX(g+(_+1)%3);i[0]=Math.min(b,w),i[1]=Math.max(b,w);var x=i[0]+","+i[1];void 0===o[x]&&(o[x]={index1:i[0],index2:i[1]})}for(var A in o){var M=o[A];s.fromBufferAttribute(c,M.index1),a.push(s.x,s.y,s.z),s.fromBufferAttribute(c,M.index2),a.push(s.x,s.y,s.z)}}else for(var E=e.attributes.position,C=0,S=E.count/3;C<S;C++)for(var T=0;T<3;T++){var k=3*C+T;s.fromBufferAttribute(E,k),a.push(s.x,s.y,s.z);var B=3*C+(T+1)%3;s.fromBufferAttribute(E,B),a.push(s.x,s.y,s.z)}return r.setAttribute("position",new si(a,3)),r}return(0,v.Z)(n)}(_i),Ml=Object.freeze({__proto__:null,BoxGeometry:Zi,BoxBufferGeometry:Zi,CircleGeometry:Ec,CircleBufferGeometry:Ec,ConeGeometry:Sc,ConeBufferGeometry:Sc,CylinderGeometry:Cc,CylinderBufferGeometry:Cc,DodecahedronGeometry:kc,DodecahedronBufferGeometry:kc,EdgesGeometry:Rc,ExtrudeGeometry:cl,ExtrudeBufferGeometry:cl,IcosahedronGeometry:fl,IcosahedronBufferGeometry:fl,LatheGeometry:dl,LatheBufferGeometry:dl,OctahedronGeometry:hl,OctahedronBufferGeometry:hl,ParametricGeometry:pl,ParametricBufferGeometry:pl,PlaneGeometry:no,PlaneBufferGeometry:no,PolyhedronGeometry:Tc,PolyhedronBufferGeometry:Tc,RingGeometry:vl,RingBufferGeometry:vl,ShapeGeometry:ml,ShapeBufferGeometry:ml,SphereGeometry:gl,SphereBufferGeometry:gl,TetrahedronGeometry:yl,TetrahedronBufferGeometry:yl,TextGeometry:_l,TextBufferGeometry:_l,TorusGeometry:bl,TorusBufferGeometry:bl,TorusKnotGeometry:wl,TorusKnotBufferGeometry:wl,TubeGeometry:xl,TubeBufferGeometry:xl,WireframeGeometry:Al}),El=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new qa(0),r.transparent=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(Na);El.prototype.isShadowMaterial=!0;var Cl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return(0,v.Z)(n)}(Hi);Cl.prototype.isRawShaderMaterial=!0;var Sl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new qa(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new qa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=xn,r.normalScale=new fr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.vertexTangents=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}]),n}(Na);Sl.prototype.isMeshStandardMaterial=!0;var Tl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoat=0,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new fr(1,1),r.clearcoatNormalMap=null,r.reflectivity=.5,Object.defineProperty((0,f.Z)(r),"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=ar(2.5*(e-1)/(e+1),0,1)}}),r.sheen=null,r.transmission=0,r.transmissionMap=null,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new qa).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this}}]),n}(Sl);Tl.prototype.isMeshPhysicalMaterial=!0;var kl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new qa(16777215),r.specular=new qa(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new qa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=xn,r.normalScale=new fr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=le,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Na);kl.prototype.isMeshPhongMaterial=!0;var Bl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new qa(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new qa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=xn,r.normalScale=new fr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(Na);Bl.prototype.isMeshToonMaterial=!0;var Pl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=xn,r.normalScale=new fr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Na);Pl.prototype.isMeshNormalMaterial=!0;var Ll=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new qa(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new qa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=le,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(Na);Ll.prototype.isMeshLambertMaterial=!0;var Dl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new qa(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=xn,r.normalScale=new fr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.skinning=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(Na);Dl.prototype.isMeshMatcapMaterial=!0;var Rl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(rc);Rl.prototype.isLineDashedMaterial=!0;var Fl=Object.freeze({__proto__:null,ShadowMaterial:El,SpriteMaterial:Mu,RawShaderMaterial:Cl,ShaderMaterial:Hi,PointsMaterial:pc,MeshPhysicalMaterial:Tl,MeshStandardMaterial:Sl,MeshPhongMaterial:kl,MeshToonMaterial:Bl,MeshNormalMaterial:Pl,MeshLambertMaterial:Ll,MeshDepthMaterial:ru,MeshDistanceMaterial:au,MeshBasicMaterial:Ya,MeshMatcapMaterial:Dl,LineDashedMaterial:Rl,LineBasicMaterial:rc,Material:Na}),Il={arraySlice:function(e,t,n){return Il.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,a=new e.constructor(r),i=0,o=0;o!==r;++i)for(var s=n[i]*t,u=0;u!==t;++u)a[o++]=e[s+u];return a},flattenJSON:function(e,t,n,r){for(var a=1,i=e[0];void 0!==i&&void 0===i[r];)i=e[a++];if(void 0!==i){var o=i[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=i[r])&&(t.push(i.time),n.push.apply(n,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{void 0!==(o=i[r])&&(t.push(i.time),o.toArray(n,n.length)),i=e[a++]}while(void 0!==i);else do{void 0!==(o=i[r])&&(t.push(i.time),n.push(o)),i=e[a++]}while(void 0!==i)}},subclip:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=e.clone();i.name=t;for(var o=[],s=0;s<i.tracks.length;++s){for(var u=i.tracks[s],c=u.getValueSize(),l=[],f=[],d=0;d<u.times.length;++d){var h=u.times[d]*a;if(!(h<n||h>=r)){l.push(u.times[d]);for(var p=0;p<c;++p)f.push(u.values[d*c+p])}}0!==l.length&&(u.times=Il.convertArray(l,u.times.constructor),u.values=Il.convertArray(f,u.values.constructor),o.push(u))}i.tracks=o;for(var v=1/0,m=0;m<i.tracks.length;++m)v>i.tracks[m].times[0]&&(v=i.tracks[m].times[0]);for(var g=0;g<i.tracks.length;++g)i.tracks[g].shift(-1*v);return i.resetDuration(),i},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var a=n.tracks.length,i=t/r,o=function(t){var r=n.tracks[t],a=r.ValueTypeName;if("bool"===a||"string"===a)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===a}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var c=0,l=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=l/3);var f=r.times.length-1,d=void 0;if(i<=r.times[0]){var h=s,p=u-s;d=Il.arraySlice(r.values,h,p)}else if(i>=r.times[f]){var v=f*u+s,m=v+u-s;d=Il.arraySlice(r.values,v,m)}else{var g=r.createInterpolant(),y=s,_=u-s;g.evaluate(i),d=Il.arraySlice(g.resultBuffer,y,_)}"quaternion"===a&&(new wr).fromArray(d).normalize().conjugate().toArray(d);for(var b=o.times.length,w=0;w<b;++w){var x=w*l+c;if("quaternion"===a)wr.multiplyQuaternionsFlat(o.values,x,d,0,o.values,x);else for(var A=l-2*c,M=0;M<A;++M)o.values[x+M]-=d[M]}},s=0;s<a;++s)o(s);return e.blendMode=un,e}},Ol=function(){function e(t,n,r,a){(0,p.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,v.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{var i;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===o)break;if(a=r,e<(r=t[++n]))break t}i=t.length;break n}if(e>=a)break e;var s=t[1];e<s&&(n=2,a=s);for(var u=n-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=a,e>=(a=t[--n-1]))break t}i=n,n=0}for(;n<i;){var c=n+i>>>1;e<t[c]?i=c:n=c+1}if(r=t[n],void 0===(a=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r,i=0;i!==r;++i)t[i]=n[a+i];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Ol.prototype.beforeStart_=Ol.prototype.copySampleValue_,Ol.prototype.afterEnd_=Ol.prototype.copySampleValue_;var zl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i){var o;return(0,p.Z)(this,n),(o=t.call(this,e,r,a,i))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:rn,endingEnd:rn},o}return(0,v.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,a=e-2,i=e+1,o=r[a],s=r[i];if(void 0===o)switch(this.getSettings_().endingStart){case an:a=e,o=2*t-n;break;case on:o=t+r[a=r.length-2]-r[a+1];break;default:a=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case an:i=e,s=2*n-t;break;case on:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=a*c,this._offsetNext=i*c}},{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,c=this._offsetPrev,l=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,v=p*h,m=-f*v+2*f*p-f*h,g=(1+f)*v+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*v+(1.5+d)*p+.5*h,_=d*v-d*p,b=0;b!==o;++b)a[b]=m*i[c+b]+g*i[u+b]+y*i[s+b]+_*i[l+b];return a}}]),n}(Ol),Zl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i){return(0,p.Z)(this,n),t.call(this,e,r,a,i)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,c=(n-t)/(r-t),l=1-c,f=0;f!==o;++f)a[f]=i[u+f]*l+i[s+f]*c;return a}}]),n}(Ol),Ul=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i){return(0,p.Z)(this,n),t.call(this,e,r,a,i)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Ol),Nl=function(){function e(t,n,r,a){if((0,p.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Il.convertArray(n,this.TimeBufferType),this.values=Il.convertArray(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}return(0,v.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Ul(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Zl(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new zl(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case en:t=this.InterpolantFactoryMethodDiscrete;break;case tn:t=this.InterpolantFactoryMethodLinear;break;case nn:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return en;case this.InterpolantFactoryMethodLinear:return tn;case this.InterpolantFactoryMethodSmooth:return nn}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,a=0,i=r-1;a!==r&&n[a]<e;)++a;for(;-1!==i&&n[i]>t;)--i;if(++i,0!==a||i!==r){a>=i&&(a=(i=Math.max(i,1))-1);var o=this.getValueSize();this.times=Il.arraySlice(n,a,i),this.values=Il.arraySlice(this.values,a*o,i*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==a;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==i&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,i),e=!1;break}i=s}if(void 0!==r&&Il.isTypedArray(r))for(var u=0,c=r.length;u!==c;++u){var l=r[u];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,l),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Il.arraySlice(this.times),t=Il.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===nn,a=e.length-1,i=1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var c=o*n,l=c-n,f=c+n,d=0;d!==n;++d){var h=t[c+d];if(h!==t[l+d]||h!==t[f+d]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var p=o*n,v=i*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++i}}if(a>0){e[i]=e[a];for(var g=a*n,y=i*n,_=0;_!==n;++_)t[y+_]=t[g+_];++i}return i!==e.length?(this.times=Il.arraySlice(e,0,i),this.values=Il.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Il.arraySlice(this.times,0),t=Il.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Il.convertArray(e.times,Array),values:Il.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Nl.prototype.TimeBufferType=Float32Array,Nl.prototype.ValueBufferType=Float32Array,Nl.prototype.DefaultInterpolation=tn;var Gl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Nl);Gl.prototype.ValueTypeName="bool",Gl.prototype.ValueBufferType=Array,Gl.prototype.DefaultInterpolation=en,Gl.prototype.InterpolantFactoryMethodLinear=void 0,Gl.prototype.InterpolantFactoryMethodSmooth=void 0;var Hl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Nl);Hl.prototype.ValueTypeName="color";var Vl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Nl);Vl.prototype.ValueTypeName="number";var jl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i){return(0,p.Z)(this,n),t.call(this,e,r,a,i)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,c=u+o;u!==c;u+=4)wr.slerpFlat(a,0,i,u-o,i,u,s);return a}}]),n}(Ol),Wl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new jl(this.times,this.values,this.getValueSize(),e)}}]),n}(Nl);Wl.prototype.ValueTypeName="quaternion",Wl.prototype.DefaultInterpolation=tn,Wl.prototype.InterpolantFactoryMethodSmooth=void 0;var Xl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Nl);Xl.prototype.ValueTypeName="string",Xl.prototype.ValueBufferType=Array,Xl.prototype.DefaultInterpolation=en,Xl.prototype.InterpolantFactoryMethodLinear=void 0,Xl.prototype.InterpolantFactoryMethodSmooth=void 0;var ql=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Nl);ql.prototype.ValueTypeName="vector";var Yl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sn;(0,p.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=a,this.uuid=rr(),this.duration<0&&this.resetDuration()}return(0,v.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),a=0,i=n.length;a!==i;++a)t.push(Ql(n[a]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},a=0,i=n.length;a!==i;++a)t.push(Nl.toJSON(n[a]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var a=t.length,i=[],o=0;o<a;o++){var s=[],u=[];s.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);var c=Il.getKeyframeOrder(s);s=Il.sortedArray(s,1,c),u=Il.sortedArray(u,1,c),r||0!==s[0]||(s.push(a),u.push(u[0])),i.push(new Vl(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,i)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},a=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var s=e[i],u=s.name.match(a);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,a){if(0!==n.length){var i=[],o=[];Il.flattenJSON(n,i,o,r),0!==i.length&&a.push(new e(t,i,o))}},r=[],a=e.name||"default",i=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],c=0;c<u.length;c++){var l=u[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){var f={},d=void 0;for(d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)f[l[d].morphTargets[h]]=-1;for(var p in f){for(var v=[],m=[],g=0;g!==l[d].morphTargets.length;++g){var y=l[d];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new Vl(".morphTargetInfluence["+p+"]",v,m))}s=f.length*(i||1)}else{var _=".bones["+t[c].name+"]";n(ql,_+".position",l,"pos",r),n(Wl,_+".quaternion",l,"rot",r),n(ql,_+".scale",l,"scl",r)}}return 0===r.length?null:new this(a,s,r,o)}}]),e}();function Ql(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vl;case"vector":case"vector2":case"vector3":case"vector4":return ql;case"color":return Hl;case"quaternion":return Wl;case"bool":case"boolean":return Gl;case"string":return Xl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Il.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Kl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Jl=(0,v.Z)((function e(t,n,r){(0,p.Z)(this,e);var a=this,i=!1,o=0,s=0,u=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===i&&void 0!==a.onStart&&a.onStart(e,o,s),i=!0},this.itemEnd=function(e){o++,void 0!==a.onProgress&&a.onProgress(e,o,s),o===s&&(i=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],a=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return a}return null}})),$l=new Jl,ef=function(){function e(t){(0,p.Z)(this,e),this.manager=void 0!==t?t:$l,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,v.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.load(e,r,t,a)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),tf={},nf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Kl.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;if(void 0===tf[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],c=!!s[2],l=s[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var f,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);f="blob"===d?new Blob([h.buffer],{type:u}):h.buffer;break;case"document":var v=new DOMParser;f=v.parseFromString(l,u);break;case"json":f=JSON.parse(l);break;default:f=l}setTimeout((function(){t&&t(f),a.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}),0)}}else{for(var m in tf[e]=[],tf[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=tf[e];if(delete tf[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Kl.add(e,n);for(var i=0,o=r.length;i<o;i++){var s=r[i];s.onLoad&&s.onLoad(n)}a.manager.itemEnd(e)}else{for(var u=0,c=r.length;u<c;u++){var l=r[u];l.onError&&l.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=tf[e],r=0,a=n.length;r<a;r++){var i=n[r];i.onProgress&&i.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=tf[e];delete tf[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=tf[e];delete tf[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return a.manager.itemStart(e),o}tf[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(ef),rf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new nf(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Yl.parse(e[n]);t.push(r)}return t}}]),n}(ef),af=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=[],o=new xc,s=new nf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(a.withCredentials);var u=0;function c(c){s.load(e[c],(function(e){var n=a.parse(e,!0);i[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Re),o.image=i,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var l=0,f=e.length;l<f;++l)c(l);else s.load(e,(function(e){var n=a.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){i[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)i[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),i[s].format=n.format,i[s].width=n.width,i[s].height=n.height}o.image=i}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(ef),of=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Kl.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Kl.add(e,this),t&&t(this),a.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}]),n}(ef),sf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=new qi,i=new of(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=0;function s(n){i.load(e[n],(function(e){a.images[n]=e,6===++o&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return a}}]),n}(ef),uf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Qi,o=new nf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,(function(e){var n=a.parse(e);n&&(void 0!==n.image?i.image=n.image:void 0!==n.data&&(i.image.width=n.width,i.image.height=n.height,i.image.data=n.data),i.wrapS=void 0!==n.wrapS?n.wrapS:Se,i.wrapT=void 0!==n.wrapT?n.wrapT:Se,i.magFilter=void 0!==n.magFilter?n.magFilter:Re,i.minFilter=void 0!==n.minFilter?n.minFilter:Re,i.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(i.encoding=n.encoding),void 0!==n.flipY&&(i.flipY=n.flipY),void 0!==n.format&&(i.format=n.format),void 0!==n.type&&(i.type=n.type),void 0!==n.mipmaps&&(i.mipmaps=n.mipmaps,i.minFilter=Oe),1===n.mipmapCount&&(i.minFilter=Re),void 0!==n.generateMipmaps&&(i.generateMipmaps=n.generateMipmaps),i.needsUpdate=!0,t&&t(i,n))}),n,r),i}}]),n}(ef),cf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=new mr,i=new of(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(n){a.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);a.format=r?Je:$e,a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a}}]),n}(ef),lf=function(){function e(){(0,p.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,v.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),a=0;n.push(0);for(var i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),a=0,i=r.length;n=t||e*r[i-1];for(var o,s=0,u=i-1;s<=u;)if((o=r[a=Math.floor(s+(u-s)/2)]-n)<0)s=a+1;else{if(!(o>0)){u=a;break}u=a-1}if(r[a=u]===n)return a/(i-1);var c=r[a];return(a+(n-c)/(r[a+1]-c))/(i-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,a=e+n;r<0&&(r=0),a>1&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),s=t||(i.isVector2?new fr:new xr);return s.copy(o).sub(i).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new xr,r=[],a=[],i=[],o=new xr,s=new $r,u=0;u<=e;u++){var c=u/e;r[u]=this.getTangentAt(c,new xr),r[u].normalize()}a[0]=new xr,i[0]=new xr;var l=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);f<=l&&(l=f,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),h<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),i[0].crossVectors(r[0],a[0]);for(var p=1;p<=e;p++){if(a[p]=a[p-1].clone(),i[p]=i[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(ar(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(s.makeRotationAxis(o,v))}i[p].crossVectors(r[p],a[p])}if(!0===t){var m=Math.acos(ar(a[0].dot(a[e]),-1,1));m/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(m=-m);for(var g=1;g<=e;g++)a[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),i[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:i}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),ff=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,p.Z)(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=a,e.xRadius=i,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=c,e.aRotation=l,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new fr,r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,i=Math.abs(a)<Number.EPSILON;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=i?0:r),!0!==this.aClockwise||i||(a===r?a=-r:a-=r);var o=this.aStartAngle+e*a,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),f=s-this.aX,d=u-this.aY;s=f*c-d*l+this.aX,u=f*l+d*c+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(lf);ff.prototype.isEllipseCurve=!0;var df=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i,o,s){var u;return(0,p.Z)(this,n),(u=t.call(this,e,r,a,a,i,o,s)).type="ArcCurve",u}return(0,v.Z)(n)}(ff);function hf(){var e=0,t=0,n=0,r=0;function a(a,i,o,s){e=a,t=o,n=-3*a+3*i-2*o-s,r=2*a-2*i+o+s}return{initCatmullRom:function(e,t,n,r,i){a(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,s){var u=(t-e)/i-(n-e)/(i+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;a(t,n,u*=o,c*=o)},calc:function(a){var i=a*a;return e+t*a+n*i+r*(i*a)}}}df.prototype.isArcCurve=!0;var pf=new xr,vf=new hf,mf=new hf,gf=new hf,yf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,p.Z)(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=a,e.curveType=i,e.tension=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,a=r,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),c=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===c&&u===o-1&&(u=o-2,c=1),this.closed||u>0?t=i[(u-1)%o]:(pf.subVectors(i[0],i[1]).add(i[0]),t=pf);var l=i[u%o],f=i[(u+1)%o];if(this.closed||u+2<o?n=i[(u+2)%o]:(pf.subVectors(i[o-1],i[o-2]).add(i[o-1]),n=pf),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(l),d),p=Math.pow(l.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(n),d);p<1e-4&&(p=1),h<1e-4&&(h=p),v<1e-4&&(v=p),vf.initNonuniformCatmullRom(t.x,l.x,f.x,n.x,h,p,v),mf.initNonuniformCatmullRom(t.y,l.y,f.y,n.y,h,p,v),gf.initNonuniformCatmullRom(t.z,l.z,f.z,n.z,h,p,v)}else"catmullrom"===this.curveType&&(vf.initCatmullRom(t.x,l.x,f.x,n.x,this.tension),mf.initCatmullRom(t.y,l.y,f.y,n.y,this.tension),gf.initCatmullRom(t.z,l.z,f.z,n.z,this.tension));return a.set(vf.calc(c),mf.calc(c),gf.calc(c)),a}},{key:"copy",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new xr).fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(lf);function _f(e,t,n,r,a){var i=.5*(r-t),o=.5*(a-n),s=e*e;return(2*n-2*r+i+o)*(e*s)+(-3*n+3*r-2*i-o)*s+i*e+n}function bf(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function wf(e,t,n,r,a){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}yf.prototype.isCatmullRomCurve3=!0;var xf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new fr;return(0,p.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(wf(e,r.x,a.x,i.x,o.x),wf(e,r.y,a.y,i.y,o.y)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(lf);xf.prototype.isCubicBezierCurve=!0;var Af=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xr;return(0,p.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(wf(e,r.x,a.x,i.x,o.x),wf(e,r.y,a.y,i.y,o.y),wf(e,r.z,a.z,i.z,o.z)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(lf);Af.prototype.isCubicBezierCurve3=!0;var Mf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr;return(0,p.Z)(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=a,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new fr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(lf);Mf.prototype.isLineCurve=!0;var Ef=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr;return(0,p.Z)(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=a,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(lf),Cf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fr;return(0,p.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=a,e.v2=i,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(bf(e,r.x,a.x,i.x),bf(e,r.y,a.y,i.y)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(lf);Cf.prototype.isQuadraticBezierCurve=!0;var Sf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xr;return(0,p.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(bf(e,r.x,a.x,i.x),bf(e,r.y,a.y,i.y),bf(e,r.z,a.z,i.z)),n}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(lf);Sf.prototype.isQuadraticBezierCurve3=!0;var Tf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,p.Z)(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr,n=t,r=this.points,a=(r.length-1)*e,i=Math.floor(a),o=a-i,s=r[0===i?i:i-1],u=r[i],c=r[i>r.length-2?r.length-1:i+1],l=r[i>r.length-3?r.length-1:i+2];return n.set(_f(o,s.x,u.x,c.x,l.x),_f(o,s.y,u.y,c.y,l.y)),n}},{key:"copy",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new fr).fromArray(a))}return this}}]),n}(lf);Tf.prototype.isSplineCurve=!0;var kf=Object.freeze({__proto__:null,ArcCurve:df,CatmullRomCurve3:yf,CubicBezierCurve:xf,CubicBezierCurve3:Af,EllipseCurve:ff,LineCurve:Mf,LineCurve3:Ef,QuadraticBezierCurve:Cf,QuadraticBezierCurve3:Sf,SplineCurve:Tf}),Bf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,v.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Mf(t,e))}},{key:"getPoint",value:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var a=n[r]-t,i=this.curves[r],o=i.getLength(),s=0===o?0:1-a/o;return i.getPointAt(s)}r++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,a=this.curves;r<a.length;r++)for(var i=a[r],o=i&&i.isEllipseCurve?2*t:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?t*i.points.length:t,s=i.getPoints(o),u=0;u<s.length;u++){var c=s[u];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var a=this.curves[t];e.curves.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push((new kf[a.type]).fromJSON(a))}return this}}]),n}(lf),Pf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new fr,e&&r.setFromPoints(e),r}return(0,v.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Mf(this.currentPoint.clone(),new fr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var a=new Cf(this.currentPoint.clone(),new fr(e,t),new fr(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){var o=new xf(this.currentPoint.clone(),new fr(e,t),new fr(n,r),new fr(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Tf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,a,i){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,a,i),this}},{key:"absarc",value:function(e,t,n,r,a,i){return this.absellipse(e,t,n,n,r,a,i),this}},{key:"ellipse",value:function(e,t,n,r,a,i,o,s){var u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,n,r,a,i,o,s),this}},{key:"absellipse",value:function(e,t,n,r,a,i,o,s){var u=new ff(e,t,n,r,a,i,o,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);return this.currentPoint.copy(l),this}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Bf),Lf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).uuid=rr(),r.type="Shape",r.holes=[],r}return(0,v.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var a=this.holes[t];e.holes.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push((new Pf).fromJSON(a))}return this}}]),n}(Pf),Df=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,p.Z)(this,n),(r=t.call(this)).type="Light",r.color=new qa(e),r.intensity=a,r}return(0,v.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Ma);Df.prototype.isLight=!0;var Rf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,p.Z)(this,n),(i=t.call(this,e,a)).type="HemisphereLight",i.position.copy(Ma.DefaultUp),i.updateMatrix(),i.groundColor=new qa(r),i}return(0,v.Z)(n,[{key:"copy",value:function(e){return Df.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(Df);Rf.prototype.isHemisphereLight=!0;var Ff=new $r,If=new xr,Of=new xr,zf=function(){function e(t){(0,p.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new fr(512,512),this.map=null,this.mapPass=null,this.matrix=new $r,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $i,this._frameExtents=new fr(1,1),this._viewportCount=1,this._viewports=[new yr(0,0,1,1)]}return(0,v.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;If.setFromMatrixPosition(e.matrixWorld),t.position.copy(If),Of.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Of),t.updateMatrixWorld(),Ff.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ff),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Zf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,new ji(50,1,.5,500))).focus=1,e}return(0,v.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*nr*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&a===t.aspect&&i===t.far||(t.fov=r,t.aspect=a,t.far=i,t.updateProjectionMatrix()),(0,c.Z)((0,l.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(zf);Zf.prototype.isSpotLightShadow=!0;var Uf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="SpotLight",a.position.copy(Ma.DefaultUp),a.updateMatrix(),a.target=new Ma,a.distance=i,a.angle=o,a.penumbra=s,a.decay=u,a.shadow=new Zf,a}return(0,v.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Df);Uf.prototype.isSpotLight=!0;var Nf=new $r,Gf=new xr,Hf=new xr,Vf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this,new ji(90,1,.5,500)))._frameExtents=new fr(4,2),e._viewportCount=6,e._viewports=[new yr(2,1,1,1),new yr(0,1,1,1),new yr(3,1,1,1),new yr(1,1,1,1),new yr(3,0,1,1),new yr(1,0,1,1)],e._cubeDirections=[new xr(1,0,0),new xr(-1,0,0),new xr(0,0,1),new xr(0,0,-1),new xr(0,1,0),new xr(0,-1,0)],e._cubeUps=[new xr(0,1,0),new xr(0,1,0),new xr(0,1,0),new xr(0,1,0),new xr(0,0,1),new xr(0,0,-1)],e}return(0,v.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Gf.setFromMatrixPosition(e.matrixWorld),n.position.copy(Gf),Hf.copy(n.position),Hf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Hf),n.updateMatrixWorld(),r.makeTranslation(-Gf.x,-Gf.y,-Gf.z),Nf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nf)}}]),n}(zf);Vf.prototype.isPointLightShadow=!0;var jf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="PointLight",a.distance=i,a.decay=o,a.shadow=new Vf,a}return(0,v.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Df);jf.prototype.isPointLight=!0;var Wf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,p.Z)(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=a,e.top=i,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,i=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i=(a+=u*this.view.offsetX)+u*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Vi);Wf.prototype.isOrthographicCamera=!0;var Xf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,p.Z)(this,n),t.call(this,new Wf(-5,5,5,-5,.5,500))}return(0,v.Z)(n)}(zf);Xf.prototype.isDirectionalLightShadow=!0;var qf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="DirectionalLight",a.position.copy(Ma.DefaultUp),a.updateMatrix(),a.target=new Ma,a.shadow=new Xf,a}return(0,v.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Df);qf.prototype.isDirectionalLight=!0;var Yf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="AmbientLight",a}return(0,v.Z)(n)}(Df);Yf.prototype.isAmbientLight=!0;var Qf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,p.Z)(this,n),(a=t.call(this,e,r)).type="RectAreaLight",a.width=i,a.height=o,a}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Df);Qf.prototype.isRectAreaLight=!0;var Kf=function(){function e(){(0,p.Z)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new xr)}return(0,v.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*r),t.addScaledVector(i[2],.488603*a),t.addScaledVector(i[3],.488603*n),t.addScaledVector(i[4],n*r*1.092548),t.addScaledVector(i[5],r*a*1.092548),t.addScaledVector(i[6],.315392*(3*a*a-1)),t.addScaledVector(i[7],n*a*1.092548),t.addScaledVector(i[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*r),t.addScaledVector(i[2],1.023328*a),t.addScaledVector(i[3],1.023328*n),t.addScaledVector(i[4],.858086*n*r),t.addScaledVector(i[5],.858086*r*a),t.addScaledVector(i[6],.743125*a*a-.247708),t.addScaledVector(i[7],.858086*n*a),t.addScaledVector(i[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}]),e}();Kf.prototype.isSphericalHarmonics3=!0;var Jf=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kf,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,p.Z)(this,n),(e=t.call(this,void 0,a)).sh=r,e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Df);Jf.prototype.isLightProbe=!0;var $f=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).textures={},r}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new nf(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Fl[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new qa).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var i=e.uniforms[a];switch(r.uniforms[a]={},i.type){case"t":r.uniforms[a].value=n(i.value);break;case"c":r.uniforms[a].value=(new qa).setHex(i.value);break;case"v2":r.uniforms[a].value=(new fr).fromArray(i.value);break;case"v3":r.uniforms[a].value=(new xr).fromArray(i.value);break;case"v4":r.uniforms[a].value=(new yr).fromArray(i.value);break;case"m3":r.uniforms[a].value=(new hr).fromArray(i.value);break;case"m4":r.uniforms[a].value=(new $r).fromArray(i.value);break;default:r.uniforms[a].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new fr).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new fr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(ef),ed=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(a){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}]),e}(),td=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(_i);td.prototype.isInstancedBufferGeometry=!0;var nd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,i){var o;return(0,p.Z)(this,n),"number"===typeof a&&(i=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(o=t.call(this,e,r,a)).meshPerAttribute=i||1,o}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(Ja);nd.prototype.isInstancedBufferAttribute=!0;var rd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new nf(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var a=e.interleavedBuffers[r],i=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,a.buffer),o=fi(a.type,i),s=new bu(o,a.stride);return s.uuid=a.uuid,t[r]=s,s}var a=e.isInstancedBufferGeometry?new td:new _i,i=e.data.index;if(void 0!==i){var o=fi(i.type,i.array);a.setIndex(new Ja(o,1))}var s=e.data.attributes;for(var u in s){var c=s[u],l=void 0;if(c.isInterleavedBufferAttribute){var f=r(e.data,c.data);l=new xu(f,c.itemSize,c.offset,c.normalized)}else{var d=fi(c.type,c.array);l=new(c.isInstancedBufferAttribute?nd:Ja)(d,c.itemSize,c.normalized)}void 0!==c.name&&(l.name=c.name),void 0!==c.usage&&l.setUsage(c.usage),void 0!==c.updateRange&&(l.updateRange.offset=c.updateRange.offset,l.updateRange.count=c.updateRange.count),a.setAttribute(u,l)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var v=h[p],m=[],g=0,y=v.length;g<y;g++){var _=v[g],b=void 0;if(_.isInterleavedBufferAttribute){var w=r(e.data,_.data);b=new xu(w,_.itemSize,_.offset,_.normalized)}else{var x=fi(_.type,_.array);b=new Ja(x,_.itemSize,_.normalized)}void 0!==_.name&&(b.name=_.name),m.push(b)}a.morphAttributes[p]=m}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);var A=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==A)for(var M=0,E=A.length;M!==E;++M){var C=A[M];a.addGroup(C.start,C.count,C.materialIndex)}var S=e.data.boundingSphere;if(void 0!==S){var T=new xr;void 0!==S.center&&T.fromArray(S.center),a.boundingSphere=new Vr(T,S.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}]),n}(ef),ad=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=""===this.path?ed.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;var o=new nf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var i=null;try{i=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=i.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?a.parse(i,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,s,n),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),void 0!==t){var l=!1;for(var f in i)if(i[f]instanceof HTMLImageElement){l=!0;break}!1===l&&t(u)}return u}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var a=(new Lf).fromJSON(e[n]);t[a.uuid]=a}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=(new Ku).fromJSON(e[a],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n,r={};if(void 0!==e)for(var a=new rd,i=0,o=e.length;i<o;i++){var s=void 0,u=e[i];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Ml[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":s=new Ml[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Ml[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Ml[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Ml[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Ml[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Ml[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Ml[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Ml[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Ml[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Ml[u.type]((new kf[u.path.type]).fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Ml[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Ml[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var c=0,l=u.shapes.length;c<l;c++){var f=t[u.shapes[c]];n.push(f)}s=new Ml[u.type](n,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var d=0,h=u.shapes.length;d<h;d++){var p=t[u.shapes[d]];n.push(p)}var v=u.options.extrudePath;void 0!==v&&(u.options.extrudePath=(new kf[v.type]).fromJSON(v)),s=new Ml[u.type](n,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=a.parse(u);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),!0===s.isBufferGeometry&&void 0!==u.userData&&(s.userData=u.userData),r[u.uuid]=s}return r}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var a=new $f;a.setTextures(t);for(var i=0,o=e.length;i<o;i++){var s=e[i];if("MultiMaterial"===s.type){for(var u=[],c=0;c<s.materials.length;c++){var l=s.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=a.parse(l)),u.push(n[l.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=a.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],a=Yl.parse(r);t[a.uuid]=a}return t}},{key:"parseImages",value:function(e,t){var n,r=this,a={};function i(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:fi(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Jl(t);(n=new of(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var c=e[s],l=c.url;if(Array.isArray(l)){a[c.uuid]=[];for(var f=0,d=l.length;f<d;f++){var h=i(l[f]);null!==h&&(h instanceof HTMLImageElement?a[c.uuid].push(h):a[c.uuid].push(new Qi(h.data,h.width,h.height)))}}else{var p=i(c.url);null!==p&&(a[c.uuid]=p)}}}return a}},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=e[a];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0,u=t[o.image];Array.isArray(u)?(s=new qi(u),6===u.length&&(s.needsUpdate=!0)):(s=u&&u.data?new Qi(u.data,u.width,u.height):new mr(u),u&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,id)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],od),s.wrapT=n(o.wrap[1],od)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,sd)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,sd)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r}},{key:"parseObject",value:function(e,t,n,r){var a,i,o;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,a=e.length;r<a;r++){var i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":a=new _u,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new qa(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new yu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new gu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new ji(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Wf(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Yf(e.color,e.intensity);break;case"DirectionalLight":a=new qf(e.color,e.intensity);break;case"PointLight":a=new jf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Qf(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Uf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new Rf(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Jf).fromJSON(e);break;case"SkinnedMesh":i=s(e.geometry),o=u(e.material),a=new Xu(i,o),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":i=s(e.geometry),o=u(e.material),a=new Oi(i,o);break;case"InstancedMesh":i=s(e.geometry),o=u(e.material);var c=e.count,l=e.instanceMatrix,f=e.instanceColor;(a=new nc(i,o,c)).instanceMatrix=new Ja(new Float32Array(l.array),16),void 0!==f&&(a.instanceColor=new Ja(new Float32Array(f.array),f.itemSize));break;case"LOD":a=new Nu;break;case"Line":a=new cc(s(e.geometry),u(e.material));break;case"LineLoop":a=new hc(s(e.geometry),u(e.material));break;case"LineSegments":a=new dc(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new _c(s(e.geometry),u(e.material));break;case"Sprite":a=new Ou(u(e.material));break;case"Group":a=new lu;break;case"Bone":a=new qu;break;default:a=new Ma}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var d=e.children,h=0;h<d.length;h++)a.add(this.parseObject(d[h],t,n,r));if(void 0!==e.animations)for(var p=e.animations,v=0;v<p.length;v++){var m=p[v];a.animations.push(r[m])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var g=e.levels,y=0;y<g.length;y++){var _=g[y],b=a.getObjectByProperty("uuid",_.object);void 0!==b&&a.addLevel(b,_.distance)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(ef),id={UVMapping:_e,CubeReflectionMapping:be,CubeRefractionMapping:we,EquirectangularReflectionMapping:xe,EquirectangularRefractionMapping:Ae,CubeUVReflectionMapping:Me,CubeUVRefractionMapping:Ee},od={RepeatWrapping:Ce,ClampToEdgeWrapping:Se,MirroredRepeatWrapping:Te},sd={NearestFilter:ke,NearestMipmapNearestFilter:Be,NearestMipmapLinearFilter:Le,LinearFilter:Re,LinearMipmapNearestFilter:Fe,LinearMipmapLinearFilter:Oe},ud=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,v.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Kl.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(n){Kl.add(e,n),t&&t(n),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}]),n}(ef);ud.prototype.isImageBitmapLoader=!0;var cd=function(){function e(){(0,p.Z)(this,e),this.type="ShapePath",this.color=new qa,this.subPaths=[],this.currentPath=null}return(0,v.Z)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Pf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){return this.currentPath.bezierCurveTo(e,t,n,r,a,i),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n],i=new Lf;i.curves=a.curves,t.push(i)}return t}function r(e,t){for(var n=t.length,r=!1,a=n-1,i=0;i<n;a=i++){var o=t[a],s=t[i],u=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[i],u=-u,s=t[a],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var l=c*(e.x-o.x)-u*(e.y-o.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var a,i,o,s=ol.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===t)return n(u);var c=[];if(1===u.length)return i=u[0],(o=new Lf).curves=i.curves,c.push(o),c;var l=!s(u[0].getPoints());l=e?!l:l;var f,d,h=[],p=[],v=[],m=0;p[m]=void 0,v[m]=[];for(var g=0,y=u.length;g<y;g++)a=s(f=(i=u[g]).getPoints()),(a=e?!a:a)?(!l&&p[m]&&m++,p[m]={s:new Lf,p:f},p[m].s.curves=i.curves,l&&m++,v[m]=[]):v[m].push({h:i,p:f[0]});if(!p[0])return n(u);if(p.length>1){for(var _=!1,b=[],w=0,x=p.length;w<x;w++)h[w]=[];for(var A=0,M=p.length;A<M;A++)for(var E=v[A],C=0;C<E.length;C++){for(var S=E[C],T=!0,k=0;k<p.length;k++)r(S.p,p[k].p)&&(A!==k&&b.push({froms:A,tos:k,hole:C}),T?(T=!1,h[k].push(S)):_=!0);T&&h[A].push(S)}b.length>0&&(_||(v=h))}for(var B=0,P=p.length;B<P;B++){o=p[B].s,c.push(o);for(var L=0,D=(d=v[B]).length;L<D;L++)o.holes.push(d[L].h)}return c}}]),e}(),ld=function(){function e(t){(0,p.Z)(this,e),this.type="Font",this.data=t}return(0,v.Z)(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=fd(e,t,this.data),a=0,i=r.length;a<i;a++)Array.prototype.push.apply(n,r[a].toShapes());return n}}]),e}();function fd(e,t,n){for(var r=Array.from(e),a=t/n.resolution,i=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,o=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=i;else{var f=dd(l,a,s,u,n);s+=f.offsetX,o.push(f.path)}}return o}function dd(e,t,n,r,a){var i=a.glyphs[e]||a.glyphs["?"];if(i){var o,s,u,c,l,f,d,h,p=new cd;if(i.o)for(var v=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),m=0,g=v.length;m<g;){switch(v[m++]){case"m":o=v[m++]*t+n,s=v[m++]*t+r,p.moveTo(o,s);break;case"l":o=v[m++]*t+n,s=v[m++]*t+r,p.lineTo(o,s);break;case"q":u=v[m++]*t+n,c=v[m++]*t+r,l=v[m++]*t+n,f=v[m++]*t+r,p.quadraticCurveTo(l,f,u,c);break;case"b":u=v[m++]*t+n,c=v[m++]*t+r,l=v[m++]*t+n,f=v[m++]*t+r,d=v[m++]*t+n,h=v[m++]*t+r,p.bezierCurveTo(l,f,d,h,u,c)}}return{offsetX:i.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".")}ld.prototype.isFont=!0;var hd,pd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new nf(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(i){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=a.parse(n);t&&t(r)}),n,r)}},{key:"parse",value:function(e){return new ld(e)}}]),n}(ef),vd={getContext:function(){return void 0===hd&&(hd=new(window.AudioContext||window.webkitAudioContext)),hd},setContext:function(e){hd=e}},md=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,p.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new nf(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{var i=n.slice(0);vd.getContext().decodeAudioData(i,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),a.manager.itemError(e)}}),n,r)}}]),n}(ef),gd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,p.Z)(this,n),a=t.call(this,void 0,i);var o=(new qa).set(e),s=(new qa).set(r),u=new xr(o.r,o.g,o.b),c=new xr(s.r,s.g,s.b),l=Math.sqrt(Math.PI),f=l*Math.sqrt(.75);return a.sh.coefficients[0].copy(u).add(c).multiplyScalar(l),a.sh.coefficients[1].copy(u).sub(c).multiplyScalar(f),a}return(0,v.Z)(n)}(Jf);gd.prototype.isHemisphereLightProbe=!0;var yd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,p.Z)(this,n),r=t.call(this,void 0,a);var i=(new qa).set(e);return r.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,v.Z)(n)}(Jf);yd.prototype.isAmbientLightProbe=!0;var _d=new $r,bd=new $r,wd=function(){function e(){(0,p.Z)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ji,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ji,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,v.Z)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,a=e.projectionMatrix.clone(),i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(tr*t.fov*.5)/t.zoom;bd.elements[12]=-i,_d.elements[12]=i,n=-s*t.aspect+o,r=s*t.aspect+o,a.elements[0]=2*t.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(a),n=-s*t.aspect-o,r=s*t.aspect-o,a.elements[0]=2*t.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(a)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_d)}}]),e}(),xd=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,p.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,v.Z)(e,[{key:"start",value:function(){this.startTime=Ad(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Ad();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Ad(){return("undefined"===typeof performance?Date:performance).now()}var Md=new xr,Ed=new wr,Cd=new xr,Sd=new xr,Td=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,p.Z)(this,n),(e=t.call(this)).type="AudioListener",e.context=vd.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new xd,e}return(0,v.Z)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Md,Ed,Cd),Sd.set(0,0,-1).applyQuaternion(Ed),t.positionX){var a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Md.x,a),t.positionY.linearRampToValueAtTime(Md.y,a),t.positionZ.linearRampToValueAtTime(Md.z,a),t.forwardX.linearRampToValueAtTime(Sd.x,a),t.forwardY.linearRampToValueAtTime(Sd.y,a),t.forwardZ.linearRampToValueAtTime(Sd.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Md.x,Md.y,Md.z),t.setOrientation(Sd.x,Sd.y,Sd.z,r.x,r.y,r.z)}}]),n}(Ma),kd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,v.Z)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Ma),Bd=new xr,Pd=new wr,Ld=new xr,Dd=new xr,Rd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,v.Z)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if((0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Bd,Pd,Ld),Dd.set(0,0,1).applyQuaternion(Pd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Bd.x,r),t.positionY.linearRampToValueAtTime(Bd.y,r),t.positionZ.linearRampToValueAtTime(Bd.z,r),t.orientationX.linearRampToValueAtTime(Dd.x,r),t.orientationY.linearRampToValueAtTime(Dd.y,r),t.orientationZ.linearRampToValueAtTime(Dd.z,r)}else t.setPosition(Bd.x,Bd.y,Bd.z),t.setOrientation(Dd.x,Dd.y,Dd.z)}}}]),n}(kd),Fd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,p.Z)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,v.Z)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Id=function(){function e(t,n,r){var a,i,o;switch((0,p.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":a=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:a=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,v.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,a=e*r+r,i=this.cumulativeWeight;if(0===i){for(var o=0;o!==r;++o)n[a+o]=n[o];i=t}else{var s=t/(i+=t);this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=i}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-a,t)}i>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,c=t+t;u!==c;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var a=n,i=r;a!==i;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,a){if(r>=.5)for(var i=0;i!==a;++i)e[t+i]=e[n+i]}},{key:"_slerp",value:function(e,t,n,r){wr.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,a){var i=this._workIndex*a;wr.multiplyQuaternionsFlat(e,i,e,t,e,n),wr.slerpFlat(e,t,e,t,e,i,r)}},{key:"_lerp",value:function(e,t,n,r,a){for(var i=1-r,o=0;o!==a;++o){var s=t+o;e[s]=e[s]*i+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,a){for(var i=0;i!==a;++i){var o=t+i;e[o]=e[o]+e[n+i]*r}}}]),e}(),Od="\\[\\]\\.:\\/",zd=new RegExp("[\\[\\]\\.:\\/]","g"),Zd="[^\\[\\]\\.:\\/]",Ud="[^"+Od.replace("\\.","")+"]",Nd=/((?:WC+[\/:])*)/.source.replace("WC",Zd),Gd=/(WCOD+)?/.source.replace("WCOD",Ud),Hd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Zd),Vd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Zd),jd=new RegExp("^"+Nd+Gd+Hd+Vd+"$"),Wd=["material","materials","bones"],Xd=function(){function e(t,n,r){(0,p.Z)(this,e);var a=r||qd.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,a)}return(0,v.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),qd=function(){function e(t,n,r){(0,p.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,v.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.node[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,a=n.propertyName,i=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[a];if(void 0!==u){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=i}else void 0!==u.fromArray&&void 0!==u.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(l=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=a;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+a+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(zd,"")}},{key:"parseTrackName",value:function(e){var t=jd.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==Wd.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var a=n[r];if(a.name===t||a.uuid===t)return a;var i=e(a.children);if(i)return i}return null}(e.children);if(r)return r}return null}}]),e}();qd.Composite=Xd,qd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},qd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},qd.prototype.GetterByBindingType=[qd.prototype._getValue_direct,qd.prototype._getValue_array,qd.prototype._getValue_arrayElement,qd.prototype._getValue_toArray],qd.prototype.SetterByBindingTypeAndVersioning=[[qd.prototype._setValue_direct,qd.prototype._setValue_direct_setNeedsUpdate,qd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qd.prototype._setValue_array,qd.prototype._setValue_array_setNeedsUpdate,qd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qd.prototype._setValue_arrayElement,qd.prototype._setValue_arrayElement_setNeedsUpdate,qd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qd.prototype._setValue_fromArray,qd.prototype._setValue_fromArray_setNeedsUpdate,qd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Yd=function(){function e(){(0,p.Z)(this,e),this.uuid=rr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}return(0,v.Z)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,i=a.length,o=void 0,s=e.length,u=this.nCachedObjects_,c=0,l=arguments.length;c!==l;++c){var f=arguments[c],d=f.uuid,h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(f);for(var p=0,v=i;p!==v;++p)a[p].push(new qd(f,n[p],r[p]))}else if(h<u){o=e[h];var m=--u,g=e[m];t[g.uuid]=h,e[h]=g,t[d]=m,e[m]=f;for(var y=0,_=i;y!==_;++y){var b=a[y],w=b[m],x=b[h];b[h]=w,void 0===x&&(x=new qd(f,n[y],r[y])),b[m]=x}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=0,o=arguments.length;i!==o;++i){var s=arguments[i],u=s.uuid,c=t[u];if(void 0!==c&&c>=a){var l=a++,f=e[l];t[f.uuid]=c,e[c]=f,t[u]=l,e[l]=s;for(var d=0,h=r;d!==h;++d){var p=n[d],v=p[l],m=p[c];p[c]=v,p[l]=m}}}this.nCachedObjects_=a}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],c=u.uuid,l=t[c];if(void 0!==l)if(delete t[c],l<a){var f=--a,d=e[f],h=--i,p=e[h];t[d.uuid]=l,e[l]=d,t[p.uuid]=f,e[f]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[f],_=g[h];g[l]=y,g[f]=_,g.pop()}}else{var b=--i,w=e[b];b>0&&(t[w.uuid]=l),e[l]=w,e.pop();for(var x=0,A=r;x!==A;++x){var M=n[x];M[l]=M[b],M.pop()}}}this.nCachedObjects_=a}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],a=this._bindings;if(void 0!==r)return a[r];var i=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=a.length,n[e]=r,i.push(e),o.push(t),a.push(l);for(var f=c,d=s.length;f!==d;++f){var h=s[f];l[f]=new qd(h,e,t)}return l}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length-1,s=i[o];t[e[o]]=n,i[n]=s,i.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}}]),e}();Yd.prototype.isAnimationObjectGroup=!0;var Qd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,p.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=a;for(var i=n.tracks,o=i.length,s=new Array(o),u={endingStart:rn,endingEnd:rn},c=0;c!==o;++c){var l=i[c].createInterpolant(null);s[c]=l,l.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Jt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,v.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,a=e._clip.duration,i=a/r,o=r/a;e.warp(1,i,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,a=r.time,i=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=a,s[1]=a+n,u[0]=e/i,u[1]=t/i,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var a=this._startTime;if(null!==a){var i=(e-a)*n;if(i<0||0===n)return;this._startTime=null,t=n*i}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,c=this._propertyBindings;if(this.blendMode===un)for(var l=0,f=u.length;l!==f;++l)u[l].evaluate(o),c[l].accumulateAdditive(s);else for(var d=0,h=u.length;d!==h;++d)u[d].evaluate(o),c[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,i=n===$t;if(0===e)return-1===a?r:i&&1===(1&a)?t-r:r;if(n===Kt){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(i&&1===(1&a))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=an,r.endingEnd=an):(r.endingStart=e?this.zeroSlopeAtStart?an:rn:on,r.endingEnd=t?this.zeroSlopeAtEnd?an:rn:on)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,a=r.time,i=this._weightInterpolant;null===i&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);var o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=n,this}}]),e}(),Kd=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,v.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,i=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==a;++l){var f=r[l],d=f.name,h=c[d];if(void 0!==h)i[l]=h;else{if(void 0!==(h=i[l])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,d));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;++(h=new Id(qd.create(n,d,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(h,s,d),i[l]=h}o[l].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var a=e._propertyBindings,i=0,o=a.length;i!==o;++i){var s=a[i];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,a=this._actionsByClip,i=a[t];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=i;else{var o=i.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.referenceCount&&this._removeInactiveBinding(a)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,a=this._bindings,i=r[t];void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,i=this._bindingsByRootAndName,o=i[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[a],0===Object.keys(o).length&&delete i[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Zl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,a=r.uuid,i="string"===typeof e?Yl.findByName(r,e):e,o=null!==i?i.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==i?i.blendMode:sn),void 0!==s){var c=s.actionByRoot[a];if(void 0!==c&&c.blendMode===n)return c;u=s.knownActions[0],null===i&&(i=u._clip)}if(null===i)return null;var l=new Qd(this,i,t,n);return this._bindAction(l,u),this._addInactiveAction(l,o,a),l}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,a="string"===typeof e?Yl.findByName(n,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,a,i)}for(var s=this._bindings,u=this._nActiveBindings,c=0;c!==u;++c)s[c].apply(i);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(void 0!==a){for(var i=a.knownActions,o=0,s=i.length;o!==s;++o){var u=i[o];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var a=n[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var i=this._bindingsByRootAndName[t];if(void 0!==i)for(var o in i){var s=i[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Kn);Kd.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Jd=function(){function e(t){(0,p.Z)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return(0,v.Z)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),$d=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,p.Z)(this,n),(a=t.call(this,e,r)).meshPerAttribute=i||1,a}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,c.Z)((0,l.Z)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(bu);$d.prototype.isInstancedInterleavedBuffer=!0;var eh=function(){function e(t,n,r,a,i){(0,p.Z)(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=a,this.count=i,this.version=0}return(0,v.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();eh.prototype.isGLBufferAttribute=!0;var th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,p.Z)(this,e),this.ray=new Jr(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new la,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,v.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return rh(e,this,n,t),n.sort(nh),n}},{key:"intersectObjects",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,a=e.length;r<a;r++)rh(e[r],this,n,t);return n.sort(nh),n}}]),e}();function nh(e,t){return e.distance-t.distance}function rh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var a=e.children,i=0,o=a.length;i<o;i++)rh(a[i],t,n,!0)}var ah=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,p.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ar(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ih=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,p.Z)(this,e),this.radius=t,this.theta=n,this.y=r,this}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),oh=new fr,sh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fr(-1/0,-1/0);(0,p.Z)(this,e),this.min=t,this.max=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=oh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new fr),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new fr),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new fr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new fr),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return oh.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();sh.prototype.isBox2=!0;var uh=new xr,ch=new xr,lh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr;(0,p.Z)(this,e),this.start=t,this.end=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new xr),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new xr),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new xr),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){uh.subVectors(e,this.start),ch.subVectors(this.end,this.start);var n=ch.dot(ch),r=ch.dot(uh)/n;return t&&(r=ar(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new xr),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),fh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,p.Z)(this,n),(r=t.call(this)).material=e,r.render=function(){},r.hasPositions=!1,r.hasNormals=!1,r.hasColors=!1,r.hasUvs=!1,r.positionArray=null,r.normalArray=null,r.colorArray=null,r.uvArray=null,r.count=0,r}return(0,v.Z)(n)}(Ma);fh.prototype.isImmediateRenderObject=!0;var dh=new xr,hh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;(0,p.Z)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=r;for(var i=new _i,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var c=s/32*Math.PI*2,l=u/32*Math.PI*2;o.push(Math.cos(c),Math.sin(c),1,Math.cos(l),Math.sin(l),1)}i.setAttribute("position",new si(o,3));var f=new rc({fog:!1,toneMapped:!1});return a.cone=new dc(i,f),a.add(a.cone),a.update(),a}return(0,v.Z)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Ma),ph=new xr,vh=new $r,mh=new $r,gh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;(0,p.Z)(this,n);for(var a=yh(e),i=new _i,o=[],s=[],u=new qa(0,0,1),c=new qa(0,1,0),l=0;l<a.length;l++){var f=a[l];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(c.r,c.g,c.b))}i.setAttribute("position",new si(o,3)),i.setAttribute("color",new si(s,3));var d=new rc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,i,d)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=a,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,v.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,a=r.getAttribute("position");mh.copy(this.root.matrixWorld).invert();for(var i=0,o=0;i<t.length;i++){var s=t[i];s.parent&&s.parent.isBone&&(vh.multiplyMatrices(mh,s.matrixWorld),ph.setFromMatrixPosition(vh),a.setXYZ(o,ph.x,ph.y,ph.z),vh.multiplyMatrices(mh,s.parent.matrixWorld),ph.setFromMatrixPosition(vh),a.setXYZ(o+1,ph.x,ph.y,ph.z),o+=2)}r.getAttribute("position").needsUpdate=!0,(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(dc);function yh(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,yh(e.children[n]));return t}var _h=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;(0,p.Z)(this,n);var o=new gl(r,4,2),s=new Ya({wireframe:!0,fog:!1,toneMapped:!1});return(i=t.call(this,o,s)).light=e,i.light.updateMatrixWorld(),i.color=a,i.type="PointLightHelper",i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!1,i.update(),i}return(0,v.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Oi),bh=new xr,wh=new qa,xh=new qa,Ah=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;(0,p.Z)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a;var o=new hl(r);o.rotateY(.5*Math.PI),i.material=new Ya({wireframe:!0,fog:!1,toneMapped:!1}),void 0===i.color&&(i.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Ja(u,3)),i.add(new Oi(o,i.material)),i.update(),i}return(0,v.Z)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");wh.copy(this.light.color),xh.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var a=n<r/2?wh:xh;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(bh.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Ma),Mh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,p.Z)(this,n),i=new qa(i),o=new qa(o);for(var s=a/2,u=r/a,c=r/2,l=[],f=[],d=0,h=0,v=-c;d<=a;d++,v+=u){l.push(-c,0,v,c,0,v),l.push(v,0,-c,v,0,c);var m=d===s?i:o;m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3}var g=new _i;g.setAttribute("position",new si(l,3)),g.setAttribute("color",new si(f,3));var y=new rc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,g,y)).type="GridHelper",e}return(0,v.Z)(n)}(dc),Eh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,p.Z)(this,n),s=new qa(s),u=new qa(u);for(var c=[],l=[],f=0;f<=a;f++){var d=f/a*(2*Math.PI),h=Math.sin(d)*r,v=Math.cos(d)*r;c.push(0,0,0),c.push(h,0,v);var m=1&f?s:u;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(var g=0;g<=i;g++)for(var y=1&g?s:u,_=r-r/i*g,b=0;b<o;b++){var w=b/o*(2*Math.PI),x=Math.sin(w)*_,A=Math.cos(w)*_;c.push(x,0,A),l.push(y.r,y.g,y.b),w=(b+1)/o*(2*Math.PI),x=Math.sin(w)*_,A=Math.cos(w)*_,c.push(x,0,A),l.push(y.r,y.g,y.b)}var M=new _i;M.setAttribute("position",new si(c,3)),M.setAttribute("color",new si(l,3));var E=new rc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,M,E)).type="PolarGridHelper",e}return(0,v.Z)(n)}(dc),Ch=new xr,Sh=new xr,Th=new xr,kh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;(0,p.Z)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a,void 0===r&&(r=1);var o=new _i;o.setAttribute("position",new si([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new rc({fog:!1,toneMapped:!1});return i.lightPlane=new cc(o,s),i.add(i.lightPlane),(o=new _i).setAttribute("position",new si([0,0,0,0,0,1],3)),i.targetLine=new cc(o,s),i.add(i.targetLine),i.update(),i}return(0,v.Z)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Ch.setFromMatrixPosition(this.light.matrixWorld),Sh.setFromMatrixPosition(this.light.target.matrixWorld),Th.subVectors(Sh,Ch),this.lightPlane.lookAt(Sh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sh),this.targetLine.scale.z=Th.length()}}]),n}(Ma),Bh=new xr,Ph=new Vi,Lh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;(0,p.Z)(this,n);var a=new _i,i=new rc({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={},c=new qa(16755200),l=new qa(16711680),f=new qa(43775),d=new qa(16777215),h=new qa(3355443);function v(e,t,n){m(e,n),m(t,n)}function m(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}return v("n1","n2",c),v("n2","n4",c),v("n4","n3",c),v("n3","n1",c),v("f1","f2",c),v("f2","f4",c),v("f4","f3",c),v("f3","f1",c),v("n1","f1",c),v("n2","f2",c),v("n3","f3",c),v("n4","f4",c),v("p","n1",l),v("p","n2",l),v("p","n3",l),v("p","n4",l),v("u1","u2",f),v("u2","u3",f),v("u3","u1",f),v("c","t",d),v("p","c",h),v("cn1","cn2",h),v("cn3","cn4",h),v("cf1","cf2",h),v("cf3","cf4",h),a.setAttribute("position",new si(o,3)),a.setAttribute("color",new si(s,3)),(r=t.call(this,a,i)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update(),r}return(0,v.Z)(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Ph.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Dh("c",t,e,Ph,0,0,-1),Dh("t",t,e,Ph,0,0,1),Dh("n1",t,e,Ph,-1,-1,-1),Dh("n2",t,e,Ph,1,-1,-1),Dh("n3",t,e,Ph,-1,1,-1),Dh("n4",t,e,Ph,1,1,-1),Dh("f1",t,e,Ph,-1,-1,1),Dh("f2",t,e,Ph,1,-1,1),Dh("f3",t,e,Ph,-1,1,1),Dh("f4",t,e,Ph,1,1,1),Dh("u1",t,e,Ph,.7,1.1,-1),Dh("u2",t,e,Ph,-.7,1.1,-1),Dh("u3",t,e,Ph,0,2,-1),Dh("cf1",t,e,Ph,-1,0,1),Dh("cf2",t,e,Ph,1,0,1),Dh("cf3",t,e,Ph,0,-1,1),Dh("cf4",t,e,Ph,0,1,1),Dh("cn1",t,e,Ph,-1,0,-1),Dh("cn2",t,e,Ph,1,0,-1),Dh("cn3",t,e,Ph,0,-1,-1),Dh("cn4",t,e,Ph,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(dc);function Dh(e,t,n,r,a,i,o){Bh.set(a,i,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),c=0,l=s.length;c<l;c++)u.setXYZ(s[c],Bh.x,Bh.y,Bh.z)}var Rh,Fh,Ih=new Er,Oh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,p.Z)(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new _i;return s.setIndex(new Ja(i,1)),s.setAttribute("position",new Ja(o,3)),(r=t.call(this,s,new rc({color:a,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return(0,v.Z)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Ih.setFromObject(this.object),!Ih.isEmpty()){var t=Ih.min,n=Ih.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return dc.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(dc),zh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,p.Z)(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new _i;return s.setIndex(new Ja(i,1)),s.setAttribute("position",new si(o,3)),(r=t.call(this,s,new rc({color:a,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,v.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(dc),Zh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,p.Z)(this,n);var o=i,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],u=new _i;u.setAttribute("position",new si(s,3)),u.computeBoundingSphere(),(r=t.call(this,u,new rc({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=a;var c=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new _i;return l.setAttribute("position",new si(c,3)),l.computeBoundingSphere(),r.add(new Oi(l,new Ya({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,v.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?B:k,this.lookAt(this.plane.normal),(0,c.Z)((0,l.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(cc),Uh=new xr,Nh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xr(0,0,1),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xr(0,0,0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*i,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return(0,p.Z)(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Rh&&((Rh=new _i).setAttribute("position",new si([0,0,0,0,1,0],3)),(Fh=new Cc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(a),e.line=new cc(Rh,new rc({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Oi(Fh,new Ya({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(i,s,u),e}return(0,v.Z)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Uh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Uh,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return(0,c.Z)((0,l.Z)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(Ma),Gh=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,p.Z)(this,n);var a=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new _i;o.setAttribute("position",new si(a,3)),o.setAttribute("color",new si(i,3));var s=new rc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return(0,v.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(dc),Hh=new Float32Array(1),Vh=new Int32Array(Hh.buffer),jh=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,null,[{key:"toHalfFloat",value:function(e){Hh[0]=e;var t=Vh[0],n=t>>16&32768,r=t>>12&2047,a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(255==a?0:1)&&8388607&t):a<113?n|=((r|=2048)>>114-a)+(r>>113-a&1):(n|=a-112<<10|r>>1,n+=1&r)}}]),e}(),Wh=Math.pow(2,8),Xh=[.125,.215,.35,.446,.526,.582],qh=5+Xh.length,Yh=20,Qh=(r={},(0,o.Z)(r,dn,0),(0,o.Z)(r,hn,1),(0,o.Z)(r,vn,2),(0,o.Z)(r,gn,3),(0,o.Z)(r,yn,4),(0,o.Z)(r,_n,5),(0,o.Z)(r,pn,6),r),Kh=new Ya({side:B,depthWrite:!1,depthTest:!1}),Jh=new Oi(new Zi,Kh),$h=new Wf,ep=dp(),tp=ep._lodPlanes,np=ep._sizeLods,rp=ep._sigmas,ap=new qa,ip=null,op=(1+Math.sqrt(5))/2,sp=1/op,up=[new xr(1,1,1),new xr(-1,1,1),new xr(1,1,-1),new xr(-1,1,-1),new xr(0,op,sp),new xr(0,op,-sp),new xr(sp,0,op),new xr(-sp,0,op),new xr(op,sp,0),new xr(-op,sp,0)];function cp(e){var t=Math.max(e.r,e.g,e.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);return e.multiplyScalar(Math.pow(2,-n)),(n+128)/255}var lp=function(){function e(t){(0,p.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new xr(0,1,0);return new Cl({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Qh[dn]},outputEncoding:{value:Qh[dn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:R,depthTest:!1,depthWrite:!1})}(Yh),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return(0,v.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;ip=this._renderer.getRenderTarget();var a=this._allocateTargets();return this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=mp(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=vp(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<tp.length;e++)tp[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(ip),e.scissorTest=!1,pp(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){ip=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:ke,minFilter:ke,generateMipmaps:!1,type:Ze,format:nt,encoding:fp(e)?e.encoding:vn,depthBuffer:!1},n=hp(t);return n.depthBuffer=!e,this._pingPongRenderTarget=hp(t),n}},{key:"_compileMaterial",value:function(e){var t=new Oi(tp[0],e);this._renderer.compile(t,$h)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var a=new ji(90,1,t,n),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,c=s.outputEncoding,l=s.toneMapping;s.getClearColor(ap),s.toneMapping=he,s.outputEncoding=dn,s.autoClear=!1;var f=!1,d=e.background;if(d){if(d.isColor){Kh.color.copy(d).convertSRGBToLinear(),e.background=null;var h=cp(Kh.color);Kh.opacity=h,f=!0}}else{Kh.color.copy(ap).convertSRGBToLinear();var p=cp(Kh.color);Kh.opacity=p,f=!0}for(var v=0;v<6;v++){var m=v%3;0==m?(a.up.set(0,i[v],0),a.lookAt(o[v],0,0)):1==m?(a.up.set(0,0,i[v]),a.lookAt(0,o[v],0)):(a.up.set(0,i[v],0),a.lookAt(0,0,o[v])),pp(r,m*Wh,v>2?Wh:0,Wh,Wh),s.setRenderTarget(r),f&&s.render(Jh,a),s.render(e,a)}s.toneMapping=l,s.outputEncoding=c,s.autoClear=u}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=mp()):null==this._equirectShader&&(this._equirectShader=vp());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,a=new Oi(tp[0],r),i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=Qh[e.encoding],i.outputEncoding.value=Qh[t.texture.encoding],pp(t,0,0,3*Wh,2*Wh),n.setRenderTarget(t),n.render(a,$h)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<qh;r++){var a=Math.sqrt(rp[r]*rp[r]-rp[r-1]*rp[r-1]),i=up[(r-1)%up.length];this._blur(e,r-1,r,a,i)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,a){var i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",a),this._halfBlur(i,e,n,n,r,"longitudinal",a)}},{key:"_halfBlur",value:function(e,t,n,r,a,i,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");var c=new Oi(tp[r],u),l=u.uniforms,f=np[n]-1,d=isFinite(a)?Math.PI/(2*f):2*Math.PI/39,h=a/d,p=isFinite(a)?1+Math.floor(3*h):Yh;p>Yh&&console.warn("sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Yh));for(var v=[],m=0,g=0;g<Yh;++g){var y=g/h,_=Math.exp(-y*y/2);v.push(_),0==g?m+=_:g<p&&(m+=2*_)}for(var b=0;b<v.length;b++)v[b]=v[b]/m;l.envMap.value=e.texture,l.samples.value=p,l.weights.value=v,l.latitudinal.value="latitudinal"===i,o&&(l.poleAxis.value=o),l.dTheta.value=d,l.mipInt.value=8-n,l.inputEncoding.value=Qh[e.texture.encoding],l.outputEncoding.value=Qh[e.texture.encoding];var w=np[r];pp(t,3*Math.max(0,Wh-2*w),(0===r?0:2*Wh)+2*w*(r>4?r-8+4:0),3*w,2*w),s.setRenderTarget(t),s.render(c,$h)}}]),e}();function fp(e){return void 0!==e&&e.type===Ze&&(e.encoding===dn||e.encoding===hn||e.encoding===pn)}function dp(){for(var e=[],t=[],n=[],r=8,a=0;a<qh;a++){var i=Math.pow(2,r);t.push(i);var o=1/i;a>4?o=Xh[a-8+4-1]:0==a&&(o=0),n.push(o);for(var s=1/(i-1),u=-s/2,c=1+s/2,l=[u,u,c,u,c,c,u,u,c,c,u,c],f=new Float32Array(108),d=new Float32Array(72),h=new Float32Array(36),p=0;p<6;p++){var v=p%3*2/3-1,m=p>2?0:-1,g=[v,m,0,v+2/3,m,0,v+2/3,m+1,0,v,m,0,v+2/3,m+1,0,v,m+1,0];f.set(g,18*p),d.set(l,12*p);var y=[p,p,p,p,p,p];h.set(y,6*p)}var _=new _i;_.setAttribute("position",new Ja(f,3)),_.setAttribute("uv",new Ja(d,2)),_.setAttribute("faceIndex",new Ja(h,1)),e.push(_),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function hp(e){var t=new _r(3*Wh,3*Wh,e);return t.texture.mapping=Me,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function pp(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function vp(){var e=new fr(1,1);return new Cl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Qh[dn]},outputEncoding:{value:Qh[dn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:R,depthTest:!1,depthWrite:!1})}function mp(){return new Cl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Qh[dn]},outputEncoding:{value:Qh[dn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:R,depthTest:!1,depthWrite:!1})}var gp=0,yp=1,_p=0,bp=1,wp=2;function xp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Ap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Mp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new _c(e,t)}function Ep(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ou(e)}function Cp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new _c(e,t)}function Sp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new pc(e)}function Tp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new pc(e)}function kp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new pc(e)}function Bp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new xr(e,t,n)}function Pp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ja(e,t).setUsage(Nn)}function Lp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new $a(e,t)}function Dp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ei(e,t)}function Rp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ti(e,t)}function Fp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ni(e,t)}function Ip(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ri(e,t)}function Op(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ai(e,t)}function zp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ii(e,t)}function Zp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new si(e,t)}function Up(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ui(e,t)}function Np(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Gh(e)}function Gp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Oh(e,t)}function Hp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new dc(new Rc(e.geometry),new rc({color:void 0!==t?t:16777215}))}function Vp(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new dc(new Al(e.geometry),new rc({color:void 0!==t?t:16777215}))}function jp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new nf(e)}function Wp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new uf(e)}function Xp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Yi(e,n)}function qp(){console.error("THREE.CanvasRenderer has been removed")}function Yp(){console.error("THREE.JSONLoader has been removed.")}lf.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(lf.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Pf.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},Mh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},gh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},ef.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ed.extractUrlBase(e)},ef.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},sh.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},sh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},sh.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},sh.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Er.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Er.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Er.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Er.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Er.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Vr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},$i.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},lh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},hr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},hr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},hr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},hr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},hr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},hr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},$r.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},$r.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},$r.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new xr).setFromMatrixColumn(this,3)},$r.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},$r.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},$r.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},$r.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},$r.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},$r.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},$r.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},$r.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},$r.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},$r.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},$r.prototype.makeFrustum=function(e,t,n,r,a,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,a,i)},$r.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ta.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},wr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},wr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Jr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Jr.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Jr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Za.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Za.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},Za.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Za.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Za.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Za.barycoordFromPoint=function(e,t,n,r,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Za.getBarycoord(e,t,n,r,a)},Za.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Za.getNormal(e,t,n,r)},Lf.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Lf.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new cl(this,e)},Lf.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ml(this,e)},fr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},fr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},fr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},xr.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},xr.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},xr.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},xr.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},xr.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},xr.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},xr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},xr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},xr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},yr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},yr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ma.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Ma.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Ma.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Ma.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Ma.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Ma.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Oi.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Oi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),cn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Xu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ji.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Df.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ja.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Nn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Nn)}}}),Ja.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Nn:Un),this},Ja.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ja.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_i.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},_i.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ja(arguments[1],arguments[2])))},_i.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},_i.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},_i.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},_i.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},_i.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(_i.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),bu.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Nn:Un),this},bu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},cl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},cl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},cl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},_u.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Jd.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Na.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new qa}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===L}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Hi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),vu.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},vu.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},vu.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},vu.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},vu.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},vu.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},vu.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},vu.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},vu.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},vu.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},vu.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},vu.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},vu.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},vu.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},vu.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},vu.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},vu.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},vu.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},vu.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},vu.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},vu.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},vu.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},vu.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},vu.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},vu.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(vu.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?hn:dn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(iu.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_r.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),kd.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new md).load(e,(function(e){t.setBuffer(e)})),this},Fd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Xi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Xi.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},pr.crossOrigin=void 0,pr.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var a=new cf;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},pr.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var a=new sf;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},pr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},pr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Qp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Kp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:y}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=y)},8356:function(e){var t=function e(){function t(e){return a.appendChild(e.dom),e}function n(e){for(var t=0;t<a.children.length;t++)a.children[t].style.display=t===e?"block":"none";r=e}var r=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(e){e.preventDefault(),n(++r%a.children.length)}),!1);var i=(performance||Date).now(),o=i,s=0,u=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:a,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-i,200),e>o+1e3&&(u.update(1e3*s/(e-o),100),o=e,s=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:a,setMode:n}};t.Panel=function(e,t,n){var r=1/0,a=0,i=Math.round,o=i(window.devicePixelRatio||1),s=80*o,u=48*o,c=3*o,l=2*o,f=3*o,d=15*o,h=74*o,p=30*o,v=document.createElement("canvas");v.width=s,v.height=u,v.style.cssText="width:80px;height:48px";var m=v.getContext("2d");return m.font="bold "+9*o+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,s,u),m.fillStyle=t,m.fillText(e,c,l),m.fillRect(f,d,h,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(f,d,h,p),{dom:v,update:function(u,g){r=Math.min(r,u),a=Math.max(a,u),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,s,d),m.fillStyle=t,m.fillText(i(u)+" "+e+" ("+i(r)+"-"+i(a)+")",c,l),m.drawImage(v,f+o,d,h-o,p,f,d,h-o,p),m.fillRect(f+h-o,d,o,p),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(f+h-o,d,o,i((1-u/g)*p))}}},e.exports=t},9776:function(e,t,n){var r;!function(a,i){"use strict";var o="function",s="undefined",u="object",c="string",l="model",f="name",d="type",h="vendor",p="version",v="architecture",m="console",g="mobile",y="tablet",_="smarttv",b="wearable",w="embedded",x="Amazon",A="Apple",M="ASUS",E="BlackBerry",C="Firefox",S="Google",T="Huawei",k="LG",B="Microsoft",P="Motorola",L="Opera",D="Samsung",R="Sony",F="Xiaomi",I="Zebra",O="Facebook",z=function(e){var t={};for(var n in e)t[e[n].toUpperCase()]=e[n];return t},Z=function(e,t){return typeof e===c&&-1!==U(t).indexOf(U(e))},U=function(e){return e.toLowerCase()},N=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},G=function(e,t){for(var n,r,a,s,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!c;)if(c=d[n++].exec(e))for(a=0;a<h.length;a++)l=c[++r],typeof(s=h[a])===u&&s.length>0?2==s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},H=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Z(t[n][r],e))return"?"===n?i:n}else if(Z(t[n],e))return"?"===n?i:n;return e},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},j={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[f,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,O],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,U]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,D],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,D],[d,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,A],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,A],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,T],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[h,T],[d,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,F],[d,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,F],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[h,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,P],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,P],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,k],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,k],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,g]],[/(pixel c)\b/i],[l,[h,S],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,S],[d,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,R],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,R],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,x],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,x],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,E],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,M],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,M],[d,g]],[/(nexus 9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,y]],[/(surface duo)/i],[l,[h,B],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,g]],[/(u304aa)/i],[l,[h,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[h,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,B],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,I],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,I],[d,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[l,[h,R],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,B],[d,m]],[/smart-tv.+(samsung)/i],[h,[d,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,D],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,k],[d,_]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[d,_]],[/crkey/i],[[l,"Chromecast"],[h,S],[d,_]],[/droid.+aft(\w)( bui|\))/i],[l,[h,x],[d,_]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,N],[l,N],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/((pebble))app/i],[h,l,[d,b]],[/droid.+; (glass) \d/i],[l,[h,S],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,I],[d,b]],[/(quest( 2)?)/i],[l,[h,O],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,H,V]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,H,V]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,p]]},W=function e(t,n){if(typeof t===u&&(n=t,t=i),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof a!==s&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(j,n):j;return this.getBrowser=function(){var e,t={};return t.name=i,t.version=i,G.call(t,r,o.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,t},this.getCPU=function(){var e={};return e.architecture=i,G.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,G.call(e,r,o.device),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,G.call(e,r,o.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,G.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?N(e,255):e,this},this.setUA(r),this};W.VERSION="0.7.30",W.BROWSER=z([f,p,"major"]),W.CPU=z([v]),W.DEVICE=z([l,h,d,m,g,_,y,b,w]),W.ENGINE=W.OS=z([f,p]),typeof t!==s?(e.exports&&(t=e.exports=W),t.UAParser=W):n.amdO?(r=function(){return W}.call(t,n,t,e))===i||(e.exports=r):typeof a!==s&&(a.UAParser=W);var X=typeof a!==s&&(a.jQuery||a.Zepto);if(X&&!X.ua){var q=new W;X.ua=q.getResult(),X.ua.get=function(){return q.getUA()},X.ua.set=function(e){q.setUA(e);var t=q.getResult();for(var n in t)X.ua[n]=t[n]}}}("object"===typeof window?window:this)},1652:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(3433),a=n(7762),i=n(580),o=n.n(i),s=[];function u(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=(0,a.Z)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(o()(n,l.args)){if(u)return;if(l.error)throw l.error;if(l.response)return l.response;throw l.promise}}}catch(d){c.e(d)}finally{c.f()}var f={args:n,promise:e.apply(void 0,(0,r.Z)(n)).then((function(e){return f.response=null==e||e})).catch((function(e){return f.error=null!=e?e:"unknown error"})).then((function(){s>0&&setTimeout((function(){var e=t.indexOf(f);-1!==e&&t.splice(e,1)}),s)}))};if(t.push(f),!u)throw f.promise}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0===n||0===n.length)e.splice(0,e.length);else{var a=e.find((function(e){return o()(n,e.args)}));if(a){var i=e.indexOf(a);-1!==i&&e.splice(i,1)}}}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u(e,s,n,l.lifespan)}l.lifespan=0,l.clear=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[s].concat(t))},l.preload=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u(e,s,n,l.lifespan,!0)},l.peek=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return null==(r=s.find((function(e){return o()(t,e.args)})))?void 0:r.response}},5401:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9439),a=n(4519);function i(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(a!==t){var i=t;t=r?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,subscribe:function(e,r,i){return r||i?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!i(o,n)){var a=o;e(o=n,a)}}return n.add(s),function(){return n.delete(s)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,a,i),i}var o="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a.useEffect:a.useLayoutEffect;function s(e){var t="function"===typeof e?i(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,s=(0,a.useReducer)((function(e){return e+1}),0),u=(0,r.Z)(s,2),c=u[1],l=t.getState(),f=(0,a.useRef)(l),d=(0,a.useRef)(n),h=(0,a.useRef)(i),p=(0,a.useRef)(!1),v=(0,a.useRef)();void 0===v.current&&(v.current=n(l));var m=!1;(f.current!==l||d.current!==n||h.current!==i||p.current)&&(e=n(l),m=!i(v.current,e)),o((function(){m&&(v.current=e),f.current=l,d.current=n,h.current=i,p.current=!1}));var g=(0,a.useRef)(l);o((function(){var e=function(){try{var e=t.getState(),n=d.current(e);h.current(v.current,n)||(f.current=e,v.current=n,c())}catch(r){p.current=!0,c()}},n=t.subscribe(e);return t.getState()!==g.current&&e(),n}),[]);var y=m?e:v.current;return(0,a.useDebugValue)(y),y};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}},8333:function(e,t,n){"use strict";n.r(t),t.default=n.p+"b4f46e148a3b3b5aef90717d8d60e3fc.zbin"},7319:function(e,t,n){"use strict";n.r(t),t.default=n.p+"f7b62a3a53b5c9b3222ba8dc53cb8b11.zbin"},7006:function(e,t,n){"use strict";n.r(t),t.default=n.p+"482727c0e7dd40d73f5aae47f238ad61.zbin"},4301:function(e,t){"use strict";t.Z="./zcv.wasm"},7534:function(e,t,n){"use strict";function r(){return new Worker(n.p+"static/js/worker.ab53b058.worker.js")}n.r(t),n.d(t,{default:function(){return r}})},7567:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(477),a=n.n(r);function i(){return a()('!function(){var e={228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){u=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},38:function(e,t,n){var r=n(858),a=n(884),i=n(379),o=n(521);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(780)},735:function(e,t,n){"use strict";var r=n(575).default,a=n(913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;var i=function(){function e(){var t=this;r(this,e),this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:function(){return t._i32View[t._startOffset++]},bool:function(){return 1===t._i32View[t._startOffset++]},type:function(){return t._i32View[t._startOffset++]},float:function(){return t._f32View[t._startOffset++]},timestamp:function(){t._startOffset%2===1&&t._startOffset++;var e=t._f64View[t._startOffset/2];return t._startOffset+=2,e},string:function(){var e=t._i32View[t._startOffset++],n=(new TextDecoder).decode(new Uint8Array(t._buffer,4*t._startOffset,e));return t._startOffset+=e>>2,0!==(3&e)&&t._startOffset++,n},dataWithLength:function(){var e=t._i32View[t._startOffset++],n=new Uint8Array(e);return n.set(t._u8View.subarray(4*t._startOffset,4*t._startOffset+e)),t._startOffset+=n.byteLength>>2,0!==(3&n.byteLength)&&t._startOffset++,n.buffer},matrix4x4:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+16)),t._startOffset+=e,n},identityCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+50)),t._startOffset+=e,n},expressionCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+29)),t._startOffset+=e,n},cameraModel:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+6)),t._startOffset+=e,n},barcodeFormat:function(){return t._i32View[t._startOffset++]},faceLandmarkName:function(){return t._i32View[t._startOffset++]},instantTrackerTransformOrientation:function(){return t._i32View[t._startOffset++]},logLevel:function(){return t._i32View[t._startOffset++]}}}return a(e,[{key:"setData",value:function(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}},{key:"hasMessage",value:function(){return this._offset+1<this._length}},{key:"forMessages",value:function(e){for(;this.hasMessage();){var t=this._i32View[this._offset],n=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(n,this._processor)}}}]),e}();t.MessageDeserializer=i},319:function(e,t,n){"use strict";var r=n(575).default,a=n(913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o;var u=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t){for(var n=0,r=this._funcs.length;n<r;n++)this._funcs[n](e,t)}}]),e}();t.Event2=u;var c=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n){for(var r=0,a=this._funcs.length;r<a;r++)this._funcs[r](e,t,n)}}]),e}();t.Event3=c;var f=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n,r,a){for(var i=0,o=this._funcs.length;i<o;i++)this._funcs[i](e,t,n,r,a)}}]),e}();t.Event5=f},832:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeObject=void 0,t.getRuntimeObject=function(e){var t=e.cwrap("zappar_log_level","number",[]),n=e.cwrap("zappar_log_level_set",null,["number"]),r=e.cwrap("zappar_analytics_project_id_set",null,["string"]),a=e.cwrap("zappar_pipeline_create","number",[]),i=e.cwrap("zappar_pipeline_destroy",null,["number"]),o=e.cwrap("zappar_pipeline_frame_update",null,["number"]),u=e.cwrap("zappar_pipeline_frame_number","number",["number"]),c=e.cwrap("zappar_pipeline_camera_model","number",["number"]),f=e.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),s=e.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number"]),_=e.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),l=e.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),p=e.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),d=e.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),m=e.cwrap("zappar_camera_source_create","number",["number","string"]),h=e.cwrap("zappar_camera_source_destroy",null,["number"]),y=e.cwrap("zappar_image_tracker_create","number",["number"]),b=e.cwrap("zappar_image_tracker_destroy",null,["number"]),v=e.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),g=e.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),w=e.cwrap("zappar_image_tracker_target_count","number",["number"]),M=e.cwrap("zappar_image_tracker_enabled","number",["number"]),k=e.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),x=e.cwrap("zappar_image_tracker_anchor_count","number",["number"]),z=e.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),A=e.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),L=e.cwrap("zappar_face_tracker_create","number",["number"]),E=e.cwrap("zappar_face_tracker_destroy",null,["number"]),O=e.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),S=e.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),C=e.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),T=e.cwrap("zappar_face_tracker_enabled","number",["number"]),P=e.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),I=e.cwrap("zappar_face_tracker_max_faces","number",["number"]),B=e.cwrap("zappar_face_tracker_anchor_count","number",["number"]),F=e.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),j=e.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),D=e.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),R=e.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),V=e.cwrap("zappar_face_mesh_create","number",[]),q=e.cwrap("zappar_face_mesh_destroy",null,["number"]),G=e.cwrap("zappar_face_landmark_create","number",["number"]),N=e.cwrap("zappar_face_landmark_destroy",null,["number"]),U=e.cwrap("zappar_barcode_finder_create","number",["number"]),W=e.cwrap("zappar_barcode_finder_destroy",null,["number"]),H=e.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),Z=e.cwrap("zappar_barcode_finder_enabled","number",["number"]),Y=e.cwrap("zappar_barcode_finder_found_number","number",["number"]),X=e.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),K=e.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),J=e.cwrap("zappar_barcode_finder_formats","number",["number"]),Q=e.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),$=e.cwrap("zappar_instant_world_tracker_create","number",["number"]),ee=e.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),te=e.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),ne=e.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),re=e.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),ae=e.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset",null,["number","number","number","number","number"]),ie=32,oe=e._malloc(ie),ue=64,ce=e._malloc(ue);return{log_level:function(){return t()},log_level_set:function(e){return n(e)},analytics_project_id_set:function(e){return r(e)},pipeline_create:function(){return a()},pipeline_destroy:function(){i()},pipeline_frame_update:function(e){return o(e)},pipeline_frame_number:function(e){return u(e)},pipeline_camera_model:function(t){var n=c(t),r=new Float32Array(6);return r.set(e.HEAPF32.subarray(n/4,6+n/4)),n=r},pipeline_camera_frame_user_data:function(e){return f(e)},pipeline_camera_frame_submit:function(t,n,r,a,i,o){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var u=oe,c=n.byteLength;e.HEAPU8.set(new Uint8Array(n),oe);var f=r,_=a,l=i;ue<o.byteLength&&(e._free(ue),ue=o.byteLength,ce=e._malloc(ue));var p=ce;return e.HEAPF32.set(o,ce/4),s(t,u,c,f,_,l,p)},pipeline_camera_frame_camera_attitude:function(t){var n=_(t),r=new Float32Array(16);return r.set(e.HEAPF32.subarray(n/4,16+n/4)),n=r},pipeline_motion_accelerometer_submit:function(e,t,n,r,a){return l(e,t,n,r,a)},pipeline_motion_rotation_rate_submit:function(e,t,n,r,a){return p(e,t,n,r,a)},pipeline_motion_attitude_submit:function(e,t,n,r,a){return d(e,t,n,r,a)},camera_source_create:function(e,t){return m(e,t)},camera_source_destroy:function(){h()},image_tracker_create:function(e){return y(e)},image_tracker_destroy:function(){b()},image_tracker_target_load_from_memory:function(t,n){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var r=oe,a=n.byteLength;return e.HEAPU8.set(new Uint8Array(n),oe),v(t,r,a)},image_tracker_target_loaded_version:function(e){return g(e)},image_tracker_target_count:function(e){return w(e)},image_tracker_enabled:function(e){var t=M(e);return t=1===t},image_tracker_enabled_set:function(e,t){return k(e,t?1:0)},image_tracker_anchor_count:function(e){return x(e)},image_tracker_anchor_id:function(e,t){return z(e,t)},image_tracker_anchor_pose_raw:function(t,n){var r=A(t,n),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a},face_tracker_create:function(e){return L(e)},face_tracker_destroy:function(){E()},face_tracker_model_load_from_memory:function(t,n){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var r=oe,a=n.byteLength;return e.HEAPU8.set(new Uint8Array(n),oe),O(t,r,a)},face_tracker_model_loaded_version:function(e){return S(e)},face_tracker_enabled_set:function(e,t){return C(e,t?1:0)},face_tracker_enabled:function(e){var t=T(e);return t=1===t},face_tracker_max_faces_set:function(e,t){return P(e,t)},face_tracker_max_faces:function(e){return I(e)},face_tracker_anchor_count:function(e){return B(e)},face_tracker_anchor_id:function(e,t){return F(e,t)},face_tracker_anchor_pose_raw:function(t,n){var r=j(t,n),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a},face_tracker_anchor_identity_coefficients:function(t,n){var r=D(t,n),a=new Float32Array(50);return a.set(e.HEAPF32.subarray(r/4,50+r/4)),r=a},face_tracker_anchor_expression_coefficients:function(t,n){var r=R(t,n),a=new Float32Array(29);return a.set(e.HEAPF32.subarray(r/4,29+r/4)),r=a},face_mesh_create:function(){return V()},face_mesh_destroy:function(){q()},face_landmark_create:function(e){return G(e)},face_landmark_destroy:function(){N()},barcode_finder_create:function(e){return U(e)},barcode_finder_destroy:function(){W()},barcode_finder_enabled_set:function(e,t){return H(e,t?1:0)},barcode_finder_enabled:function(e){var t=Z(e);return t=1===t},barcode_finder_found_number:function(e){return Y(e)},barcode_finder_found_text:function(e,t){return X(e,t)},barcode_finder_found_format:function(e,t){return K(e,t)},barcode_finder_formats:function(e){return J(e)},barcode_finder_formats_set:function(e,t){return Q(e,t)},instant_world_tracker_create:function(e){return $(e)},instant_world_tracker_destroy:function(){ee()},instant_world_tracker_enabled_set:function(e,t){return te(e,t?1:0)},instant_world_tracker_enabled:function(e){var t=ne(e);return t=1===t},instant_world_tracker_anchor_pose_raw:function(t){var n=re(t),r=new Float32Array(16);return r.set(e.HEAPF32.subarray(n/4,16+n/4)),n=r},instant_world_tracker_anchor_pose_set_from_camera_offset:function(e,t,n,r,a){return ae(e,t,n,r,a)}}}},370:function(e,t,n){"use strict";var r=n(38).default,a=n(269).default,i=n(575).default,o=n(913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_server=void 0;var u=n(363),c=n(735),f=function(){function e(t,n){i(this,e),this._impl=t,this._sender=n,this._deserializer=new c.MessageDeserializer,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}return o(e,[{key:"processBuffer",value:function(e){var t=this;this._deserializer.setData(e),this._deserializer.forMessages((function(e,n){switch(e){case 33:t._impl.log_level_set(n.logLevel());break;case 30:t._impl.analytics_project_id_set(n.string());break;case 26:var r=n.type(),a=t._impl.pipeline_create();t._pipeline_by_instance.set(r,a),t._pipeline_id_by_pipeline_id.set(r,r),t.serializersByPipelineId.set(r,new u.MessageSerializer((function(e){t._sender(r,e)})));break;case 27:var i=n.type(),o=t._pipeline_by_instance.get(i);if(void 0===o)return;t._impl.pipeline_destroy(o),t._pipeline_by_instance.delete(i);break;case 9:var c=n.type(),f=t._pipeline_by_instance.get(c);if(void 0===f)return;t._impl.pipeline_frame_update(f);break;case 8:var s=n.type(),_=t._pipeline_by_instance.get(s);if(void 0===_)return;t._impl.pipeline_camera_frame_submit(_,n.dataWithLength(),n.int(),n.int(),n.int(),n.matrix4x4());break;case 10:var l=n.type(),p=t._pipeline_by_instance.get(l);if(void 0===p)return;t._impl.pipeline_motion_accelerometer_submit(p,n.timestamp(),n.float(),n.float(),n.float());break;case 11:var d=n.type(),m=t._pipeline_by_instance.get(d);if(void 0===m)return;t._impl.pipeline_motion_rotation_rate_submit(m,n.timestamp(),n.float(),n.float(),n.float());break;case 12:var h=n.type(),y=t._pipeline_by_instance.get(h);if(void 0===y)return;t._impl.pipeline_motion_attitude_submit(y,n.timestamp(),n.float(),n.float(),n.float());break;case 28:var b=n.type(),v=n.type(),g=t._pipeline_by_instance.get(v),w=n.string(),M=t._impl.camera_source_create(g,w);t._camera_source_by_instance.set(b,M),t._pipeline_id_by_camera_source_id.set(b,v);break;case 29:var k=n.type(),x=t._camera_source_by_instance.get(k);if(void 0===x)return;t._impl.camera_source_destroy(x),t._camera_source_by_instance.delete(k);break;case 2:var z=n.type(),A=n.type(),L=t._pipeline_by_instance.get(A),E=t._impl.image_tracker_create(L);t._image_tracker_by_instance.set(z,E),t._pipeline_id_by_image_tracker_id.set(z,A);break;case 13:var O=n.type(),S=t._image_tracker_by_instance.get(O);if(void 0===S)return;t._impl.image_tracker_destroy(S),t._image_tracker_by_instance.delete(O);break;case 4:var C=n.type(),T=t._image_tracker_by_instance.get(C);if(void 0===T)return;t._impl.image_tracker_target_load_from_memory(T,n.dataWithLength());break;case 3:var P=n.type(),I=t._image_tracker_by_instance.get(P);if(void 0===I)return;t._impl.image_tracker_enabled_set(I,n.bool());break;case 19:var B=n.type(),F=n.type(),j=t._pipeline_by_instance.get(F),D=t._impl.face_tracker_create(j);t._face_tracker_by_instance.set(B,D),t._pipeline_id_by_face_tracker_id.set(B,F);break;case 20:var R=n.type(),V=t._face_tracker_by_instance.get(R);if(void 0===V)return;t._impl.face_tracker_destroy(V),t._face_tracker_by_instance.delete(R);break;case 21:var q=n.type(),G=t._face_tracker_by_instance.get(q);if(void 0===G)return;t._impl.face_tracker_model_load_from_memory(G,n.dataWithLength());break;case 22:var N=n.type(),U=t._face_tracker_by_instance.get(N);if(void 0===U)return;t._impl.face_tracker_enabled_set(U,n.bool());break;case 23:var W=n.type(),H=t._face_tracker_by_instance.get(W);if(void 0===H)return;t._impl.face_tracker_max_faces_set(H,n.int());break;case 24:var Z=n.type(),Y=t._impl.face_mesh_create();t._face_mesh_by_instance.set(Z,Y);break;case 25:var X=n.type(),K=t._face_mesh_by_instance.get(X);if(void 0===K)return;t._impl.face_mesh_destroy(K),t._face_mesh_by_instance.delete(X);break;case 31:var J=n.type(),Q=n.faceLandmarkName(),$=t._impl.face_landmark_create(Q);t._face_landmark_by_instance.set(J,$);break;case 32:var ee=n.type(),te=t._face_landmark_by_instance.get(ee);if(void 0===te)return;t._impl.face_landmark_destroy(te),t._face_landmark_by_instance.delete(ee);break;case 15:var ne=n.type(),re=n.type(),ae=t._pipeline_by_instance.get(re),ie=t._impl.barcode_finder_create(ae);t._barcode_finder_by_instance.set(ne,ie),t._pipeline_id_by_barcode_finder_id.set(ne,re);break;case 16:var oe=n.type(),ue=t._barcode_finder_by_instance.get(oe);if(void 0===ue)return;t._impl.barcode_finder_destroy(ue),t._barcode_finder_by_instance.delete(oe);break;case 17:var ce=n.type(),fe=t._barcode_finder_by_instance.get(ce);if(void 0===fe)return;t._impl.barcode_finder_enabled_set(fe,n.bool());break;case 18:var se=n.type(),_e=t._barcode_finder_by_instance.get(se);if(void 0===_e)return;t._impl.barcode_finder_formats_set(_e,n.barcodeFormat());break;case 5:var le=n.type(),pe=n.type(),de=t._pipeline_by_instance.get(pe),me=t._impl.instant_world_tracker_create(de);t._instant_world_tracker_by_instance.set(le,me),t._pipeline_id_by_instant_world_tracker_id.set(le,pe);break;case 14:var he=n.type(),ye=t._instant_world_tracker_by_instance.get(he);if(void 0===ye)return;t._impl.instant_world_tracker_destroy(ye),t._instant_world_tracker_by_instance.delete(he);break;case 6:var be=n.type(),ve=t._instant_world_tracker_by_instance.get(be);if(void 0===ve)return;t._impl.instant_world_tracker_enabled_set(ve,n.bool());break;case 7:var ge=n.type(),we=t._instant_world_tracker_by_instance.get(ge);if(void 0===we)return;t._impl.instant_world_tracker_anchor_pose_set_from_camera_offset(we,n.float(),n.float(),n.float(),n.instantTrackerTransformOrientation())}}))}},{key:"exploreState",value:function(){var e,t=this,n=a(this._pipeline_by_instance);try{var i=function(){var n=r(e.value,2),a=n[0],i=n[1],o=t._pipeline_id_by_pipeline_id.get(a);if(!o)return"continue";var u=t.serializersByPipelineId.get(o);if(!u)return"continue";u.sendMessage(7,(function(e){e.type(a),e.int(t._impl.pipeline_frame_number(i))})),u.sendMessage(6,(function(e){e.type(a),e.cameraModel(t._impl.pipeline_camera_model(i))})),u.sendMessage(5,(function(e){e.type(a),e.int(t._impl.pipeline_camera_frame_user_data(i))})),u.sendMessage(11,(function(e){e.type(a),e.matrix4x4(t._impl.pipeline_camera_frame_camera_attitude(i))}))};for(n.s();!(e=n.n()).done;)i()}catch(P){n.e(P)}finally{n.f()}var o,u=a(this._camera_source_by_instance);try{for(u.s();!(o=u.n()).done;){var c=r(o.value,2),f=c[0],s=(c[1],this._pipeline_id_by_camera_source_id.get(f));if(s)this.serializersByPipelineId.get(s)}}catch(P){u.e(P)}finally{u.f()}var _,l=a(this._image_tracker_by_instance);try{var p=function(){var e=r(_.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_image_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(18,(function(e){e.type(n),e.int(t._impl.image_tracker_target_loaded_version(a))})),o.sendMessage(20,(function(e){e.type(n),e.int(t._impl.image_tracker_target_count(a))})),o.sendMessage(1,(function(e){e.type(n),e.int(t._impl.image_tracker_anchor_count(a))}));for(var u=function(e){o.sendMessage(2,(function(r){r.type(n),r.int(e),r.string(t._impl.image_tracker_anchor_id(a,e))}))},c=0;c<t._impl.image_tracker_anchor_count(a);c++)u(c);for(var f=function(e){o.sendMessage(3,(function(r){r.type(n),r.int(e),r.matrix4x4(t._impl.image_tracker_anchor_pose_raw(a,e))}))},s=0;s<t._impl.image_tracker_anchor_count(a);s++)f(s)};for(l.s();!(_=l.n()).done;)p()}catch(P){l.e(P)}finally{l.f()}var d,m=a(this._face_tracker_by_instance);try{var h=function(){var e=r(d.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_face_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(17,(function(e){e.type(n),e.int(t._impl.face_tracker_model_loaded_version(a))})),o.sendMessage(12,(function(e){e.type(n),e.int(t._impl.face_tracker_anchor_count(a))}));for(var u=function(e){o.sendMessage(13,(function(r){r.type(n),r.int(e),r.string(t._impl.face_tracker_anchor_id(a,e))}))},c=0;c<t._impl.face_tracker_anchor_count(a);c++)u(c);for(var f=function(e){o.sendMessage(14,(function(r){r.type(n),r.int(e),r.matrix4x4(t._impl.face_tracker_anchor_pose_raw(a,e))}))},s=0;s<t._impl.face_tracker_anchor_count(a);s++)f(s);for(var _=function(e){o.sendMessage(15,(function(r){r.type(n),r.int(e),r.identityCoefficients(t._impl.face_tracker_anchor_identity_coefficients(a,e))}))},l=0;l<t._impl.face_tracker_anchor_count(a);l++)_(l);for(var p=function(e){o.sendMessage(16,(function(r){r.type(n),r.int(e),r.expressionCoefficients(t._impl.face_tracker_anchor_expression_coefficients(a,e))}))},m=0;m<t._impl.face_tracker_anchor_count(a);m++)p(m)};for(m.s();!(d=m.n()).done;)h()}catch(P){m.e(P)}finally{m.f()}var y,b=a(this._face_mesh_by_instance);try{for(b.s();!(y=b.n()).done;){var v=r(y.value,2),g=v[0],w=(v[1],this._pipeline_id_by_face_mesh_id.get(g));if(w)this.serializersByPipelineId.get(w)}}catch(P){b.e(P)}finally{b.f()}var M,k=a(this._face_landmark_by_instance);try{for(k.s();!(M=k.n()).done;){var x=r(M.value,2),z=x[0],A=(x[1],this._pipeline_id_by_face_landmark_id.get(z));if(A)this.serializersByPipelineId.get(A)}}catch(P){k.e(P)}finally{k.f()}var L,E=a(this._barcode_finder_by_instance);try{var O=function(){var e=r(L.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_barcode_finder_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(8,(function(e){e.type(n),e.int(t._impl.barcode_finder_found_number(a))}));for(var u=function(e){o.sendMessage(9,(function(r){r.type(n),r.int(e),r.string(t._impl.barcode_finder_found_text(a,e))}))},c=0;c<t._impl.barcode_finder_found_number(a);c++)u(c);for(var f=function(e){o.sendMessage(10,(function(r){r.type(n),r.int(e),r.barcodeFormat(t._impl.barcode_finder_found_format(a,e))}))},s=0;s<t._impl.barcode_finder_found_number(a);s++)f(s)};for(E.s();!(L=E.n()).done;)O()}catch(P){E.e(P)}finally{E.f()}var S,C=a(this._instant_world_tracker_by_instance);try{var T=function(){var e=r(S.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_instant_world_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(4,(function(e){e.type(n),e.matrix4x4(t._impl.instant_world_tracker_anchor_pose_raw(a))}))};for(C.s();!(S=C.n()).done;)T()}catch(P){C.e(P)}finally{C.f()}}}]),e}();t.zappar_server=f},776:function(e,t,n){"use strict";var r=n(575).default,a=n(913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;var i=n(319),o=function(){function e(){r(this,e),this.onOutgoingMessage=new i.Event,this.onIncomingMessage=new i.Event1,this._outgoingMessages=[]}return a(e,[{key:"postIncomingMessage",value:function(e){this.onIncomingMessage.emit(e)}},{key:"postOutgoingMessage",value:function(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}},{key:"getOutgoingMessages",value:function(){var e=this._outgoingMessages;return this._outgoingMessages=[],e}}]),e}();t.MsgManager=o},363:function(e,t,n){"use strict";var r=n(575).default,a=n(913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;var i=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:function(e){return n.int(e)},bool:function(e){return n.int(e?1:0)},float:function(e){return n.float(e)},string:function(e){return n.string(e)},dataWithLength:function(e){return n.arrayBuffer(e)},type:function(e){return n.int(e)},matrix4x4:function(e){return n.float32ArrayBuffer(e)},identityCoefficients:function(e){return n.float32ArrayBuffer(e)},expressionCoefficients:function(e){return n.float32ArrayBuffer(e)},cameraModel:function(e){return n.float32ArrayBuffer(e)},timestamp:function(e){return n.double(e)},barcodeFormat:function(e){return n.int(e)},faceLandmarkName:function(e){return n.int(e)},instantTrackerTransformOrientation:function(e){return n.int(e)},logLevel:function(e){return n.int(e)}},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}return a(e,[{key:"bufferReturn",value:function(e){this._freeBufferPool.push(e)}},{key:"_ensureArrayBuffer",value:function(e){var t=4*(this._offset+e+8);if(!(this._buffer&&this._buffer.byteLength>=t)){var n=void 0;if(!n){var r=t;r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,n=new ArrayBuffer(r)}var a=this._buffer?this._i32View:void 0;this._buffer=n,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),a&&this._i32View.set(a.subarray(0,this._offset))}}},{key:"sendMessage",value:function(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}},{key:"_sendOneTime",value:function(){var e=this;!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout((function(){e._timeoutSet=!1,e._send()}),0))}},{key:"_send",value:function(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}},{key:"int",value:function(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}},{key:"double",value:function(e){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}},{key:"float",value:function(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}},{key:"int32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"float32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"booleanArray",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}},{key:"uint8ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"arrayBuffer",value:function(e){var t=new Uint8Array(e);this.uint8ArrayBuffer(t)}},{key:"uint8ClampedArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"float32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}},{key:"uint16ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;var t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!==(1&e.length)&&this._offset++}},{key:"int32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}},{key:"uint32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}},{key:"string",value:function(e){var t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!==(3&t.byteLength)&&this._offset++}}]),e}();t.MessageSerializer=i},407:function(e,t,n){"use strict";var r=n(757),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function u(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorkerServer=t.messageManager=void 0;var i=n(177),o=n(832),u=n(370),c=n(776),f=n(0);t.messageManager=new c.MsgManager,t.launchWorkerServer=function(e){return a(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=i.default({locateFile:function(t,n){return t.endsWith("zcv.wasm")?e:n+t},onRuntimeInitialized:function(){var e=o.getRuntimeObject(a),n=new u.zappar_server(e,(function(e,n){t.messageManager.postOutgoingMessage({p:e,t:"zappar",d:n},[n])}));t.messageManager.postOutgoingMessage("loaded",[]),t.messageManager.onIncomingMessage.bind((function(r){var a;switch(r.t){case"zappar":n.processBuffer(r.d),t.messageManager.postOutgoingMessage({t:"buf",d:r.d},[r.d]);break;case"buf":null===(a=n.serializersByPipelineId.get(r.p))||void 0===a||a.bufferReturn(r.d);break;case"cameraFrameC2S":var i=r,o=f.mat4.create();i.userFacing&&f.mat4.fromScaling(o,[-1,1,-1]);var u=n._pipeline_by_instance.get(i.p);u&&(e.pipeline_camera_frame_submit(u,i.d,i.width,i.height,i.token,o),e.pipeline_frame_update(u),n.exploreState());var c={token:i.token,d:i.d,p:i.p,t:"cameraFrameRecycleS2C"};t.messageManager.postOutgoingMessage(c,[i.d])}}))}});case 1:case"end":return n.stop()}}),n)})))}},177:function(e,t,n){"use strict";n.r(t);var r=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){var n;t=t||{},n||(n="undefined"!==typeof t?t:{});var r,a={};for(r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);n.arguments=[],n.thisProgram="./this.program",n.quit=function(e,t){throw t},n.preRun=[],n.postRun=[];var i="";function o(e){return n.locateFile?n.locateFile(e,i):i+e}i=self.location.href,e&&(i=e),i=0!==i.indexOf("blob:")?i.substr(0,i.lastIndexOf("/")+1):"",n.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},n.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},n.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},n.setWindowTitle=function(e){document.title=e};var u=n.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),c=n.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||u);for(r in a)a.hasOwnProperty(r)&&(n[r]=a[r]);function f(e){var t=F;return F=F+e+15&-16,t}function s(e){var t=T[G>>2];return e=t+e+15&-16,T[G>>2]=e,e>=X&&!Z()?(T[G>>2]=t,0):t}function _(e){var t;return t||(t=16),Math.ceil(e/t)*t}a=void 0;var l,p={"f64-rem":function(e,t){return e%t},debugger:function(){}},d={};function m(e,t,r){return r&&r.length?n["dynCall_"+e].apply(null,[t].concat(r)):n["dynCall_"+e].call(null,t)}var h=!1;function y(e,t){e||wr("Assertion failed: "+t)}function b(e){var t=n["_"+e];return y(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var v={stackSave:function(){vr()},stackRestore:function(){br()},arrayToC:function(e){var t=yr(e.length);return E.set(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=yr(n),z(e,O,t,n)}return t}},g={string:v.stringToC,array:v.arrayToC};function w(e){var t;if(0===t||!e)return"";for(var n,r=0,a=0;(r|=n=O[e+a>>0],0!=n||t)&&(a++,!t||a!=t););if(t||(t=a),n="",128>r){for(;0<t;)r=String.fromCharCode.apply(String,O.subarray(e,e+Math.min(t,1024))),n=n?n+r:r,e+=1024,t-=1024;return n}return x(e)}var M="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t){for(var n=t;e[n];)++n;if(16<n-t&&e.subarray&&M)return M.decode(e.subarray(t,n));for(n="";;){var r=e[t++];if(!r)return n;if(128&r){var a=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|a);else{var i=63&e[t++];if(224==(240&r))r=(15&r)<<12|a<<6|i;else{var o=63&e[t++];if(240==(248&r))r=(7&r)<<18|a<<12|i<<6|o;else{var u=63&e[t++];if(248==(252&r))r=(3&r)<<24|a<<18|i<<12|o<<6|u;else r=(1&r)<<30|a<<24|i<<18|o<<12|u<<6|63&e[t++]}}65536>r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}}function x(e){return k(O,e)}function z(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i);if(127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(2097151>=o){if(n+3>=r)break;t[n++]=240|o>>18}else{if(67108863>=o){if(n+4>=r)break;t[n++]=248|o>>24}else{if(n+5>=r)break;t[n++]=252|o>>30,t[n++]=128|o>>24&63}t[n++]=128|o>>18&63}t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-a}function A(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:2097151>=r?t+4:67108863>=r?t+5:t+6}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var L,E,O,S,C,T,P,I,B,F,j,D,R,V,q,G,N=65536,U=16777216;function W(e,t){return 0<e%t&&(e+=t-e%t),e}function H(){n.HEAP8=E=new Int8Array(L),n.HEAP16=S=new Int16Array(L),n.HEAP32=T=new Int32Array(L),n.HEAPU8=O=new Uint8Array(L),n.HEAPU16=C=new Uint16Array(L),n.HEAPU32=P=new Uint32Array(L),n.HEAPF32=I=new Float32Array(L),n.HEAPF64=B=new Float64Array(L)}function Z(){var e=n.usingWasm?N:U,t=2147483648-e;if(T[G>>2]>t)return!1;var r=X;for(X=Math.max(X,16777216);X<T[G>>2];)X=536870912>=X?W(2*X,e):Math.min(W((3*X+2147483648)/4,e),t);return(e=n.reallocBuffer(X))&&e.byteLength==X?(n.buffer=L=e,H(),!0):(X=r,!1)}F=G=0,j=!1,n.reallocBuffer||(n.reallocBuffer=function(e){try{var t=E,n=new ArrayBuffer(e);new Int8Array(n).set(t)}catch(r){return!1}return!!pr(n)&&n});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(Mr){(function(e){return e.byteLength})}var Y=n.TOTAL_STACK||5242880,X=n.TOTAL_MEMORY||16777216;function K(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var r=t.g;"number"===typeof r?void 0===t.P?n.dynCall_v(r):n.dynCall_vi(r,t.P):r(void 0===t.P?null:t.P)}}}X<Y&&c("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+X+"! (TOTAL_STACK="+Y+")"),n.buffer?L=n.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(n.wasmMemory=new WebAssembly.Memory({initial:X/N}),L=n.wasmMemory.buffer):L=new ArrayBuffer(X),n.buffer=L),H();var J=[],Q=[],$=[],ee=[],te=[],ne=!1;function re(){var e=n.preRun.shift();J.unshift(e)}var ae=Math.abs,ie=Math.ceil,oe=Math.floor,ue=Math.min,ce=0,fe=null,se=null;function _e(){ce++,n.monitorRunDependencies&&n.monitorRunDependencies(ce)}function le(){if(ce--,n.monitorRunDependencies&&n.monitorRunDependencies(ce),0==ce&&(null!==fe&&(clearInterval(fe),fe=null),se)){var e=se;se=null,e()}}function pe(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}n.preloadedImages={},n.preloadedAudios={},function(){function e(){try{if(n.wasmBinary)return new Uint8Array(n.wasmBinary);if(n.readBinary)return n.readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(e){wr(e)}}function t(){return n.wasmBinary||"function"!==typeof fetch?new Promise((function(t){t(e())})):fetch(i,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+i+"\'";return e.arrayBuffer()})).catch((function(){return e()}))}function r(e){function r(e){if((s=e.exports).memory){e=s.memory;var t=n.buffer;e.byteLength<t.byteLength&&c("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),t=new Int8Array(t),new Int8Array(e).set(t),n.buffer=L=e,H()}n.asm=s,n.usingWasm=!0,le()}function a(e){r(e.instance)}function o(e){t().then((function(e){return WebAssembly.instantiate(e,f)})).then(e,(function(e){c("failed to asynchronously prepare wasm: "+e),wr(e)}))}if("object"!==typeof WebAssembly)return c("no native wasm support detected"),!1;if(!(n.wasmMemory instanceof WebAssembly.Memory))return c("no native wasm Memory in use"),!1;if(e.memory=n.wasmMemory,f.global={NaN:NaN,Infinity:1/0},f["global.Math"]=Math,f.env=e,_e(),n.instantiateWasm)try{return n.instantiateWasm(f,r)}catch(u){return c("Module.instantiateWasm callback failed with error: "+u),!1}return n.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||pe(i)||"function"!==typeof fetch?o(a):WebAssembly.instantiateStreaming(fetch(i,{credentials:"same-origin"}),f).then(a,(function(e){c("wasm streaming compile failed: "+e),c("falling back to ArrayBuffer instantiation"),o(a)})),{}}var a="zcv.wast",i="zcv.wasm",u="zcv.temp.asm.js";pe(a)||(a=o(a)),pe(i)||(i=o(i)),pe(u)||(u=o(u));var f={global:null,env:null,asm2wasm:p,parent:n},s=null;n.asmPreload=n.asm;var _=n.reallocBuffer;n.reallocBuffer=function(e){if("asmjs"===l)var t=_(e);else e:{e=W(e,n.usingWasm?N:U);var r=n.buffer.byteLength;if(n.usingWasm)try{t=-1!==n.wasmMemory.grow((e-r)/65536)?n.buffer=n.wasmMemory.buffer:null;break e}catch(a){t=null;break e}t=void 0}return t};var l="";n.asm=function(e,t){if(!t.table){void 0===(e=n.wasmTableSize)&&(e=1024);var a=n.wasmMaxTableSize;t.table="object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?void 0!==a?new WebAssembly.Table({initial:e,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:e,element:"anyfunc"}):Array(e),n.wasmTable=t.table}return t.__memory_base||(t.__memory_base=n.STATIC_BASE),t.__table_base||(t.__table_base=0),y(t=r(t),"no binaryen method succeeded."),t}}();var de=[function(){if(self.crypto&&self.crypto.getRandomValues){var e=new Uint32Array(1);return self.crypto.getRandomValues(e),e[0]}return 9007199254740991*Math.random()}];F=433680,Q.push({g:function(){Wn()}},{g:function(){er()}},{g:function(){cr()}},{g:function(){lr()}},{g:function(){sr()}},{g:function(){Jn()}},{g:function(){$n()}},{g:function(){Qn()}},{g:function(){Yn()}},{g:function(){Kn()}},{g:function(){Xn()}},{g:function(){fr()}},{g:function(){Hn()}},{g:function(){tr()}},{g:function(){Zn()}},{g:function(){ar()}},{g:function(){nr()}},{g:function(){rr()}},{g:function(){ir()}},{g:function(){or()}},{g:function(){ur()}}),n.STATIC_BASE=1024,n.STATIC_BUMP=432656;var me=F;F+=16;var he={};function ye(){wr()}function be(){return"undefined"!==typeof dateNow||self.performance&&self.performance.now}var ve={I:1,u:2,Fc:3,Bb:4,M:5,ja:6,Ua:7,Zb:8,B:9,ib:10,fa:11,Pc:11,ya:12,W:13,ub:14,lc:15,ga:16,ha:17,Qc:18,Y:19,Z:20,N:21,i:22,Ub:23,wa:24,D:25,Mc:26,vb:27,hc:28,O:29,Cc:30,Nb:31,vc:32,rb:33,zc:34,cc:42,yb:43,jb:44,Eb:45,Fb:46,Gb:47,Mb:48,Nc:49,Xb:50,Db:51,ob:35,$b:37,$a:52,cb:53,Rc:54,Vb:55,eb:56,fb:57,pb:35,gb:59,jc:60,Yb:61,Jc:62,ic:63,dc:64,ec:65,Bc:66,ac:67,Xa:68,Gc:69,kb:70,wc:71,Pb:72,sb:73,bb:74,qc:76,ab:77,Ac:78,Hb:79,Ib:80,Lb:81,Kb:82,Jb:83,kc:38,ia:39,Qb:36,X:40,rc:95,uc:96,nb:104,Wb:105,Ya:97,yc:91,oc:88,fc:92,Dc:108,mb:111,Va:98,lb:103,Tb:101,Rb:100,Kc:110,wb:112,xb:113,Ab:115,Za:114,qb:89,Ob:90,xc:93,Ec:94,Wa:99,Sb:102,Cb:106,mc:107,Lc:109,Oc:87,tb:122,Hc:116,pc:95,bc:123,zb:84,sc:75,hb:125,nc:131,tc:130,Ic:86};function ge(e){return n.___errno_location&&(T[n.___errno_location()>>2]=e),e}function we(e,t){if(0===e)e=Date.now();else{if(1!==e||!be())return ge(ve.i),-1;e=ye()}return T[t>>2]=e/1e3|0,T[t+4>>2]=e%1e3*1e6|0,0}var Me=0,ke=[],xe={};function ze(e){if(!e||xe[e])return e;for(var t in xe){var n=+t;if(xe[n].ka===e)return n}return e}function Ae(e){if(e){var t=xe[e];y(0<t.J),t.J--,0!==t.J||t.L||(t.oa&&n.dynCall_vi(t.oa,e),delete xe[e],Le(e))}}function Le(e){try{return dr(e)}catch(t){}}function Ee(){var e=ke.pop();throw e=ze(e),xe[e].L||(ke.push(e),xe[e].L=!0),Me=e,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}var Oe={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can\'t send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function Se(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function Ce(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Te(e){var t=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function Pe(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function Ie(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!==typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=Se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var Be=[];function Fe(e,t){Be[e]={input:[],output:[],G:t},ct(e,je)}var je={open:function(e){var t=Be[e.node.rdev];if(!t)throw new Ye(ve.Y);e.tty=t,e.seekable=!1},close:function(e){e.tty.G.flush(e.tty)},flush:function(e){e.tty.G.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.G.ra)throw new Ye(ve.ja);for(var a=0,i=0;i<r;i++){try{var o=e.tty.G.ra(e.tty)}catch(u){throw new Ye(ve.M)}if(void 0===o&&0===a)throw new Ye(ve.fa);if(null===o||void 0===o)break;a++,t[n+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.G.da)throw new Ye(ve.ja);var a=0;try{if(0===n&&0===r)e.tty.G.flush(e.tty);else for(;a<r;)e.tty.G.da(e.tty,t[n+a]),a++}catch(i){throw new Ye(ve.M)}return r&&(e.node.timestamp=Date.now()),a}},De={ra:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\\n")),!t)return null;e.input=Nn(t,!0)}return e.input.shift()},da:function(e,t){null===t||10===t?(u(k(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(u(k(e.output,0)),e.output=[])}},Re={da:function(e,t){null===t||10===t?(c(k(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(c(k(e.output,0)),e.output=[])}},Ve={o:null,A:function(){return Ve.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576===(61440&n)||4096===(61440&n))throw new Ye(ve.I);return Ve.o||(Ve.o={dir:{node:{m:Ve.c.m,s:Ve.c.s,lookup:Ve.c.lookup,R:Ve.c.R,rename:Ve.c.rename,unlink:Ve.c.unlink,rmdir:Ve.c.rmdir,readdir:Ve.c.readdir,symlink:Ve.c.symlink},stream:{F:Ve.f.F}},file:{node:{m:Ve.c.m,s:Ve.c.s},stream:{F:Ve.f.F,read:Ve.f.read,write:Ve.f.write,la:Ve.f.la,sa:Ve.f.sa,T:Ve.f.T}},link:{node:{m:Ve.c.m,s:Ve.c.s,readlink:Ve.c.readlink},stream:{}},na:{node:{m:Ve.c.m,s:Ve.c.s},stream:ut}}),16384===(61440&(n=et(e,t,n,r)).mode)?(n.c=Ve.o.dir.node,n.f=Ve.o.dir.stream,n.b={}):32768===(61440&n.mode)?(n.c=Ve.o.file.node,n.f=Ve.o.file.stream,n.h=0,n.b=null):40960===(61440&n.mode)?(n.c=Ve.o.link.node,n.f=Ve.o.link.stream):8192===(61440&n.mode)&&(n.c=Ve.o.na.node,n.f=Ve.o.na.stream),n.timestamp=Date.now(),e&&(e.b[t]=n),n},Ea:function(e){if(e.b&&e.b.subarray){for(var t=[],n=0;n<e.h;++n)t.push(e.b[n]);return t}return e.b},Wc:function(e){return e.b?e.b.subarray?e.b.subarray(0,e.h):new Uint8Array(e.b):new Uint8Array},pa:function(e,t){if(e.b&&e.b.subarray&&t>e.b.length&&(e.b=Ve.Ea(e),e.h=e.b.length),!e.b||e.b.subarray){var n=e.b?e.b.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.b,e.b=new Uint8Array(t),0<e.h&&e.b.set(n.subarray(0,e.h),0))}else for(!e.b&&0<t&&(e.b=[]);e.b.length<t;)e.b.push(0)},Ma:function(e,t){if(e.h!=t)if(0==t)e.b=null,e.h=0;else{if(!e.b||e.b.subarray){var n=e.b;e.b=new Uint8Array(new ArrayBuffer(t)),n&&e.b.set(n.subarray(0,Math.min(t,e.h)))}else if(e.b||(e.b=[]),e.b.length>t)e.b.length=t;else for(;e.b.length<t;)e.b.push(0);e.h=t}},c:{m:function(e){var t={};return t.dev=8192===(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384===(61440&e.mode)?t.size=4096:32768===(61440&e.mode)?t.size=e.h:40960===(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ca=4096,t.blocks=Math.ceil(t.size/t.Ca),t},s:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ve.Ma(e,t.size)},lookup:function(){throw Xe[ve.u]},R:function(e,t,n,r){return Ve.createNode(e,t,n,r)},rename:function(e,t,n){if(16384===(61440&e.mode)){try{var r=$e(t,n)}catch(i){}if(r)for(var a in r.b)throw new Ye(ve.ia)}delete e.parent.b[e.name],e.name=n,t.b[n]=e,e.parent=t},unlink:function(e,t){delete e.b[t]},rmdir:function(e,t){var n,r=$e(e,t);for(n in r.b)throw new Ye(ve.ia);delete e.b[t]},readdir:function(e){var t,n=[".",".."];for(t in e.b)e.b.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=Ve.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!==(61440&e.mode))throw new Ye(ve.i);return e.link}},f:{read:function(e,t,n,r,a){var i=e.node.b;if(a>=e.node.h)return 0;if(y(0<=(e=Math.min(e.node.h-a,r))),8<e&&i.subarray)t.set(i.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=i[a+r];return e},write:function(e,t,n,r,a,i){if(i=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.b||e.b.subarray)){if(i)return e.b=t.subarray(n,n+r),e.h=r;if(0===e.h&&0===a)return e.b=new Uint8Array(t.subarray(n,n+r)),e.h=r;if(a+r<=e.h)return e.b.set(t.subarray(n,n+r),a),r}if(Ve.pa(e,a+r),e.b.subarray&&t.subarray)e.b.set(t.subarray(n,n+r),a);else for(i=0;i<r;i++)e.b[a+i]=t[n+i];return e.h=Math.max(e.h,a+r),r},F:function(e,t,n){if(1===n?t+=e.position:2===n&&32768===(61440&e.node.mode)&&(t+=e.node.h),0>t)throw new Ye(ve.i);return t},la:function(e,t,n){Ve.pa(e.node,t+n),e.node.h=Math.max(e.node.h,t+n)},sa:function(e,t,n,r,a,i,o){if(32768!==(61440&e.node.mode))throw new Ye(ve.Y);if(n=e.node.b,2&o||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.h)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,!(r=mr(r)))throw new Ye(ve.ya);t.set(n,r)}else e=!1,r=n.byteOffset;return{Ka:r,za:e}},T:function(e,t,n,r,a){if(32768!==(61440&e.node.mode))throw new Ye(ve.Y);return 2&a||Ve.f.write(e,t,0,r,n,!1),0}}};F+=16,F+=16,F+=16;var qe=null,Ge={},Ne=[],Ue=1,We=null,He=!0,Ze={},Ye=null,Xe={};function Ke(e,t){if(t=t||{},!(e=Ie("/",e)))return{path:"",node:null};var n,r={qa:!0,ea:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.ea)throw new Ye(ve.X);e=Se(e.split("/").filter((function(e){return!!e})),!1);var a=qe;for(r="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(a=$e(a,e[n]),r=Ce(r+"/"+e[n]),a.S&&(!i||i&&t.qa)&&(a=a.S.root),!i||t.aa)for(i=0;40960===(61440&a.mode);)if(a=dt(r),a=Ke(r=Ie(Te(r),a),{ea:t.ea}).node,40<i++)throw new Ye(ve.X)}return{path:r,node:a}}function Je(e){for(var t;;){if(e===e.parent)return e=e.A.ta,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Qe(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%We.length}function $e(e,t){var n;if(n=(n=rt(e,"x"))?n:e.c.lookup?0:ve.W)throw new Ye(n,e);for(n=We[Qe(e.id,t)];n;n=n.Ja){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.c.lookup(e,t)}function et(e,t,n,r){return wt||(wt=function(e,t,n,r){e||(e=this),this.parent=e,this.A=e.A,this.S=null,this.id=Ue++,this.name=t,this.mode=n,this.c={},this.f={},this.rdev=r},wt.prototype={},Object.defineProperties(wt.prototype,{read:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var t=Qe(e.parent.id,e.name);e.Ja=We[t],We[t]=e}(e=new wt(e,t,n,r)),e}var tt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function nt(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function rt(e,t){return He||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ve.W}function at(e,t){try{return $e(e,t),ve.ha}catch(n){}return rt(e,"wx")}function it(e,t){Mt||((Mt=function(){}).prototype={},Object.defineProperties(Mt.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new Mt;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;e<=4096;e++)if(!Ne[e])return e;throw new Ye(ve.wa)}(t),e.fd=t,Ne[t]=e}var ot,ut={open:function(e){e.f=Ge[e.node.rdev].f,e.f.open&&e.f.open(e)},F:function(){throw new Ye(ve.O)}};function ct(e,t){Ge[e]={f:t}}function ft(e,t){var n="/"===t,r=!t;if(n&&qe)throw new Ye(ve.ga);if(!n&&!r){var a=Ke(t,{qa:!1});if(t=a.path,(a=a.node).S)throw new Ye(ve.ga);if(16384!==(61440&a.mode))throw new Ye(ve.Z)}t={type:e,$c:{},ta:t,Ia:[]},(e=e.A(t)).A=t,t.root=e,n?qe=e:a&&(a.S=t,a.A&&a.A.Ia.push(t))}function st(e,t,n){var r=Ke(e,{parent:!0}).node;if(!(e=Pe(e))||"."===e||".."===e)throw new Ye(ve.i);var a=at(r,e);if(a)throw new Ye(a);if(!r.c.R)throw new Ye(ve.I);return r.c.R(r,e,t,n)}function _t(e){st(e,16895,0)}function lt(e,t,n){"undefined"===typeof n&&(n=t,t=438),st(e,8192|t,n)}function pt(e,t){if(!Ie(e))throw new Ye(ve.u);var n=Ke(t,{parent:!0}).node;if(!n)throw new Ye(ve.u);var r=at(n,t=Pe(t));if(r)throw new Ye(r);if(!n.c.symlink)throw new Ye(ve.I);n.c.symlink(n,t,e)}function dt(e){if(!(e=Ke(e).node))throw new Ye(ve.u);if(!e.c.readlink)throw new Ye(ve.i);return Ie(Je(e.parent),e.c.readlink(e))}function mt(e,t,r,a){if(""===e)throw new Ye(ve.u);if("string"===typeof t){var i=tt[t];if("undefined"===typeof i)throw Error("Unknown file open mode: "+t);t=i}if(r=64&t?4095&("undefined"===typeof r?438:r)|32768:0,"object"===typeof e)var o=e;else{e=Ce(e);try{o=Ke(e,{aa:!(131072&t)}).node}catch(c){}}if(i=!1,64&t)if(o){if(128&t)throw new Ye(ve.ha)}else o=st(e,r,0),i=!0;if(!o)throw new Ye(ve.u);if(8192===(61440&o.mode)&&(t&=-513),65536&t&&16384!==(61440&o.mode))throw new Ye(ve.Z);if(!i&&(r=o?40960===(61440&o.mode)?ve.X:16384===(61440&o.mode)&&("r"!==nt(t)||512&t)?ve.N:rt(o,nt(t)):ve.u))throw new Ye(r);if(512&t){var u;if(!(u="string"===typeof(r=o)?Ke(r,{aa:!0}).node:r).c.s)throw new Ye(ve.I);if(16384===(61440&u.mode))throw new Ye(ve.N);if(32768!==(61440&u.mode))throw new Ye(ve.i);if(r=rt(u,"w"))throw new Ye(r);u.c.s(u,{size:0,timestamp:Date.now()})}t&=-641,(a=it({node:o,path:Je(o),flags:t,seekable:!0,position:0,f:o.f,Sa:[],error:!1},a)).f.open&&a.f.open(a),!n.logReadFiles||1&t||(kt||(kt={}),e in kt||(kt[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{Ze.onOpenFile&&(o=0,1!==(2097155&t)&&(o|=1),0!==(2097155&t)&&(o|=2),Ze.onOpenFile(e,o))}catch(c){console.log("FS.trackingDelegate[\'onOpenFile\'](\'"+e+"\', flags) threw an exception: "+c.message)}return a}function ht(e){if(null===e.fd)throw new Ye(ve.B);e.ba&&(e.ba=null);try{e.f.close&&e.f.close(e)}catch(t){throw t}finally{Ne[e.fd]=null}e.fd=null}function yt(e,t,n){if(null===e.fd)throw new Ye(ve.B);if(!e.seekable||!e.f.F)throw new Ye(ve.O);e.position=e.f.F(e,t,n),e.Sa=[]}function bt(){Ye||((Ye=function(e,t){this.node=t,this.Na=function(e){for(var t in this.v=e,ve)if(ve[t]===e){this.code=t;break}},this.Na(e),this.message=Oe[e],this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0})}).prototype=Error(),Ye.prototype.constructor=Ye,[ve.u].forEach((function(e){Xe[e]=new Ye(e),Xe[e].stack="<generic error, no stack>"})))}function vt(e,t,n){e=Ce("/dev/"+e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);gt||(gt=64);var a=gt++<<8|0;ct(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var i=0,o=0;o<a;o++){try{var u=t()}catch(c){throw new Ye(ve.M)}if(void 0===u&&0===i)throw new Ye(ve.fa);if(null===u||void 0===u)break;i++,n[r+o]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,a){for(var i=0;i<a;i++)try{n(t[r+i])}catch(o){throw new Ye(ve.M)}return a&&(e.node.timestamp=Date.now()),i}}),lt(e,r,a)}var gt,wt,Mt,kt,xt={},zt={},At=0;function Lt(){return T[(At+=4)-4>>2]}function Et(){var e=Ne[Lt()];if(!e)throw new Ye(ve.B);return e}function Ot(e,t){if(Rt=e,Vt=t,!jt)return 1;if(0==e)It=function(){var e=0|Math.max(0,Ct+t-ye());setTimeout(Tt,e)},Bt="timeout";else if(1==e)It=function(){nn(Tt)},Bt="rAF";else if(2==e){if("undefined"===typeof setImmediate){var r=[];addEventListener("message",(function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),r.shift()())}),!0),setImmediate=function(e){r.push(e),void 0===n.setImmediates&&(n.setImmediates=[]),n.setImmediates.push(e),postMessage({target:"setimmediate"})}}It=function(){setImmediate(Tt)},Bt="immediate"}return 0}function St(e,t,r,a,i){n.noExitRuntime=!0,y(!jt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),jt=e,Dt=a;var o="undefined"!==typeof a?function(){n.dynCall_vi(e,a)}:function(){n.dynCall_v(e)},u=Ft;if(Tt=function(){if(!h)if(0<Gt.length){var e=Date.now(),t=Gt.shift();if(t.g(t.P),Pt){var r=Pt,a=0==r%1?r-1:Math.floor(r);Pt=t.Tc?a:(8*r+(a+.5))/9}console.log(\'main loop blocker "\'+t.name+\'" took \'+(Date.now()-e)+" ms"),n.setStatus&&(e=n.statusMessage||"Please wait...",t=Pt,r=Nt.Vc,t?t<r?n.setStatus(e+" ("+(r-t)+"/"+r+")"):n.setStatus(e):n.setStatus("")),u<Ft||setTimeout(Tt,0)}else if(!(u<Ft))if(qt=qt+1|0,1==Rt&&1<Vt&&0!=qt%Vt)It();else{if(0==Rt&&(Ct=ye()),"timeout"===Bt&&n.K&&(c("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Bt=""),!(h||n.preMainLoop&&!1===n.preMainLoop())){try{o()}catch(i){throw i&&"object"===typeof i&&i.stack&&c("exception thrown: "+[i,i.stack]),i}n.postMainLoop&&n.postMainLoop()}u<Ft||("object"===typeof SDL&&SDL.audio&&SDL.audio.La&&SDL.audio.La(),It())}},i||(t&&0<t?Ot(0,1e3/t):Ot(1,1),It()),r)throw"SimulateInfiniteLoop"}var Ct,Tt,Pt,It=null,Bt="",Ft=0,jt=null,Dt=0,Rt=0,Vt=0,qt=0,Gt=[],Nt={},Ut=!1,Wt=!1,Ht=[];function Zt(){function e(){Wt=document.pointerLockElement===n.canvas||document.mozPointerLockElement===n.canvas||document.webkitPointerLockElement===n.canvas||document.msPointerLockElement===n.canvas}if(n.preloadPlugins||(n.preloadPlugins=[]),!fn){fn=!0;try{sn=!0}catch(r){sn=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}_n="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:sn?null:console.log("warning: no BlobBuilder"),ln="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,n.ua||"undefined"!==typeof ln||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),n.ua=!0),n.preloadPlugins.push({canHandle:function(e){return!n.ua&&/\\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,a){var i=null;if(sn)try{(i=new Blob([e],{type:an(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:an(t)}))}catch(f){!function(e){l||(l={}),l[e]||(l[e]=1,c(e))}("Blob constructor present but fails: "+f+"; falling back to blob builder")}i||((i=new _n).append(new Uint8Array(e).buffer),i=i.getBlob());var o=ln.createObjectURL(i),u=new Image;u.onload=function(){y(u.complete,"Image "+t+" could not be decoded");var a=document.createElement("canvas");a.width=u.width,a.height=u.height,a.getContext("2d").drawImage(u,0,0),n.preloadedImages[t]=a,ln.revokeObjectURL(o),r&&r(e)},u.onerror=function(){console.log("Image "+o+" could not be decoded"),a&&a()},u.src=o}}),n.preloadPlugins.push({canHandle:function(e){return!n.Zc&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,a){function i(a){u||(u=!0,n.preloadedAudios[t]=a,r&&r(e))}function o(){u||(u=!0,n.preloadedAudios[t]=new Audio,a&&a())}var u=!1;if(!sn)return o();try{var c=new Blob([e],{type:an(t)})}catch(s){return o()}c=ln.createObjectURL(c);var f=new Audio;f.addEventListener("canplaythrough",(function(){i(f)}),!1),f.onerror=function(){if(!u){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var n="",r=0,a=0,o=0;o<e.length;o++)for(r=r<<8|e[o],a+=8;6<=a;){var c=r>>a-6&63;a-=6,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]}2==a?(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&r)<<4],n+="=="):4==a&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&r)<<2],n+="="),f.src="data:audio/x-"+t.substr(-3)+";base64,"+n,i(f)}},f.src=c,rn((function(){i(f)}),1e4)}});var t=n.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),n.elementPointerLock&&t.addEventListener("click",(function(e){!Wt&&n.canvas.requestPointerLock&&(n.canvas.requestPointerLock(),e.preventDefault())}),!1))}}function Yt(e,t,r,a){if(t&&n.K&&e==n.canvas)return n.K;if(t){var i={antialias:!1,alpha:!1};if(a)for(var o in a)i[o]=a[o];if(i=function(e,t){function n(){}"undefined"===typeof t.majorVersion&&"undefined"===typeof t.minorVersion&&(t.majorVersion=1,t.minorVersion=0);try{e.addEventListener("webglcontextcreationerror",n,!1);try{if(1==t.majorVersion&&0==t.minorVersion)var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);else{if(2!=t.majorVersion||0!=t.minorVersion)throw"Unsupported WebGL context version "+majorVersion+"."+minorVersion+"!";r=e.getContext("webgl2",t)}}finally{e.removeEventListener("webglcontextcreationerror",n,!1)}if(!r)throw":("}catch(i){return 0}return r?function(e,t){var n=On(An),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.Sc=r),An[n]=r,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&function(e){if(e||(e=Ln),!e.Ga){e.Ga=!0;var t=e.GLctx;if(2>e.version){var n=t.getExtension("ANGLE_instanced_arrays");n&&(t.vertexAttribDivisor=function(e,t){n.vertexAttribDivisorANGLE(e,t)},t.drawArraysInstanced=function(e,t,r,a){n.drawArraysInstancedANGLE(e,t,r,a)},t.drawElementsInstanced=function(e,t,r,a,i){n.drawElementsInstancedANGLE(e,t,r,a,i)});var r=t.getExtension("OES_vertex_array_object");r&&(t.createVertexArray=function(){return r.createVertexArrayOES()},t.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},t.bindVertexArray=function(e){r.bindVertexArrayOES(e)},t.isVertexArray=function(e){return r.isVertexArrayOES(e)});var a=t.getExtension("WEBGL_draw_buffers");a&&(t.drawBuffers=function(e,t){a.drawBuffersWEBGL(e,t)})}t.Uc=t.getExtension("EXT_disjoint_timer_query");var i="OES_texture_float OES_texture_half_float OES_standard_derivatives OES_vertex_array_object WEBGL_compressed_texture_s3tc WEBGL_depth_texture OES_element_index_uint EXT_texture_filter_anisotropic EXT_frag_depth WEBGL_draw_buffers ANGLE_instanced_arrays OES_texture_float_linear OES_texture_half_float_linear EXT_blend_minmax EXT_shader_texture_lod WEBGL_compressed_texture_pvrtc EXT_color_buffer_half_float WEBGL_color_buffer_float EXT_sRGB WEBGL_compressed_texture_etc1 EXT_disjoint_timer_query WEBGL_compressed_texture_etc WEBGL_compressed_texture_astc EXT_color_buffer_float WEBGL_compressed_texture_s3tc_srgb EXT_disjoint_timer_query_webgl2".split(" ");(e=t.getSupportedExtensions())&&0<e.length&&t.getSupportedExtensions().forEach((function(e){-1!=i.indexOf(e)&&t.getExtension(e)}))}}(r),n}(r,t):0}(e,i))var u=An[i].GLctx}else u=e.getContext("2d");return u?(r&&(t||y("undefined"===typeof qn,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),n.K=u,t&&function(e){e?(e=An[e])&&(qn=n.K=e.GLctx,Ln=e):qn=n.K=Ln=null}(i),n.bd=t,Ht.forEach((function(e){e()})),Zt()),u):null}var Xt=!1,Kt=void 0,Jt=void 0;function Qt(e,t,r){function a(){Ut=!1;var e=i.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},i.exitFullscreen=i.exitFullscreen.bind(document),Kt&&i.requestPointerLock(),Ut=!0,Jt?("undefined"!=typeof SDL&&(T[SDL.screen>>2]=8388608|P[SDL.screen>>2]),cn(n.canvas),un()):cn(i)):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Jt?("undefined"!=typeof SDL&&(T[SDL.screen>>2]=-8388609&P[SDL.screen>>2]),cn(n.canvas),un()):cn(i)),n.onFullScreen&&n.onFullScreen(Ut),n.onFullscreen&&n.onFullscreen(Ut)}"undefined"===typeof(Kt=e)&&(Kt=!0),"undefined"===typeof(Jt=t)&&(Jt=!1),"undefined"===typeof r&&null;var i=n.canvas;Xt||(Xt=!0,document.addEventListener("fullscreenchange",a,!1),document.addEventListener("mozfullscreenchange",a,!1),document.addEventListener("webkitfullscreenchange",a,!1),document.addEventListener("MSFullscreenChange",a,!1));var o=document.createElement("div");i.parentNode.insertBefore(o,i),o.appendChild(i),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?o.requestFullscreen({cd:r}):o.requestFullscreen()}function $t(e,t,n){return c("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),$t=function(e,t,n){return Qt(e,t,n)},Qt(e,t,n)}var en=0;function tn(e){var t=Date.now();if(0===en)en=t+1e3/60;else for(;t+2>=en;)en+=1e3/60;setTimeout(e,Math.max(en-t,0))}function nn(e){"undefined"===typeof window?tn(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||tn),window.requestAnimationFrame(e))}function rn(e,t){n.noExitRuntime=!0,setTimeout((function(){h||e()}),t)}function an(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var on=[];function un(){var e=n.canvas;on.forEach((function(t){t(e.width,e.height)}))}function cn(e,t,r){t&&r?(e.Ta=t,e.Fa=r):(t=e.Ta,r=e.Fa);var a=t,i=r;if(n.forcedAspectRatio&&0<n.forcedAspectRatio&&(a/i<n.forcedAspectRatio?a=Math.round(i*n.forcedAspectRatio):i=Math.round(a/n.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/a,screen.height/i);a=Math.round(a*o),i=Math.round(i*o)}Jt?(e.width!=a&&(e.width=a),e.height!=i&&(e.height=i),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),"undefined"!=typeof e.style&&(a!=t||i!=r?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}var fn,sn,_n,ln,pn=[],dn=void 0;function mn(e,t){P[e>>2]=t,P[e+4>>2]=t/4294967296|0}function hn(e,t,n,r){var a=P[e+8>>2];if(a){var i=w(a),o=e+112,u=w(o);u||(u="GET");var c=P[o+48>>2],f=P[o+52>>2],s=!!P[o+56>>2],_=P[o+64>>2],l=P[o+68>>2];a=P[o+72>>2];var p=P[o+76>>2],d=P[o+80>>2];o=P[o+84>>2];var m=!!(1&c),h=!!(2&c);c=!!(64&c),_=_?w(_):void 0,l=l?w(l):void 0;var y=p?w(p):void 0,b=new XMLHttpRequest;if(b.withCredentials=s,b.open(u,i,!c,_,l),c||(b.timeout=f),b.l=i,b.responseType=h?"moz-chunked-arraybuffer":"arraybuffer",p&&b.overrideMimeType(y),a)for(;(u=P[a>>2])&&(i=P[a+4>>2]);)a+=8,u=w(u),i=w(i),b.setRequestHeader(u,i);pn.push(b),P[e+0>>2]=pn.length,a=d&&o?O.slice(d,d+o):null,b.onload=function(r){var a=b.response?b.response.byteLength:0,i=0,o=0;m&&!h&&(i=mr(o=a),O.set(new Uint8Array(b.response),i)),P[e+12>>2]=i,mn(e+16,o),mn(e+24,0),a&&mn(e+32,a),C[e+40>>1]=b.readyState,4===b.readyState&&0===b.status&&(b.status=0<a?200:404),C[e+42>>1]=b.status,b.statusText&&z(b.statusText,O,e+44,64),200==b.status?t&&t(e,b,r):n&&n(e,b,r)},b.onerror=function(t){var r=b.status;4==b.readyState&&0==r&&(r=404),P[e+12>>2]=0,mn(e+16,0),mn(e+24,0),mn(e+32,0),C[e+40>>1]=b.readyState,C[e+42>>1]=r,n&&n(e,b,t)},b.ontimeout=function(t){n&&n(e,b,t)},b.onprogress=function(t){var n=m&&h&&b.response?b.response.byteLength:0,a=0;m&&h&&(a=mr(n),O.set(new Uint8Array(b.response),a)),P[e+12>>2]=a,mn(e+16,n),mn(e+24,t.loaded-n),mn(e+32,t.total),C[e+40>>1]=b.readyState,3<=b.readyState&&0===b.status&&0<t.loaded&&(b.status=200),C[e+42>>1]=b.status,b.statusText&&z(b.statusText,O,e+44,64),r&&r(e,b,t)};try{b.send(a)}catch(v){n&&n(e,b,v)}}else n(e,0,"no url specified!")}function yn(e,t,n,r,a){if(e){var i=P[t+112+60>>2];i||(i=P[t+8>>2]);var o=w(i);try{var u=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(n,o);u.onsuccess=function(){C[t+40>>1]=4,C[t+42>>1]=200,z("OK",O,t+44,64),r(t,0,o)},u.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=413,z("Payload Too Large",O,t+44,64),a(t,0,e)}}catch(c){a(t,0,c)}}else a(t,0,"IndexedDB not available!")}function bn(e,t,n,r){if(e){var a=P[t+112+60>>2];a||(a=P[t+8>>2]),a=w(a);try{var i=e.transaction(["FILES"],"readonly").objectStore("FILES").get(a);i.onsuccess=function(e){if(e.target.result){var a=(e=e.target.result).byteLength||e.length,i=mr(a);O.set(new Uint8Array(e),i),P[t+12>>2]=i,mn(t+16,a),mn(t+24,0),mn(t+32,a),C[t+40>>1]=4,C[t+42>>1]=200,z("OK",O,t+44,64),n(t,0,e)}else C[t+40>>1]=4,C[t+42>>1]=404,z("Not Found",O,t+44,64),r(t,0,"no data")},i.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=404,z("Not Found",O,t+44,64),r(t,0,e)}}catch(o){r(t,0,o)}}else r(t,0,"IndexedDB not available!")}function vn(e,t,n,r){if(e){var a=P[t+112+60>>2];a||(a=P[t+8>>2]),a=w(a);try{var i=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);i.onsuccess=function(e){e=e.target.result,P[t+12>>2]=0,mn(t+16,0),mn(t+24,0),mn(t+24,0),C[t+40>>1]=4,C[t+42>>1]=200,z("OK",O,t+44,64),n(t,0,e)},i.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=404,z("Not Found",O,t+44,64),r(t,0,e)}}catch(o){r(t,0,o)}}else r(t,0,"IndexedDB not available!")}var gn,wn,Mn=void 0;for(Mn=gn=f(Math.max(12,1)),y(0==(3&gn)),wn=gn+12;Mn<wn;Mn+=4)T[Mn>>2]=0;for(wn=gn+12;Mn<wn;)E[Mn++>>0]=0;var kn=1,xn=0,zn=[],An=[],Ln=null,En=[];function On(e){for(var t=kn++,n=e.length;n<t;n++)e[n]=null;return t}function Sn(e,t,n,r){return e*=n,r*=Math.floor((e+r-1)/r),0>=t?0:(t-1)*r+e}function Cn(e,t,n,r,a){switch(t){case 6406:case 6409:case 6402:t=1;break;case 6410:t=2;break;case 6407:case 35904:t=3;break;case 6408:case 35906:t=4;break;default:return xn||(xn=1280),null}switch(e){case 5121:t*=1;break;case 5123:case 36193:t*=2;break;case 5125:case 5126:t*=4;break;case 34042:t=4;break;case 33635:case 32819:case 32820:t=2;break;default:return xn||(xn=1280),null}switch(n=Sn(n,r,t,4),e){case 5121:return O.subarray(a,a+n);case 5126:return I.subarray(a>>2,a+n>>2);case 5125:case 34042:return P.subarray(a>>2,a+n>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return C.subarray(a>>1,a+n>>1);default:return xn||(xn=1280),null}}function Tn(){return Tn.l||(Tn.l=[]),Tn.l.push(vr()),Tn.l.length-1}var Pn={},In=1;function Bn(e){return 0===e%4&&(0!==e%100||0===e%400)}function Fn(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var jn=[31,29,31,30,31,30,31,31,30,31,30,31],Dn=[31,28,31,30,31,30,31,31,30,31,30,31];function Rn(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(Bn(e.getFullYear())?jn:Dn)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function Vn(e,t,n,r){function a(e,t,n){for(e="number"===typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){e=Rn(new Date(e.j+1900,0,1),e.V);var t=u(new Date(e.getFullYear()+1,0,4));return 0>=o(u(new Date(e.getFullYear(),0,4)),e)?0>=o(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=T[r+40>>2];for(var s in r={Qa:T[r>>2],Pa:T[r+4>>2],U:T[r+8>>2],H:T[r+12>>2],C:T[r+16>>2],j:T[r+20>>2],va:T[r+24>>2],V:T[r+28>>2],ad:T[r+32>>2],Oa:T[r+36>>2],Ra:f?w(f):""},n=w(n),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"})n=n.replace(new RegExp(s,"g"),f[s]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l="January February March April May June July August September October November December".split(" ");for(s in f={"%a":function(e){return _[e.va].substring(0,3)},"%A":function(e){return _[e.va]},"%b":function(e){return l[e.C].substring(0,3)},"%B":function(e){return l[e.C]},"%C":function(e){return i((e.j+1900)/100|0,2)},"%d":function(e){return i(e.H,2)},"%e":function(e){return a(e.H,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return i(e.U,2)},"%I":function(e){return 0==(e=e.U)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){return i(e.H+Fn(Bn(e.j+1900)?jn:Dn,e.C-1),3)},"%m":function(e){return i(e.C+1,2)},"%M":function(e){return i(e.Pa,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.U&&12>e.U?"AM":"PM"},"%S":function(e){return i(e.Qa,2)},"%t":function(){return"\\t"},"%u":function(e){return new Date(e.j+1900,e.C+1,e.H,0,0,0,0).getDay()||7},"%U":function(e){var t=new Date(e.j+1900,0,1),n=0===t.getDay()?t:Rn(t,7-t.getDay());return 0>o(n,e=new Date(e.j+1900,e.C,e.H))?i(Math.ceil((31-n.getDate()+(Fn(Bn(e.getFullYear())?jn:Dn,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%V":function(e){var t=u(new Date(e.j+1900,0,4)),n=u(new Date(e.j+1901,0,4)),r=Rn(new Date(e.j+1900,0,1),e.V);return 0>o(r,t)?"53":0>=o(n,r)?"01":i(Math.ceil((t.getFullYear()<e.j+1900?e.V+32-t.getDate():e.V+1-t.getDate())/7),2)},"%w":function(e){return new Date(e.j+1900,e.C+1,e.H,0,0,0,0).getDay()},"%W":function(e){var t=new Date(e.j,0,1),n=1===t.getDay()?t:Rn(t,0===t.getDay()?1:7-t.getDay()+1);return 0>o(n,e=new Date(e.j+1900,e.C,e.H))?i(Math.ceil((31-n.getDate()+(Fn(Bn(e.getFullYear())?jn:Dn,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%y":function(e){return(e.j+1900).toString().substring(2)},"%Y":function(e){return e.j+1900},"%z":function(e){var t=0<=(e=e.Oa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ra},"%%":function(){return"%"}},f)0<=n.indexOf(s)&&(n=n.replace(new RegExp(s,"g"),f[s](r)));return(s=Nn(n,!1)).length>t?0:(E.set(s,e),s.length-1)}ye="undefined"!==typeof dateNow?dateNow:"object"===typeof self&&self.performance&&"function"===typeof self.performance.now?function(){return self.performance.now()}:"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:Date.now,bt(),We=Array(4096),ft(Ve,"/"),_t("/tmp"),_t("/home"),_t("/home/web_user"),function(){if(_t("/dev"),ct(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),lt("/dev/null",259),Fe(1280,De),Fe(1536,Re),lt("/dev/tty",1280),lt("/dev/tty1",1536),"undefined"!==typeof crypto)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else t=function(){wr("random_device")};vt("random",t),vt("urandom",t),_t("/dev/shm"),_t("/dev/shm/tmp")}(),_t("/proc"),_t("/proc/self"),_t("/proc/self/fd"),ft({A:function(){var e=et("/proc/self","fd",16895,73);return e.c={lookup:function(e,t){var n=Ne[+t];if(!n)throw new Ye(ve.B);return(e={parent:null,A:{ta:"fake"},c:{readlink:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd"),Q.unshift((function(){if(!n.noFSInit&&!ot){y(!ot,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),ot=!0,bt(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?vt("stdin",n.stdin):pt("/dev/tty","/dev/stdin"),n.stdout?vt("stdout",null,n.stdout):pt("/dev/tty","/dev/stdout"),n.stderr?vt("stderr",null,n.stderr):pt("/dev/tty1","/dev/stderr");var e=mt("/dev/stdin","r");y(0===e.fd,"invalid handle for stdin ("+e.fd+")"),y(1===(e=mt("/dev/stdout","w")).fd,"invalid handle for stdout ("+e.fd+")"),y(2===(e=mt("/dev/stderr","w")).fd,"invalid handle for stderr ("+e.fd+")")}})),$.push((function(){He=!1})),ee.push((function(){ot=!1;var e=n._fflush;for(e&&e(0),e=0;e<Ne.length;e++){var t=Ne[e];t&&ht(t)}})),Q.unshift((function(){})),ee.push((function(){})),n.requestFullScreen=function(e,t,r){c("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),n.requestFullScreen=n.requestFullscreen,$t(e,t,r)},n.requestFullscreen=function(e,t,n){Qt(e,t,n)},n.requestAnimationFrame=function(e){nn(e)},n.setCanvasSize=function(e,t,r){cn(n.canvas,e,t),r||un()},n.pauseMainLoop=function(){It=null,Ft++},n.resumeMainLoop=function(){Ft++;var e=Rt,t=Vt,n=jt;jt=null,St(n,0,!1,Dt,!0),Ot(e,t),It()},n.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},n.createContext=function(e,t,n,r){return Yt(e,t,n,r)},function(){var e="undefined"===typeof ENVIRONMENT_IS_FETCH_WORKER;!function(e,t){try{var n=indexedDB.open("emscripten_filesystem",1)}catch(r){return void t(r)}n.onupgradeneeded=function(e){(e=e.target.result).objectStoreNames.contains("FILES")&&e.deleteObjectStore("FILES"),e.createObjectStore("FILES")},n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){t(e)}}((function(t){dn=t,e&&le()}),(function(){dn=!1,e&&le()})),"undefined"!==typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||_e()}();for(var qn,Gn=0;256>Gn;Gn++);for(Gn=0;32>Gn;Gn++)En.push(Array(Gn));function Nn(e,t){var n=Array(A(e)+1);return e=z(e,n,0,n.length),t&&(n.length=e),n}G=f(4),D=R=_(F),q=_(V=D+Y),T[G>>2]=q,j=!0,n.wasmTableSize=2468,n.wasmMaxTableSize=2468,n.Aa={},n.Ba={abort:wr,assert:y,enlargeMemory:Z,getTotalMemory:function(){return X},abortOnCannotGrowMemory:function(){wr("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+X+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_i:function(e){var t=vr();try{return n.dynCall_i(e)}catch(r){if(br(t),"number"!==typeof r&&"longjmp"!==r)throw r;n.setThrew(1,0)}},invoke_ii:function(e,t){var r=vr();try{return n.dynCall_ii(e,t)}catch(a){if(br(r),"number"!==typeof a&&"longjmp"!==a)throw a;n.setThrew(1,0)}},invoke_iii:function(e,t,r){var a=vr();try{return n.dynCall_iii(e,t,r)}catch(i){if(br(a),"number"!==typeof i&&"longjmp"!==i)throw i;n.setThrew(1,0)}},invoke_iiii:function(e,t,r,a){var i=vr();try{return n.dynCall_iiii(e,t,r,a)}catch(o){if(br(i),"number"!==typeof o&&"longjmp"!==o)throw o;n.setThrew(1,0)}},invoke_iiiii:function(e,t,r,a,i){var o=vr();try{return n.dynCall_iiiii(e,t,r,a,i)}catch(u){if(br(o),"number"!==typeof u&&"longjmp"!==u)throw u;n.setThrew(1,0)}},invoke_iiiiid:function(e,t,r,a,i,o){var u=vr();try{return n.dynCall_iiiiid(e,t,r,a,i,o)}catch(c){if(br(u),"number"!==typeof c&&"longjmp"!==c)throw c;n.setThrew(1,0)}},invoke_iiiiii:function(e,t,r,a,i,o){var u=vr();try{return n.dynCall_iiiiii(e,t,r,a,i,o)}catch(c){if(br(u),"number"!==typeof c&&"longjmp"!==c)throw c;n.setThrew(1,0)}},invoke_iiiiiid:function(e,t,r,a,i,o,u){var c=vr();try{return n.dynCall_iiiiiid(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_iiiiiii:function(e,t,r,a,i,o,u){var c=vr();try{return n.dynCall_iiiiiii(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_iiiiiiii:function(e,t,r,a,i,o,u,c){var f=vr();try{return n.dynCall_iiiiiiii(e,t,r,a,i,o,u,c)}catch(s){if(br(f),"number"!==typeof s&&"longjmp"!==s)throw s;n.setThrew(1,0)}},invoke_iiiiiiiii:function(e,t,r,a,i,o,u,c,f){var s=vr();try{return n.dynCall_iiiiiiiii(e,t,r,a,i,o,u,c,f)}catch(_){if(br(s),"number"!==typeof _&&"longjmp"!==_)throw _;n.setThrew(1,0)}},invoke_iiiiij:function(e,t,r,a,i,o,u){var c=vr();try{return n.dynCall_iiiiij(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_iiji:function(e,t,r,a,i){var o=vr();try{return n.dynCall_iiji(e,t,r,a,i)}catch(u){if(br(o),"number"!==typeof u&&"longjmp"!==u)throw u;n.setThrew(1,0)}},invoke_v:function(e){var t=vr();try{n.dynCall_v(e)}catch(r){if(br(t),"number"!==typeof r&&"longjmp"!==r)throw r;n.setThrew(1,0)}},invoke_vi:function(e,t){var r=vr();try{n.dynCall_vi(e,t)}catch(a){if(br(r),"number"!==typeof a&&"longjmp"!==a)throw a;n.setThrew(1,0)}},invoke_vii:function(e,t,r){var a=vr();try{n.dynCall_vii(e,t,r)}catch(i){if(br(a),"number"!==typeof i&&"longjmp"!==i)throw i;n.setThrew(1,0)}},invoke_viiffii:function(e,t,r,a,i,o,u){var c=vr();try{n.dynCall_viiffii(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_viii:function(e,t,r,a){var i=vr();try{n.dynCall_viii(e,t,r,a)}catch(o){if(br(i),"number"!==typeof o&&"longjmp"!==o)throw o;n.setThrew(1,0)}},invoke_viiifffii:function(e,t,r,a,i,o,u,c,f){var s=vr();try{n.dynCall_viiifffii(e,t,r,a,i,o,u,c,f)}catch(_){if(br(s),"number"!==typeof _&&"longjmp"!==_)throw _;n.setThrew(1,0)}},invoke_viiiffii:function(e,t,r,a,i,o,u,c){var f=vr();try{n.dynCall_viiiffii(e,t,r,a,i,o,u,c)}catch(s){if(br(f),"number"!==typeof s&&"longjmp"!==s)throw s;n.setThrew(1,0)}},invoke_viiii:function(e,t,r,a,i){var o=vr();try{n.dynCall_viiii(e,t,r,a,i)}catch(u){if(br(o),"number"!==typeof u&&"longjmp"!==u)throw u;n.setThrew(1,0)}},invoke_viiiii:function(e,t,r,a,i,o){var u=vr();try{n.dynCall_viiiii(e,t,r,a,i,o)}catch(c){if(br(u),"number"!==typeof c&&"longjmp"!==c)throw c;n.setThrew(1,0)}},invoke_viiiiiffffffffffffffff:function(e,t,r,a,i,o,u,c,f,s,_,l,p,d,m,h,y,b,v,g,w,M){var k=vr();try{n.dynCall_viiiiiffffffffffffffff(e,t,r,a,i,o,u,c,f,s,_,l,p,d,m,h,y,b,v,g,w,M)}catch(x){if(br(k),"number"!==typeof x&&"longjmp"!==x)throw x;n.setThrew(1,0)}},invoke_viiiiii:function(e,t,r,a,i,o,u){var c=vr();try{n.dynCall_viiiiii(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_viijii:function(e,t,r,a,i,o,u){var c=vr();try{n.dynCall_viijii(e,t,r,a,i,o,u)}catch(f){if(br(c),"number"!==typeof f&&"longjmp"!==f)throw f;n.setThrew(1,0)}},invoke_vij:function(e,t,r,a){var i=vr();try{n.dynCall_vij(e,t,r,a)}catch(o){if(br(i),"number"!==typeof o&&"longjmp"!==o)throw o;n.setThrew(1,0)}},invoke_viji:function(e,t,r,a,i){var o=vr();try{n.dynCall_viji(e,t,r,a,i)}catch(u){if(br(o),"number"!==typeof u&&"longjmp"!==u)throw u;n.setThrew(1,0)}},invoke_vijii:function(e,t,r,a,i,o){var u=vr();try{n.dynCall_vijii(e,t,r,a,i,o)}catch(c){if(br(u),"number"!==typeof c&&"longjmp"!==c)throw c;n.setThrew(1,0)}},___buildEnvironment:function e(t){if(e.Da)var r=T[t>>2],a=T[r>>2];else e.Da=!0,he.USER=he.LOGNAME="web_user",he.PATH="/",he.PWD="/",he.HOME="/home/web_user",he.LANG="C.UTF-8",he._=n.thisProgram,a=j?ne?mr(1024):s(1024):f(1024),r=j?ne?mr(256):s(256):f(256),T[r>>2]=a,T[t>>2]=r;t=[];var i,o=0;for(i in he)if("string"===typeof he[i]){var u=i+"="+he[i];t.push(u),o+=u.length}if(1024<o)throw Error("Environment size exceeded TOTAL_ENV_SIZE!");for(i=0;i<t.length;i++){o=u=t[i];for(var c=a,_=0;_<o.length;++_)E[c++>>0]=o.charCodeAt(_);E[c>>0]=0,T[r+4*i>>2]=a,a+=u.length+1}T[r+4*t.length>>2]=0},___clock_gettime:function(){return we.apply(null,arguments)},___cxa_allocate_exception:function(e){return mr(e)},___cxa_begin_catch:function(e){var t=xe[e];return t&&!t.ma&&(t.ma=!0,_r.$--),t&&(t.L=!1),ke.push(e),(t=ze(e))&&xe[t].J++,e},___cxa_current_primary_exception:function(){var e=ke[ke.length-1]||0;if(e){var t=ze(e);t&&xe[t].J++}return e},___cxa_decrement_exception_refcount:function(e){Ae(ze(e))},___cxa_end_catch:function(){n.setThrew(0);var e=ke.pop();e&&(Ae(ze(e)),Me=0)},___cxa_find_matching_catch:function e(){var t=Me;if(!t)return 0|(hr(0),0);var r=xe[t],a=r.type;if(!a)return 0|(hr(0),t);var i=Array.prototype.slice.call(arguments);n.___cxa_is_pointer_type(a),e.buffer||(e.buffer=mr(4)),T[e.buffer>>2]=t,t=e.buffer;for(var o=0;o<i.length;o++)if(i[o]&&n.___cxa_can_catch(i[o],a,t))return t=T[t>>2],r.ka=t,0|(hr(i[o]),t);return t=T[t>>2],0|(hr(a),t)},___cxa_free_exception:Le,___cxa_increment_exception_refcount:function(e){(e=ze(e))&&xe[e].J++},___cxa_pure_virtual:function(){throw h=!0,"Pure virtual function called!"},___cxa_rethrow:Ee,___cxa_rethrow_primary_exception:function(e){e&&(ke.push(e),xe[e].L=!0,Ee())},___cxa_throw:function(e,t,n){throw xe[e]={Ka:e,ka:e,type:t,oa:n,J:0,ma:!1,L:!1},Me=e,"uncaught_exception"in _r?_r.$++:_r.$=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___cxa_uncaught_exception:function(){return!!_r.$},___gxx_personality_v0:function(){},___lock:function(){},___map_file:function(){return ge(ve.I),-1},___resumeException:function(e){throw Me||(Me=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___setErrNo:ge,___syscall140:function(e,t){At=t;try{var n=Et();Lt();var r=Lt(),a=Lt(),i=Lt();return yt(n,r,i),T[a>>2]=n.position,n.ba&&0===r&&0===i&&(n.ba=null),0}catch(o){return"undefined"!==typeof xt&&o instanceof Ye||wr(o),-o.v}},___syscall145:function(e,t){At=t;try{var n=Et(),r=Lt();e:{var a=Lt();for(t=e=0;t<a;t++){var i=T[r+(8*t+4)>>2],o=n,u=T[r+8*t>>2],c=i,f=void 0,s=E;if(0>c||0>f)throw new Ye(ve.i);if(null===o.fd)throw new Ye(ve.B);if(1===(2097155&o.flags))throw new Ye(ve.B);if(16384===(61440&o.node.mode))throw new Ye(ve.N);if(!o.f.read)throw new Ye(ve.i);var _="undefined"!==typeof f;if(_){if(!o.seekable)throw new Ye(ve.O)}else f=o.position;var l=o.f.read(o,s,u,c,f);_||(o.position+=l);var p=l;if(0>p){var d=-1;break e}if(e+=p,p<i)break}d=e}return d}catch(m){return"undefined"!==typeof xt&&m instanceof Ye||wr(m),-m.v}},___syscall146:function(e,t){At=t;try{var n=Et(),r=Lt();e:{var a=Lt();for(t=e=0;t<a;t++){var i=n,o=T[r+8*t>>2],u=T[r+(8*t+4)>>2],c=E,f=void 0;if(0>u||0>f)throw new Ye(ve.i);if(null===i.fd)throw new Ye(ve.B);if(0===(2097155&i.flags))throw new Ye(ve.B);if(16384===(61440&i.node.mode))throw new Ye(ve.N);if(!i.f.write)throw new Ye(ve.i);1024&i.flags&&yt(i,0,2);var s="undefined"!==typeof f;if(s){if(!i.seekable)throw new Ye(ve.O)}else f=i.position;var _=i.f.write(i,c,o,u,f,void 0);s||(i.position+=_);try{i.path&&Ze.onWriteToFile&&Ze.onWriteToFile(i.path)}catch(d){console.log("FS.trackingDelegate[\'onWriteToFile\'](\'"+path+"\') threw an exception: "+d.message)}var l=_;if(0>l){var p=-1;break e}e+=l}p=e}return p}catch(d){return"undefined"!==typeof xt&&d instanceof Ye||wr(d),-d.v}},___syscall196:function(e,t){At=t;try{var n=w(Lt());e:{var r=Lt();try{var a=Ke(n,{aa:!1}).node;if(!a)throw new Ye(ve.u);if(!a.c.m)throw new Ye(ve.I);var i=a.c.m(a)}catch(u){if(u&&u.node&&Ce(n)!==Ce(Je(u.node))){var o=-ve.Z;break e}throw u}T[r>>2]=i.dev,T[r+4>>2]=0,T[r+8>>2]=i.ino,T[r+12>>2]=i.mode,T[r+16>>2]=i.nlink,T[r+20>>2]=i.uid,T[r+24>>2]=i.gid,T[r+28>>2]=i.rdev,T[r+32>>2]=0,T[r+36>>2]=i.size,T[r+40>>2]=4096,T[r+44>>2]=i.blocks,T[r+48>>2]=i.atime.getTime()/1e3|0,T[r+52>>2]=0,T[r+56>>2]=i.mtime.getTime()/1e3|0,T[r+60>>2]=0,T[r+64>>2]=i.ctime.getTime()/1e3|0,T[r+68>>2]=0,T[r+72>>2]=i.ino,o=0}return o}catch(u){return"undefined"!==typeof xt&&u instanceof Ye||wr(u),-u.v}},___syscall221:function(e,t){At=t;try{var n=Et();switch(Lt()){case 0:var r=Lt();return 0>r?-ve.i:mt(n.path,n.flags,0,r).fd;case 1:case 2:case 13:case 14:case 13:case 14:return 0;case 3:return n.flags;case 4:return r=Lt(),n.flags|=r,0;case 12:case 12:return r=Lt(),S[r+0>>1]=2,0;case 16:case 8:default:return-ve.i;case 9:return ge(ve.i),-1}}catch(a){return"undefined"!==typeof xt&&a instanceof Ye||wr(a),-a.v}},___syscall5:function(e,t){At=t;try{return mt(w(Lt()),Lt(),Lt()).fd}catch(n){return"undefined"!==typeof xt&&n instanceof Ye||wr(n),-n.v}},___syscall54:function(e,t){At=t;try{var n=Et(),r=Lt();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-ve.D;case 21519:if(!n.tty)return-ve.D;var a=Lt();return T[a>>2]=0;case 21520:return n.tty?-ve.i:-ve.D;case 21531:if(e=a=Lt(),!n.f.Ha)throw new Ye(ve.D);return n.f.Ha(n,r,e);default:wr("bad ioctl syscall "+r)}}catch(i){return"undefined"!==typeof xt&&i instanceof Ye||wr(i),-i.v}},___syscall6:function(e,t){At=t;try{return ht(Et()),0}catch(n){return"undefined"!==typeof xt&&n instanceof Ye||wr(n),-n.v}},___syscall91:function(e,t){At=t;try{var n=Lt(),r=Lt(),a=zt[n];if(!a)return 0;if(r===a.Xc){var i=Ne[a.fd],o=a.flags,u=new Uint8Array(O.subarray(n,n+r));i&&i.f.T&&i.f.T(i,u,0,r,o),zt[n]=null,a.za&&dr(a.Yc)}return 0}catch(c){return"undefined"!==typeof xt&&c instanceof Ye||wr(c),-c.v}},___unlock:function(){},__addDays:Rn,__arraySum:Fn,__emscripten_fetch_cache_data:yn,__emscripten_fetch_delete_cached_data:vn,__emscripten_fetch_load_cached_data:bn,__emscripten_fetch_xhr:hn,__emscripten_get_fetch_work_queue:function(){return gn},__isLeapYear:Bn,_abort:function(){n.abort()},_clock_gettime:we,_emidentity:function(){var e=new URL(location.origin).hostname;if(0===e.length&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))0===e.indexOf("10.")&&(e="10.*"),0===e.indexOf("192.168.")&&(e="192.168.*"),0===e.indexOf("172.")&&(e="172.*"),0===e.indexOf("127.")&&(e="127.*");else{var t=new RegExp("("+String.fromCharCode(92)+".ngrok"+String.fromCharCode(92)+".io)$","i");t.test(e)&&(e="*.ngrok.io"),(t=new RegExp("("+String.fromCharCode(92)+".arweb"+String.fromCharCode(92)+".app)$","i")).test(e)&&(e="*.arweb.app")}t=A(e)+1;var n=mr(t);return z(e,O,n,t+1),n},_emlicerr:function(){self.postMessage({t:"licerr"})},_emscripten_asm_const_i:function(e){return de[e]()},_emscripten_async_call:function(e,t,r){function a(){!function(e){if(e){y("vi"),d.vi||(d.vi={});var t=d.vi;return t[e]||(t[e]=function(t){return m("vi",e,[t])}),t[e]}}(e)(t)}n.noExitRuntime=!0,0<=r?rn(a,r):function(e){nn((function(){h||e()}))}(a)},_emscripten_get_now:ye,_emscripten_get_now_is_monotonic:be,_emscripten_is_main_browser_thread:function(){return!1},_emscripten_is_main_runtime_thread:function(){return 1},_emscripten_memcpy_big:function(e,t,n){return O.set(O.subarray(t,t+n),e),e},_emscripten_set_main_loop:St,_emscripten_set_main_loop_timing:Ot,_emscripten_start_fetch:function(e,t,r,a){function i(e){l?n.dynCall_vi(l,e):r&&r(e)}function o(e){p?n.dynCall_vi(p,e):a&&a(e)}function u(e,r){yn(dn,e,r.response,(function(e){_?n.dynCall_vi(_,e):t&&t(e)}),(function(e){_?n.dynCall_vi(_,e):t&&t(e)}))}function c(e){_?n.dynCall_vi(_,e):t&&t(e)}"undefined"!==typeof n&&(n.noExitRuntime=!0);var f=e+112,s=w(f),_=P[f+36>>2],l=P[f+40>>2],p=P[f+44>>2],d=P[f+48>>2],m=!!(4&d),h=!!(32&d);if(16&d&&"EM_IDB_STORE"!==s&&"EM_IDB_DELETE"!==s){if(h)return 0;hn(e,m?u:c,i,o)}else{if(!dn)return i(e),0;"EM_IDB_STORE"===s?(s=P[f+80>>2],f=O.slice(s,s+P[f+84>>2]),yn(dn,e,f,c,i)):"EM_IDB_DELETE"===s?vn(dn,e,c,i):bn(dn,e,c,h?i:m?function(e){hn(e,u,i,o)}:function(e){hn(e,c,i,o)})}return e},_getenv:function e(t){if(0===t)return 0;if(t=w(t),!he.hasOwnProperty(t))return 0;e.l&&dr(e.l);var n=A(t=he[t])+1,r=mr(n);return r&&z(t,E,r,n),e.l=r},_gettimeofday:function(e){var t=Date.now();return T[e>>2]=t/1e3|0,T[e+4>>2]=t%1e3*1e3|0,0},_glBindTexture:function(e,t){qn.bindTexture(e,t?zn[t]:null)},_glGenTextures:function(e,t){for(var n=0;n<e;n++){var r=qn.createTexture();if(!r){for(xn||(xn=1282);n<e;)T[t+4*n++>>2]=0;break}var a=On(zn);r.name=a,zn[a]=r,T[t+4*n>>2]=a}},_glTexImage2D:function(e,t,n,r,a,i,o,u,c){var f=null;c&&(f=Cn(u,o,r,a,c)),qn.texImage2D(e,t,n,r,a,i,o,u,f)},_glTexParameteri:function(e,t,n){qn.texParameteri(e,t,n)},_llvm_exp2_f32:function(e){return Math.pow(2,e)},_llvm_stackrestore:function(e){var t=Tn.l[e];Tn.l.splice(e,1),br(t)},_llvm_stacksave:Tn,_llvm_trap:function(){wr("trap!")},_pthread_cond_destroy:function(){return 0},_pthread_cond_init:function(){return 0},_pthread_cond_signal:function(){return 0},_pthread_cond_wait:function(){return 0},_pthread_create:function(){return 11},_pthread_getspecific:function(e){return Pn[e]||0},_pthread_join:function(){},_pthread_key_create:function(e){return 0==e?ve.i:(T[e>>2]=In,Pn[In]=0,In++,0)},_pthread_mutex_destroy:function(){},_pthread_mutex_init:function(){},_pthread_once:function e(t,r){e.l||(e.l={}),t in e.l||(n.dynCall_v(r),e.l[t]=1)},_pthread_setspecific:function(e,t){return e in Pn?(Pn[e]=t,0):ve.i},_strftime:Vn,_strftime_l:function(e,t,n,r){return Vn(e,t,n,r)},_sysconf:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131068;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return ge(ve.i),-1},emscriptenWebGLComputeImageSize:Sn,emscriptenWebGLGetTexPixelData:Cn,DYNAMICTOP_PTR:G,tempDoublePtr:me,STACKTOP:R,STACK_MAX:V};var Un=n.asm(n.Aa,n.Ba,L);n.asm=Un;var Wn=n.__GLOBAL__I_000101=function(){return n.asm.__GLOBAL__I_000101.apply(null,arguments)},Hn=n.__GLOBAL__sub_I_AZHighLevelEncoder_cpp=function(){return n.asm.__GLOBAL__sub_I_AZHighLevelEncoder_cpp.apply(null,arguments)},Zn=n.__GLOBAL__sub_I_CameraSource_cpp=function(){return n.asm.__GLOBAL__sub_I_CameraSource_cpp.apply(null,arguments)},Yn=n.__GLOBAL__sub_I_CharacterSetECI_cpp=function(){return n.asm.__GLOBAL__sub_I_CharacterSetECI_cpp.apply(null,arguments)},Xn=n.__GLOBAL__sub_I_DMECEncoder_cpp=function(){return n.asm.__GLOBAL__sub_I_DMECEncoder_cpp.apply(null,arguments)},Kn=n.__GLOBAL__sub_I_DMHighLevelEncoder_cpp=function(){return n.asm.__GLOBAL__sub_I_DMHighLevelEncoder_cpp.apply(null,arguments)},Jn=n.__GLOBAL__sub_I_GridSampler_cpp=function(){return n.asm.__GLOBAL__sub_I_GridSampler_cpp.apply(null,arguments)},Qn=n.__GLOBAL__sub_I_ODCode128Patterns_cpp=function(){return n.asm.__GLOBAL__sub_I_ODCode128Patterns_cpp.apply(null,arguments)},$n=n.__GLOBAL__sub_I_ODRSSExpandedReader_cpp=function(){return n.asm.__GLOBAL__sub_I_ODRSSExpandedReader_cpp.apply(null,arguments)},er=n.__GLOBAL__sub_I_PDFDetector_cpp=function(){return n.asm.__GLOBAL__sub_I_PDFDetector_cpp.apply(null,arguments)},tr=n.__GLOBAL__sub_I_StandardStatsManager_cpp=function(){return n.asm.__GLOBAL__sub_I_StandardStatsManager_cpp.apply(null,arguments)},nr=n.__GLOBAL__sub_I_barcode_finder_cpp=function(){return n.asm.__GLOBAL__sub_I_barcode_finder_cpp.apply(null,arguments)},rr=n.__GLOBAL__sub_I_face_landmark_cpp=function(){return n.asm.__GLOBAL__sub_I_face_landmark_cpp.apply(null,arguments)},ar=n.__GLOBAL__sub_I_face_mesh_cpp=function(){return n.asm.__GLOBAL__sub_I_face_mesh_cpp.apply(null,arguments)},ir=n.__GLOBAL__sub_I_face_tracker_cpp=function(){return n.asm.__GLOBAL__sub_I_face_tracker_cpp.apply(null,arguments)},or=n.__GLOBAL__sub_I_image_tracker_cpp=function(){return n.asm.__GLOBAL__sub_I_image_tracker_cpp.apply(null,arguments)},ur=n.__GLOBAL__sub_I_instant_tracker_cpp=function(){return n.asm.__GLOBAL__sub_I_instant_tracker_cpp.apply(null,arguments)},cr=n.__GLOBAL__sub_I_iostream_cpp=function(){return n.asm.__GLOBAL__sub_I_iostream_cpp.apply(null,arguments)},fr=n.__GLOBAL__sub_I_pipeline_cpp=function(){return n.asm.__GLOBAL__sub_I_pipeline_cpp.apply(null,arguments)},sr=n.__GLOBAL__sub_I_zappar_face_tracker_cpp=function(){return n.asm.__GLOBAL__sub_I_zappar_face_tracker_cpp.apply(null,arguments)};n.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=function(){return n.asm.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=function(){return n.asm.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i.apply(null,arguments)},n.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=function(){return n.asm.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=function(){return n.asm.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=function(){return n.asm.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=function(){return n.asm.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=function(){return n.asm.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i.apply(null,arguments)},n.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=function(){return n.asm.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=function(){return n.asm.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=function(){return n.asm.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=function(){return n.asm.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti.apply(null,arguments)},n.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=function(){return n.asm.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii.apply(null,arguments)},n.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=function(){return n.asm.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=function(){return n.asm.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc.apply(null,arguments)},n.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=function(){return n.asm.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=function(){return n.asm.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=function(){return n.asm.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=function(){return n.asm.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=function(){return n.asm.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii.apply(null,arguments)},n.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=function(){return n.asm.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii.apply(null,arguments)};var _r=n.__ZSt18uncaught_exceptionv=function(){return n.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)};n.___cxa_can_catch=function(){return n.asm.___cxa_can_catch.apply(null,arguments)},n.___cxa_is_pointer_type=function(){return n.asm.___cxa_is_pointer_type.apply(null,arguments)},n.___em_js__emidentity=function(){return n.asm.___em_js__emidentity.apply(null,arguments)},n.___em_js__emlicerr=function(){return n.asm.___em_js__emlicerr.apply(null,arguments)};var lr=n.___emscripten_environ_constructor=function(){return n.asm.___emscripten_environ_constructor.apply(null,arguments)};n.___errno_location=function(){return n.asm.___errno_location.apply(null,arguments)},n.__get_environ=function(){return n.asm.__get_environ.apply(null,arguments)};var pr=n._emscripten_replace_memory=function(){return n.asm._emscripten_replace_memory.apply(null,arguments)},dr=n._free=function(){return n.asm._free.apply(null,arguments)};n._llvm_bswap_i32=function(){return n.asm._llvm_bswap_i32.apply(null,arguments)},n._llvm_round_f32=function(){return n.asm._llvm_round_f32.apply(null,arguments)},n._llvm_round_f64=function(){return n.asm._llvm_round_f64.apply(null,arguments)};var mr=n._malloc=function(){return n.asm._malloc.apply(null,arguments)};n._memcpy=function(){return n.asm._memcpy.apply(null,arguments)},n._memmove=function(){return n.asm._memmove.apply(null,arguments)},n._memset=function(){return n.asm._memset.apply(null,arguments)},n._pthread_cond_broadcast=function(){return n.asm._pthread_cond_broadcast.apply(null,arguments)},n._pthread_mutex_lock=function(){return n.asm._pthread_mutex_lock.apply(null,arguments)},n._pthread_mutex_unlock=function(){return n.asm._pthread_mutex_unlock.apply(null,arguments)},n._round=function(){return n.asm._round.apply(null,arguments)},n._sbrk=function(){return n.asm._sbrk.apply(null,arguments)},n._zappar_analytics_project_id_set=function(){return n.asm._zappar_analytics_project_id_set.apply(null,arguments)},n._zappar_barcode_finder_create=function(){return n.asm._zappar_barcode_finder_create.apply(null,arguments)},n._zappar_barcode_finder_destroy=function(){return n.asm._zappar_barcode_finder_destroy.apply(null,arguments)},n._zappar_barcode_finder_enabled=function(){return n.asm._zappar_barcode_finder_enabled.apply(null,arguments)},n._zappar_barcode_finder_enabled_set=function(){return n.asm._zappar_barcode_finder_enabled_set.apply(null,arguments)},n._zappar_barcode_finder_formats=function(){return n.asm._zappar_barcode_finder_formats.apply(null,arguments)},n._zappar_barcode_finder_formats_set=function(){return n.asm._zappar_barcode_finder_formats_set.apply(null,arguments)},n._zappar_barcode_finder_found_format=function(){return n.asm._zappar_barcode_finder_found_format.apply(null,arguments)},n._zappar_barcode_finder_found_number=function(){return n.asm._zappar_barcode_finder_found_number.apply(null,arguments)},n._zappar_barcode_finder_found_text=function(){return n.asm._zappar_barcode_finder_found_text.apply(null,arguments)},n._zappar_camera_default_device_id=function(){return n.asm._zappar_camera_default_device_id.apply(null,arguments)},n._zappar_camera_source_create=function(){return n.asm._zappar_camera_source_create.apply(null,arguments)},n._zappar_camera_source_destroy=function(){return n.asm._zappar_camera_source_destroy.apply(null,arguments)},n._zappar_camera_source_pause=function(){return n.asm._zappar_camera_source_pause.apply(null,arguments)},n._zappar_camera_source_start=function(){return n.asm._zappar_camera_source_start.apply(null,arguments)},n._zappar_face_landmark_anchor_pose=function(){return n.asm._zappar_face_landmark_anchor_pose.apply(null,arguments)},n._zappar_face_landmark_create=function(){return n.asm._zappar_face_landmark_create.apply(null,arguments)},n._zappar_face_landmark_destroy=function(){return n.asm._zappar_face_landmark_destroy.apply(null,arguments)},n._zappar_face_mesh_create=function(){return n.asm._zappar_face_mesh_create.apply(null,arguments)},n._zappar_face_mesh_destroy=function(){return n.asm._zappar_face_mesh_destroy.apply(null,arguments)},n._zappar_face_tracker_anchor_count=function(){return n.asm._zappar_face_tracker_anchor_count.apply(null,arguments)},n._zappar_face_tracker_anchor_expression_coefficients=function(){return n.asm._zappar_face_tracker_anchor_expression_coefficients.apply(null,arguments)},n._zappar_face_tracker_anchor_id=function(){return n.asm._zappar_face_tracker_anchor_id.apply(null,arguments)},n._zappar_face_tracker_anchor_identity_coefficients=function(){return n.asm._zappar_face_tracker_anchor_identity_coefficients.apply(null,arguments)},n._zappar_face_tracker_anchor_pose_raw=function(){return n.asm._zappar_face_tracker_anchor_pose_raw.apply(null,arguments)},n._zappar_face_tracker_create=function(){return n.asm._zappar_face_tracker_create.apply(null,arguments)},n._zappar_face_tracker_destroy=function(){return n.asm._zappar_face_tracker_destroy.apply(null,arguments)},n._zappar_face_tracker_enabled=function(){return n.asm._zappar_face_tracker_enabled.apply(null,arguments)},n._zappar_face_tracker_enabled_set=function(){return n.asm._zappar_face_tracker_enabled_set.apply(null,arguments)},n._zappar_face_tracker_max_faces=function(){return n.asm._zappar_face_tracker_max_faces.apply(null,arguments)},n._zappar_face_tracker_max_faces_set=function(){return n.asm._zappar_face_tracker_max_faces_set.apply(null,arguments)},n._zappar_face_tracker_model_load_from_memory=function(){return n.asm._zappar_face_tracker_model_load_from_memory.apply(null,arguments)},n._zappar_face_tracker_model_loaded_version=function(){return n.asm._zappar_face_tracker_model_loaded_version.apply(null,arguments)},n._zappar_has_initialized=function(){return n.asm._zappar_has_initialized.apply(null,arguments)},n._zappar_image_tracker_anchor_count=function(){return n.asm._zappar_image_tracker_anchor_count.apply(null,arguments)},n._zappar_image_tracker_anchor_id=function(){return n.asm._zappar_image_tracker_anchor_id.apply(null,arguments)},n._zappar_image_tracker_anchor_pose_raw=function(){return n.asm._zappar_image_tracker_anchor_pose_raw.apply(null,arguments)},n._zappar_image_tracker_create=function(){return n.asm._zappar_image_tracker_create.apply(null,arguments)},n._zappar_image_tracker_destroy=function(){return n.asm._zappar_image_tracker_destroy.apply(null,arguments)},n._zappar_image_tracker_enabled=function(){return n.asm._zappar_image_tracker_enabled.apply(null,arguments)},n._zappar_image_tracker_enabled_set=function(){return n.asm._zappar_image_tracker_enabled_set.apply(null,arguments)},n._zappar_image_tracker_target_count=function(){return n.asm._zappar_image_tracker_target_count.apply(null,arguments)},n._zappar_image_tracker_target_load_from_memory=function(){return n.asm._zappar_image_tracker_target_load_from_memory.apply(null,arguments)},n._zappar_image_tracker_target_loaded_version=function(){return n.asm._zappar_image_tracker_target_loaded_version.apply(null,arguments)},n._zappar_instant_world_tracker_anchor_pose_raw=function(){return n.asm._zappar_instant_world_tracker_anchor_pose_raw.apply(null,arguments)},n._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset=function(){return n.asm._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset.apply(null,arguments)},n._zappar_instant_world_tracker_create=function(){return n.asm._zappar_instant_world_tracker_create.apply(null,arguments)},n._zappar_instant_world_tracker_destroy=function(){return n.asm._zappar_instant_world_tracker_destroy.apply(null,arguments)},n._zappar_instant_world_tracker_enabled=function(){return n.asm._zappar_instant_world_tracker_enabled.apply(null,arguments)},n._zappar_instant_world_tracker_enabled_set=function(){return n.asm._zappar_instant_world_tracker_enabled_set.apply(null,arguments)},n._zappar_invert=function(){return n.asm._zappar_invert.apply(null,arguments)},n._zappar_loaded=function(){return n.asm._zappar_loaded.apply(null,arguments)},n._zappar_log_level=function(){return n.asm._zappar_log_level.apply(null,arguments)},n._zappar_log_level_set=function(){return n.asm._zappar_log_level_set.apply(null,arguments)},n._zappar_pipeline_camera_frame_camera_attitude=function(){return n.asm._zappar_pipeline_camera_frame_camera_attitude.apply(null,arguments)},n._zappar_pipeline_camera_frame_submit=function(){return n.asm._zappar_pipeline_camera_frame_submit.apply(null,arguments)},n._zappar_pipeline_camera_frame_texture_gl=function(){return n.asm._zappar_pipeline_camera_frame_texture_gl.apply(null,arguments)},n._zappar_pipeline_camera_frame_texture_matrix=function(){return n.asm._zappar_pipeline_camera_frame_texture_matrix.apply(null,arguments)},n._zappar_pipeline_camera_frame_upload_gl=function(){return n.asm._zappar_pipeline_camera_frame_upload_gl.apply(null,arguments)},n._zappar_pipeline_camera_frame_user_data=function(){return n.asm._zappar_pipeline_camera_frame_user_data.apply(null,arguments)},n._zappar_pipeline_camera_frame_user_facing=function(){return n.asm._zappar_pipeline_camera_frame_user_facing.apply(null,arguments)},n._zappar_pipeline_camera_model=function(){return n.asm._zappar_pipeline_camera_model.apply(null,arguments)},n._zappar_pipeline_camera_pose_default=function(){return n.asm._zappar_pipeline_camera_pose_default.apply(null,arguments)},n._zappar_pipeline_camera_pose_with_attitude=function(){return n.asm._zappar_pipeline_camera_pose_with_attitude.apply(null,arguments)},n._zappar_pipeline_camera_pose_with_origin=function(){return n.asm._zappar_pipeline_camera_pose_with_origin.apply(null,arguments)},n._zappar_pipeline_create=function(){return n.asm._zappar_pipeline_create.apply(null,arguments)},n._zappar_pipeline_destroy=function(){return n.asm._zappar_pipeline_destroy.apply(null,arguments)},n._zappar_pipeline_frame_number=function(){return n.asm._zappar_pipeline_frame_number.apply(null,arguments)},n._zappar_pipeline_frame_update=function(){return n.asm._zappar_pipeline_frame_update.apply(null,arguments)},n._zappar_pipeline_motion_accelerometer_submit=function(){return n.asm._zappar_pipeline_motion_accelerometer_submit.apply(null,arguments)},n._zappar_pipeline_motion_attitude_submit=function(){return n.asm._zappar_pipeline_motion_attitude_submit.apply(null,arguments)},n._zappar_pipeline_motion_rotation_rate_submit=function(){return n.asm._zappar_pipeline_motion_rotation_rate_submit.apply(null,arguments)},n._zappar_pipeline_process_gl=function(){return n.asm._zappar_pipeline_process_gl.apply(null,arguments)},n.establishStackSpace=function(){return n.asm.establishStackSpace.apply(null,arguments)},n.getTempRet0=function(){return n.asm.getTempRet0.apply(null,arguments)},n.runPostSets=function(){return n.asm.runPostSets.apply(null,arguments)};var hr=n.setTempRet0=function(){return n.asm.setTempRet0.apply(null,arguments)};n.setThrew=function(){return n.asm.setThrew.apply(null,arguments)};var yr=n.stackAlloc=function(){return n.asm.stackAlloc.apply(null,arguments)},br=n.stackRestore=function(){return n.asm.stackRestore.apply(null,arguments)},vr=n.stackSave=function(){return n.asm.stackSave.apply(null,arguments)};function gr(){function e(){if(!n.calledRun&&(n.calledRun=!0,!h)){if(ne||(ne=!0,K(Q)),K($),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();te.unshift(e)}K(te)}}if(!(0<ce)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)re();K(J),0<ce||n.calledRun||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e())}}function wr(e){throw n.onAbort&&n.onAbort(e),void 0!==e?(u(e),c(e),e=JSON.stringify(e)):e="",h=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(n.dynCall_i=function(){return n.asm.dynCall_i.apply(null,arguments)},n.dynCall_ii=function(){return n.asm.dynCall_ii.apply(null,arguments)},n.dynCall_iii=function(){return n.asm.dynCall_iii.apply(null,arguments)},n.dynCall_iiii=function(){return n.asm.dynCall_iiii.apply(null,arguments)},n.dynCall_iiiii=function(){return n.asm.dynCall_iiiii.apply(null,arguments)},n.dynCall_iiiiid=function(){return n.asm.dynCall_iiiiid.apply(null,arguments)},n.dynCall_iiiiii=function(){return n.asm.dynCall_iiiiii.apply(null,arguments)},n.dynCall_iiiiiid=function(){return n.asm.dynCall_iiiiiid.apply(null,arguments)},n.dynCall_iiiiiii=function(){return n.asm.dynCall_iiiiiii.apply(null,arguments)},n.dynCall_iiiiiiii=function(){return n.asm.dynCall_iiiiiiii.apply(null,arguments)},n.dynCall_iiiiiiiii=function(){return n.asm.dynCall_iiiiiiiii.apply(null,arguments)},n.dynCall_iiiiij=function(){return n.asm.dynCall_iiiiij.apply(null,arguments)},n.dynCall_iiji=function(){return n.asm.dynCall_iiji.apply(null,arguments)},n.dynCall_v=function(){return n.asm.dynCall_v.apply(null,arguments)},n.dynCall_vi=function(){return n.asm.dynCall_vi.apply(null,arguments)},n.dynCall_vii=function(){return n.asm.dynCall_vii.apply(null,arguments)},n.dynCall_viiffii=function(){return n.asm.dynCall_viiffii.apply(null,arguments)},n.dynCall_viii=function(){return n.asm.dynCall_viii.apply(null,arguments)},n.dynCall_viiifffii=function(){return n.asm.dynCall_viiifffii.apply(null,arguments)},n.dynCall_viiiffii=function(){return n.asm.dynCall_viiiffii.apply(null,arguments)},n.dynCall_viiii=function(){return n.asm.dynCall_viiii.apply(null,arguments)},n.dynCall_viiiii=function(){return n.asm.dynCall_viiiii.apply(null,arguments)},n.dynCall_viiiiiffffffffffffffff=function(){return n.asm.dynCall_viiiiiffffffffffffffff.apply(null,arguments)},n.dynCall_viiiiii=function(){return n.asm.dynCall_viiiiii.apply(null,arguments)},n.dynCall_viijii=function(){return n.asm.dynCall_viijii.apply(null,arguments)},n.dynCall_vij=function(){return n.asm.dynCall_vij.apply(null,arguments)},n.dynCall_viji=function(){return n.asm.dynCall_viji.apply(null,arguments)},n.dynCall_vijii=function(){return n.asm.dynCall_vijii.apply(null,arguments)},n.asm=Un,n.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?b(e):function(){var r=n,a=arguments,i=b(e),o=[],u=0;if(a)for(var c=0;c<a.length;c++){var f=g[r[c]];f?(0===u&&(u=vr()),o[c]=f(a[c])):o[c]=a[c]}return r=i.apply(null,o),r="string"===t?w(r):"boolean"===t?!!r:r,0!==u&&br(u),r}},n.setValue=function(e,t,n){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":E[e>>0]=t;break;case"i16":S[e>>1]=t;break;case"i32":T[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,1<=+ae(tempDouble)?0<tempDouble?(0|ue(+oe(tempDouble/4294967296),4294967295))>>>0:~~+ie((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],T[e>>2]=tempI64[0],T[e+4>>2]=tempI64[1];break;case"float":I[e>>2]=t;break;case"double":B[e>>3]=t;break;default:wr("invalid type for setValue: "+n)}},n.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return E[e>>0];case"i16":return S[e>>1];case"i32":case"i64":return T[e>>2];case"float":return I[e>>2];case"double":return B[e>>3];default:wr("invalid type for getValue: "+t)}return null},n.UTF8ToString=x,n.then=function(e){if(n.calledRun)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},se=function e(){n.calledRun||gr(),n.calledRun||(se=e)},n.run=gr,n.abort=wr,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return n.noExitRuntime=!0,gr(),t}}();t.default=r},0:function(e,t,n){"use strict";n.r(t),n.d(t,{glMatrix:function(){return r},mat2:function(){return a},mat2d:function(){return i},mat3:function(){return o},mat4:function(){return u},quat:function(){return s},quat2:function(){return _},vec2:function(){return l},vec3:function(){return c},vec4:function(){return f}});var r={};n.r(r),n.d(r,{ARRAY_TYPE:function(){return d},EPSILON:function(){return p},RANDOM:function(){return m},equals:function(){return v},setMatrixArrayType:function(){return h},toRadian:function(){return b}});var a={};n.r(a),n.d(a,{LDU:function(){return j},add:function(){return D},adjoint:function(){return E},clone:function(){return w},copy:function(){return M},create:function(){return g},determinant:function(){return O},equals:function(){return q},exactEquals:function(){return V},frob:function(){return F},fromRotation:function(){return P},fromScaling:function(){return I},fromValues:function(){return x},identity:function(){return k},invert:function(){return L},mul:function(){return U},multiply:function(){return S},multiplyScalar:function(){return G},multiplyScalarAndAdd:function(){return N},rotate:function(){return C},scale:function(){return T},set:function(){return z},str:function(){return B},sub:function(){return W},subtract:function(){return R},transpose:function(){return A}});var i={};n.r(i),n.d(i,{add:function(){return fe},clone:function(){return Z},copy:function(){return Y},create:function(){return H},determinant:function(){return $},equals:function(){return de},exactEquals:function(){return pe},frob:function(){return ce},fromRotation:function(){return ae},fromScaling:function(){return ie},fromTranslation:function(){return oe},fromValues:function(){return K},identity:function(){return X},invert:function(){return Q},mul:function(){return me},multiply:function(){return ee},multiplyScalar:function(){return _e},multiplyScalarAndAdd:function(){return le},rotate:function(){return te},scale:function(){return ne},set:function(){return J},str:function(){return ue},sub:function(){return he},subtract:function(){return se},translate:function(){return re}});var o={};n.r(o),n.d(o,{add:function(){return qe},adjoint:function(){return Ae},clone:function(){return ve},copy:function(){return ge},create:function(){return ye},determinant:function(){return Le},equals:function(){return He},exactEquals:function(){return We},frob:function(){return Ve},fromMat2d:function(){return Be},fromMat4:function(){return be},fromQuat:function(){return Fe},fromRotation:function(){return Pe},fromScaling:function(){return Ie},fromTranslation:function(){return Te},fromValues:function(){return we},identity:function(){return ke},invert:function(){return ze},mul:function(){return Ze},multiply:function(){return Ee},multiplyScalar:function(){return Ne},multiplyScalarAndAdd:function(){return Ue},normalFromMat4:function(){return je},projection:function(){return De},rotate:function(){return Se},scale:function(){return Ce},set:function(){return Me},str:function(){return Re},sub:function(){return Ye},subtract:function(){return Ge},translate:function(){return Oe},transpose:function(){return xe}});var u={};n.r(u),n.d(u,{add:function(){return It},adjoint:function(){return rt},clone:function(){return Ke},copy:function(){return Je},create:function(){return Xe},determinant:function(){return at},equals:function(){return Rt},exactEquals:function(){return Dt},frob:function(){return Pt},fromQuat:function(){return zt},fromQuat2:function(){return vt},fromRotation:function(){return dt},fromRotationTranslation:function(){return bt},fromRotationTranslationScale:function(){return kt},fromRotationTranslationScaleOrigin:function(){return xt},fromScaling:function(){return pt},fromTranslation:function(){return lt},fromValues:function(){return Qe},fromXRotation:function(){return mt},fromYRotation:function(){return ht},fromZRotation:function(){return yt},frustum:function(){return At},getRotation:function(){return Mt},getScaling:function(){return wt},getTranslation:function(){return gt},identity:function(){return et},invert:function(){return nt},lookAt:function(){return St},mul:function(){return Vt},multiply:function(){return it},multiplyScalar:function(){return Ft},multiplyScalarAndAdd:function(){return jt},ortho:function(){return Ot},perspective:function(){return Lt},perspectiveFromFieldOfView:function(){return Et},rotate:function(){return ct},rotateX:function(){return ft},rotateY:function(){return st},rotateZ:function(){return _t},scale:function(){return ut},set:function(){return $e},str:function(){return Tt},sub:function(){return qt},subtract:function(){return Bt},targetTo:function(){return Ct},translate:function(){return ot},transpose:function(){return tt}});var c={};n.r(c),n.d(c,{add:function(){return Yt},angle:function(){return xn},bezier:function(){return hn},ceil:function(){return Qt},clone:function(){return Nt},copy:function(){return Ht},create:function(){return Gt},cross:function(){return pn},dist:function(){return Tn},distance:function(){return on},div:function(){return Cn},divide:function(){return Jt},dot:function(){return ln},equals:function(){return En},exactEquals:function(){return Ln},floor:function(){return $t},forEach:function(){return Fn},fromValues:function(){return Wt},hermite:function(){return mn},inverse:function(){return sn},len:function(){return In},length:function(){return Ut},lerp:function(){return dn},max:function(){return tn},min:function(){return en},mul:function(){return Sn},multiply:function(){return Kt},negate:function(){return fn},normalize:function(){return _n},random:function(){return yn},rotateX:function(){return wn},rotateY:function(){return Mn},rotateZ:function(){return kn},round:function(){return nn},scale:function(){return rn},scaleAndAdd:function(){return an},set:function(){return Zt},sqrDist:function(){return Pn},sqrLen:function(){return Bn},squaredDistance:function(){return un},squaredLength:function(){return cn},str:function(){return An},sub:function(){return On},subtract:function(){return Xt},transformMat3:function(){return vn},transformMat4:function(){return bn},transformQuat:function(){return gn},zero:function(){return zn}});var f={};n.r(f),n.d(f,{add:function(){return Gn},ceil:function(){return Hn},clone:function(){return Dn},copy:function(){return Vn},create:function(){return jn},cross:function(){return ur},dist:function(){return vr},distance:function(){return $n},div:function(){return br},divide:function(){return Wn},dot:function(){return or},equals:function(){return mr},exactEquals:function(){return dr},floor:function(){return Zn},forEach:function(){return kr},fromValues:function(){return Rn},inverse:function(){return ar},len:function(){return wr},length:function(){return tr},lerp:function(){return cr},max:function(){return Xn},min:function(){return Yn},mul:function(){return yr},multiply:function(){return Un},negate:function(){return rr},normalize:function(){return ir},random:function(){return fr},round:function(){return Kn},scale:function(){return Jn},scaleAndAdd:function(){return Qn},set:function(){return qn},sqrDist:function(){return gr},sqrLen:function(){return Mr},squaredDistance:function(){return er},squaredLength:function(){return nr},str:function(){return pr},sub:function(){return hr},subtract:function(){return Nn},transformMat4:function(){return sr},transformQuat:function(){return _r},zero:function(){return lr}});var s={};n.r(s),n.d(s,{add:function(){return Yr},calculateW:function(){return Pr},clone:function(){return Ur},conjugate:function(){return Vr},copy:function(){return Hr},create:function(){return xr},dot:function(){return Jr},equals:function(){return ia},exactEquals:function(){return aa},exp:function(){return Ir},fromEuler:function(){return Gr},fromMat3:function(){return qr},fromValues:function(){return Wr},getAngle:function(){return Er},getAxisAngle:function(){return Lr},identity:function(){return zr},invert:function(){return Rr},len:function(){return ea},length:function(){return $r},lerp:function(){return Qr},ln:function(){return Br},mul:function(){return Xr},multiply:function(){return Or},normalize:function(){return ra},pow:function(){return Fr},random:function(){return Dr},rotateX:function(){return Sr},rotateY:function(){return Cr},rotateZ:function(){return Tr},rotationTo:function(){return oa},scale:function(){return Kr},set:function(){return Zr},setAxes:function(){return ca},setAxisAngle:function(){return Ar},slerp:function(){return jr},sqlerp:function(){return ua},sqrLen:function(){return na},squaredLength:function(){return ta},str:function(){return Nr}});var _={};n.r(_),n.d(_,{add:function(){return Ta},clone:function(){return sa},conjugate:function(){return Ra},copy:function(){return ya},create:function(){return fa},dot:function(){return Fa},equals:function(){return Za},exactEquals:function(){return Ha},fromMat4:function(){return ha},fromRotation:function(){return ma},fromRotationTranslation:function(){return pa},fromRotationTranslationValues:function(){return la},fromTranslation:function(){return da},fromValues:function(){return _a},getDual:function(){return wa},getReal:function(){return ga},getTranslation:function(){return xa},identity:function(){return ba},invert:function(){return Da},len:function(){return qa},length:function(){return Va},lerp:function(){return ja},mul:function(){return Ia},multiply:function(){return Pa},normalize:function(){return Ua},rotateAroundAxis:function(){return Ca},rotateByQuatAppend:function(){return Oa},rotateByQuatPrepend:function(){return Sa},rotateX:function(){return Aa},rotateY:function(){return La},rotateZ:function(){return Ea},scale:function(){return Ba},set:function(){return va},setDual:function(){return ka},setReal:function(){return Ma},sqrLen:function(){return Na},squaredLength:function(){return Ga},str:function(){return Wa},translate:function(){return za}});var l={};n.r(l),n.d(l,{add:function(){return $a},angle:function(){return Ai},ceil:function(){return ri},clone:function(){return Xa},copy:function(){return Ja},create:function(){return Ya},cross:function(){return bi},dist:function(){return Bi},distance:function(){return si},div:function(){return Ii},divide:function(){return ni},dot:function(){return yi},equals:function(){return Si},exactEquals:function(){return Oi},floor:function(){return ai},forEach:function(){return Di},fromValues:function(){return Ka},inverse:function(){return mi},len:function(){return Ci},length:function(){return li},lerp:function(){return vi},max:function(){return oi},min:function(){return ii},mul:function(){return Pi},multiply:function(){return ti},negate:function(){return di},normalize:function(){return hi},random:function(){return gi},rotate:function(){return zi},round:function(){return ui},scale:function(){return ci},scaleAndAdd:function(){return fi},set:function(){return Qa},sqrDist:function(){return Fi},sqrLen:function(){return ji},squaredDistance:function(){return _i},squaredLength:function(){return pi},str:function(){return Ei},sub:function(){return Ti},subtract:function(){return ei},transformMat2:function(){return wi},transformMat2d:function(){return Mi},transformMat3:function(){return ki},transformMat4:function(){return xi},zero:function(){return Li}});var p=1e-6,d="undefined"!==typeof Float32Array?Float32Array:Array,m=Math.random;function h(e){d=e}var y=Math.PI/180;function b(e){return e*y}function v(e,t){return Math.abs(e-t)<=p*Math.max(1,Math.abs(e),Math.abs(t))}function g(){var e=new d(4);return d!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new d(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function k(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function x(e,t,n,r){var a=new d(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function z(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function A(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function L(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null}function E(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function O(e){return e[0]*e[3]-e[2]*e[1]}function S(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*u+i*c,e[1]=a*u+o*c,e[2]=r*f+i*s,e[3]=a*f+o*s,e}function C(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*u,e[1]=a*c+o*u,e[2]=r*-u+i*c,e[3]=a*-u+o*c,e}function T(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1];return e[0]=r*u,e[1]=a*u,e[2]=i*c,e[3]=o*c,e}function P(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function I(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function B(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function F(e){return Math.hypot(e[0],e[1],e[2],e[3])}function j(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function D(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function R(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function q(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-c)<=p*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))}function G(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function N(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var U=S,W=R;function H(){var e=new d(6);return d!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Z(e){var t=new d(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Y(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function K(e,t,n,r,a,i){var o=new d(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function J(e,t,n,r,a,i,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e}function Q(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=n*i-r*a;return c?(c=1/c,e[0]=i*c,e[1]=-r*c,e[2]=-a*c,e[3]=n*c,e[4]=(a*u-i*o)*c,e[5]=(r*o-n*u)*c,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1],_=n[2],l=n[3],p=n[4],d=n[5];return e[0]=r*f+i*s,e[1]=a*f+o*s,e[2]=r*_+i*l,e[3]=a*_+o*l,e[4]=r*p+i*d+u,e[5]=a*p+o*d+c,e}function te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=Math.sin(n),s=Math.cos(n);return e[0]=r*s+i*f,e[1]=a*s+o*f,e[2]=r*-f+i*s,e[3]=a*-f+o*s,e[4]=u,e[5]=c,e}function ne(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1];return e[0]=r*f,e[1]=a*f,e[2]=i*s,e[3]=o*s,e[4]=u,e[5]=c,e}function re(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*f+i*s+u,e[5]=a*f+o*s+c,e}function ae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ue(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ce(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function fe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function se(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function _e(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function le(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function pe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function de(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=t[0],f=t[1],s=t[2],_=t[3],l=t[4],d=t[5];return Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-s)<=p*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-_)<=p*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-l)<=p*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-d)<=p*Math.max(1,Math.abs(u),Math.abs(d))}var me=ee,he=se;function ye(){var e=new d(9);return d!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ve(e){var t=new d(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,n,r,a,i,o,u,c){var f=new d(9);return f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a,f[5]=i,f[6]=o,f[7]=u,f[8]=c,f}function Me(e,t,n,r,a,i,o,u,c,f){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e[8]=f,e}function ke(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function xe(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function ze(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=s*o-u*f,l=-s*i+u*c,p=f*i-o*c,d=n*_+r*l+a*p;return d?(d=1/d,e[0]=_*d,e[1]=(-s*r+a*f)*d,e[2]=(u*r-a*o)*d,e[3]=l*d,e[4]=(s*n-a*c)*d,e[5]=(-u*n+a*i)*d,e[6]=p*d,e[7]=(-f*n+r*c)*d,e[8]=(o*n-r*i)*d,e):null}function Ae(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8];return e[0]=o*s-u*f,e[1]=a*f-r*s,e[2]=r*u-a*o,e[3]=u*c-i*s,e[4]=n*s-a*c,e[5]=a*i-n*u,e[6]=i*f-o*c,e[7]=r*c-n*f,e[8]=n*o-r*i,e}function Le(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],f=e[8];return t*(f*i-o*c)+n*(-f*a+o*u)+r*(c*a-i*u)}function Ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=n[0],p=n[1],d=n[2],m=n[3],h=n[4],y=n[5],b=n[6],v=n[7],g=n[8];return e[0]=l*r+p*o+d*f,e[1]=l*a+p*u+d*s,e[2]=l*i+p*c+d*_,e[3]=m*r+h*o+y*f,e[4]=m*a+h*u+y*s,e[5]=m*i+h*c+y*_,e[6]=b*r+v*o+g*f,e[7]=b*a+v*u+g*s,e[8]=b*i+v*c+g*_,e}function Oe(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=n[0],p=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=c,e[6]=l*r+p*o+f,e[7]=l*a+p*u+s,e[8]=l*i+p*c+_,e}function Se(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=Math.sin(n),p=Math.cos(n);return e[0]=p*r+l*o,e[1]=p*a+l*u,e[2]=p*i+l*c,e[3]=p*o-l*r,e[4]=p*u-l*a,e[5]=p*c-l*i,e[6]=f,e[7]=s,e[8]=_,e}function Ce(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Te(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Pe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Fe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,u=r+r,c=a+a,f=n*o,s=r*o,_=r*u,l=a*o,p=a*u,d=a*c,m=i*o,h=i*u,y=i*c;return e[0]=1-_-d,e[3]=s-y,e[6]=l+h,e[1]=s+y,e[4]=1-f-d,e[7]=p-m,e[2]=l-h,e[5]=p+m,e[8]=1-f-_,e}function je(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15],b=n*u-r*o,v=n*c-a*o,g=n*f-i*o,w=r*c-a*u,M=r*f-i*u,k=a*f-i*c,x=s*m-_*d,z=s*h-l*d,A=s*y-p*d,L=_*h-l*m,E=_*y-p*m,O=l*y-p*h,S=b*O-v*E+g*L+w*A-M*z+k*x;return S?(S=1/S,e[0]=(u*O-c*E+f*L)*S,e[1]=(c*A-o*O-f*z)*S,e[2]=(o*E-u*A+f*x)*S,e[3]=(a*E-r*O-i*L)*S,e[4]=(n*O-a*A+i*z)*S,e[5]=(r*A-n*E-i*x)*S,e[6]=(m*k-h*M+y*w)*S,e[7]=(h*g-d*k-y*v)*S,e[8]=(d*M-m*g+y*b)*S,e):null}function De(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Re(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ve(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function qe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ge(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Ne(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ue(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function We(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function He(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],_=t[0],l=t[1],d=t[2],m=t[3],h=t[4],y=t[5],b=t[6],v=t[7],g=t[8];return Math.abs(n-_)<=p*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-d)<=p*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-m)<=p*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-h)<=p*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-y)<=p*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=p*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-v)<=p*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(s-g)<=p*Math.max(1,Math.abs(s),Math.abs(g))}var Ze=Ee,Ye=Ge;function Xe(){var e=new d(16);return d!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ke(e){var t=new d(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qe(e,t,n,r,a,i,o,u,c,f,s,_,l,p,m,h){var y=new d(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=a,y[5]=i,y[6]=o,y[7]=u,y[8]=c,y[9]=f,y[10]=s,y[11]=_,y[12]=l,y[13]=p,y[14]=m,y[15]=h,y}function $e(e,t,n,r,a,i,o,u,c,f,s,_,l,p,d,m,h){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e[8]=f,e[9]=s,e[10]=_,e[11]=l,e[12]=p,e[13]=d,e[14]=m,e[15]=h,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15],b=n*u-r*o,v=n*c-a*o,g=n*f-i*o,w=r*c-a*u,M=r*f-i*u,k=a*f-i*c,x=s*m-_*d,z=s*h-l*d,A=s*y-p*d,L=_*h-l*m,E=_*y-p*m,O=l*y-p*h,S=b*O-v*E+g*L+w*A-M*z+k*x;return S?(S=1/S,e[0]=(u*O-c*E+f*L)*S,e[1]=(a*E-r*O-i*L)*S,e[2]=(m*k-h*M+y*w)*S,e[3]=(l*M-_*k-p*w)*S,e[4]=(c*A-o*O-f*z)*S,e[5]=(n*O-a*A+i*z)*S,e[6]=(h*g-d*k-y*v)*S,e[7]=(s*k-l*g+p*v)*S,e[8]=(o*E-u*A+f*x)*S,e[9]=(r*A-n*E-i*x)*S,e[10]=(d*M-m*g+y*b)*S,e[11]=(_*g-s*M-p*b)*S,e[12]=(u*z-o*L-c*x)*S,e[13]=(n*L-r*z+a*x)*S,e[14]=(m*v-d*w-h*b)*S,e[15]=(s*w-_*v+l*b)*S,e):null}function rt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15];return e[0]=u*(l*y-p*h)-_*(c*y-f*h)+m*(c*p-f*l),e[1]=-(r*(l*y-p*h)-_*(a*y-i*h)+m*(a*p-i*l)),e[2]=r*(c*y-f*h)-u*(a*y-i*h)+m*(a*f-i*c),e[3]=-(r*(c*p-f*l)-u*(a*p-i*l)+_*(a*f-i*c)),e[4]=-(o*(l*y-p*h)-s*(c*y-f*h)+d*(c*p-f*l)),e[5]=n*(l*y-p*h)-s*(a*y-i*h)+d*(a*p-i*l),e[6]=-(n*(c*y-f*h)-o*(a*y-i*h)+d*(a*f-i*c)),e[7]=n*(c*p-f*l)-o*(a*p-i*l)+s*(a*f-i*c),e[8]=o*(_*y-p*m)-s*(u*y-f*m)+d*(u*p-f*_),e[9]=-(n*(_*y-p*m)-s*(r*y-i*m)+d*(r*p-i*_)),e[10]=n*(u*y-f*m)-o*(r*y-i*m)+d*(r*f-i*u),e[11]=-(n*(u*p-f*_)-o*(r*p-i*_)+s*(r*f-i*u)),e[12]=-(o*(_*h-l*m)-s*(u*h-c*m)+d*(u*l-c*_)),e[13]=n*(_*h-l*m)-s*(r*h-a*m)+d*(r*l-a*_),e[14]=-(n*(u*h-c*m)-o*(r*h-a*m)+d*(r*c-a*u)),e[15]=n*(u*l-c*_)-o*(r*l-a*_)+s*(r*c-a*u),e}function at(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],f=e[8],s=e[9],_=e[10],l=e[11],p=e[12],d=e[13],m=e[14],h=e[15];return(t*o-n*i)*(_*h-l*m)-(t*u-r*i)*(s*h-l*d)+(t*c-a*i)*(s*m-_*d)+(n*u-r*o)*(f*h-l*p)-(n*c-a*o)*(f*m-_*p)+(r*c-a*u)*(f*d-s*p)}function it(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=t[9],p=t[10],d=t[11],m=t[12],h=t[13],y=t[14],b=t[15],v=n[0],g=n[1],w=n[2],M=n[3];return e[0]=v*r+g*u+w*_+M*m,e[1]=v*a+g*c+w*l+M*h,e[2]=v*i+g*f+w*p+M*y,e[3]=v*o+g*s+w*d+M*b,v=n[4],g=n[5],w=n[6],M=n[7],e[4]=v*r+g*u+w*_+M*m,e[5]=v*a+g*c+w*l+M*h,e[6]=v*i+g*f+w*p+M*y,e[7]=v*o+g*s+w*d+M*b,v=n[8],g=n[9],w=n[10],M=n[11],e[8]=v*r+g*u+w*_+M*m,e[9]=v*a+g*c+w*l+M*h,e[10]=v*i+g*f+w*p+M*y,e[11]=v*o+g*s+w*d+M*b,v=n[12],g=n[13],w=n[14],M=n[15],e[12]=v*r+g*u+w*_+M*m,e[13]=v*a+g*c+w*l+M*h,e[14]=v*i+g*f+w*p+M*y,e[15]=v*o+g*s+w*d+M*b,e}function ot(e,t,n){var r,a,i,o,u,c,f,s,_,l,p,d,m=n[0],h=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*h+t[8]*y+t[12],e[13]=t[1]*m+t[5]*h+t[9]*y+t[13],e[14]=t[2]*m+t[6]*h+t[10]*y+t[14],e[15]=t[3]*m+t[7]*h+t[11]*y+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=t[9],p=t[10],d=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=c,e[6]=f,e[7]=s,e[8]=_,e[9]=l,e[10]=p,e[11]=d,e[12]=r*m+u*h+_*y+t[12],e[13]=a*m+c*h+l*y+t[13],e[14]=i*m+f*h+p*y+t[14],e[15]=o*m+s*h+d*y+t[15]),e}function ut(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ct(e,t,n,r){var a,i,o,u,c,f,s,_,l,d,m,h,y,b,v,g,w,M,k,x,z,A,L,E,O=r[0],S=r[1],C=r[2],T=Math.hypot(O,S,C);return T<p?null:(O*=T=1/T,S*=T,C*=T,a=Math.sin(n),o=1-(i=Math.cos(n)),u=t[0],c=t[1],f=t[2],s=t[3],_=t[4],l=t[5],d=t[6],m=t[7],h=t[8],y=t[9],b=t[10],v=t[11],g=O*O*o+i,w=S*O*o+C*a,M=C*O*o-S*a,k=O*S*o-C*a,x=S*S*o+i,z=C*S*o+O*a,A=O*C*o+S*a,L=S*C*o-O*a,E=C*C*o+i,e[0]=u*g+_*w+h*M,e[1]=c*g+l*w+y*M,e[2]=f*g+d*w+b*M,e[3]=s*g+m*w+v*M,e[4]=u*k+_*x+h*z,e[5]=c*k+l*x+y*z,e[6]=f*k+d*x+b*z,e[7]=s*k+m*x+v*z,e[8]=u*A+_*L+h*E,e[9]=c*A+l*L+y*E,e[10]=f*A+d*L+b*E,e[11]=s*A+m*L+v*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ft(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],u=t[6],c=t[7],f=t[8],s=t[9],_=t[10],l=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+f*r,e[5]=o*a+s*r,e[6]=u*a+_*r,e[7]=c*a+l*r,e[8]=f*a-i*r,e[9]=s*a-o*r,e[10]=_*a-u*r,e[11]=l*a-c*r,e}function st(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],u=t[2],c=t[3],f=t[8],s=t[9],_=t[10],l=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-f*r,e[1]=o*a-s*r,e[2]=u*a-_*r,e[3]=c*a-l*r,e[8]=i*r+f*a,e[9]=o*r+s*a,e[10]=u*r+_*a,e[11]=c*r+l*a,e}function _t(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],u=t[2],c=t[3],f=t[4],s=t[5],_=t[6],l=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+f*r,e[1]=o*a+s*r,e[2]=u*a+_*r,e[3]=c*a+l*r,e[4]=f*a-i*r,e[5]=s*a-o*r,e[6]=_*a-u*r,e[7]=l*a-c*r,e}function lt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dt(e,t,n){var r,a,i,o=n[0],u=n[1],c=n[2],f=Math.hypot(o,u,c);return f<p?null:(o*=f=1/f,u*=f,c*=f,r=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=u*o*i+c*r,e[2]=c*o*i-u*r,e[3]=0,e[4]=o*u*i-c*r,e[5]=u*u*i+a,e[6]=c*u*i+o*r,e[7]=0,e[8]=o*c*i+u*r,e[9]=u*c*i-o*r,e[10]=c*c*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=r+r,c=a+a,f=i+i,s=r*u,_=r*c,l=r*f,p=a*c,d=a*f,m=i*f,h=o*u,y=o*c,b=o*f;return e[0]=1-(p+m),e[1]=_+b,e[2]=l-y,e[3]=0,e[4]=_-b,e[5]=1-(s+m),e[6]=d+h,e[7]=0,e[8]=l+y,e[9]=d-h,e[10]=1-(s+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function vt(e,t){var n=new d(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=r*r+a*a+i*i+o*o;return _>0?(n[0]=2*(u*o+s*r+c*i-f*a)/_,n[1]=2*(c*o+s*a+f*r-u*i)/_,n[2]=2*(f*o+s*i+u*a-c*r)/_):(n[0]=2*(u*o+s*r+c*i-f*a),n[1]=2*(c*o+s*a+f*r-u*i),n[2]=2*(f*o+s*i+u*a-c*r)),bt(e,t,n),e}function gt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],u=t[6],c=t[8],f=t[9],s=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(i,o,u),e[2]=Math.hypot(c,f,s),e}function Mt(e,t){var n=new d(3);wt(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,u=t[1]*a,c=t[2]*i,f=t[4]*r,s=t[5]*a,_=t[6]*i,l=t[8]*r,p=t[9]*a,m=t[10]*i,h=o+s+m,y=0;return h>0?(y=2*Math.sqrt(h+1),e[3]=.25*y,e[0]=(_-p)/y,e[1]=(l-c)/y,e[2]=(u-f)/y):o>s&&o>m?(y=2*Math.sqrt(1+o-s-m),e[3]=(_-p)/y,e[0]=.25*y,e[1]=(u+f)/y,e[2]=(l+c)/y):s>m?(y=2*Math.sqrt(1+s-o-m),e[3]=(l-c)/y,e[0]=(u+f)/y,e[1]=.25*y,e[2]=(_+p)/y):(y=2*Math.sqrt(1+m-o-s),e[3]=(u-f)/y,e[0]=(l+c)/y,e[1]=(_+p)/y,e[2]=.25*y),e}function kt(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=t[3],c=a+a,f=i+i,s=o+o,_=a*c,l=a*f,p=a*s,d=i*f,m=i*s,h=o*s,y=u*c,b=u*f,v=u*s,g=r[0],w=r[1],M=r[2];return e[0]=(1-(d+h))*g,e[1]=(l+v)*g,e[2]=(p-b)*g,e[3]=0,e[4]=(l-v)*w,e[5]=(1-(_+h))*w,e[6]=(m+y)*w,e[7]=0,e[8]=(p+b)*M,e[9]=(m-y)*M,e[10]=(1-(_+d))*M,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xt(e,t,n,r,a){var i=t[0],o=t[1],u=t[2],c=t[3],f=i+i,s=o+o,_=u+u,l=i*f,p=i*s,d=i*_,m=o*s,h=o*_,y=u*_,b=c*f,v=c*s,g=c*_,w=r[0],M=r[1],k=r[2],x=a[0],z=a[1],A=a[2],L=(1-(m+y))*w,E=(p+g)*w,O=(d-v)*w,S=(p-g)*M,C=(1-(l+y))*M,T=(h+b)*M,P=(d+v)*k,I=(h-b)*k,B=(1-(l+m))*k;return e[0]=L,e[1]=E,e[2]=O,e[3]=0,e[4]=S,e[5]=C,e[6]=T,e[7]=0,e[8]=P,e[9]=I,e[10]=B,e[11]=0,e[12]=n[0]+x-(L*x+S*z+P*A),e[13]=n[1]+z-(E*x+C*z+I*A),e[14]=n[2]+A-(O*x+T*z+B*A),e[15]=1,e}function zt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,u=r+r,c=a+a,f=n*o,s=r*o,_=r*u,l=a*o,p=a*u,d=a*c,m=i*o,h=i*u,y=i*c;return e[0]=1-_-d,e[1]=s+y,e[2]=l-h,e[3]=0,e[4]=s-y,e[5]=1-f-d,e[6]=p+m,e[7]=0,e[8]=l+h,e[9]=p-m,e[10]=1-f-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function At(e,t,n,r,a,i,o){var u=1/(n-t),c=1/(a-r),f=1/(i-o);return e[0]=2*i*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*c,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(a+r)*c,e[10]=(o+i)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*f,e[15]=0,e}function Lt(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e}function Et(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+u),f=2/(a+i);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-(o-u)*c*.5,e[9]=(a-i)*f*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Ot(e,t,n,r,a,i,o){var u=1/(t-n),c=1/(r-a),f=1/(i-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+n)*u,e[13]=(a+r)*c,e[14]=(o+i)*f,e[15]=1,e}function St(e,t,n,r){var a,i,o,u,c,f,s,_,l,d,m=t[0],h=t[1],y=t[2],b=r[0],v=r[1],g=r[2],w=n[0],M=n[1],k=n[2];return Math.abs(m-w)<p&&Math.abs(h-M)<p&&Math.abs(y-k)<p?et(e):(s=m-w,_=h-M,l=y-k,a=v*(l*=d=1/Math.hypot(s,_,l))-g*(_*=d),i=g*(s*=d)-b*l,o=b*_-v*s,(d=Math.hypot(a,i,o))?(a*=d=1/d,i*=d,o*=d):(a=0,i=0,o=0),u=_*o-l*i,c=l*a-s*o,f=s*i-_*a,(d=Math.hypot(u,c,f))?(u*=d=1/d,c*=d,f*=d):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=s,e[3]=0,e[4]=i,e[5]=c,e[6]=_,e[7]=0,e[8]=o,e[9]=f,e[10]=l,e[11]=0,e[12]=-(a*m+i*h+o*y),e[13]=-(u*m+c*h+f*y),e[14]=-(s*m+_*h+l*y),e[15]=1,e)}function Ct(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=r[0],c=r[1],f=r[2],s=a-n[0],_=i-n[1],l=o-n[2],p=s*s+_*_+l*l;p>0&&(s*=p=1/Math.sqrt(p),_*=p,l*=p);var d=c*l-f*_,m=f*s-u*l,h=u*_-c*s;return(p=d*d+m*m+h*h)>0&&(d*=p=1/Math.sqrt(p),m*=p,h*=p),e[0]=d,e[1]=m,e[2]=h,e[3]=0,e[4]=_*h-l*m,e[5]=l*d-s*h,e[6]=s*m-_*d,e[7]=0,e[8]=s,e[9]=_,e[10]=l,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function Tt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Pt(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function It(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Bt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Ft(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function jt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Dt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Rt(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],_=e[9],l=e[10],d=e[11],m=e[12],h=e[13],y=e[14],b=e[15],v=t[0],g=t[1],w=t[2],M=t[3],k=t[4],x=t[5],z=t[6],A=t[7],L=t[8],E=t[9],O=t[10],S=t[11],C=t[12],T=t[13],P=t[14],I=t[15];return Math.abs(n-v)<=p*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-g)<=p*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-w)<=p*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(i-M)<=p*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-k)<=p*Math.max(1,Math.abs(o),Math.abs(k))&&Math.abs(u-x)<=p*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(c-z)<=p*Math.max(1,Math.abs(c),Math.abs(z))&&Math.abs(f-A)<=p*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(s-L)<=p*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(_-E)<=p*Math.max(1,Math.abs(_),Math.abs(E))&&Math.abs(l-O)<=p*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(d-S)<=p*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(m-C)<=p*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(h-T)<=p*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(y-P)<=p*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(b-I)<=p*Math.max(1,Math.abs(b),Math.abs(I))}var Vt=it,qt=Bt;function Gt(){var e=new d(3);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Nt(e){var t=new d(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ut(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Wt(e,t,n){var r=new d(3);return r[0]=e,r[1]=t,r[2]=n,r}function Ht(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Zt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Yt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Xt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Kt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Jt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Qt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function en(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function tn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function nn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function an(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function un(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function cn(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function fn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function sn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function _n(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ln(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],c=n[2];return e[0]=a*c-i*u,e[1]=i*o-r*c,e[2]=r*u-a*o,e}function dn(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function mn(e,t,n,r,a,i){var o=i*i,u=o*(2*i-3)+1,c=o*(i-2)+i,f=o*(i-1),s=o*(3-2*i);return e[0]=t[0]*u+n[0]*c+r[0]*f+a[0]*s,e[1]=t[1]*u+n[1]*c+r[1]*f+a[1]*s,e[2]=t[2]*u+n[2]*c+r[2]*f+a[2]*s,e}function hn(e,t,n,r,a,i){var o=1-i,u=o*o,c=i*i,f=u*o,s=3*i*u,_=3*c*o,l=c*i;return e[0]=t[0]*f+n[0]*s+r[0]*_+a[0]*l,e[1]=t[1]*f+n[1]*s+r[1]*_+a[1]*l,e[2]=t[2]*f+n[2]*s+r[2]*_+a[2]*l,e}function yn(e,t){t=t||1;var n=2*m()*Math.PI,r=2*m()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function bn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function vn(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function gn(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],u=t[0],c=t[1],f=t[2],s=a*f-i*c,_=i*u-r*f,l=r*c-a*u,p=a*l-i*_,d=i*s-r*l,m=r*_-a*s,h=2*o;return s*=h,_*=h,l*=h,p*=2,d*=2,m*=2,e[0]=u+s+p,e[1]=c+_+d,e[2]=f+l+m,e}function wn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function Mn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function kn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function xn(e,t){var n=Wt(e[0],e[1],e[2]),r=Wt(t[0],t[1],t[2]);_n(n,n),_n(r,r);var a=ln(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function zn(e){return e[0]=0,e[1]=0,e[2]=0,e}function An(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ln(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function En(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],u=t[2];return Math.abs(n-i)<=p*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=p*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-u)<=p*Math.max(1,Math.abs(a),Math.abs(u))}var On=Xt,Sn=Kt,Cn=Jt,Tn=on,Pn=un,In=Ut,Bn=cn,Fn=function(){var e=Gt();return function(t,n,r,a,i,o){var u,c;for(n||(n=3),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],i(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();function jn(){var e=new d(4);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Dn(e){var t=new d(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Rn(e,t,n,r){var a=new d(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function Vn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function qn(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function Gn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Nn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Un(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Wn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Hn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Zn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Yn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Xn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Kn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Qn(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function $n(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(n,r,a,i)}function er(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function tr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.hypot(t,n,r,a)}function nr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function rr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ar(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function ir(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function or(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ur(e,t,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],c=n[1]*r[3]-n[3]*r[1],f=n[2]*r[3]-n[3]*r[2],s=t[0],_=t[1],l=t[2],p=t[3];return e[0]=_*f-l*c+p*u,e[1]=-s*f+l*o-p*i,e[2]=s*c-_*o+p*a,e[3]=-s*u+_*i-l*a,e}function cr(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=u+r*(n[3]-u),e}function fr(e,t){var n,r,a,i,o,u;t=t||1;do{o=(n=2*m()-1)*n+(r=2*m()-1)*r}while(o>=1);do{u=(a=2*m()-1)*a+(i=2*m()-1)*i}while(u>=1);var c=Math.sqrt((1-o)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*a*c,e[3]=t*i*c,e}function sr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function _r(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],c=n[2],f=n[3],s=f*r+u*i-c*a,_=f*a+c*r-o*i,l=f*i+o*a-u*r,p=-o*r-u*a-c*i;return e[0]=s*f+p*-o+_*-c-l*-u,e[1]=_*f+p*-u+l*-o-s*-c,e[2]=l*f+p*-c+s*-u-_*-o,e[3]=t[3],e}function lr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function pr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function dr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function mr(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-c)<=p*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))}var hr=Nn,yr=Un,br=Wn,vr=$n,gr=er,wr=tr,Mr=nr,kr=function(){var e=jn();return function(t,n,r,a,i,o){var u,c;for(n||(n=4),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],i(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}();function xr(){var e=new d(4);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function zr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ar(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Lr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>p?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Er(e,t){var n=Jr(e,t);return Math.acos(2*n*n-1)}function Or(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*s+o*u+a*f-i*c,e[1]=a*s+o*c+i*u-r*f,e[2]=i*s+o*f+r*c-a*u,e[3]=o*s-r*u-a*c-i*f,e}function Sr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=a*c+i*u,e[2]=i*c-a*u,e[3]=o*c-r*u,e}function Cr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*u,e[1]=a*c+o*u,e[2]=i*c+r*u,e[3]=o*c-a*u,e}function Tr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=a*c-r*u,e[2]=i*c+o*u,e[3]=o*c-i*u,e}function Pr(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e}function Ir(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),u=Math.exp(i),c=o>0?u*Math.sin(o)/o:0;return e[0]=n*c,e[1]=r*c,e[2]=a*c,e[3]=u*Math.cos(o),e}function Br(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),u=o>0?Math.atan2(o,i)/o:0;return e[0]=n*u,e[1]=r*u,e[2]=a*u,e[3]=.5*Math.log(n*n+r*r+a*a+i*i),e}function Fr(e,t,n){return Br(e,t),Kr(e,e,n),Ir(e,e),e}function jr(e,t,n,r){var a,i,o,u,c,f=t[0],s=t[1],_=t[2],l=t[3],d=n[0],m=n[1],h=n[2],y=n[3];return(i=f*d+s*m+_*h+l*y)<0&&(i=-i,d=-d,m=-m,h=-h,y=-y),1-i>p?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-r)*a)/o,c=Math.sin(r*a)/o):(u=1-r,c=r),e[0]=u*f+c*d,e[1]=u*s+c*m,e[2]=u*_+c*h,e[3]=u*l+c*y,e}function Dr(e){var t=m(),n=m(),r=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=i*Math.sin(2*Math.PI*r),e[3]=i*Math.cos(2*Math.PI*r),e}function Rr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,u=o?1/o:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-a*u,e[3]=i*u,e}function Vr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function qr(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*i+o]-t[3*o+i])*n,e[i]=(t[3*i+a]+t[3*a+i])*n,e[o]=(t[3*o+a]+t[3*a+o])*n}return e}function Gr(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),u=Math.sin(n),c=Math.cos(n),f=Math.sin(r),s=Math.cos(r);return e[0]=i*c*s-o*u*f,e[1]=o*u*s+i*c*f,e[2]=o*c*f-i*u*s,e[3]=o*c*s+i*u*f,e}function Nr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Ur=Dn,Wr=Rn,Hr=Vn,Zr=qn,Yr=Gn,Xr=Or,Kr=Jn,Jr=or,Qr=cr,$r=tr,ea=$r,ta=nr,na=ta,ra=ir,aa=dr,ia=mr,oa=function(){var e=Gt(),t=Wt(1,0,0),n=Wt(0,1,0);return function(r,a,i){var o=ln(a,i);return o<-.999999?(pn(e,t,a),In(e)<1e-6&&pn(e,n,a),_n(e,e),Ar(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(pn(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,ra(r,r))}}(),ua=function(){var e=xr(),t=xr();return function(n,r,a,i,o,u){return jr(e,r,o,u),jr(t,a,i,u),jr(n,e,t,2*u*(1-u)),n}}(),ca=function(){var e=ye();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],ra(t,qr(t,e))}}();function fa(){var e=new d(8);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function sa(e){var t=new d(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function _a(e,t,n,r,a,i,o,u){var c=new d(8);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=u,c}function la(e,t,n,r,a,i,o){var u=new d(8);u[0]=e,u[1]=t,u[2]=n,u[3]=r;var c=.5*a,f=.5*i,s=.5*o;return u[4]=c*r+f*n-s*t,u[5]=f*r+s*e-c*n,u[6]=s*r+c*t-f*e,u[7]=-c*e-f*t-s*n,u}function pa(e,t,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=t[0],u=t[1],c=t[2],f=t[3];return e[0]=o,e[1]=u,e[2]=c,e[3]=f,e[4]=r*f+a*c-i*u,e[5]=a*f+i*o-r*c,e[6]=i*f+r*u-a*o,e[7]=-r*o-a*u-i*c,e}function da(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function ma(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ha(e,t){var n=xr();Mt(n,t);var r=new d(3);return gt(r,t),pa(e,n,r),e}function ya(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ba(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function va(e,t,n,r,a,i,o,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e}var ga=Hr;function wa(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Ma=Hr;function ka(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function xa(e,t){var n=t[4],r=t[5],a=t[6],i=t[7],o=-t[0],u=-t[1],c=-t[2],f=t[3];return e[0]=2*(n*f+i*o+r*c-a*u),e[1]=2*(r*f+i*u+a*o-n*c),e[2]=2*(a*f+i*c+n*u-r*o),e}function za(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=.5*n[0],c=.5*n[1],f=.5*n[2],s=t[4],_=t[5],l=t[6],p=t[7];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=o*u+a*f-i*c+s,e[5]=o*c+i*u-r*f+_,e[6]=o*f+r*c-a*u+l,e[7]=-r*u-a*c-i*f+p,e}function Aa(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Sr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function La(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Cr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function Ea(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Tr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function Oa(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],u=t[0],c=t[1],f=t[2],s=t[3];return e[0]=u*o+s*r+c*i-f*a,e[1]=c*o+s*a+f*r-u*i,e[2]=f*o+s*i+u*a-c*r,e[3]=s*o-u*r-c*a-f*i,u=t[4],c=t[5],f=t[6],s=t[7],e[4]=u*o+s*r+c*i-f*a,e[5]=c*o+s*a+f*r-u*i,e[6]=f*o+s*i+u*a-c*r,e[7]=s*o-u*r-c*a-f*i,e}function Sa(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*s+o*u+a*f-i*c,e[1]=a*s+o*c+i*u-r*f,e[2]=i*s+o*f+r*c-a*u,e[3]=o*s-r*u-a*c-i*f,u=n[4],c=n[5],f=n[6],s=n[7],e[4]=r*s+o*u+a*f-i*c,e[5]=a*s+o*c+i*u-r*f,e[6]=i*s+o*f+r*c-a*u,e[7]=o*s-r*u-a*c-i*f,e}function Ca(e,t,n,r){if(Math.abs(r)<p)return ya(e,t);var a=Math.hypot(n[0],n[1],n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,u=i*n[1]/a,c=i*n[2]/a,f=Math.cos(r),s=t[0],_=t[1],l=t[2],d=t[3];e[0]=s*f+d*o+_*c-l*u,e[1]=_*f+d*u+l*o-s*c,e[2]=l*f+d*c+s*u-_*o,e[3]=d*f-s*o-_*u-l*c;var m=t[4],h=t[5],y=t[6],b=t[7];return e[4]=m*f+b*o+h*c-y*u,e[5]=h*f+b*u+y*o-m*c,e[6]=y*f+b*c+m*u-h*o,e[7]=b*f-m*o-h*u-y*c,e}function Ta(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Pa(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[4],c=n[5],f=n[6],s=n[7],_=t[4],l=t[5],p=t[6],d=t[7],m=n[0],h=n[1],y=n[2],b=n[3];return e[0]=r*b+o*m+a*y-i*h,e[1]=a*b+o*h+i*m-r*y,e[2]=i*b+o*y+r*h-a*m,e[3]=o*b-r*m-a*h-i*y,e[4]=r*s+o*u+a*f-i*c+_*b+d*m+l*y-p*h,e[5]=a*s+o*c+i*u-r*f+l*b+d*h+p*m-_*y,e[6]=i*s+o*f+r*c-a*u+p*b+d*y+_*h-l*m,e[7]=o*s-r*u-a*c-i*f+d*b-_*m-l*h-p*y,e}var Ia=Pa;function Ba(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Fa=Jr;function ja(e,t,n,r){var a=1-r;return Fa(t,n)<0&&(r=-r),e[0]=t[0]*a+n[0]*r,e[1]=t[1]*a+n[1]*r,e[2]=t[2]*a+n[2]*r,e[3]=t[3]*a+n[3]*r,e[4]=t[4]*a+n[4]*r,e[5]=t[5]*a+n[5]*r,e[6]=t[6]*a+n[6]*r,e[7]=t[7]*a+n[7]*r,e}function Da(e,t){var n=Ga(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Ra(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Va=$r,qa=Va,Ga=ta,Na=Ga;function Ua(e,t){var n=Ga(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,a=t[1]/n,i=t[2]/n,o=t[3]/n,u=t[4],c=t[5],f=t[6],s=t[7],_=r*u+a*c+i*f+o*s;e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=(u-r*_)/n,e[5]=(c-a*_)/n,e[6]=(f-i*_)/n,e[7]=(s-o*_)/n}return e}function Wa(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function Ha(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Za(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=t[0],_=t[1],l=t[2],d=t[3],m=t[4],h=t[5],y=t[6],b=t[7];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-_)<=p*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(a-l)<=p*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-d)<=p*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-m)<=p*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-h)<=p*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(c-y)<=p*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-b)<=p*Math.max(1,Math.abs(f),Math.abs(b))}function Ya(){var e=new d(2);return d!=Float32Array&&(e[0]=0,e[1]=0),e}function Xa(e){var t=new d(2);return t[0]=e[0],t[1]=e[1],t}function Ka(e,t){var n=new d(2);return n[0]=e,n[1]=t,n}function Ja(e,t){return e[0]=t[0],e[1]=t[1],e}function Qa(e,t,n){return e[0]=t,e[1]=n,e}function $a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ei(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ti(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ni(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function ri(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ai(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ii(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function oi(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ui(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function ci(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function fi(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function si(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function _i(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function li(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function pi(e){var t=e[0],n=e[1];return t*t+n*n}function di(e,t){return e[0]=-t[0],e[1]=-t[1],e}function mi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function hi(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function yi(e,t){return e[0]*t[0]+e[1]*t[1]}function bi(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function vi(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e}function gi(e,t){t=t||1;var n=2*m()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e}function Mi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function ki(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e}function xi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}function zi(e,t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=Math.sin(r),u=Math.cos(r);return e[0]=a*u-i*o+n[0],e[1]=a*o+i*u+n[1],e}function Ai(e,t){var n=e[0],r=e[1],a=t[0],i=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var u=a*a+i*i;u>0&&(u=1/Math.sqrt(u));var c=(n*a+r*i)*o*u;return c>1?0:c<-1?Math.PI:Math.acos(c)}function Li(e){return e[0]=0,e[1]=0,e}function Ei(e){return"vec2("+e[0]+", "+e[1]+")"}function Oi(e,t){return e[0]===t[0]&&e[1]===t[1]}function Si(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=p*Math.max(1,Math.abs(r),Math.abs(i))}var Ci=li,Ti=ei,Pi=ti,Ii=ni,Bi=si,Fi=_i,ji=pi,Di=function(){var e=Ya();return function(t,n,r,a,i,o){var u,c;for(n||(n=2),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],i(e,e,o),t[u]=e[0],t[u+1]=e[1];return t}}()},780:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new E(r||[]);return i._invoke=function(e,t,n){var r=_;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===a)throw i;return S()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=z(o,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===_)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=s(e,t,n);if("normal"===c.type){if(r=n.done?d:l,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=f;var _="suspendedStart",l="suspendedYield",p="executing",d="completed",m={};function h(){}function y(){}function b(){}var v={};c(v,i,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(O([])));w&&w!==n&&r.call(w,i)&&(v=w);var M=b.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,i,o,u){var c=s(e[a],e,i);if("throw"!==c.type){var f=c.arg,_=f.value;return _&&"object"===typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(_).then((function(e){f.value=e,o(f)}),(function(e){return n("throw",e,o,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function z(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,z(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a \'throw\' method")}return m}var a=s(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:S}}function S(){return{value:t,done:!0}}return y.prototype=b,c(M,"constructor",b),c(b,"constructor",y),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(M),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(f(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(M),c(M,u,"Generator"),c(M,i,(function(){return this})),c(M,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),f=r.call(o,"finallyLoc");if(c&&f){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},301:function(e,t,n){"use strict";n.r(t),t.default="./zcv.wasm"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};!function(){"use strict";var e=n(269).default;var t=n(407),r=self;t.messageManager.onOutgoingMessage.bind((function(){var n,a=t.messageManager.getOutgoingMessages(),i=e(a);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.postMessage(o.msg,o.transferables)}}catch(u){i.e(u)}finally{i.f()}}));r.addEventListener("message",(function e(a){if(a&&a.data&&"wasm"===a.data.t){var i=location.href.startsWith("blob")?a.data.url:n(301);i.default&&(i=i.default),t.launchWorkerServer(i),r.removeEventListener("message",e)}})),r.addEventListener("message",(function(e){t.messageManager.postIncomingMessage(e.data)}))}()}();\n//# sourceMappingURL=worker.ab53b058.worker.js.map',"Worker",void 0,n.p+"static/js/worker.ab53b058.worker.js")}},477:function(e){"use strict";e.exports=function(e,t,n,r){try{try{var a;try{a=new window.Blob([e])}catch(u){(a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),a=a.getBlob()}var i=window.URL||window.webkitURL,o=i.createObjectURL(a),s=new window[t](o,n);return i.revokeObjectURL(o),s}catch(u){return new window[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(u){if(!r)throw Error("Inline worker is not supported");return new window[t](r,n)}}},3060:function(e,t,n){"use strict";e.exports=n.p+"static/media/example-tracking-image.775f3d2f1c1a73c14948.zpt"},3855:function(e,t,n){"use strict";e.exports=n.p+"static/media/waving.2a60fd732e945bb4cd1b.glb"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611),a=n(8814);function i(e,t,n){return i=(0,a.Z)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&(0,r.Z)(i,n.prototype),i},i.apply(null,arguments)}},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),a=n(8814),i=n(6215);function o(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,i.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{Z:function(){return r}})},6215:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return i}});var a=n(7326);function i(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var a=n(181),i=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var a=n(9199),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f3f902c2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="cra:";n.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,i,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)u(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkcra=self.webpackChunkcra||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(4519),t=n(4453),r=n(5112),a=n(5514),i=n(4911),o=n(7326),s=n(1752),u=n(1120),c=n(5671),l=n(3144),f=n(136),d=n(9388),h=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new y(e)})),r.register((function(e){return new b(e)})),r.register((function(e){return new w(e)})),r.register((function(e){return new _(e)})),r.register((function(e){return new m(e)})),r.register((function(e){return new x(e)})),r}return(0,l.Z)(n,[{key:"load",value:function(e,t,n,r){var a,o=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var s=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},u=new i.FileLoader(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),s)}catch(r){s(r)}}),n,s)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,o={},s={};if("string"===typeof e)a=e;else if(i.LoaderUtils.decodeText(new Uint8Array(e,0,4))===A){try{o[v.KHR_BINARY_GLTF]=new C(e)}catch(m){return void(r&&r(m))}a=o[v.KHR_BINARY_GLTF].content}else a=i.LoaderUtils.decodeText(new Uint8Array(e));var u=JSON.parse(a);if(void 0===u.asset||u.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var c=new re(u,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var f=this.pluginCallbacks[l](c);s[f.name]=f,o[f.name]=!0}if(u.extensionsUsed)for(var d=0;d<u.extensionsUsed.length;++d){var h=u.extensionsUsed[d],p=u.extensionsRequired||[];switch(h){case v.KHR_MATERIALS_UNLIT:o[h]=new g;break;case v.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new B;break;case v.KHR_DRACO_MESH_COMPRESSION:o[h]=new S(u,this.dracoLoader);break;case v.KHR_TEXTURE_TRANSFORM:o[h]=new T;break;case v.KHR_MESH_QUANTIZATION:o[h]=new P;break;default:p.indexOf(h)>=0&&void 0===s[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(s),c.parse(n,r)}}}]),n}(i.Loader);function p(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var v={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},m=function(){function e(t){(0,c.Z)(this,e),this.parser=t,this.name=v.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,l.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,o=t.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],u=new i.Color(16777215);void 0!==s.color&&u.fromArray(s.color);var c=void 0!==s.range?s.range:0;switch(s.type){case"directional":(a=new i.DirectionalLight(u)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new i.PointLight(u)).distance=c;break;case"spot":(a=new i.SpotLight(u)).distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),g=function(){function e(){(0,c.Z)(this,e),this.name=v.KHR_MATERIALS_UNLIT}return(0,l.Z)(e,[{key:"getMaterialType",value:function(){return i.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new i.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)}}]),e}(),y=function(){function e(t){(0,c.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_CLEARCOAT}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var s=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i.Vector2(s,-s)}return Promise.all(a)}}]),e}(),_=function(){function e(t){(0,c.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_TRANSMISSION}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?i.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),b=function(){function e(t){(0,c.Z)(this,e),this.parser=t,this.name=v.KHR_TEXTURE_BASISU}return(0,l.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=n.images[a.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}]),e}(),w=function(){function e(t){(0,c.Z)(this,e),this.parser=t,this.name=v.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,l.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),x=function(){function e(t){(0,c.Z)(this,e),this.name=v.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,l.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,i.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new ArrayBuffer(a*o),u=new Uint8Array(e[0],t,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,u,r.mode,r.filter),s}))}return null}}]),e}(),A="glTF",M=1313821514,E=5130562,C=(0,l.Z)((function e(t){(0,c.Z)(this,e),this.name=v.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:i.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==A)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),o=0;o<r;){var s=a.getUint32(o,!0);o+=4;var u=a.getUint32(o,!0);if(o+=4,u===M){var l=new Uint8Array(t,12+o,s);this.content=i.LoaderUtils.decodeText(l)}else if(u===E){var f=12+o;this.body=t.slice(f,f+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),S=function(){function e(t,n){if((0,c.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=v.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,l.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},u={};for(var c in i){var l=V[c]||c.toLowerCase();o[l]=i[c]}for(var f in e.attributes){var d=V[f]||f.toLowerCase();if(void 0!==i[f]){var h=n.accessors[e.attributes[f]],p=U[h.componentType];u[d]=p,s[d]=!0===h.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,u)}))}))}}]),e}(),T=function(){function e(){(0,c.Z)(this,e),this.name=v.KHR_TEXTURE_TRANSFORM}return(0,l.Z)(e,[{key:"extendTexture",value:function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e}}]),e}(),k=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;(0,c.Z)(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),f=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),d={specular:{value:(new i.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=d,r.onBeforeCompile=function(e){for(var t in d)e.uniforms[t]=d[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",f)},Object.defineProperties((0,o.Z)(r),{specular:{get:function(){return d.specular.value},set:function(e){d.specular.value=e}},specularMap:{get:function(){return d.specularMap.value},set:function(e){d.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return d.glossiness.value},set:function(e){d.glossiness.value=e}},glossinessMap:{get:function(){return d.glossinessMap.value},set:function(e){d.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return(0,l.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(i.MeshStandardMaterial),B=function(){function e(){(0,c.Z)(this,e),this.name=v.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return(0,l.Z)(e,[{key:"getMaterialType",value:function(){return k}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new i.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new i.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new i.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var s=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",s)),a.push(n.assignTexture(e,"specularMap",s))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new k(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),P=(0,l.Z)((function e(){(0,c.Z)(this,e),this.name=v.KHR_MESH_QUANTIZATION})),L=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,a,i){return(0,c.Z)(this,n),t.call(this,e,r,a,i)}return(0,l.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}}]),n}(i.Interpolant);L.prototype.beforeStart_=L.prototype.copySampleValue_,L.prototype.afterEnd_=L.prototype.copySampleValue_,L.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,c=r-t,l=(n-t)/c,f=l*l,d=f*l,h=e*u,p=h-u,v=-2*d+3*f,m=d-f,g=1-v,y=m-f+l,_=0;_!==o;_++){var b=i[p+_+o],w=i[p+_+s]*c,x=i[h+_+o],A=i[h+_]*c;a[_]=g*b+y*w+v*x+m*A}return a};var D=0,R=1,F=2,I=3,O=4,z=5,Z=6,U={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},N={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},G={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},H={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},j={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},W={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},X="OPAQUE",q="MASK",Y="BLEND";function Q(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function K(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function J(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function $(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ee(e){var t=e.extensions&&e.extensions[v.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+te(t.attributes):e.indices+":"+te(e.attributes)+":"+e.mode}function te(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ne(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new p,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new i.ImageBitmapLoader(this.options.manager):this.textureLoader=new i.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,l.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};K(a,i,r),J(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[v.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(Q(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,o,s=e[0],u=H[r.type],c=U[r.componentType],l=c.BYTES_PER_ELEMENT,f=l*u,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==f){var v=Math.floor(d/h),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count,g=t.cache.get(m);g||(a=new c(s,v*h,r.count*h/l),g=new i.InterleavedBuffer(a,h/l),t.cache.add(m,g)),o=new i.InterleavedBufferAttribute(g,u,d%h/l,p)}else a=null===s?new c(r.count*u):new c(s,d,r.count*u),o=new i.BufferAttribute(a,u,p);if(void 0!==r.sparse){var y=H.SCALAR,_=U[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new _(e[1],b,r.sparse.count*y),A=new c(e[2],w,r.sparse.count*u);null!==s&&(o=new i.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var M=0,E=x.length;M<E;M++){var C=x[M];if(o.setX(C,A[M*u]),u>=2&&o.setY(C,A[M*u+1]),u>=3&&o.setZ(C,A[M*u+2]),u>=4&&o.setW(C,A[M*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],a=t.images[r.source],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,a,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,o=this.options,s=a.textures[e],u=self.URL||self.webkitURL,c=t.uri,l=!1,f=!0;if("image/jpeg"===t.mimeType&&(f=!1),void 0!==t.bufferView)c=r.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);f=6===n||4===n||3===n}l=!0;var r=new Blob([e],{type:t.mimeType});return c=u.createObjectURL(r)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");return Promise.resolve(c).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){t(new i.CanvasTexture(e))}),n.load(Q(e,o.path),a,void 0,r)}))})).then((function(t){!0===l&&u.revokeObjectURL(c),t.flipY=!1,s.name&&(t.name=s.name),f||(t.format=i.RGBFormat);var n=(a.samplers||{})[s.sampler]||{};return t.magFilter=N[n.magFilter]||i.LinearFilter,t.minFilter=N[n.minFilter]||i.LinearMipmapLinearFilter,t.wrapS=G[n.wrapS]||i.RepeatWrapping,t.wrapT=G[n.wrapT]||i.RepeatWrapping,r.associations.set(t,{type:"textures",index:e}),t}))}},{key:"assignTexture",value:function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[v.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[v.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var o=r.associations.get(a);a=r.extensions[v.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),r.associations.set(a,o)}}e[t]=a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal,s=!0===e.isSkinnedMesh,u=Object.keys(t.morphAttributes).length>0,c=u&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+n.uuid,f=this.cache.get(l);f||(f=new i.PointsMaterial,i.Material.prototype.copy.call(f,n),f.color.copy(n.color),f.map=n.map,f.sizeAttenuation=!1,this.cache.add(l,f)),n=f}else if(e.isLine){var d="LineBasicMaterial:"+n.uuid,h=this.cache.get(d);h||(h=new i.LineBasicMaterial,i.Material.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(d,h)),n=h}if(r||a||o||s||u){var p="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(p+="specular-glossiness:"),s&&(p+="skinning:"),r&&(p+="vertex-tangents:"),a&&(p+="vertex-colors:"),o&&(p+="flat-shading:"),u&&(p+="morph-targets:"),c&&(p+="morph-normals:");var v=this.cache.get(p);v||(v=n.clone(),s&&(v.skinning=!0),a&&(v.vertexColors=!0),o&&(v.flatShading=!0),u&&(v.morphTargets=!0),c&&(v.morphNormals=!0),r&&(v.vertexTangents=!0,v.normalScale&&(v.normalScale.y*=-1),v.clearcoatNormalScale&&(v.clearcoatNormalScale.y*=-1)),this.cache.add(p,v),this.associations.set(v,this.associations.get(n))),n=v}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return i.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,o=r.materials[e],s={},u=o.extensions||{},c=[];if(u[v.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=a[v.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),c.push(l.extendParams(s,o,n))}else if(u[v.KHR_MATERIALS_UNLIT]){var f=a[v.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),c.push(f.extendParams(s,o,n))}else{var d=o.pbrMetallicRoughness||{};if(s.color=new i.Color(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;s.color.fromArray(h),s.opacity=h[3]}void 0!==d.baseColorTexture&&c.push(n.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(n.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===o.doubleSided&&(s.side=i.DoubleSide);var p=o.alphaMode||X;return p===Y?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,p===q&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==i.MeshBasicMaterial&&(c.push(n.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new i.Vector2(1,-1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,-o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==i.MeshBasicMaterial&&(c.push(n.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==i.MeshBasicMaterial&&(s.emissive=(new i.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==i.MeshBasicMaterial&&c.push(n.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(c).then((function(){var r;return r=t===k?a[v.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(r.name=o.name),r.map&&(r.map.encoding=i.sRGBEncoding),r.emissiveMap&&(r.emissiveMap.encoding=i.sRGBEncoding),J(r,o),n.associations.set(r,{type:"materials",index:e}),o.extensions&&K(a,r,o),r}))}},{key:"createUniqueName",value:function(e){for(var t=i.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[v.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return ie(n,e,t)}))}for(var o=[],s=0,u=e.length;s<u;s++){var c=e[s],l=ee(c),f=r[l];if(f)o.push(f.promise);else{var d=void 0;d=c.extensions&&c.extensions[v.KHR_DRACO_MESH_COMPRESSION]?a(c):ie(new i.BufferGeometry,c,t),r[l]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,a=this.extensions,o=r.meshes[e],s=o.primitives,u=[],c=0,l=s.length;c<l;c++){var f=void 0===s[c].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),t.DefaultMaterial):this.getDependency("material",s[c].material);u.push(f)}return u.push(n.loadGeometries(s)),Promise.all(u).then((function(t){for(var r=t.slice(0,t.length-1),u=t[t.length-1],c=[],l=0,f=u.length;l<f;l++){var d=u[l],h=s[l],p=void 0,v=r[l];if(h.mode===O||h.mode===z||h.mode===Z||void 0===h.mode)!0!==(p=!0===o.isSkinnedMesh?new i.SkinnedMesh(d,v):new i.Mesh(d,v)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),h.mode===z?p.geometry=oe(p.geometry,i.TriangleStripDrawMode):h.mode===Z&&(p.geometry=oe(p.geometry,i.TriangleFanDrawMode));else if(h.mode===R)p=new i.LineSegments(d,v);else if(h.mode===I)p=new i.Line(d,v);else if(h.mode===F)p=new i.LineLoop(d,v);else{if(h.mode!==D)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new i.Points(d,v)}Object.keys(p.geometry.morphAttributes).length>0&&$(p,o),p.name=n.createUniqueName(o.name||"mesh_"+e),J(p,o),h.extensions&&K(a,p,h),n.assignFinalMaterial(p),c.push(p)}if(1===c.length)return c[0];for(var m=new i.Group,g=0,y=c.length;g<y;g++)m.add(c[g]);return m}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i.PerspectiveCamera(i.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),J(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],o=[],s=[],u=0,c=t.channels.length;u<c;u++){var l=t.channels[u],f=t.samplers[l.sampler],d=l.target,h=void 0!==d.node?d.node:d.id,p=void 0!==t.parameters?t.parameters[f.input]:f.input,v=void 0!==t.parameters?t.parameters[f.output]:f.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",v)),o.push(f),s.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(s)]).then((function(n){for(var r=n[0],a=n[1],o=n[2],s=n[3],u=n[4],c=[],l=function(e,t){var n=r[e],l=a[e],f=o[e],d=s[e],h=u[e];if(void 0===n)return"continue";n.updateMatrix(),n.matrixAutoUpdate=!0;var p=void 0;switch(j[h.path]){case j.weights:p=i.NumberKeyframeTrack;break;case j.rotation:p=i.QuaternionKeyframeTrack;break;default:p=i.VectorKeyframeTrack}var v=n.name?n.name:n.uuid,m=void 0!==d.interpolation?W[d.interpolation]:i.InterpolateLinear,g=[];j[h.path]===j.weights?n.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(v);var y=f.array;if(f.normalized){for(var _=ne(y.constructor),b=new Float32Array(y.length),w=0,x=y.length;w<x;w++)b[w]=y[w]*_;y=b}for(var A=0,M=g.length;A<M;A++){var E=new p(g[A]+"."+j[h.path],l.array,y,m);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new L(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(E)}},f=0,d=r.length;f<d;f++)l(f);var h=t.name?t.name:"animation_"+e;return new i.AnimationClip(h,void 0,c)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],o=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var s;if((s=!0===a.isBone?new i.Bone:t.length>1?new i.Group:1===t.length?t[0]:new i.Object3D)!==t[0])for(var u=0,c=t.length;u<c;u++)s.add(t[u]);if(a.name&&(s.userData.name=a.name,s.name=o),J(s,a),a.extensions&&K(n,s,a),void 0!==a.matrix){var l=new i.Matrix4;l.fromArray(a.matrix),s.applyMatrix4(l)}else void 0!==a.translation&&s.position.fromArray(a.translation),void 0!==a.rotation&&s.quaternion.fromArray(a.rotation),void 0!==a.scale&&s.scale.fromArray(a.scale);return r.associations.set(s,{type:"nodes",index:e}),s}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=new i.Group;r.name&&(a.name=this.createUniqueName(r.name)),J(a,r),r.extensions&&K(n,a,r);for(var o=r.nodes||[],s=[],u=0,c=o.length;u<c;u++)s.push(ae(o[u],a,t,this));return Promise.all(s).then((function(){return a}))}}]),e}();function ae(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],o=0,s=n.length;o<s;o++){var u=n[o];if(u){r.push(u);var c=new i.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*o),a.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new i.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,u=o.length;s<u;s++){var c=o[s];i.push(ae(c,e,n,r))}return Promise.all(i)}))}function ie(e,t,n){var r=t.attributes,a=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var s in r){var u=V[s]||s.toLowerCase();u in e.attributes||a.push(o(r[s],u))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(c)}return J(e,t),function(e,t,n){var r=t.attributes,a=new i.Box3;if(void 0!==r.POSITION){var o=n.json.accessors[r.POSITION],s=o.min,u=o.max;if(void 0!==s&&void 0!==u){if(a.set(new i.Vector3(s[0],s[1],s[2]),new i.Vector3(u[0],u[1],u[2])),o.normalized){var c=ne(U[o.componentType]);a.min.multiplyScalar(c),a.max.multiplyScalar(c)}var l=t.targets;if(void 0!==l){for(var f=new i.Vector3,d=new i.Vector3,h=0,p=l.length;h<p;h++){var v=l[h];if(void 0!==v.POSITION){var m=n.json.accessors[v.POSITION],g=m.min,y=m.max;if(void 0!==g&&void 0!==y){if(d.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),d.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),d.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),m.normalized){var _=ne(U[m.componentType]);d.multiplyScalar(_)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(f)}e.boundingBox=a;var b=new i.Sphere;a.getCenter(b.center),b.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=0,o=t.length;i<o;i++){var s=t[i];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(!r&&!a)return Promise.resolve(e);for(var u=[],c=[],l=0,f=t.length;l<f;l++){var d=t[l];if(r){var h=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION):e.attributes.position;u.push(h)}if(a){var p=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL):e.attributes.normal;c.push(p)}}return Promise.all([Promise.all(u),Promise.all(c)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function oe(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var s=n.count-2,u=[];if(t===i.TriangleFanDrawMode)for(var c=1;c<=s;c++)u.push(n.getX(0)),u.push(n.getX(c)),u.push(n.getX(c+1));else for(var l=0;l<s;l++)l%2===0?(u.push(n.getX(l)),u.push(n.getX(l+1)),u.push(n.getX(l+2))):(u.push(n.getX(l+2)),u.push(n.getX(l+1)),u.push(n.getX(l)));u.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(u),f}var se,ue=n(3855),ce=n(3060),le=n(2556),fe=function(){var e=new i.Clock,t=(0,r.useLoader)(h,ue),n=new i.AnimationMixer(t.scene);return se=n.clipAction(t.animations[0]),t.scene.rotateX(Math.PI/2),(0,r.useFrame)((function(){return n.update(e.getDelta())})),(0,le.jsx)("primitive",{object:t.scene})};var de=function(){return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(a.BrowserCompatibility,{}),(0,le.jsxs)(a.ZapparCanvas,{children:[(0,le.jsx)(a.ZapparCamera,{}),(0,le.jsx)(e.Suspense,{fallback:null,children:(0,le.jsx)(a.ImageTracker,{targetImage:ce,children:(0,le.jsx)(e.Suspense,{fallback:null,children:(0,le.jsx)(fe,{})})})}),(0,le.jsx)("directionalLight",{position:[2.5,8,5],intensity:1.5}),(0,le.jsx)(a.Loader,{})]}),(0,le.jsx)("div",{id:"zappar-button",role:"button",onKeyPress:function(){return se.play()},tabIndex:0,onClick:function(){return se.play()},children:"Play Animation"})]})},he=function(e){e&&e instanceof Function&&n.e(529).then(n.bind(n,4529)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};t.render((0,le.jsx)(e.StrictMode,{children:(0,le.jsx)(de,{})}),document.getElementById("root")),he()}()}();
//# sourceMappingURL=main.4e9fab3d.js.map